var Pn=(A,e)=>()=>(e||A((e={exports:{}}).exports,e),e.exports);var In=Pn((exports,module)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(c){if(c.ep)return;c.ep=!0;const o=r(c);fetch(c.href,o)}})();const mobileVhHack=()=>{const A=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${A}px`)};mobileVhHack();window.addEventListener("resize",mobileVhHack);function getAugmentedNamespace(A){if(A.__esModule)return A;var e=A.default;if(typeof e=="function"){var r=function a(){if(this instanceof a){var c=[null];c.push.apply(c,arguments);var o=Function.bind.apply(e,c);return new o}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(A).forEach(function(a){var c=Object.getOwnPropertyDescriptor(A,a);Object.defineProperty(r,a,c.get?c:{enumerable:!0,get:function(){return A[a]}})}),r}function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,r){module.exports=r()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=ge,e.arraysToBytes=pe,e.assert=se,e.bytesToString=ce,e.createPromiseCapability=ot,e.createValidAbsoluteUrl=X,e.escapeString=Fe,e.getModificationDate=Qe,e.getVerbosityLevel=q,e.info=F,e.isArrayBuffer=et,e.isArrayEqual=st,e.isAscii=je,e.objectFromMap=ye,e.objectSize=Ae,e.setVerbosityLevel=Y,e.shadow=ne,e.string32=me,e.stringToBytes=he,e.stringToPDFString=ke,e.stringToUTF16BEString=Le,e.stringToUTF8String=ze,e.unreachable=Z,e.utf8StringToString=Re,e.warn=O,r(2);const a=[1,0,0,1,0,0];e.IDENTITY_MATRIX=a;const c=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=c;const o=1.35;e.LINE_FACTOR=o;const f=.35;e.LINE_DESCENT_FACTOR=f;const s={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=s;const g={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=g;const m="pdfjs_internal_editor_";e.AnnotationEditorPrefix=m;const p={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=p;const t={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=t;const b={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=b;const C={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=C;const w={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=w;const v={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=v;const M={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=M;const y={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=y;const I={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=I;const P={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=P;const _={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=_;const k={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=k;const D={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=D;const V={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=V;const R={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=R;const U={O:"PageOpen",C:"PageClose"};e.PageActionEventType=U;const te={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=te;const B={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=B;const j={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=j;const ie={NONE:0,BINARY:1,STREAM:2};e.CMapCompressionType=ie;const E={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=E;const L={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=L;const ee={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=ee;let J=j.WARNINGS;function Y(Ne){Number.isInteger(Ne)&&(J=Ne)}function q(){return J}function F(Ne){J>=j.INFOS&&console.log(`Info: ${Ne}`)}function O(Ne){J>=j.WARNINGS&&console.log(`Warning: ${Ne}`)}function Z(Ne){throw new Error(Ne)}function se(Ne,Me){Ne||Z(Me)}function $(Ne){if(!Ne)return!1;switch(Ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function X(Ne,Me=null,Pe=null){if(!Ne)return null;try{if(Pe&&typeof Ne=="string"){if(Pe.addDefaultProtocol&&Ne.startsWith("www.")){const Ge=Ne.match(/\./g);Ge&&Ge.length>=2&&(Ne=`http://${Ne}`)}if(Pe.tryConvertEncoding)try{Ne=ze(Ne)}catch{}}const Ue=Me?new URL(Ne,Me):new URL(Ne);if($(Ue))return Ue}catch{}return null}function ne(Ne,Me,Pe){return Object.defineProperty(Ne,Me,{value:Pe,enumerable:!0,configurable:!0,writable:!1}),Pe}const oe=function(){function Me(Pe,Ue){this.constructor===Me&&Z("Cannot initialize BaseException."),this.message=Pe,this.name=Ue}return Me.prototype=new Error,Me.constructor=Me,Me}();e.BaseException=oe;class ue extends oe{constructor(Me,Pe){super(Me,"PasswordException"),this.code=Pe}}e.PasswordException=ue;class fe extends oe{constructor(Me,Pe){super(Me,"UnknownErrorException"),this.details=Pe}}e.UnknownErrorException=fe;class le extends oe{constructor(Me){super(Me,"InvalidPDFException")}}e.InvalidPDFException=le;class ae extends oe{constructor(Me){super(Me,"MissingPDFException")}}e.MissingPDFException=ae;class de extends oe{constructor(Me,Pe){super(Me,"UnexpectedResponseException"),this.status=Pe}}e.UnexpectedResponseException=de;class re extends oe{constructor(Me){super(Me,"FormatError")}}e.FormatError=re;class Q extends oe{constructor(Me){super(Me,"AbortException")}}e.AbortException=Q;function ce(Ne){(typeof Ne!="object"||Ne===null||Ne.length===void 0)&&Z("Invalid argument for bytesToString");const Me=Ne.length,Pe=8192;if(Me<Pe)return String.fromCharCode.apply(null,Ne);const Ue=[];for(let Ge=0;Ge<Me;Ge+=Pe){const Ye=Math.min(Ge+Pe,Me),We=Ne.subarray(Ge,Ye);Ue.push(String.fromCharCode.apply(null,We))}return Ue.join("")}function he(Ne){typeof Ne!="string"&&Z("Invalid argument for stringToBytes");const Me=Ne.length,Pe=new Uint8Array(Me);for(let Ue=0;Ue<Me;++Ue)Pe[Ue]=Ne.charCodeAt(Ue)&255;return Pe}function ge(Ne){if(Ne.length!==void 0)return Ne.length;if(Ne.byteLength!==void 0)return Ne.byteLength;Z("Invalid argument for arrayByteLength")}function pe(Ne){const Me=Ne.length;if(Me===1&&Ne[0]instanceof Uint8Array)return Ne[0];let Pe=0;for(let Ye=0;Ye<Me;Ye++)Pe+=ge(Ne[Ye]);let Ue=0;const Ge=new Uint8Array(Pe);for(let Ye=0;Ye<Me;Ye++){let We=Ne[Ye];We instanceof Uint8Array||(typeof We=="string"?We=he(We):We=new Uint8Array(We));const Ze=We.byteLength;Ge.set(We,Ue),Ue+=Ze}return Ge}function me(Ne){return String.fromCharCode(Ne>>24&255,Ne>>16&255,Ne>>8&255,Ne&255)}function Ae(Ne){return Object.keys(Ne).length}function ye(Ne){const Me=Object.create(null);for(const[Pe,Ue]of Ne)Me[Pe]=Ue;return Me}function xe(){const Ne=new Uint8Array(4);return Ne[0]=1,new Uint32Array(Ne.buffer,0,1)[0]===1}function Ce(){try{return new Function(""),!0}catch{return!1}}class we{static get isLittleEndian(){return ne(this,"isLittleEndian",xe())}static get isEvalSupported(){return ne(this,"isEvalSupported",Ce())}static get isOffscreenCanvasSupported(){return ne(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}e.FeatureTest=we;const ve=[...Array(256).keys()].map(Ne=>Ne.toString(16).padStart(2,"0"));class Se{static makeHexColor(Me,Pe,Ue){return`#${ve[Me]}${ve[Pe]}${ve[Ue]}`}static scaleMinMax(Me,Pe){let Ue;Me[0]?(Me[0]<0&&(Ue=Pe[0],Pe[0]=Pe[1],Pe[1]=Ue),Pe[0]*=Me[0],Pe[1]*=Me[0],Me[3]<0&&(Ue=Pe[2],Pe[2]=Pe[3],Pe[3]=Ue),Pe[2]*=Me[3],Pe[3]*=Me[3]):(Ue=Pe[0],Pe[0]=Pe[2],Pe[2]=Ue,Ue=Pe[1],Pe[1]=Pe[3],Pe[3]=Ue,Me[1]<0&&(Ue=Pe[2],Pe[2]=Pe[3],Pe[3]=Ue),Pe[2]*=Me[1],Pe[3]*=Me[1],Me[2]<0&&(Ue=Pe[0],Pe[0]=Pe[1],Pe[1]=Ue),Pe[0]*=Me[2],Pe[1]*=Me[2]),Pe[0]+=Me[4],Pe[1]+=Me[4],Pe[2]+=Me[5],Pe[3]+=Me[5]}static transform(Me,Pe){return[Me[0]*Pe[0]+Me[2]*Pe[1],Me[1]*Pe[0]+Me[3]*Pe[1],Me[0]*Pe[2]+Me[2]*Pe[3],Me[1]*Pe[2]+Me[3]*Pe[3],Me[0]*Pe[4]+Me[2]*Pe[5]+Me[4],Me[1]*Pe[4]+Me[3]*Pe[5]+Me[5]]}static applyTransform(Me,Pe){const Ue=Me[0]*Pe[0]+Me[1]*Pe[2]+Pe[4],Ge=Me[0]*Pe[1]+Me[1]*Pe[3]+Pe[5];return[Ue,Ge]}static applyInverseTransform(Me,Pe){const Ue=Pe[0]*Pe[3]-Pe[1]*Pe[2],Ge=(Me[0]*Pe[3]-Me[1]*Pe[2]+Pe[2]*Pe[5]-Pe[4]*Pe[3])/Ue,Ye=(-Me[0]*Pe[1]+Me[1]*Pe[0]+Pe[4]*Pe[1]-Pe[5]*Pe[0])/Ue;return[Ge,Ye]}static getAxialAlignedBoundingBox(Me,Pe){const Ue=Se.applyTransform(Me,Pe),Ge=Se.applyTransform(Me.slice(2,4),Pe),Ye=Se.applyTransform([Me[0],Me[3]],Pe),We=Se.applyTransform([Me[2],Me[1]],Pe);return[Math.min(Ue[0],Ge[0],Ye[0],We[0]),Math.min(Ue[1],Ge[1],Ye[1],We[1]),Math.max(Ue[0],Ge[0],Ye[0],We[0]),Math.max(Ue[1],Ge[1],Ye[1],We[1])]}static inverseTransform(Me){const Pe=Me[0]*Me[3]-Me[1]*Me[2];return[Me[3]/Pe,-Me[1]/Pe,-Me[2]/Pe,Me[0]/Pe,(Me[2]*Me[5]-Me[4]*Me[3])/Pe,(Me[4]*Me[1]-Me[5]*Me[0])/Pe]}static apply3dTransform(Me,Pe){return[Me[0]*Pe[0]+Me[1]*Pe[1]+Me[2]*Pe[2],Me[3]*Pe[0]+Me[4]*Pe[1]+Me[5]*Pe[2],Me[6]*Pe[0]+Me[7]*Pe[1]+Me[8]*Pe[2]]}static singularValueDecompose2dScale(Me){const Pe=[Me[0],Me[2],Me[1],Me[3]],Ue=Me[0]*Pe[0]+Me[1]*Pe[2],Ge=Me[0]*Pe[1]+Me[1]*Pe[3],Ye=Me[2]*Pe[0]+Me[3]*Pe[2],We=Me[2]*Pe[1]+Me[3]*Pe[3],Ze=(Ue+We)/2,Ke=Math.sqrt((Ue+We)**2-4*(Ue*We-Ye*Ge))/2,Oe=Ze+Ke||1,De=Ze-Ke||1;return[Math.sqrt(Oe),Math.sqrt(De)]}static normalizeRect(Me){const Pe=Me.slice(0);return Me[0]>Me[2]&&(Pe[0]=Me[2],Pe[2]=Me[0]),Me[1]>Me[3]&&(Pe[1]=Me[3],Pe[3]=Me[1]),Pe}static intersect(Me,Pe){const Ue=Math.max(Math.min(Me[0],Me[2]),Math.min(Pe[0],Pe[2])),Ge=Math.min(Math.max(Me[0],Me[2]),Math.max(Pe[0],Pe[2]));if(Ue>Ge)return null;const Ye=Math.max(Math.min(Me[1],Me[3]),Math.min(Pe[1],Pe[3])),We=Math.min(Math.max(Me[1],Me[3]),Math.max(Pe[1],Pe[3]));return Ye>We?null:[Ue,Ye,Ge,We]}static bezierBoundingBox(Me,Pe,Ue,Ge,Ye,We,Ze,Ke){const Oe=[],De=[[],[]];let Ie,qe,Xe,Ve,nt,ht,ut,it;for(let wt=0;wt<2;++wt){if(wt===0?(qe=6*Me-12*Ue+6*Ye,Ie=-3*Me+9*Ue-9*Ye+3*Ze,Xe=3*Ue-3*Me):(qe=6*Pe-12*Ge+6*We,Ie=-3*Pe+9*Ge-9*We+3*Ke,Xe=3*Ge-3*Pe),Math.abs(Ie)<1e-12){if(Math.abs(qe)<1e-12)continue;Ve=-Xe/qe,0<Ve&&Ve<1&&Oe.push(Ve);continue}ut=qe*qe-4*Xe*Ie,it=Math.sqrt(ut),!(ut<0)&&(nt=(-qe+it)/(2*Ie),0<nt&&nt<1&&Oe.push(nt),ht=(-qe-it)/(2*Ie),0<ht&&ht<1&&Oe.push(ht))}let gt=Oe.length,ft;const kt=gt;for(;gt--;)Ve=Oe[gt],ft=1-Ve,De[0][gt]=ft*ft*ft*Me+3*ft*ft*Ve*Ue+3*ft*Ve*Ve*Ye+Ve*Ve*Ve*Ze,De[1][gt]=ft*ft*ft*Pe+3*ft*ft*Ve*Ge+3*ft*Ve*Ve*We+Ve*Ve*Ve*Ke;return De[0][kt]=Me,De[1][kt]=Pe,De[0][kt+1]=Ze,De[1][kt+1]=Ke,De[0].length=De[1].length=kt+2,[Math.min(...De[0]),Math.min(...De[1]),Math.max(...De[0]),Math.max(...De[1])]}}e.Util=Se;const _e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ke(Ne){if(Ne[0]>="ï"){let Pe;if(Ne[0]==="þ"&&Ne[1]==="ÿ"?Pe="utf-16be":Ne[0]==="ÿ"&&Ne[1]==="þ"?Pe="utf-16le":Ne[0]==="ï"&&Ne[1]==="»"&&Ne[2]==="¿"&&(Pe="utf-8"),Pe)try{const Ue=new TextDecoder(Pe,{fatal:!0}),Ge=he(Ne);return Ue.decode(Ge)}catch(Ue){O(`stringToPDFString: "${Ue}".`)}}const Me=[];for(let Pe=0,Ue=Ne.length;Pe<Ue;Pe++){const Ge=_e[Ne.charCodeAt(Pe)];Me.push(Ge?String.fromCharCode(Ge):Ne.charAt(Pe))}return Me.join("")}function Fe(Ne){return Ne.replace(/([()\\\n\r])/g,Me=>Me===`
`?"\\n":Me==="\r"?"\\r":`\\${Me}`)}function je(Ne){return/^[\x00-\x7F]*$/.test(Ne)}function Le(Ne){const Me=["þÿ"];for(let Pe=0,Ue=Ne.length;Pe<Ue;Pe++){const Ge=Ne.charCodeAt(Pe);Me.push(String.fromCharCode(Ge>>8&255),String.fromCharCode(Ge&255))}return Me.join("")}function ze(Ne){return decodeURIComponent(escape(Ne))}function Re(Ne){return unescape(encodeURIComponent(Ne))}function et(Ne){return typeof Ne=="object"&&Ne!==null&&Ne.byteLength!==void 0}function st(Ne,Me){if(Ne.length!==Me.length)return!1;for(let Pe=0,Ue=Ne.length;Pe<Ue;Pe++)if(Ne[Pe]!==Me[Pe])return!1;return!0}function Qe(Ne=new Date){return[Ne.getUTCFullYear().toString(),(Ne.getUTCMonth()+1).toString().padStart(2,"0"),Ne.getUTCDate().toString().padStart(2,"0"),Ne.getUTCHours().toString().padStart(2,"0"),Ne.getUTCMinutes().toString().padStart(2,"0"),Ne.getUTCSeconds().toString().padStart(2,"0")].join("")}function ot(){const Ne=Object.create(null);let Me=!1;return Object.defineProperty(Ne,"settled",{get(){return Me}}),Ne.promise=new Promise(function(Pe,Ue){Ne.resolve=function(Ge){Me=!0,Pe(Ge)},Ne.reject=function(Ge){Me=!0,Ue(Ge)}}),Ne}},(A,e,r)=>{r(3)},(A,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=r},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:A,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=A,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}let createPDFNetworkStream;function setPDFNetworkStreamFactory(A){createPDFNetworkStream=A}function getDocument(A){const e=new PDFDocumentLoadingTask;let r;if(typeof A=="string"||A instanceof URL)r={url:A};else if((0,_util.isArrayBuffer)(A))r={data:A};else if(A instanceof PDFDataRangeTransport)r={range:A};else{if(typeof A!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!A.url&&!A.data&&!A.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=A}const a=Object.create(null);let c=null,o=null;for(const s in r){const g=r[s];switch(s){case"url":if(typeof window<"u")try{a[s]=new URL(g,window.location).href;continue}catch(m){(0,_util.warn)(`Cannot create valid URL: "${m}".`)}else if(typeof g=="string"||g instanceof URL){a[s]=g.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":c=g;continue;case"worker":o=g;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&g instanceof Buffer)a[s]=new Uint8Array(g);else{if(g instanceof Uint8Array)break;if(typeof g=="string")a[s]=(0,_util.stringToBytes)(g);else if(typeof g=="object"&&g!==null&&!isNaN(g.length))a[s]=new Uint8Array(g);else if((0,_util.isArrayBuffer)(g))a[s]=new Uint8Array(g);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}a[s]=g}if(a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.StandardFontDataFactory=a.StandardFontDataFactory||DefaultStandardFontDataFactory,a.ignoreErrors=a.stopAtErrors!==!0,a.fontExtraProperties=a.fontExtraProperties===!0,a.pdfBug=a.pdfBug===!0,a.enableXfa=a.enableXfa===!0,(!Number.isInteger(a.rangeChunkSize)||a.rangeChunkSize<1)&&(a.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof a.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(a.docBaseUrl))&&(a.docBaseUrl=null),(!Number.isInteger(a.maxImageSize)||a.maxImageSize<-1)&&(a.maxImageSize=-1),typeof a.cMapUrl!="string"&&(a.cMapUrl=null),typeof a.standardFontDataUrl!="string"&&(a.standardFontDataUrl=null),typeof a.useWorkerFetch!="boolean"&&(a.useWorkerFetch=a.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&a.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof a.isEvalSupported!="boolean"&&(a.isEvalSupported=!0),typeof a.disableFontFace!="boolean"&&(a.disableFontFace=_is_node.isNodeJS),typeof a.useSystemFonts!="boolean"&&(a.useSystemFonts=!_is_node.isNodeJS&&!a.disableFontFace),(typeof a.ownerDocument!="object"||a.ownerDocument===null)&&(a.ownerDocument=globalThis.document),typeof a.disableRange!="boolean"&&(a.disableRange=!1),typeof a.disableStream!="boolean"&&(a.disableStream=!1),typeof a.disableAutoFetch!="boolean"&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!o){const s={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=s.port?_PDFWorker.fromPort(s):new _PDFWorker(s),e._worker=o}const f=e.docId;return o.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");const s=_fetchDocument(o,a,c,f),g=new Promise(function(m){let p;c?p=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,contentDispositionFilename:a.contentDispositionFilename,disableRange:a.disableRange,disableStream:a.disableStream},c):a.data||(p=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),m(p)});return Promise.all([s,g]).then(function([m,p]){if(e.destroyed)throw new Error("Loading aborted");const t=new _message_handler.MessageHandler(f,m,o.port),b=new WorkerTransport(t,e,p,a);e._transport=b,t.send("Ready",null)})}).catch(e._capability.reject),e}async function _fetchDocument(A,e,r,a){if(A.destroyed)throw new Error("Worker was destroyed");r&&(e.length=r.length,e.initialData=r.initialData,e.progressiveDone=r.progressiveDone,e.contentDispositionFilename=r.contentDispositionFilename);const c=await A.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.16.105",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(e.data&&(e.data=null),A.destroyed)throw new Error("Worker was destroyed");return c}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await this._transport?.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,r,a=!1,c=null){this.length=e,this.initialData=r,this.progressiveDone=a,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(const a of this._rangeListeners)a(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,r){this._pdfInfo=e,this._transport=r,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,r,a,c,o=!1){this._pageIndex=e,this._pageInfo=r,this._ownerDocument=c,this._transport=a,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:a=0,offsetY:c=0,dontFlip:o=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:a,offsetY:c,dontFlip:o})}getAnnotations({intent:e="display"}={}){const r=this._transport.getRenderingIntent(e);let a=this._annotationPromises.get(r.cacheKey);return a||(a=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,a),a=a.then(c=>{for(const o of c)o.titleObj!==void 0&&Object.defineProperty(o,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),o.titleObj.str}}),o.contentsObj!==void 0&&Object.defineProperty(o,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),o.contentsObj.str}});return c})),a}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:r,intent:a="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:o=null,imageLayer:f=null,canvasFactory:s=null,background:g=null,optionalContentConfigPromise:m=null,annotationCanvasMap:p=null,pageColors:t=null,printAnnotationStorage:b=null}){arguments[0]?.renderInteractiveForms!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_FORMS)),arguments[0]?.includeAnnotationStorage!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&c===_util.AnnotationMode.ENABLE&&(c=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const C=this._transport.getRenderingIntent(a,c,b);this.pendingCleanup=!1,m||(m=this._transport.getOptionalContentConfig());let w=this._intentStates.get(C.cacheKey);w||(w=Object.create(null),this._intentStates.set(C.cacheKey,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const v=s||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),M=!!(C.renderingIntent&_util.RenderingIntentFlag.PRINT);w.displayReadyCapability||(w.displayReadyCapability=(0,_util.createPromiseCapability)(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(C));const y=_=>{w.renderTasks.delete(I),(this.cleanupAfterRender||M)&&(this.pendingCleanup=!0),this._tryCleanup(),_?(I.capability.reject(_),this._abortOperatorList({intentState:w,reason:_ instanceof Error?_:new Error(_)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},I=new InternalRenderTask({callback:y,params:{canvasContext:e,viewport:r,transform:o,imageLayer:f,background:g},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:v,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:t});(w.renderTasks||=new Set).add(I);const P=I.task;return Promise.all([w.displayReadyCapability.promise,m]).then(([_,k])=>{if(this.pendingCleanup){y();return}this._stats&&this._stats.time("Rendering"),I.initializeGraphics({transparency:_,optionalContentConfig:k}),I.operatorListChanged()}).catch(y),P}getOperatorList({intent:e="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:a=null}={}){function c(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(s))}const o=this._transport.getRenderingIntent(e,r,a,!0);let f=this._intentStates.get(o.cacheKey);f||(f=Object.create(null),this._intentStates.set(o.cacheKey,f));let s;return f.opListReadCapability||(s=Object.create(null),s.operatorListChanged=c,f.opListReadCapability=(0,_util.createPromiseCapability)(),(f.renderTasks||=new Set).add(s),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(o)),f.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:e!==!0,includeMarkedContent:r===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>_xfa_text.XfaText.textContent(a));const r=this.streamTextContent(e);return new Promise(function(a,c){function o(){f.read().then(function({value:g,done:m}){if(m){a(s);return}Object.assign(s.styles,g.styles),s.items.push(...g.items),o()},c)}const f=r.getReader(),s={items:[],styles:Object.create(null)};o()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const a of r.renderTasks)e.push(a.completed),a.cancel();this.objs.clear();for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:r,operatorList:a}of this._intentStates.values())if(r.size>0||!a.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(e,r){const a=this._intentStates.get(r);a&&(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(e))}_renderPageChunk(e,r){for(let a=0,c=e.length;a<c;a++)r.operatorList.fnArray.push(e.fnArray[a]),r.operatorList.argsArray.push(e.argsArray[a]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const a of r.renderTasks)a.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageMap:a}){const o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:a}).getReader(),f=this._intentStates.get(r);f.streamReader=o;const s=()=>{o.read().then(({value:g,done:m})=>{if(m){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),s())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const m of f.renderTasks)m.operatorListChanged();this._tryCleanup()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};s()}_abortOperatorList({intentState:e,reason:r,force:a=!1}){if(e.streamReader){if(!a){if(e.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException){e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:r,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(e.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[c,o]of this._intentStates)if(o===e){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,r){const a={data:structuredClone(e,r)};this._deferred.then(()=>{for(const c of this._listeners)c.call(this,a)})}addEventListener(e,r){this._listeners.push(r)}removeEventListener(e,r){const a=this._listeners.indexOf(r);this._listeners.splice(a,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const A=document?.currentScript?.src;A&&(PDFWorkerUtil.fallbackWorkerSrc=A.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(A,e){let r;try{if(r=new URL(A),!r.origin||r.origin==="null")return!1}catch{return!1}const a=new URL(e,r);return r.origin===a.origin},PDFWorkerUtil.createCDNWrapper=function(A){const e=`importScripts("${A}");`;return URL.createObjectURL(new Blob([e]))}}class _PDFWorker{static#workerPorts=new WeakMap;constructor({name:A=null,port:e=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(e&&_PDFWorker.#workerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=A,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e){_PDFWorker.#workerPorts.set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(A){this._port=A,this._messageHandler=new _message_handler.MessageHandler("main","worker",A),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:A}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,A)||(A=PDFWorkerUtil.createCDNWrapper(new URL(A,window.location).href));const e=new Worker(A),r=new _message_handler.MessageHandler("main","worker",e),a=()=>{e.removeEventListener("error",c),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||a()};e.addEventListener("error",c),r.on("test",f=>{if(e.removeEventListener("error",c),this.destroyed){a();return}f?(this._messageHandler=r,this._port=e,this._webWorker=e,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),e.terminate())}),r.on("ready",f=>{if(e.removeEventListener("error",c),this.destroyed){a();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const f=new Uint8Array;r.send("test",f,[f.buffer])};o();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(A=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new LoopbackPort;this._port=e;const r=`fake${PDFWorkerUtil.fakeWorkerId++}`,a=new _message_handler.MessageHandler(r+"_worker",r,e);A.setup(a,e);const c=new _message_handler.MessageHandler(r,r+"_worker",e);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(A=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${A.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(A){if(!A?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(A.port)?this.#workerPorts.get(A.port):new _PDFWorker(A)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#r=new Map;#n=null;constructor(e,r,a,c){this.messageHandler=e,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,c.useWorkerFetch||(this.CMapReaderFactory=new c.CMapReaderFactory({baseUrl:c.cMapUrl,isCompressed:c.cMapPacked}),this.StandardFontDataFactory=new c.StandardFontDataFactory({baseUrl:c.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(e,r=_util.AnnotationMode.ENABLE,a=null,c=!1){let o=_util.RenderingIntentFlag.DISPLAY,f=null;switch(e){case"any":o=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":o=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(r){case _util.AnnotationMode.DISABLE:o+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:o+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:o+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=(o&_util.RenderingIntentFlag.PRINT&&a instanceof _annotation_storage.PrintAnnotationStorage?a:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return c&&(o+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:o,cacheKey:`${o}_${_annotation_storage.AnnotationStorage.getHash(f)}`,annotationStorageMap:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const a of this.#t.values())e.push(a._destroy());this.#t.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#n=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(a,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},c.onPull=()=>{this._fullReader.read().then(function({value:o,done:f}){if(f){c.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(o),"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{c.error(o)})},c.onCancel=o=>{this._fullReader.cancel(o),c.ready.catch(f=>{if(!this.destroyed)throw f})}}),e.on("ReaderHeadersReady",a=>{const c=(0,_util.createPromiseCapability)(),o=this._fullReader;return o.headersReady.then(()=>{(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),o.onProgress=f=>{r.onProgress?.({loaded:f.loaded,total:f.total})}),c.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},c.reject),c.promise}),e.on("GetRangeReader",(a,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(a.begin,a.end);if(!o){c.close();return}c.onPull=()=>{o.read().then(function({value:f,done:s}){if(s){c.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(f),"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(f),1,[f])}).catch(f=>{c.error(f)})},c.onCancel=f=>{o.cancel(f),c.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(a,this))}),e.on("DocException",function(a){let c;switch(a.name){case"PasswordException":c=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":c=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(a.message,a.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(c)}),e.on("PasswordRequest",a=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){const c=o=>{o instanceof Error?this._passwordCapability.reject(o):this._passwordCapability.resolve({password:o})};try{r.onPassword(c,a.code)}catch(o){this._passwordCapability.reject(o)}}else this._passwordCapability.reject(new _util.PasswordException(a.message,a.code));return this._passwordCapability.promise}),e.on("DataLoaded",a=>{r.onProgress?.({loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),e.on("StartRenderPage",a=>{if(this.destroyed)return;this.#t.get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),e.on("commonobj",([a,c,o])=>{if(!this.destroyed&&!this.commonObjs.has(a))switch(c){case"Font":const f=this._params;if("error"in o){const m=o.error;(0,_util.warn)(`Error during font loading: ${m}`),this.commonObjs.resolve(a,m);break}let s=null;f.pdfBug&&globalThis.FontInspector?.enabled&&(s={registerFont(m,p){globalThis.FontInspector.fontAdded(m,p)}});const g=new _font_loader.FontFaceObject(o,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:s});this.fontLoader.bind(g).catch(m=>e.sendWithPromise("FontFallback",{id:a})).finally(()=>{!f.fontExtraProperties&&g.data&&(g.data=null),this.commonObjs.resolve(a,g)});break;case"FontPath":case"Image":this.commonObjs.resolve(a,o);break;default:throw new Error(`Got unknown common object type ${c}`)}}),e.on("obj",([a,c,o,f])=>{if(this.destroyed)return;const s=this.#t.get(c);if(!s.objs.has(a))switch(o){case"Image":s.objs.resolve(a,f);const g=8e6;if(f){let m;if(f.bitmap){const{bitmap:p,width:t,height:b}=f;m=t*b*4,s._bitmaps.add(p)}else m=f.data?.length||0;m>g&&(s.cleanupAfterRender=!0)}break;case"Pattern":s.objs.resolve(a,f);break;default:throw new Error(`Got unknown object type ${o}`)}}),e.on("DocProgress",a=>{this.destroyed||r.onProgress?.({loaded:a.loaded,total:a.total})}),e.on("DocStats",a=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(a.streamTypes),fontTypes:Object.freeze(a.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(a):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(a):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,a=this.#r.get(r);if(a)return a;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(r,o,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(r,f),f});return this.#r.set(r,c),c}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#n||=this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#n=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(e){const r=this.#e[e];return r||(this.#e[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e,r=null){if(r){const c=this.#t(e);return c.capability.promise.then(()=>r(c.data)),null}const a=this.#e[e];if(!a?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return a.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,r=null){const a=this.#t(e);a.data=r,a.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:r}=this.#e;return e.form||e.canvas&&r?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:r,objs:a,commonObjs:c,annotationCanvasMap:o,operatorList:f,pageIndex:s,canvasFactory:g,useRequestAnimationFrame:m=!1,pdfBug:p=!1,pageColors:t=null}){this.callback=e,this.params=r,this.objs=a,this.commonObjs=c,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=s,this.canvasFactory=g,this._pdfBug=p,this.pageColors=t,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:c,transform:o,imageLayer:f,background:s}=this.params;this.gfx=new _canvas.CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,f,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:c,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var a=r(1),c=r(6),o=r(10);class f{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(m,p){const t=this._storage.get(m);return t===void 0?p:Object.assign(p,t)}getRawValue(m){return this._storage.get(m)}remove(m){if(this._storage.delete(m),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const p of this._storage.values())if(p instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(m,p){const t=this._storage.get(m);let b=!1;if(t!==void 0)for(const[C,w]of Object.entries(p))t[C]!==w&&(b=!0,t[C]=w);else b=!0,this._storage.set(m,p);b&&this.#e(),p instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(p.constructor._type)}has(m){return this._storage.has(m)}getAll(){return this._storage.size>0?(0,a.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new s(this)}get serializable(){if(this._storage.size===0)return null;const m=new Map;for(const[p,t]of this._storage){const b=t instanceof c.AnnotationEditor?t.serialize():t;b&&m.set(p,b)}return m}static getHash(m){if(!m)return"";const p=new o.MurmurHash3_64;for(const[t,b]of m)p.update(`${t}:${JSON.stringify(b)}`);return p.hexdigest()}}e.AnnotationStorage=f;class s extends f{#e=null;constructor(m){super(),this.#e=structuredClone(m.serializable)}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=s},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var a=r(7),c=r(1);class o{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#r=!1;#n=!1;#s=!1;#d=o._zIndex++;static _colorManager=new a.ColorManager;static _zIndex=1;constructor(s){this.constructor===o&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=s.parent,this.id=s.id,this.width=this.height=null,this.pageIndex=s.parent.pageIndex,this.name=s.name,this.div=null;const[g,m]=this.parent.viewportBaseDimensions;this.x=s.x/g,this.y=s.y/m,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#d}focusin(s){this.#r?this.#r=!1:this.parent.setSelected(this)}focusout(s){!this.isAttachedToDOM||s.relatedTarget?.closest(`#${this.id}`)||(s.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(s){const g=this.parent.div.getBoundingClientRect();this.startX=s.clientX-g.x,this.startY=s.clientY-g.y,s.dataTransfer.setData("text/plain",this.id),s.dataTransfer.effectAllowed="move"}setAt(s,g,m,p){const[t,b]=this.parent.viewportBaseDimensions;[m,p]=this.screenToPageTranslation(m,p),this.x=(s+m)/t,this.y=(g+p)/b,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(s,g){const[m,p]=this.parent.viewportBaseDimensions;[s,g]=this.screenToPageTranslation(s,g),this.x+=s/m,this.y+=g/p,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(s,g){const{rotation:m}=this.parent.viewport;switch(m){case 90:return[g,-s];case 180:return[-s,-g];case 270:return[-g,s];default:return[s,g]}}setDims(s,g){const[m,p]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*s/m}%`,this.div.style.height=`${100*g/p}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);const[s,g]=this.getInitialTranslation();return this.translate(s,g),(0,a.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(s){const g=a.KeyboardManager.platform.isMac;if(s.button!==0||s.ctrlKey&&g){s.preventDefault();return}s.ctrlKey&&!g||s.shiftKey||s.metaKey&&g?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#r=!0}getRect(s,g){const[m,p]=this.parent.viewportBaseDimensions,[t,b]=this.parent.pageDimensions,C=t*s/m,w=b*g/p,v=this.x*t,M=this.y*b,y=this.width*t,I=this.height*b;switch(this.rotation){case 0:return[v+C,b-M-w-I,v+C+y,b-M-w];case 90:return[v+w,b-M+C,v+w+I,b-M+C+y];case 180:return[v-C-y,b-M+w,v-C,b-M+w+I];case 270:return[v-w-I,b-M-C-y,v-w,b-M-C];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(s,g){const[m,p,t,b]=s,C=t-m,w=b-p;switch(this.rotation){case 0:return[m,g-b,C,w];case 90:return[m,g-p,w,C];case 180:return[t,g-p,C,w];case 270:return[t,g-b,w,C];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#s=!0}disableEditMode(){this.#s=!1}isInEditMode(){return this.#s}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,c.unreachable)("An editor must be serializable")}static deserialize(s,g){const m=new this.prototype.constructor({parent:g,id:g.getNextId()});m.rotation=s.rotation;const[p,t]=g.pageDimensions,[b,C,w,v]=m.getRectInCurrentCoords(s.rect,t);return m.x=b/p,m.y=C/t,m.width=w/p,m.height=v/t,m}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(s,g){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#n}set isEditing(s){this.#n=s,s?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}e.AnnotationEditor=o},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=o,e.opacityToHex=f;var a=r(1),c=r(8);function o(C,w,v){for(const M of v)w.addEventListener(M,C[M].bind(C))}function f(C){return Math.round(Math.min(255,Math.max(1,255*C))).toString(16).padStart(2,"0")}class s{#e=0;getId(){return`${a.AnnotationEditorPrefix}${this.#e++}`}}class g{#e=[];#t=!1;#r;#n=-1;constructor(w=128){this.#r=w}add({cmd:w,undo:v,mustExec:M,type:y=NaN,overwriteIfSameType:I=!1,keepUndo:P=!1}){if(M&&w(),this.#t)return;const _={cmd:w,undo:v,type:y};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(_);return}if(I&&this.#e[this.#n].type===y){P&&(_.undo=this.#e[this.#n].undo),this.#e[this.#n]=_;return}const k=this.#n+1;k===this.#r?this.#e.splice(0,1):(this.#n=k,k<this.#e.length&&this.#e.splice(k)),this.#e.push(_)}undo(){this.#n!==-1&&(this.#t=!0,this.#e[this.#n].undo(),this.#t=!1,this.#n-=1)}redo(){this.#n<this.#e.length-1&&(this.#n+=1,this.#t=!0,this.#e[this.#n].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=g;class m{constructor(w){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const v=m.platform.isMac;for(const[M,y]of w)for(const I of M){const P=I.startsWith("mac+");v&&P?(this.callbacks.set(I.slice(4),y),this.allKeys.add(I.split("+").at(-1))):!v&&!P&&(this.callbacks.set(I,y),this.allKeys.add(I.split("+").at(-1)))}}static get platform(){const w=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:w.includes("Win"),isMac:w.includes("Mac")})}#e(w){w.altKey&&this.buffer.push("alt"),w.ctrlKey&&this.buffer.push("ctrl"),w.metaKey&&this.buffer.push("meta"),w.shiftKey&&this.buffer.push("shift"),this.buffer.push(w.key);const v=this.buffer.join("+");return this.buffer.length=0,v}exec(w,v){if(!this.allKeys.has(v.key))return;const M=this.callbacks.get(this.#e(v));M&&(M.bind(w)(),v.stopPropagation(),v.preventDefault())}}e.KeyboardManager=m;class p{#e=null;copy(w){w&&(Array.isArray(w)?this.#e=w.map(v=>v.serialize()):this.#e=[w.serialize()],this.#e=this.#e.filter(v=>!!v),this.#e.length===0&&(this.#e=null))}paste(){return this.#e}isEmpty(){return this.#e===null}destroy(){this.#e=null}}class t{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const w=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(w),(0,a.shadow)(this,"_colors",w)}convert(w){const v=(0,c.getRGB)(w);if(!window.matchMedia("(forced-colors: active)").matches)return v;for(const[M,y]of this._colors)if(y.every((I,P)=>I===v[P]))return t._colorsMapping.get(M);return v}getHexCode(w){const v=this._colors.get(w);return v?a.Util.makeHexColor(...v):w}}e.ColorManager=t;class b{#e=null;#t=new Map;#r=new Map;#n=new p;#s=new g;#d=0;#o=null;#i=null;#u=new s;#c=!1;#l=a.AnnotationEditorType.NONE;#a=new Set;#m=this.keydown.bind(this);#p=this.onEditingAction.bind(this);#S=this.onPageChanging.bind(this);#_={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#b=null;static _keyboardManager=new m([[["ctrl+a","mac+meta+a"],b.prototype.selectAll],[["ctrl+c","mac+meta+c"],b.prototype.copy],[["ctrl+v","mac+meta+v"],b.prototype.paste],[["ctrl+x","mac+meta+x"],b.prototype.cut],[["ctrl+z","mac+meta+z"],b.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],b.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],b.prototype.delete],[["Escape","mac+Escape"],b.prototype.unselectAll]]);constructor(w,v){this.#b=w,this.#i=v,this.#i._on("editingaction",this.#p),this.#i._on("pagechanging",this.#S)}destroy(){this.#w(),this.#i._off("editingaction",this.#p),this.#i._off("pagechanging",this.#S);for(const w of this.#r.values())w.destroy();this.#r.clear(),this.#t.clear(),this.#e=null,this.#a.clear(),this.#n.destroy(),this.#s.destroy()}onPageChanging({pageNumber:w}){this.#d=w-1}focusMainContainer(){this.#b.focus()}#E(){this.#b.addEventListener("keydown",this.#m)}#w(){this.#b.removeEventListener("keydown",this.#m)}keydown(w){this.getActive()?.shouldGetKeyboardEvents()||b._keyboardManager.exec(this,w)}onEditingAction(w){["undo","redo","cut","copy","paste","delete","selectAll"].includes(w.name)&&this[w.name]()}#h(w){Object.entries(w).some(([M,y])=>this.#_[M]!==y)&&this.#i.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#_,w)})}#A(w){this.#i.dispatch("annotationeditorparamschanged",{source:this,details:w})}setEditingState(w){w?(this.#E(),this.#h({isEditing:this.#l!==a.AnnotationEditorType.NONE,isEmpty:this.#g(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#n.isEmpty()})):(this.#w(),this.#h({isEditing:!1}))}registerEditorTypes(w){this.#o=w;for(const v of this.#o)this.#A(v.defaultPropertiesToUpdate)}getId(){return this.#u.getId()}addLayer(w){this.#r.set(w.pageIndex,w),this.#c?w.enable():w.disable()}removeLayer(w){this.#r.delete(w.pageIndex)}updateMode(w){if(this.#l=w,w===a.AnnotationEditorType.NONE)this.setEditingState(!1),this.#f();else{this.setEditingState(!0),this.#k();for(const v of this.#r.values())v.updateMode(w)}}updateToolbar(w){w!==this.#l&&this.#i.dispatch("switchannotationeditormode",{source:this,mode:w})}updateParams(w,v){for(const M of this.#a)M.updateParams(w,v);for(const M of this.#o)M.updateDefaultParams(w,v)}#k(){if(!this.#c){this.#c=!0;for(const w of this.#r.values())w.enable()}}#f(){if(this.unselectAll(),this.#c){this.#c=!1;for(const w of this.#r.values())w.disable()}}getEditors(w){const v=[];for(const M of this.#t.values())M.pageIndex===w&&v.push(M);return v}getEditor(w){return this.#t.get(w)}addEditor(w){this.#t.set(w.id,w)}removeEditor(w){this.#t.delete(w.id),this.unselect(w)}#x(w){const v=this.#r.get(w.pageIndex);v?v.addOrRebuild(w):this.addEditor(w)}setActiveEditor(w){this.#e!==w&&(this.#e=w,w&&this.#A(w.propertiesToUpdate))}toggleSelected(w){if(this.#a.has(w)){this.#a.delete(w),w.unselect(),this.#h({hasSelectedEditor:this.hasSelection});return}this.#a.add(w),w.select(),this.#A(w.propertiesToUpdate),this.#h({hasSelectedEditor:!0})}setSelected(w){for(const v of this.#a)v!==w&&v.unselect();this.#a.clear(),this.#a.add(w),w.select(),this.#A(w.propertiesToUpdate),this.#h({hasSelectedEditor:!0})}isSelected(w){return this.#a.has(w)}unselect(w){w.unselect(),this.#a.delete(w),this.#h({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#a.size!==0}undo(){this.#s.undo(),this.#h({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#g()})}redo(){this.#s.redo(),this.#h({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#g()})}addCommands(w){this.#s.add(w),this.#h({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#g()})}#g(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const w of this.#t.values())return w.isEmpty();return!1}delete(){if(this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;const w=[...this.#a],v=()=>{for(const y of w)y.remove()},M=()=>{for(const y of w)this.#x(y)};this.addCommands({cmd:v,undo:M,mustExec:!0})}copy(){if(this.#e&&this.#e.commitOrRemove(),this.hasSelection){const w=[];for(const v of this.#a)v.isEmpty()||w.push(v);if(w.length===0)return;this.#n.copy(w),this.#h({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#n.isEmpty())return;this.unselectAll();const w=this.#r.get(this.#d),v=this.#n.paste().map(I=>w.deserialize(I)),M=()=>{for(const I of v)this.#x(I);this.#y(v)},y=()=>{for(const I of v)I.remove()};this.addCommands({cmd:M,undo:y,mustExec:!0})}#y(w){this.#a.clear();for(const v of w)v.isEmpty()||(this.#a.add(v),v.select());this.#h({hasSelectedEditor:!0})}selectAll(){for(const w of this.#a)w.commit();this.#y(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.#y.size!==0){for(const w of this.#a)w.unselect();this.#a.clear(),this.#h({hasSelectedEditor:!1})}}isActive(w){return this.#e===w}getActive(){return this.#e}getMode(){return this.#l}}e.AnnotationEditorUIManager=b},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=D,e.getColorValues=B,e.getCurrentTransform=j,e.getCurrentTransformInverse=ie,e.getFilenameFromUrl=y,e.getPdfFilenameFromUrl=I,e.getRGB=te,e.getXfaPageViewport=U,e.isDataScheme=v,e.isPdfFile=M,e.isValidFetchUrl=_,e.loadScript=k;var a=r(9),c=r(1);const o="http://www.w3.org/2000/svg",f="pdfjs_internal_id_";e.AnnotationPrefix=f;class s{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=s;class g extends a.BaseCanvasFactory{constructor({ownerDocument:L=globalThis.document}={}){super(),this._document=L}_createCanvas(L,ee){const J=this._document.createElement("canvas");return J.width=L,J.height=ee,J}}e.DOMCanvasFactory=g;async function m(E,L=!1){if(_(E,document.baseURI)){const ee=await fetch(E);if(!ee.ok)throw new Error(ee.statusText);return L?new Uint8Array(await ee.arrayBuffer()):(0,c.stringToBytes)(await ee.text())}return new Promise((ee,J)=>{const Y=new XMLHttpRequest;Y.open("GET",E,!0),L&&(Y.responseType="arraybuffer"),Y.onreadystatechange=()=>{if(Y.readyState===XMLHttpRequest.DONE){if(Y.status===200||Y.status===0){let q;if(L&&Y.response?q=new Uint8Array(Y.response):!L&&Y.responseText&&(q=(0,c.stringToBytes)(Y.responseText)),q){ee(q);return}}J(new Error(Y.statusText))}},Y.send(null)})}class p extends a.BaseCMapReaderFactory{_fetchData(L,ee){return m(L,this.isCompressed).then(J=>({cMapData:J,compressionType:ee}))}}e.DOMCMapReaderFactory=p;class t extends a.BaseStandardFontDataFactory{_fetchData(L){return m(L,!0)}}e.DOMStandardFontDataFactory=t;class b extends a.BaseSVGFactory{_createSVG(L){return document.createElementNS(o,L)}}e.DOMSVGFactory=b;class C{constructor({viewBox:L,scale:ee,rotation:J,offsetX:Y=0,offsetY:q=0,dontFlip:F=!1}){this.viewBox=L,this.scale=ee,this.rotation=J,this.offsetX=Y,this.offsetY=q;const O=(L[2]+L[0])/2,Z=(L[3]+L[1])/2;let se,$,X,ne;switch(J%=360,J<0&&(J+=360),J){case 180:se=-1,$=0,X=0,ne=1;break;case 90:se=0,$=1,X=1,ne=0;break;case 270:se=0,$=-1,X=-1,ne=0;break;case 0:se=1,$=0,X=0,ne=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}F&&(X=-X,ne=-ne);let oe,ue,fe,le;se===0?(oe=Math.abs(Z-L[1])*ee+Y,ue=Math.abs(O-L[0])*ee+q,fe=Math.abs(L[3]-L[1])*ee,le=Math.abs(L[2]-L[0])*ee):(oe=Math.abs(O-L[0])*ee+Y,ue=Math.abs(Z-L[1])*ee+q,fe=Math.abs(L[2]-L[0])*ee,le=Math.abs(L[3]-L[1])*ee),this.transform=[se*ee,$*ee,X*ee,ne*ee,oe-se*ee*O-X*ee*Z,ue-$*ee*O-ne*ee*Z],this.width=fe,this.height=le}clone({scale:L=this.scale,rotation:ee=this.rotation,offsetX:J=this.offsetX,offsetY:Y=this.offsetY,dontFlip:q=!1}={}){return new C({viewBox:this.viewBox.slice(),scale:L,rotation:ee,offsetX:J,offsetY:Y,dontFlip:q})}convertToViewportPoint(L,ee){return c.Util.applyTransform([L,ee],this.transform)}convertToViewportRectangle(L){const ee=c.Util.applyTransform([L[0],L[1]],this.transform),J=c.Util.applyTransform([L[2],L[3]],this.transform);return[ee[0],ee[1],J[0],J[1]]}convertToPdfPoint(L,ee){return c.Util.applyInverseTransform([L,ee],this.transform)}}e.PageViewport=C;class w extends c.BaseException{constructor(L,ee){super(L,"RenderingCancelledException"),this.type=ee}}e.RenderingCancelledException=w;function v(E){const L=E.length;let ee=0;for(;ee<L&&E[ee].trim()==="";)ee++;return E.substring(ee,ee+5).toLowerCase()==="data:"}function M(E){return typeof E=="string"&&/\.pdf$/i.test(E)}function y(E){const L=E.indexOf("#"),ee=E.indexOf("?"),J=Math.min(L>0?L:E.length,ee>0?ee:E.length);return E.substring(E.lastIndexOf("/",J)+1,J)}function I(E,L="document.pdf"){if(typeof E!="string")return L;if(v(E))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),L;const ee=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,J=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Y=ee.exec(E);let q=J.exec(Y[1])||J.exec(Y[2])||J.exec(Y[3]);if(q&&(q=q[0],q.includes("%")))try{q=J.exec(decodeURIComponent(q))[0]}catch{}return q||L}class P{constructor(){this.started=Object.create(null),this.times=[]}time(L){L in this.started&&(0,c.warn)(`Timer is already running for ${L}`),this.started[L]=Date.now()}timeEnd(L){L in this.started||(0,c.warn)(`Timer has not been started for ${L}`),this.times.push({name:L,start:this.started[L],end:Date.now()}),delete this.started[L]}toString(){const L=[];let ee=0;for(const J of this.times){const Y=J.name;Y.length>ee&&(ee=Y.length)}for(const J of this.times){const Y=J.end-J.start;L.push(`${J.name.padEnd(ee)} ${Y}ms
`)}return L.join("")}}e.StatTimer=P;function _(E,L){try{const{protocol:ee}=L?new URL(E,L):new URL(E);return ee==="http:"||ee==="https:"}catch{return!1}}function k(E,L=!1){return new Promise((ee,J)=>{const Y=document.createElement("script");Y.src=E,Y.onload=function(q){L&&Y.remove(),ee(q)},Y.onerror=function(){J(new Error(`Cannot load script at: ${Y.src}`))},(document.head||document.documentElement).append(Y)})}function D(E){console.log("Deprecated API usage: "+E)}let V;class R{static toDateObject(L){if(!L||typeof L!="string")return null;V||(V=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ee=V.exec(L);if(!ee)return null;const J=parseInt(ee[1],10);let Y=parseInt(ee[2],10);Y=Y>=1&&Y<=12?Y-1:0;let q=parseInt(ee[3],10);q=q>=1&&q<=31?q:1;let F=parseInt(ee[4],10);F=F>=0&&F<=23?F:0;let O=parseInt(ee[5],10);O=O>=0&&O<=59?O:0;let Z=parseInt(ee[6],10);Z=Z>=0&&Z<=59?Z:0;const se=ee[7]||"Z";let $=parseInt(ee[8],10);$=$>=0&&$<=23?$:0;let X=parseInt(ee[9],10)||0;return X=X>=0&&X<=59?X:0,se==="-"?(F+=$,O+=X):se==="+"&&(F-=$,O-=X),new Date(Date.UTC(J,Y,q,F,O,Z))}}e.PDFDateString=R;function U(E,{scale:L=1,rotation:ee=0}){const{width:J,height:Y}=E.attributes.style,q=[0,0,parseInt(J),parseInt(Y)];return new C({viewBox:q,scale:L,rotation:ee})}function te(E){if(E.startsWith("#")){const L=parseInt(E.slice(1),16);return[(L&16711680)>>16,(L&65280)>>8,L&255]}return E.startsWith("rgb(")?E.slice(4,-1).split(",").map(L=>parseInt(L)):E.startsWith("rgba(")?E.slice(5,-1).split(",").map(L=>parseInt(L)).slice(0,3):((0,c.warn)(`Not a valid color format: "${E}"`),[0,0,0])}function B(E){const L=document.createElement("span");L.style.visibility="hidden",document.body.append(L);for(const ee of E.keys()){L.style.color=ee;const J=window.getComputedStyle(L).color;E.set(ee,te(J))}L.remove()}function j(E){const{a:L,b:ee,c:J,d:Y,e:q,f:F}=E.getTransform();return[L,ee,J,Y,q,F]}function ie(E){const{a:L,b:ee,c:J,d:Y,e:q,f:F}=E.getTransform().invertSelf();return[L,ee,J,Y,q,F]}},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var a=r(1);class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(m,p){if(m<=0||p<=0)throw new Error("Invalid canvas size");const t=this._createCanvas(m,p);return{canvas:t,context:t.getContext("2d")}}reset(m,p,t){if(!m.canvas)throw new Error("Canvas is not specified");if(p<=0||t<=0)throw new Error("Invalid canvas size");m.canvas.width=p,m.canvas.height=t}destroy(m){if(!m.canvas)throw new Error("Canvas is not specified");m.canvas.width=0,m.canvas.height=0,m.canvas=null,m.context=null}_createCanvas(m,p){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=c;class o{constructor({baseUrl:m=null,isCompressed:p=!1}){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=m,this.isCompressed=p}async fetch({name:m}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!m)throw new Error("CMap name must be specified.");const p=this.baseUrl+m+(this.isCompressed?".bcmap":""),t=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(p,t).catch(b=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${p}`)})}_fetchData(m,p){(0,a.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class f{constructor({baseUrl:m=null}){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=m}async fetch({filename:m}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!m)throw new Error("Font filename must be specified.");const p=`${this.baseUrl}${m}`;return this._fetchData(p).catch(t=>{throw new Error(`Unable to load font data at: ${p}`)})}_fetchData(m){(0,a.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=f;class s{constructor(){this.constructor===s&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(m,p,t=!1){if(m<=0||p<=0)throw new Error("Invalid SVG dimensions");const b=this._createSVG("svg:svg");return b.setAttribute("version","1.1"),t||(b.setAttribute("width",`${m}px`),b.setAttribute("height",`${p}px`)),b.setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox",`0 0 ${m} ${p}`),b}createElement(m){if(typeof m!="string")throw new Error("Invalid SVG element type");return this._createSVG(m)}_createSVG(m){(0,a.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=s},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var a=r(1);const c=3285377520,o=4294901760,f=65535;class s{constructor(m){this.h1=m?m&4294967295:c,this.h2=m?m&4294967295:c}update(m){let p,t;if(typeof m=="string"){p=new Uint8Array(m.length*2),t=0;for(let V=0,R=m.length;V<R;V++){const U=m.charCodeAt(V);U<=255?p[t++]=U:(p[t++]=U>>>8,p[t++]=U&255)}}else if((0,a.isArrayBuffer)(m))p=m.slice(),t=p.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const b=t>>2,C=t-b*4,w=new Uint32Array(p.buffer,0,b);let v=0,M=0,y=this.h1,I=this.h2;const P=3432918353,_=461845907,k=P&f,D=_&f;for(let V=0;V<b;V++)V&1?(v=w[V],v=v*P&o|v*k&f,v=v<<15|v>>>17,v=v*_&o|v*D&f,y^=v,y=y<<13|y>>>19,y=y*5+3864292196):(M=w[V],M=M*P&o|M*k&f,M=M<<15|M>>>17,M=M*_&o|M*D&f,I^=M,I=I<<13|I>>>19,I=I*5+3864292196);switch(v=0,C){case 3:v^=p[b*4+2]<<16;case 2:v^=p[b*4+1]<<8;case 1:v^=p[b*4],v=v*P&o|v*k&f,v=v<<15|v>>>17,v=v*_&o|v*D&f,b&1?y^=v:I^=v}this.h1=y,this.h2=I}hexdigest(){let m=this.h1,p=this.h2;m^=p>>>1,m=m*3981806797&o|m*36045&f,p=p*4283543511&o|((p<<16|m>>>16)*2950163797&o)>>>16,m^=p>>>1,m=m*444984403&o|m*60499&f,p=p*3301882366&o|((p<<16|m>>>16)*3120437893&o)>>>16,m^=p>>>1;const t=(m>>>0).toString(16),b=(p>>>0).toString(16);return t.padStart(8,"0")+b.padStart(8,"0")}}e.MurmurHash3_64=s},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var a=r(1);class c{constructor({docId:g,onUnsupportedFeature:m,ownerDocument:p=globalThis.document,styleElement:t=null}){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=g,this._onUnsupportedFeature=m,this._document=p,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(g){this.nativeFontFaces.push(g),this._document.fonts.add(g)}insertRule(g){let m=this.styleElement;m||(m=this.styleElement=this._document.createElement("style"),m.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(m));const p=m.sheet;p.insertRule(g,p.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(g){if(g.attached||g.missingFile)return;if(g.attached=!0,this.isFontLoadingAPISupported){const p=g.createNativeFontFace();if(p){this.addNativeFontFace(p);try{await p.loaded}catch(t){throw this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)(`Failed to load font '${p.family}': '${t}'.`),g.disableFontFace=!0,t}}return}const m=g.createFontFaceRule();if(m){if(this.insertRule(m),this.isSyncFontLoadingSupported)return;await new Promise(p=>{const t=this._queueLoadingCallback(p);this._prepareFontLoadEvent([m],[g],t)})}}_queueLoadingCallback(g){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const g=!!this._document?.fonts;return(0,a.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(g,m,p){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let o;e.FontLoader=o,e.FontLoader=o=class extends c{constructor(g){super(g),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let g=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(g=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function m(){for((0,a.assert)(!t.done,"completeRequest() cannot be called twice."),t.done=!0;p.requests.length>0&&p.requests[0].done;){const b=p.requests.shift();setTimeout(b.callback,0)}}const p=this.loadingContext,t={id:`pdfjs-font-loading-${p.nextRequestId++}`,done:!1,complete:m,callback:g};return p.requests.push(t),t}get _loadTestFont(){const g=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,a.shadow)(this,"_loadTestFont",g())}_prepareFontLoadEvent(g,m,p){function t(ie,E){return ie.charCodeAt(E)<<24|ie.charCodeAt(E+1)<<16|ie.charCodeAt(E+2)<<8|ie.charCodeAt(E+3)&255}function b(ie,E,L,ee){const J=ie.substring(0,E),Y=ie.substring(E+L);return J+ee+Y}let C,w;const v=this._document.createElement("canvas");v.width=1,v.height=1;const M=v.getContext("2d");let y=0;function I(ie,E){if(y++,y>30){(0,a.warn)("Load test font never loaded."),E();return}if(M.font="30px "+ie,M.fillText(".",0,20),M.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(I.bind(null,ie,E))}const P=`lt${Date.now()}${this.loadTestFontId++}`;let _=this._loadTestFont;_=b(_,976,P.length,P);const D=16,V=1482184792;let R=t(_,D);for(C=0,w=P.length-3;C<w;C+=4)R=R-V+t(P,C)|0;C<P.length&&(R=R-V+t(P+"XXX",C)|0),_=b(_,D,4,(0,a.string32)(R));const U=`url(data:font/opentype;base64,${btoa(_)});`,te=`@font-face {font-family:"${P}";src:${U}}`;this.insertRule(te);const B=[];for(const ie of m)B.push(ie.loadedName);B.push(P);const j=this._document.createElement("div");j.style.visibility="hidden",j.style.width=j.style.height="10px",j.style.position="absolute",j.style.top=j.style.left="0px";for(const ie of B){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=ie,j.append(E)}this._document.body.append(j),I(P,()=>{j.remove(),p.complete()})}};class f{constructor(g,{isEvalSupported:m=!0,disableFontFace:p=!1,ignoreErrors:t=!1,onUnsupportedFeature:b,fontRegistry:C=null}){this.compiledGlyphs=Object.create(null);for(const w in g)this[w]=g[w];this.isEvalSupported=m!==!1,this.disableFontFace=p===!0,this.ignoreErrors=t===!0,this._onUnsupportedFeature=b,this.fontRegistry=C}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const m={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(m.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,m)}return this.fontRegistry&&this.fontRegistry.registerFont(this),g}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const g=(0,a.bytesToString)(this.data),m=`url(data:${this.mimetype};base64,${btoa(g)});`;let p;if(!this.cssFontInfo)p=`@font-face {font-family:"${this.loadedName}";src:${m}}`;else{let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),p=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${m}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,m),p}getPathGenerator(g,m){if(this.compiledGlyphs[m]!==void 0)return this.compiledGlyphs[m];let p;try{p=g.get(this.loadedName+"_path_"+m)}catch(t){if(!this.ignoreErrors)throw t;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)(`getPathGenerator - ignoring character: "${t}".`),this.compiledGlyphs[m]=function(b,C){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const t=[];for(const b of p){const C=b.args!==void 0?b.args.join(","):"";t.push("c.",b.cmd,"(",C,`);
`)}return this.compiledGlyphs[m]=new Function("c","size",t.join(""))}return this.compiledGlyphs[m]=function(t,b){for(const C of p)C.cmd==="scale"&&(C.args=[b,-b]),t[C.cmd].apply(t,C.args)}}}e.FontFaceObject=f},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var a=r(8),c=r(1),o=r(13),f=r(14),s=r(3);const g=16,m=100,p=4096,t=15,b=10,C=s.isNodeJS&&typeof Path2D>"u"?-1:1e3,w=16;function v(q,F){if(q._removeMirroring)throw new Error("Context is already forwarding operations.");q.__originalSave=q.save,q.__originalRestore=q.restore,q.__originalRotate=q.rotate,q.__originalScale=q.scale,q.__originalTranslate=q.translate,q.__originalTransform=q.transform,q.__originalSetTransform=q.setTransform,q.__originalResetTransform=q.resetTransform,q.__originalClip=q.clip,q.__originalMoveTo=q.moveTo,q.__originalLineTo=q.lineTo,q.__originalBezierCurveTo=q.bezierCurveTo,q.__originalRect=q.rect,q.__originalClosePath=q.closePath,q.__originalBeginPath=q.beginPath,q._removeMirroring=()=>{q.save=q.__originalSave,q.restore=q.__originalRestore,q.rotate=q.__originalRotate,q.scale=q.__originalScale,q.translate=q.__originalTranslate,q.transform=q.__originalTransform,q.setTransform=q.__originalSetTransform,q.resetTransform=q.__originalResetTransform,q.clip=q.__originalClip,q.moveTo=q.__originalMoveTo,q.lineTo=q.__originalLineTo,q.bezierCurveTo=q.__originalBezierCurveTo,q.rect=q.__originalRect,q.closePath=q.__originalClosePath,q.beginPath=q.__originalBeginPath,delete q._removeMirroring},q.save=function(){F.save(),this.__originalSave()},q.restore=function(){F.restore(),this.__originalRestore()},q.translate=function(Z,se){F.translate(Z,se),this.__originalTranslate(Z,se)},q.scale=function(Z,se){F.scale(Z,se),this.__originalScale(Z,se)},q.transform=function(Z,se,$,X,ne,oe){F.transform(Z,se,$,X,ne,oe),this.__originalTransform(Z,se,$,X,ne,oe)},q.setTransform=function(Z,se,$,X,ne,oe){F.setTransform(Z,se,$,X,ne,oe),this.__originalSetTransform(Z,se,$,X,ne,oe)},q.resetTransform=function(){F.resetTransform(),this.__originalResetTransform()},q.rotate=function(Z){F.rotate(Z),this.__originalRotate(Z)},q.clip=function(Z){F.clip(Z),this.__originalClip(Z)},q.moveTo=function(O,Z){F.moveTo(O,Z),this.__originalMoveTo(O,Z)},q.lineTo=function(O,Z){F.lineTo(O,Z),this.__originalLineTo(O,Z)},q.bezierCurveTo=function(O,Z,se,$,X,ne){F.bezierCurveTo(O,Z,se,$,X,ne),this.__originalBezierCurveTo(O,Z,se,$,X,ne)},q.rect=function(O,Z,se,$){F.rect(O,Z,se,$),this.__originalRect(O,Z,se,$)},q.closePath=function(){F.closePath(),this.__originalClosePath()},q.beginPath=function(){F.beginPath(),this.__originalBeginPath()}}class M{constructor(F){this.canvasFactory=F,this.cache=Object.create(null)}getCanvas(F,O,Z){let se;return this.cache[F]!==void 0?(se=this.cache[F],this.canvasFactory.reset(se,O,Z)):(se=this.canvasFactory.create(O,Z),this.cache[F]=se),se}delete(F){delete this.cache[F]}clear(){for(const F in this.cache){const O=this.cache[F];this.canvasFactory.destroy(O),delete this.cache[F]}}}function y(q,F,O,Z,se,$,X,ne,oe,ue){const[fe,le,ae,de,re,Q]=(0,a.getCurrentTransform)(q);if(le===0&&ae===0){const ge=X*fe+re,pe=Math.round(ge),me=ne*de+Q,Ae=Math.round(me),ye=(X+oe)*fe+re,xe=Math.abs(Math.round(ye)-pe)||1,Ce=(ne+ue)*de+Q,we=Math.abs(Math.round(Ce)-Ae)||1;return q.setTransform(Math.sign(fe),0,0,Math.sign(de),pe,Ae),q.drawImage(F,O,Z,se,$,0,0,xe,we),q.setTransform(fe,le,ae,de,re,Q),[xe,we]}if(fe===0&&de===0){const ge=ne*ae+re,pe=Math.round(ge),me=X*le+Q,Ae=Math.round(me),ye=(ne+ue)*ae+re,xe=Math.abs(Math.round(ye)-pe)||1,Ce=(X+oe)*le+Q,we=Math.abs(Math.round(Ce)-Ae)||1;return q.setTransform(0,Math.sign(le),Math.sign(ae),0,pe,Ae),q.drawImage(F,O,Z,se,$,0,0,we,xe),q.setTransform(fe,le,ae,de,re,Q),[we,xe]}q.drawImage(F,O,Z,se,$,X,ne,oe,ue);const ce=Math.hypot(fe,le),he=Math.hypot(ae,de);return[ce*oe,he*ue]}function I(q){const{width:F,height:O}=q;if(F>C||O>C)return null;const Z=1e3,se=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),$=F+1;let X=new Uint8Array($*(O+1)),ne,oe,ue;const fe=F+7&-8;let le=new Uint8Array(fe*O),ae=0;for(const he of q.data){let ge=128;for(;ge>0;)le[ae++]=he&ge?0:255,ge>>=1}let de=0;for(ae=0,le[ae]!==0&&(X[0]=1,++de),oe=1;oe<F;oe++)le[ae]!==le[ae+1]&&(X[oe]=le[ae]?2:1,++de),ae++;for(le[ae]!==0&&(X[oe]=2,++de),ne=1;ne<O;ne++){ae=ne*fe,ue=ne*$,le[ae-fe]!==le[ae]&&(X[ue]=le[ae]?1:8,++de);let he=(le[ae]?4:0)+(le[ae-fe]?8:0);for(oe=1;oe<F;oe++)he=(he>>2)+(le[ae+1]?4:0)+(le[ae-fe+1]?8:0),se[he]&&(X[ue+oe]=se[he],++de),ae++;if(le[ae-fe]!==le[ae]&&(X[ue+oe]=le[ae]?2:4,++de),de>Z)return null}for(ae=fe*(O-1),ue=ne*$,le[ae]!==0&&(X[ue]=8,++de),oe=1;oe<F;oe++)le[ae]!==le[ae+1]&&(X[ue+oe]=le[ae]?4:8,++de),ae++;if(le[ae]!==0&&(X[ue+oe]=4,++de),de>Z)return null;const re=new Int32Array([0,$,-1,0,-$,0,0,0,1]),Q=new Path2D;for(ne=0;de&&ne<=O;ne++){let he=ne*$;const ge=he+F;for(;he<ge&&!X[he];)he++;if(he===ge)continue;Q.moveTo(he%$,ne);const pe=he;let me=X[he];do{const Ae=re[me];do he+=Ae;while(!X[he]);const ye=X[he];ye!==5&&ye!==10?(me=ye,X[he]=0):(me=ye&51*me>>4,X[he]&=me>>2|me<<2),Q.lineTo(he%$,he/$|0),X[he]||--de}while(pe!==he);--ne}return le=null,X=null,function(he){he.save(),he.scale(1/F,-1/O),he.translate(0,-O),he.fill(Q),he.beginPath(),he.restore()}}class P{constructor(F,O){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=c.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,F,O])}clone(){const F=Object.create(this);return F.clipBox=this.clipBox.slice(),F}setCurrentPoint(F,O){this.x=F,this.y=O}updatePathMinMax(F,O,Z){[O,Z]=c.Util.applyTransform([O,Z],F),this.minX=Math.min(this.minX,O),this.minY=Math.min(this.minY,Z),this.maxX=Math.max(this.maxX,O),this.maxY=Math.max(this.maxY,Z)}updateRectMinMax(F,O){const Z=c.Util.applyTransform(O,F),se=c.Util.applyTransform(O.slice(2),F);this.minX=Math.min(this.minX,Z[0],se[0]),this.minY=Math.min(this.minY,Z[1],se[1]),this.maxX=Math.max(this.maxX,Z[0],se[0]),this.maxY=Math.max(this.maxY,Z[1],se[1])}updateScalingPathMinMax(F,O){c.Util.scaleMinMax(F,O),this.minX=Math.min(this.minX,O[0]),this.maxX=Math.max(this.maxX,O[1]),this.minY=Math.min(this.minY,O[2]),this.maxY=Math.max(this.maxY,O[3])}updateCurvePathMinMax(F,O,Z,se,$,X,ne,oe,ue,fe){const le=c.Util.bezierBoundingBox(O,Z,se,$,X,ne,oe,ue);if(fe){fe[0]=Math.min(fe[0],le[0],le[2]),fe[1]=Math.max(fe[1],le[0],le[2]),fe[2]=Math.min(fe[2],le[1],le[3]),fe[3]=Math.max(fe[3],le[1],le[3]);return}this.updateRectMinMax(F,le)}getPathBoundingBox(F=o.PathType.FILL,O=null){const Z=[this.minX,this.minY,this.maxX,this.maxY];if(F===o.PathType.STROKE){O||(0,c.unreachable)("Stroke bounding box must include transform.");const se=c.Util.singularValueDecompose2dScale(O),$=se[0]*this.lineWidth/2,X=se[1]*this.lineWidth/2;Z[0]-=$,Z[1]-=X,Z[2]+=$,Z[3]+=X}return Z}updateClipFromPath(){const F=c.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(F||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(F){this.clipBox=F,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(F=o.PathType.FILL,O=null){return c.Util.intersect(this.clipBox,this.getPathBoundingBox(F,O))}}function _(q,F,O=null){if(typeof ImageData<"u"&&F instanceof ImageData){q.putImageData(F,0,0);return}const Z=F.height,se=F.width,$=Z%w,X=(Z-$)/w,ne=$===0?X:X+1,oe=q.createImageData(se,w);let ue=0,fe;const le=F.data,ae=oe.data;let de,re,Q,ce,he,ge,pe,me;if(O)switch(O.length){case 1:he=O[0],ge=O[0],pe=O[0],me=O[0];break;case 4:he=O[0],ge=O[1],pe=O[2],me=O[3];break}if(F.kind===c.ImageKind.GRAYSCALE_1BPP){const Ae=le.byteLength,ye=new Uint32Array(ae.buffer,0,ae.byteLength>>2),xe=ye.length,Ce=se+7>>3;let we=4294967295,ve=c.FeatureTest.isLittleEndian?4278190080:255;for(me&&me[0]===255&&me[255]===0&&([we,ve]=[ve,we]),de=0;de<ne;de++){for(Q=de<X?w:$,fe=0,re=0;re<Q;re++){const Se=Ae-ue;let _e=0;const ke=Se>Ce?se:Se*8-7,Fe=ke&-8;let je=0,Le=0;for(;_e<Fe;_e+=8)Le=le[ue++],ye[fe++]=Le&128?we:ve,ye[fe++]=Le&64?we:ve,ye[fe++]=Le&32?we:ve,ye[fe++]=Le&16?we:ve,ye[fe++]=Le&8?we:ve,ye[fe++]=Le&4?we:ve,ye[fe++]=Le&2?we:ve,ye[fe++]=Le&1?we:ve;for(;_e<ke;_e++)je===0&&(Le=le[ue++],je=128),ye[fe++]=Le&je?we:ve,je>>=1}for(;fe<xe;)ye[fe++]=0;q.putImageData(oe,0,de*w)}}else if(F.kind===c.ImageKind.RGBA_32BPP){const Ae=!!(he||ge||pe);for(re=0,ce=se*w*4,de=0;de<X;de++){if(ae.set(le.subarray(ue,ue+ce)),ue+=ce,Ae)for(let ye=0;ye<ce;ye+=4)he&&(ae[ye+0]=he[ae[ye+0]]),ge&&(ae[ye+1]=ge[ae[ye+1]]),pe&&(ae[ye+2]=pe[ae[ye+2]]);q.putImageData(oe,0,re),re+=w}if(de<ne){if(ce=se*$*4,ae.set(le.subarray(ue,ue+ce)),Ae)for(let ye=0;ye<ce;ye+=4)he&&(ae[ye+0]=he[ae[ye+0]]),ge&&(ae[ye+1]=ge[ae[ye+1]]),pe&&(ae[ye+2]=pe[ae[ye+2]]);q.putImageData(oe,0,re)}}else if(F.kind===c.ImageKind.RGB_24BPP){const Ae=!!(he||ge||pe);for(Q=w,ce=se*Q,de=0;de<ne;de++){for(de>=X&&(Q=$,ce=se*Q),fe=0,re=ce;re--;)ae[fe++]=le[ue++],ae[fe++]=le[ue++],ae[fe++]=le[ue++],ae[fe++]=255;if(Ae)for(let ye=0;ye<fe;ye+=4)he&&(ae[ye+0]=he[ae[ye+0]]),ge&&(ae[ye+1]=ge[ae[ye+1]]),pe&&(ae[ye+2]=pe[ae[ye+2]]);q.putImageData(oe,0,de*w)}}else throw new Error(`bad image kind: ${F.kind}`)}function k(q,F){if(F.bitmap){q.drawImage(F.bitmap,0,0);return}const O=F.height,Z=F.width,se=O%w,$=(O-se)/w,X=se===0?$:$+1,ne=q.createImageData(Z,w);let oe=0;const ue=F.data,fe=ne.data;for(let le=0;le<X;le++){const ae=le<$?w:se;({srcPos:oe}=(0,f.applyMaskImageData)({src:ue,srcPos:oe,dest:fe,width:Z,height:ae})),q.putImageData(ne,0,le*w)}}function D(q,F){const O=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Z=0,se=O.length;Z<se;Z++){const $=O[Z];q[$]!==void 0&&(F[$]=q[$])}q.setLineDash!==void 0&&(F.setLineDash(q.getLineDash()),F.lineDashOffset=q.lineDashOffset)}function V(q,F){q.strokeStyle=q.fillStyle=F||"#000000",q.fillRule="nonzero",q.globalAlpha=1,q.lineWidth=1,q.lineCap="butt",q.lineJoin="miter",q.miterLimit=10,q.globalCompositeOperation="source-over",q.font="10px sans-serif",q.setLineDash!==void 0&&(q.setLineDash([]),q.lineDashOffset=0)}function R(q,F,O,Z){const se=q.length;for(let $=3;$<se;$+=4){const X=q[$];if(X===0)q[$-3]=F,q[$-2]=O,q[$-1]=Z;else if(X<255){const ne=255-X;q[$-3]=q[$-3]*X+F*ne>>8,q[$-2]=q[$-2]*X+O*ne>>8,q[$-1]=q[$-1]*X+Z*ne>>8}}}function U(q,F,O){const Z=q.length,se=1/255;for(let $=3;$<Z;$+=4){const X=O?O[q[$]]:q[$];F[$]=F[$]*X*se|0}}function te(q,F,O){const Z=q.length;for(let se=3;se<Z;se+=4){const $=q[se-3]*77+q[se-2]*152+q[se-1]*28;F[se]=O?F[se]*O[$>>8]>>8:F[se]*$>>16}}function B(q,F,O,Z,se,$,X,ne,oe,ue,fe){const le=!!$,ae=le?$[0]:0,de=le?$[1]:0,re=le?$[2]:0;let Q;se==="Luminosity"?Q=te:Q=U;const he=Math.min(Z,Math.ceil(1048576/O));for(let ge=0;ge<Z;ge+=he){const pe=Math.min(he,Z-ge),me=q.getImageData(ne-ue,ge+(oe-fe),O,pe),Ae=F.getImageData(ne,ge+oe,O,pe);le&&R(me.data,ae,de,re),Q(me.data,Ae.data,X),F.putImageData(Ae,ne,ge+oe)}}function j(q,F,O,Z){const se=Z[0],$=Z[1],X=Z[2]-se,ne=Z[3]-$;X===0||ne===0||(B(F.context,O,X,ne,F.subtype,F.backdrop,F.transferMap,se,$,F.offsetX,F.offsetY),q.save(),q.globalAlpha=1,q.globalCompositeOperation="source-over",q.setTransform(1,0,0,1,0,0),q.drawImage(O.canvas,0,0),q.restore())}function ie(q,F){const O=c.Util.singularValueDecompose2dScale(q);O[0]=Math.fround(O[0]),O[1]=Math.fround(O[1]);const Z=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return F!==void 0?F:O[0]<=Z||O[1]<=Z}const E=["butt","round","square"],L=["miter","round","bevel"],ee={},J={};class Y{constructor(F,O,Z,se,$,X,ne,oe){this.ctx=F,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=O,this.objs=Z,this.canvasFactory=se,this.imageLayer=$,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=X,this.cachedCanvases=new M(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ne,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=oe?.background||null,this.foregroundColor=oe?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(F,O=null){return typeof F=="string"?F.startsWith("g_")?this.commonObjs.get(F):this.objs.get(F):O}beginDrawing({transform:F,viewport:O,transparency:Z=!1,background:se=null}){const $=this.ctx.canvas.width,X=this.ctx.canvas.height,ne=se||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const oe=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ue=this.backgroundColor=this.ctx.fillStyle;let fe=!0,le=ne;if(this.ctx.fillStyle=ne,le=this.ctx.fillStyle,fe=typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le),oe==="#000000"&&ue==="#ffffff"||oe===ue||!fe)this.foregroundColor=this.backgroundColor=null;else{const[ae,de,re]=(0,a.getRGB)(le),Q=he=>(he/=255,he<=.03928?he/12.92:((he+.055)/1.055)**2.4),ce=Math.round(.2126*Q(ae)+.7152*Q(de)+.0722*Q(re));this.selectColor=(he,ge,pe)=>{const me=.2126*Q(he)+.7152*Q(ge)+.0722*Q(pe);return Math.round(me)===ce?ue:oe}}}if(this.ctx.fillStyle=this.backgroundColor||ne,this.ctx.fillRect(0,0,$,X),this.ctx.restore(),Z){const oe=this.cachedCanvases.getCanvas("transparent",$,X);this.compositeCtx=this.ctx,this.transparentCanvas=oe.canvas,this.ctx=oe.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),V(this.ctx,this.foregroundColor),F&&(this.ctx.transform(...F),this.outputScaleX=F[0],this.outputScaleY=F[0]),this.ctx.transform(...O.transform),this.viewportScale=O.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx),this.imageLayer&&((0,a.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(F,O,Z,se){const $=F.argsArray,X=F.fnArray;let ne=O||0;const oe=$.length;if(oe===ne)return ne;const ue=oe-ne>b&&typeof Z=="function",fe=ue?Date.now()+t:0;let le=0;const ae=this.commonObjs,de=this.objs;let re;for(;;){if(se!==void 0&&ne===se.nextBreakPoint)return se.breakIt(ne,Z),ne;if(re=X[ne],re!==c.OPS.dependency)this[re].apply(this,$[ne]);else for(const Q of $[ne]){const ce=Q.startsWith("g_")?ae:de;if(!ce.has(Q))return ce.get(Q,Z),ne}if(ne++,ne===oe)return ne;if(ue&&++le>b){if(Date.now()>fe)return Z(),ne;le=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const F of this._cachedBitmapsMap.values()){for(const O of F.values())typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement&&(O.width=O.height=0);F.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(F,O){const Z=F.width,se=F.height;let $=Math.max(Math.hypot(O[0],O[1]),1),X=Math.max(Math.hypot(O[2],O[3]),1),ne=Z,oe=se,ue="prescale1",fe,le;for(;$>2&&ne>1||X>2&&oe>1;){let ae=ne,de=oe;$>2&&ne>1&&(ae=Math.ceil(ne/2),$/=ne/ae),X>2&&oe>1&&(de=Math.ceil(oe/2),X/=oe/de),fe=this.cachedCanvases.getCanvas(ue,ae,de),le=fe.context,le.clearRect(0,0,ae,de),le.drawImage(F,0,0,ne,oe,0,0,ae,de),F=fe.canvas,ne=ae,oe=de,ue=ue==="prescale1"?"prescale2":"prescale1"}return{img:F,paintWidth:ne,paintHeight:oe}}_createMaskCanvas(F){const O=this.ctx,{width:Z,height:se}=F,$=this.current.fillColor,X=this.current.patternFill,ne=(0,a.getCurrentTransform)(O);let oe,ue,fe,le;if((F.bitmap||F.data)&&F.count>1){const xe=F.bitmap||F.data.buffer,Ce=ne.slice(0,4);ue=JSON.stringify(X?Ce:[Ce,$]),oe=this._cachedBitmapsMap.get(xe),oe||(oe=new Map,this._cachedBitmapsMap.set(xe,oe));const we=oe.get(ue);if(we&&!X){const ve=Math.round(Math.min(ne[0],ne[2])+ne[4]),Se=Math.round(Math.min(ne[1],ne[3])+ne[5]);return{canvas:we,offsetX:ve,offsetY:Se}}fe=we}fe||(le=this.cachedCanvases.getCanvas("maskCanvas",Z,se),k(le.context,F));let ae=c.Util.transform(ne,[1/Z,0,0,-1/se,0,0]);ae=c.Util.transform(ae,[1,0,0,1,0,-se]);const de=c.Util.applyTransform([0,0],ae),re=c.Util.applyTransform([Z,se],ae),Q=c.Util.normalizeRect([de[0],de[1],re[0],re[1]]),ce=Math.round(Q[2]-Q[0])||1,he=Math.round(Q[3]-Q[1])||1,ge=this.cachedCanvases.getCanvas("fillCanvas",ce,he),pe=ge.context,me=Math.min(de[0],re[0]),Ae=Math.min(de[1],re[1]);pe.translate(-me,-Ae),pe.transform(...ae),fe||(fe=this._scaleImage(le.canvas,(0,a.getCurrentTransformInverse)(pe)),fe=fe.img,oe&&X&&oe.set(ue,fe)),pe.imageSmoothingEnabled=ie((0,a.getCurrentTransform)(pe),F.interpolate),y(pe,fe,0,0,fe.width,fe.height,0,0,Z,se),pe.globalCompositeOperation="source-in";const ye=c.Util.transform((0,a.getCurrentTransformInverse)(pe),[1,0,0,1,-me,-Ae]);return pe.fillStyle=X?$.getPattern(O,this,ye,o.PathType.FILL):$,pe.fillRect(0,0,Z,se),oe&&!X&&(this.cachedCanvases.delete("fillCanvas"),oe.set(ue,ge.canvas)),{canvas:ge.canvas,offsetX:Math.round(me),offsetY:Math.round(Ae)}}setLineWidth(F){F!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=F,this.ctx.lineWidth=F}setLineCap(F){this.ctx.lineCap=E[F]}setLineJoin(F){this.ctx.lineJoin=L[F]}setMiterLimit(F){this.ctx.miterLimit=F}setDash(F,O){const Z=this.ctx;Z.setLineDash!==void 0&&(Z.setLineDash(F),Z.lineDashOffset=O)}setRenderingIntent(F){}setFlatness(F){}setGState(F){for(let O=0,Z=F.length;O<Z;O++){const se=F[O],$=se[0],X=se[1];switch($){case"LW":this.setLineWidth(X);break;case"LC":this.setLineCap(X);break;case"LJ":this.setLineJoin(X);break;case"ML":this.setMiterLimit(X);break;case"D":this.setDash(X[0],X[1]);break;case"RI":this.setRenderingIntent(X);break;case"FL":this.setFlatness(X);break;case"Font":this.setFont(X[0],X[1]);break;case"CA":this.current.strokeAlpha=se[1];break;case"ca":this.current.fillAlpha=se[1],this.ctx.globalAlpha=se[1];break;case"BM":this.ctx.globalCompositeOperation=X;break;case"SMask":this.current.activeSMask=X?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=X}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const F=this.inSMaskMode;this.current.activeSMask&&!F?this.beginSMaskMode():!this.current.activeSMask&&F&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const F=this.ctx.canvas.width,O=this.ctx.canvas.height,Z="smaskGroupAt"+this.groupLevel,se=this.cachedCanvases.getCanvas(Z,F,O);this.suspendedCtx=this.ctx,this.ctx=se.context;const $=this.ctx;$.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),D(this.suspendedCtx,$),v($,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),D(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(F){if(!this.current.activeSMask)return;F?(F[0]=Math.floor(F[0]),F[1]=Math.floor(F[1]),F[2]=Math.ceil(F[2]),F[3]=Math.ceil(F[3])):F=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const O=this.current.activeSMask,Z=this.suspendedCtx;j(Z,O,this.ctx,F),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(D(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const F=this.current;this.stateStack.push(F),this.current=F.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),D(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(F,O,Z,se,$,X){this.ctx.transform(F,O,Z,se,$,X),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(F,O,Z){const se=this.ctx,$=this.current;let X=$.x,ne=$.y,oe,ue;const fe=(0,a.getCurrentTransform)(se),le=fe[0]===0&&fe[3]===0||fe[1]===0&&fe[2]===0,ae=le?Z.slice(0):null;for(let de=0,re=0,Q=F.length;de<Q;de++)switch(F[de]|0){case c.OPS.rectangle:X=O[re++],ne=O[re++];const ce=O[re++],he=O[re++],ge=X+ce,pe=ne+he;se.moveTo(X,ne),ce===0||he===0?se.lineTo(ge,pe):(se.lineTo(ge,ne),se.lineTo(ge,pe),se.lineTo(X,pe)),le||$.updateRectMinMax(fe,[X,ne,ge,pe]),se.closePath();break;case c.OPS.moveTo:X=O[re++],ne=O[re++],se.moveTo(X,ne),le||$.updatePathMinMax(fe,X,ne);break;case c.OPS.lineTo:X=O[re++],ne=O[re++],se.lineTo(X,ne),le||$.updatePathMinMax(fe,X,ne);break;case c.OPS.curveTo:oe=X,ue=ne,X=O[re+4],ne=O[re+5],se.bezierCurveTo(O[re],O[re+1],O[re+2],O[re+3],X,ne),$.updateCurvePathMinMax(fe,oe,ue,O[re],O[re+1],O[re+2],O[re+3],X,ne,ae),re+=6;break;case c.OPS.curveTo2:oe=X,ue=ne,se.bezierCurveTo(X,ne,O[re],O[re+1],O[re+2],O[re+3]),$.updateCurvePathMinMax(fe,oe,ue,X,ne,O[re],O[re+1],O[re+2],O[re+3],ae),X=O[re+2],ne=O[re+3],re+=4;break;case c.OPS.curveTo3:oe=X,ue=ne,X=O[re+2],ne=O[re+3],se.bezierCurveTo(O[re],O[re+1],X,ne,X,ne),$.updateCurvePathMinMax(fe,oe,ue,O[re],O[re+1],X,ne,X,ne,ae),re+=4;break;case c.OPS.closePath:se.closePath();break}le&&$.updateScalingPathMinMax(fe,ae),$.setCurrentPoint(X,ne)}closePath(){this.ctx.closePath()}stroke(F){F=typeof F<"u"?F:!0;const O=this.ctx,Z=this.current.strokeColor;O.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Z=="object"&&Z?.getPattern?(O.save(),O.strokeStyle=Z.getPattern(O,this,(0,a.getCurrentTransformInverse)(O),o.PathType.STROKE),this.rescaleAndStroke(!1),O.restore()):this.rescaleAndStroke(!0)),F&&this.consumePath(this.current.getClippedPathBoundingBox()),O.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(F){F=typeof F<"u"?F:!0;const O=this.ctx,Z=this.current.fillColor,se=this.current.patternFill;let $=!1;se&&(O.save(),O.fillStyle=Z.getPattern(O,this,(0,a.getCurrentTransformInverse)(O),o.PathType.FILL),$=!0);const X=this.current.getClippedPathBoundingBox();this.contentVisible&&X!==null&&(this.pendingEOFill?(O.fill("evenodd"),this.pendingEOFill=!1):O.fill()),$&&O.restore(),F&&this.consumePath(X)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ee}eoClip(){this.pendingClip=J}beginText(){this.current.textMatrix=c.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const F=this.pendingTextPaths,O=this.ctx;if(F===void 0){O.beginPath();return}O.save(),O.beginPath();for(const Z of F)O.setTransform(...Z.transform),O.translate(Z.x,Z.y),Z.addToPath(O,Z.fontSize);O.restore(),O.clip(),O.beginPath(),delete this.pendingTextPaths}setCharSpacing(F){this.current.charSpacing=F}setWordSpacing(F){this.current.wordSpacing=F}setHScale(F){this.current.textHScale=F/100}setLeading(F){this.current.leading=-F}setFont(F,O){const Z=this.commonObjs.get(F),se=this.current;if(!Z)throw new Error(`Can't find font for ${F}`);if(se.fontMatrix=Z.fontMatrix||c.FONT_IDENTITY_MATRIX,(se.fontMatrix[0]===0||se.fontMatrix[3]===0)&&(0,c.warn)("Invalid font matrix for font "+F),O<0?(O=-O,se.fontDirection=-1):se.fontDirection=1,this.current.font=Z,this.current.fontSize=O,Z.isType3Font)return;const $=Z.loadedName||"sans-serif";let X="normal";Z.black?X="900":Z.bold&&(X="bold");const ne=Z.italic?"italic":"normal",oe=`"${$}", ${Z.fallbackName}`;let ue=O;O<g?ue=g:O>m&&(ue=m),this.current.fontSizeScale=O/ue,this.ctx.font=`${ne} ${X} ${ue}px ${oe}`}setTextRenderingMode(F){this.current.textRenderingMode=F}setTextRise(F){this.current.textRise=F}moveText(F,O){this.current.x=this.current.lineX+=F,this.current.y=this.current.lineY+=O}setLeadingMoveText(F,O){this.setLeading(-O),this.moveText(F,O)}setTextMatrix(F,O,Z,se,$,X){this.current.textMatrix=[F,O,Z,se,$,X],this.current.textMatrixScale=Math.hypot(F,O),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(F,O,Z,se){const $=this.ctx,X=this.current,ne=X.font,oe=X.textRenderingMode,ue=X.fontSize/X.fontSizeScale,fe=oe&c.TextRenderingMode.FILL_STROKE_MASK,le=!!(oe&c.TextRenderingMode.ADD_TO_PATH_FLAG),ae=X.patternFill&&!ne.missingFile;let de;(ne.disableFontFace||le||ae)&&(de=ne.getPathGenerator(this.commonObjs,F)),ne.disableFontFace||ae?($.save(),$.translate(O,Z),$.beginPath(),de($,ue),se&&$.setTransform(...se),(fe===c.TextRenderingMode.FILL||fe===c.TextRenderingMode.FILL_STROKE)&&$.fill(),(fe===c.TextRenderingMode.STROKE||fe===c.TextRenderingMode.FILL_STROKE)&&$.stroke(),$.restore()):((fe===c.TextRenderingMode.FILL||fe===c.TextRenderingMode.FILL_STROKE)&&$.fillText(F,O,Z),(fe===c.TextRenderingMode.STROKE||fe===c.TextRenderingMode.FILL_STROKE)&&$.strokeText(F,O,Z)),le&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)($),x:O,y:Z,fontSize:ue,addToPath:de})}get isFontSubpixelAAEnabled(){const{context:F}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);F.scale(1.5,1),F.fillText("I",0,10);const O=F.getImageData(0,0,10,10).data;let Z=!1;for(let se=3;se<O.length;se+=4)if(O[se]>0&&O[se]<255){Z=!0;break}return(0,c.shadow)(this,"isFontSubpixelAAEnabled",Z)}showText(F){const O=this.current,Z=O.font;if(Z.isType3Font)return this.showType3Text(F);const se=O.fontSize;if(se===0)return;const $=this.ctx,X=O.fontSizeScale,ne=O.charSpacing,oe=O.wordSpacing,ue=O.fontDirection,fe=O.textHScale*ue,le=F.length,ae=Z.vertical,de=ae?1:-1,re=Z.defaultVMetrics,Q=se*O.fontMatrix[0],ce=O.textRenderingMode===c.TextRenderingMode.FILL&&!Z.disableFontFace&&!O.patternFill;$.save(),$.transform(...O.textMatrix),$.translate(O.x,O.y+O.textRise),ue>0?$.scale(fe,-1):$.scale(fe,1);let he;if(O.patternFill){$.save();const ye=O.fillColor.getPattern($,this,(0,a.getCurrentTransformInverse)($),o.PathType.FILL);he=(0,a.getCurrentTransform)($),$.restore(),$.fillStyle=ye}let ge=O.lineWidth;const pe=O.textMatrixScale;if(pe===0||ge===0){const ye=O.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;(ye===c.TextRenderingMode.STROKE||ye===c.TextRenderingMode.FILL_STROKE)&&(ge=this.getSinglePixelWidth())}else ge/=pe;X!==1&&($.scale(X,X),ge/=X),$.lineWidth=ge;let me=0,Ae;for(Ae=0;Ae<le;++Ae){const ye=F[Ae];if(typeof ye=="number"){me+=de*ye*se/1e3;continue}let xe=!1;const Ce=(ye.isSpace?oe:0)+ne,we=ye.fontChar,ve=ye.accent;let Se,_e,ke=ye.width;if(ae){const je=ye.vmetric||re,Le=-(ye.vmetric?je[1]:ke*.5)*Q,ze=je[2]*Q;ke=je?-je[0]:ke,Se=Le/X,_e=(me+ze)/X}else Se=me/X,_e=0;if(Z.remeasure&&ke>0){const je=$.measureText(we).width*1e3/se*X;if(ke<je&&this.isFontSubpixelAAEnabled){const Le=ke/je;xe=!0,$.save(),$.scale(Le,1),Se/=Le}else ke!==je&&(Se+=(ke-je)/2e3*se/X)}if(this.contentVisible&&(ye.isInFont||Z.missingFile)){if(ce&&!ve)$.fillText(we,Se,_e);else if(this.paintChar(we,Se,_e,he),ve){const je=Se+se*ve.offset.x/X,Le=_e-se*ve.offset.y/X;this.paintChar(ve.fontChar,je,Le,he)}}let Fe;ae?Fe=ke*Q-Ce*ue:Fe=ke*Q+Ce*ue,me+=Fe,xe&&$.restore()}ae?O.y-=me:O.x+=me*fe,$.restore(),this.compose()}showType3Text(F){const O=this.ctx,Z=this.current,se=Z.font,$=Z.fontSize,X=Z.fontDirection,ne=se.vertical?1:-1,oe=Z.charSpacing,ue=Z.wordSpacing,fe=Z.textHScale*X,le=Z.fontMatrix||c.FONT_IDENTITY_MATRIX,ae=F.length,de=Z.textRenderingMode===c.TextRenderingMode.INVISIBLE;let re,Q,ce,he;if(!(de||$===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,O.save(),O.transform(...Z.textMatrix),O.translate(Z.x,Z.y),O.scale(fe,X),re=0;re<ae;++re){if(Q=F[re],typeof Q=="number"){he=ne*Q*$/1e3,this.ctx.translate(he,0),Z.x+=he*fe;continue}const ge=(Q.isSpace?ue:0)+oe,pe=se.charProcOperatorList[Q.operatorListId];if(!pe){(0,c.warn)(`Type3 character "${Q.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Q,this.save(),O.scale($,$),O.transform(...le),this.executeOperatorList(pe),this.restore()),ce=c.Util.applyTransform([Q.width,0],le)[0]*$+ge,O.translate(ce,0),Z.x+=ce*fe}O.restore(),this.processingType3=null}}setCharWidth(F,O){}setCharWidthAndBounds(F,O,Z,se,$,X){this.ctx.rect(Z,se,$-Z,X-se),this.ctx.clip(),this.endPath()}getColorN_Pattern(F){let O;if(F[0]==="TilingPattern"){const Z=F[1],se=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),$={createCanvasGraphics:X=>new Y(X,this.commonObjs,this.objs,this.canvasFactory)};O=new o.TilingPattern(F,Z,this.ctx,$,se)}else O=this._getPattern(F[1],F[2]);return O}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(F,O,Z){const se=this.selectColor?.(F,O,Z)||c.Util.makeHexColor(F,O,Z);this.ctx.strokeStyle=se,this.current.strokeColor=se}setFillRGBColor(F,O,Z){const se=this.selectColor?.(F,O,Z)||c.Util.makeHexColor(F,O,Z);this.ctx.fillStyle=se,this.current.fillColor=se,this.current.patternFill=!1}_getPattern(F,O=null){let Z;return this.cachedPatterns.has(F)?Z=this.cachedPatterns.get(F):(Z=(0,o.getShadingPattern)(this.objs.get(F)),this.cachedPatterns.set(F,Z)),O&&(Z.matrix=O),Z}shadingFill(F){if(!this.contentVisible)return;const O=this.ctx;this.save();const Z=this._getPattern(F);O.fillStyle=Z.getPattern(O,this,(0,a.getCurrentTransformInverse)(O),o.PathType.SHADING);const se=(0,a.getCurrentTransformInverse)(O);if(se){const $=O.canvas,X=$.width,ne=$.height,oe=c.Util.applyTransform([0,0],se),ue=c.Util.applyTransform([0,ne],se),fe=c.Util.applyTransform([X,0],se),le=c.Util.applyTransform([X,ne],se),ae=Math.min(oe[0],ue[0],fe[0],le[0]),de=Math.min(oe[1],ue[1],fe[1],le[1]),re=Math.max(oe[0],ue[0],fe[0],le[0]),Q=Math.max(oe[1],ue[1],fe[1],le[1]);this.ctx.fillRect(ae,de,re-ae,Q-de)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,c.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,c.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(F,O){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(F)&&F.length===6&&this.transform(...F),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),O)){const Z=O[2]-O[0],se=O[3]-O[1];this.ctx.rect(O[0],O[1],Z,se),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),O),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(F){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const O=this.ctx;F.isolated||(0,c.info)("TODO: Support non-isolated groups."),F.knockout&&(0,c.warn)("Knockout groups not supported.");const Z=(0,a.getCurrentTransform)(O);if(F.matrix&&O.transform(...F.matrix),!F.bbox)throw new Error("Bounding box is required.");let se=c.Util.getAxialAlignedBoundingBox(F.bbox,(0,a.getCurrentTransform)(O));const $=[0,0,O.canvas.width,O.canvas.height];se=c.Util.intersect(se,$)||[0,0,0,0];const X=Math.floor(se[0]),ne=Math.floor(se[1]);let oe=Math.max(Math.ceil(se[2])-X,1),ue=Math.max(Math.ceil(se[3])-ne,1),fe=1,le=1;oe>p&&(fe=oe/p,oe=p),ue>p&&(le=ue/p,ue=p),this.current.startNewPathAndClipBox([0,0,oe,ue]);let ae="groupAt"+this.groupLevel;F.smask&&(ae+="_smask_"+this.smaskCounter++%2);const de=this.cachedCanvases.getCanvas(ae,oe,ue),re=de.context;re.scale(1/fe,1/le),re.translate(-X,-ne),re.transform(...Z),F.smask?this.smaskStack.push({canvas:de.canvas,context:re,offsetX:X,offsetY:ne,scaleX:fe,scaleY:le,subtype:F.smask.subtype,backdrop:F.smask.backdrop,transferMap:F.smask.transferMap||null,startTransformInverse:null}):(O.setTransform(1,0,0,1,0,0),O.translate(X,ne),O.scale(fe,le),O.save()),D(O,re),this.ctx=re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(O),this.groupLevel++}endGroup(F){if(!this.contentVisible)return;this.groupLevel--;const O=this.ctx,Z=this.groupStack.pop();if(this.ctx=Z,this.ctx.imageSmoothingEnabled=!1,F.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const se=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...se);const $=c.Util.getAxialAlignedBoundingBox([0,0,O.canvas.width,O.canvas.height],se);this.ctx.drawImage(O.canvas,0,0),this.ctx.restore(),this.compose($)}}beginAnnotation(F,O,Z,se,$){if(this.#e(),V(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(O)&&O.length===4){const X=O[2]-O[0],ne=O[3]-O[1];if($&&this.annotationCanvasMap){Z=Z.slice(),Z[4]-=O[0],Z[5]-=O[1],O=O.slice(),O[0]=O[1]=0,O[2]=X,O[3]=ne;const[oe,ue]=c.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:fe}=this,le=Math.ceil(X*this.outputScaleX*fe),ae=Math.ceil(ne*this.outputScaleY*fe);this.annotationCanvas=this.canvasFactory.create(le,ae);const{canvas:de,context:re}=this.annotationCanvas;this.annotationCanvasMap.set(F,de),this.annotationCanvas.savedCtx=this.ctx,this.ctx=re,this.ctx.setTransform(oe,0,0,-ue,0,ne*ue),V(this.ctx,this.foregroundColor)}else V(this.ctx,this.foregroundColor),this.ctx.rect(O[0],O[1],X,ne),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Z),this.transform(...se)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(F){if(!this.contentVisible)return;const O=F.count;F=this.getObject(F.data,F),F.count=O;const Z=this.ctx,se=this.processingType3;if(se&&(se.compiled===void 0&&(se.compiled=I(F)),se.compiled)){se.compiled(Z);return}const $=this._createMaskCanvas(F),X=$.canvas;Z.save(),Z.setTransform(1,0,0,1,0,0),Z.drawImage(X,$.offsetX,$.offsetY),Z.restore(),this.compose()}paintImageMaskXObjectRepeat(F,O,Z=0,se=0,$,X){if(!this.contentVisible)return;F=this.getObject(F.data,F);const ne=this.ctx;ne.save();const oe=(0,a.getCurrentTransform)(ne);ne.transform(O,Z,se,$,0,0);const ue=this._createMaskCanvas(F);ne.setTransform(1,0,0,1,0,0);for(let fe=0,le=X.length;fe<le;fe+=2){const ae=c.Util.transform(oe,[O,Z,se,$,X[fe],X[fe+1]]),[de,re]=c.Util.applyTransform([0,0],ae);ne.drawImage(ue.canvas,de,re)}ne.restore(),this.compose()}paintImageMaskXObjectGroup(F){if(!this.contentVisible)return;const O=this.ctx,Z=this.current.fillColor,se=this.current.patternFill;for(const $ of F){const{data:X,width:ne,height:oe,transform:ue}=$,fe=this.cachedCanvases.getCanvas("maskCanvas",ne,oe),le=fe.context;le.save();const ae=this.getObject(X,$);k(le,ae),le.globalCompositeOperation="source-in",le.fillStyle=se?Z.getPattern(le,this,(0,a.getCurrentTransformInverse)(O),o.PathType.FILL):Z,le.fillRect(0,0,ne,oe),le.restore(),O.save(),O.transform(...ue),O.scale(1,-1),y(O,fe.canvas,0,0,ne,oe,0,-1,1,1),O.restore()}this.compose()}paintImageXObject(F){if(!this.contentVisible)return;const O=this.getObject(F);if(!O){(0,c.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(O)}paintImageXObjectRepeat(F,O,Z,se){if(!this.contentVisible)return;const $=this.getObject(F);if(!$){(0,c.warn)("Dependent image isn't ready yet");return}const X=$.width,ne=$.height,oe=[];for(let ue=0,fe=se.length;ue<fe;ue+=2)oe.push({transform:[O,0,0,Z,se[ue],se[ue+1]],x:0,y:0,w:X,h:ne});this.paintInlineImageXObjectGroup($,oe)}paintInlineImageXObject(F){if(!this.contentVisible)return;const O=F.width,Z=F.height,se=this.ctx;this.save(),se.scale(1/O,-1/Z);let $;if(typeof HTMLElement=="function"&&F instanceof HTMLElement||!F.data)$=F;else{const ue=this.cachedCanvases.getCanvas("inlineImage",O,Z),fe=ue.context;_(fe,F,this.current.transferMaps),$=ue.canvas}const X=this._scaleImage($,(0,a.getCurrentTransformInverse)(se));se.imageSmoothingEnabled=ie((0,a.getCurrentTransform)(se),F.interpolate);const[ne,oe]=y(se,X.img,0,0,X.paintWidth,X.paintHeight,0,-Z,O,Z);if(this.imageLayer){const[ue,fe]=c.Util.applyTransform([0,-Z],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:F,left:ue,top:fe,width:ne,height:oe})}this.compose(),this.restore()}paintInlineImageXObjectGroup(F,O){if(!this.contentVisible)return;const Z=this.ctx,se=F.width,$=F.height,X=this.cachedCanvases.getCanvas("inlineImage",se,$),ne=X.context;_(ne,F,this.current.transferMaps);for(const oe of O){if(Z.save(),Z.transform(...oe.transform),Z.scale(1,-1),y(Z,X.canvas,oe.x,oe.y,oe.w,oe.h,0,-1,1,1),this.imageLayer){const[ue,fe]=c.Util.applyTransform([oe.x,oe.y],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:F,left:ue,top:fe,width:se,height:$})}Z.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(F){}markPointProps(F,O){}beginMarkedContent(F){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(F,O){F==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(O)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(F){const O=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(F);const Z=this.ctx;this.pendingClip&&(O||(this.pendingClip===J?Z.clip("evenodd"):Z.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Z.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const F=(0,a.getCurrentTransform)(this.ctx);if(F[1]===0&&F[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(F[0]),Math.abs(F[3]));else{const O=Math.abs(F[0]*F[3]-F[2]*F[1]),Z=Math.hypot(F[0],F[2]),se=Math.hypot(F[1],F[3]);this._cachedGetSinglePixelWidth=Math.max(Z,se)/O}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:F}=this.current,O=(0,a.getCurrentTransform)(this.ctx);let Z,se;if(O[1]===0&&O[2]===0){const $=Math.abs(O[0]),X=Math.abs(O[3]);if(F===0)Z=1/$,se=1/X;else{const ne=$*F,oe=X*F;Z=ne<1?1/ne:1,se=oe<1?1/oe:1}}else{const $=Math.abs(O[0]*O[3]-O[2]*O[1]),X=Math.hypot(O[0],O[1]),ne=Math.hypot(O[2],O[3]);if(F===0)Z=ne/$,se=X/$;else{const oe=F*$;Z=ne>oe?ne/oe:1,se=X>oe?X/oe:1}}this._cachedScaleForStroking=[Z,se]}return this._cachedScaleForStroking}rescaleAndStroke(F){const{ctx:O}=this,{lineWidth:Z}=this.current,[se,$]=this.getScaleForStroking();if(O.lineWidth=Z||1,se===1&&$===1){O.stroke();return}let X,ne,oe;F&&(X=(0,a.getCurrentTransform)(O),ne=O.getLineDash().slice(),oe=O.lineDashOffset),O.scale(se,$);const ue=Math.max(se,$);O.setLineDash(O.getLineDash().map(fe=>fe/ue)),O.lineDashOffset/=ue,O.stroke(),F&&(O.setTransform(...X),O.setLineDash(ne),O.lineDashOffset=oe)}isContentVisible(){for(let F=this.markedContentStack.length-1;F>=0;F--)if(!this.markedContentStack[F].visible)return!1;return!0}}e.CanvasGraphics=Y;for(const q in c.OPS)Y.prototype[q]!==void 0&&(Y.prototype[c.OPS[q]]=Y.prototype[q])},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=w;var a=r(1),c=r(8),o=r(3);const f={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=f;function s(y,I){if(!I||o.isNodeJS)return;const P=I[2]-I[0],_=I[3]-I[1],k=new Path2D;k.rect(I[0],I[1],P,_),y.clip(k)}class g{constructor(){this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class m extends g{constructor(I){super(),this._type=I[1],this._bbox=I[2],this._colorStops=I[3],this._p0=I[4],this._p1=I[5],this._r0=I[6],this._r1=I[7],this.matrix=null}_createGradient(I){let P;this._type==="axial"?P=I.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(P=I.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _ of this._colorStops)P.addColorStop(_[0],_[1]);return P}getPattern(I,P,_,k){let D;if(k===f.STROKE||k===f.FILL){const V=P.current.getClippedPathBoundingBox(k,(0,c.getCurrentTransform)(I))||[0,0,0,0],R=Math.ceil(V[2]-V[0])||1,U=Math.ceil(V[3]-V[1])||1,te=P.cachedCanvases.getCanvas("pattern",R,U,!0),B=te.context;B.clearRect(0,0,B.canvas.width,B.canvas.height),B.beginPath(),B.rect(0,0,B.canvas.width,B.canvas.height),B.translate(-V[0],-V[1]),_=a.Util.transform(_,[1,0,0,1,V[0],V[1]]),B.transform(...P.baseTransform),this.matrix&&B.transform(...this.matrix),s(B,this._bbox),B.fillStyle=this._createGradient(B),B.fill(),D=I.createPattern(te.canvas,"no-repeat");const j=new DOMMatrix(_);try{D.setTransform(j)}catch(ie){(0,a.warn)(`RadialAxialShadingPattern.getPattern: "${ie?.message}".`)}}else s(I,this._bbox),D=this._createGradient(I);return D}}function p(y,I,P,_,k,D,V,R){const U=I.coords,te=I.colors,B=y.data,j=y.width*4;let ie;U[P+1]>U[_+1]&&(ie=P,P=_,_=ie,ie=D,D=V,V=ie),U[_+1]>U[k+1]&&(ie=_,_=k,k=ie,ie=V,V=R,R=ie),U[P+1]>U[_+1]&&(ie=P,P=_,_=ie,ie=D,D=V,V=ie);const E=(U[P]+I.offsetX)*I.scaleX,L=(U[P+1]+I.offsetY)*I.scaleY,ee=(U[_]+I.offsetX)*I.scaleX,J=(U[_+1]+I.offsetY)*I.scaleY,Y=(U[k]+I.offsetX)*I.scaleX,q=(U[k+1]+I.offsetY)*I.scaleY;if(L>=q)return;const F=te[D],O=te[D+1],Z=te[D+2],se=te[V],$=te[V+1],X=te[V+2],ne=te[R],oe=te[R+1],ue=te[R+2],fe=Math.round(L),le=Math.round(q);let ae,de,re,Q,ce,he,ge,pe;for(let me=fe;me<=le;me++){if(me<J){let we;me<L?we=0:we=(L-me)/(L-J),ae=E-(E-ee)*we,de=F-(F-se)*we,re=O-(O-$)*we,Q=Z-(Z-X)*we}else{let we;me>q?we=1:J===q?we=0:we=(J-me)/(J-q),ae=ee-(ee-Y)*we,de=se-(se-ne)*we,re=$-($-oe)*we,Q=X-(X-ue)*we}let Ae;me<L?Ae=0:me>q?Ae=1:Ae=(L-me)/(L-q),ce=E-(E-Y)*Ae,he=F-(F-ne)*Ae,ge=O-(O-oe)*Ae,pe=Z-(Z-ue)*Ae;const ye=Math.round(Math.min(ae,ce)),xe=Math.round(Math.max(ae,ce));let Ce=j*me+ye*4;for(let we=ye;we<=xe;we++)Ae=(ae-we)/(ae-ce),Ae<0?Ae=0:Ae>1&&(Ae=1),B[Ce++]=de-(de-he)*Ae|0,B[Ce++]=re-(re-ge)*Ae|0,B[Ce++]=Q-(Q-pe)*Ae|0,B[Ce++]=255}}function t(y,I,P){const _=I.coords,k=I.colors;let D,V;switch(I.type){case"lattice":const R=I.verticesPerRow,U=Math.floor(_.length/R)-1,te=R-1;for(D=0;D<U;D++){let B=D*R;for(let j=0;j<te;j++,B++)p(y,P,_[B],_[B+1],_[B+R],k[B],k[B+1],k[B+R]),p(y,P,_[B+R+1],_[B+1],_[B+R],k[B+R+1],k[B+1],k[B+R])}break;case"triangles":for(D=0,V=_.length;D<V;D+=3)p(y,P,_[D],_[D+1],_[D+2],k[D],k[D+1],k[D+2]);break;default:throw new Error("illegal figure")}}class b extends g{constructor(I){super(),this._coords=I[2],this._colors=I[3],this._figures=I[4],this._bounds=I[5],this._bbox=I[7],this._background=I[8],this.matrix=null}_createMeshCanvas(I,P,_){const R=Math.floor(this._bounds[0]),U=Math.floor(this._bounds[1]),te=Math.ceil(this._bounds[2])-R,B=Math.ceil(this._bounds[3])-U,j=Math.min(Math.ceil(Math.abs(te*I[0]*1.1)),3e3),ie=Math.min(Math.ceil(Math.abs(B*I[1]*1.1)),3e3),E=te/j,L=B/ie,ee={coords:this._coords,colors:this._colors,offsetX:-R,offsetY:-U,scaleX:1/E,scaleY:1/L},J=j+2*2,Y=ie+2*2,q=_.getCanvas("mesh",J,Y,!1),F=q.context,O=F.createImageData(j,ie);if(P){const se=O.data;for(let $=0,X=se.length;$<X;$+=4)se[$]=P[0],se[$+1]=P[1],se[$+2]=P[2],se[$+3]=255}for(const se of this._figures)t(O,se,ee);return F.putImageData(O,2,2),{canvas:q.canvas,offsetX:R-2*E,offsetY:U-2*L,scaleX:E,scaleY:L}}getPattern(I,P,_,k){s(I,this._bbox);let D;if(k===f.SHADING)D=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(I));else if(D=a.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const R=a.Util.singularValueDecompose2dScale(this.matrix);D=[D[0]*R[0],D[1]*R[1]]}const V=this._createMeshCanvas(D,k===f.SHADING?null:this._background,P.cachedCanvases);return k!==f.SHADING&&(I.setTransform(...P.baseTransform),this.matrix&&I.transform(...this.matrix)),I.translate(V.offsetX,V.offsetY),I.scale(V.scaleX,V.scaleY),I.createPattern(V.canvas,"no-repeat")}}class C extends g{getPattern(){return"hotpink"}}function w(y){switch(y[0]){case"RadialAxial":return new m(y);case"Mesh":return new b(y);case"Dummy":return new C}throw new Error(`Unknown IR type: ${y[0]}`)}const v={COLORED:1,UNCOLORED:2};class M{static get MAX_PATTERN_SIZE(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(I,P,_,k,D){this.operatorList=I[2],this.matrix=I[3]||[1,0,0,1,0,0],this.bbox=I[4],this.xstep=I[5],this.ystep=I[6],this.paintType=I[7],this.tilingType=I[8],this.color=P,this.ctx=_,this.canvasGraphicsFactory=k,this.baseTransform=D}createPatternCanvas(I){const P=this.operatorList,_=this.bbox,k=this.xstep,D=this.ystep,V=this.paintType,R=this.tilingType,U=this.color,te=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+R);const B=_[0],j=_[1],ie=_[2],E=_[3],L=a.Util.singularValueDecompose2dScale(this.matrix),ee=a.Util.singularValueDecompose2dScale(this.baseTransform),J=[L[0]*ee[0],L[1]*ee[1]],Y=this.getSizeAndScale(k,this.ctx.canvas.width,J[0]),q=this.getSizeAndScale(D,this.ctx.canvas.height,J[1]),F=I.cachedCanvases.getCanvas("pattern",Y.size,q.size,!0),O=F.context,Z=te.createCanvasGraphics(O);Z.groupLevel=I.groupLevel,this.setFillAndStrokeStyleToContext(Z,V,U);let se=B,$=j,X=ie,ne=E;return B<0&&(se=0,X+=Math.abs(B)),j<0&&($=0,ne+=Math.abs(j)),O.translate(-(Y.scale*se),-(q.scale*$)),Z.transform(Y.scale,0,0,q.scale,0,0),O.save(),this.clipBbox(Z,se,$,X,ne),Z.baseTransform=(0,c.getCurrentTransform)(Z.ctx),Z.executeOperatorList(P),Z.endDrawing(),{canvas:F.canvas,scaleX:Y.scale,scaleY:q.scale,offsetX:se,offsetY:$}}getSizeAndScale(I,P,_){I=Math.abs(I);const k=Math.max(M.MAX_PATTERN_SIZE,P);let D=Math.ceil(I*_);return D>=k?D=k:_=D/I,{scale:_,size:D}}clipBbox(I,P,_,k,D){const V=k-P,R=D-_;I.ctx.rect(P,_,V,R),I.current.updateRectMinMax((0,c.getCurrentTransform)(I.ctx),[P,_,k,D]),I.clip(),I.endPath()}setFillAndStrokeStyleToContext(I,P,_){const k=I.ctx,D=I.current;switch(P){case v.COLORED:const V=this.ctx;k.fillStyle=V.fillStyle,k.strokeStyle=V.strokeStyle,D.fillColor=V.fillStyle,D.strokeColor=V.strokeStyle;break;case v.UNCOLORED:const R=a.Util.makeHexColor(_[0],_[1],_[2]);k.fillStyle=R,k.strokeStyle=R,D.fillColor=R,D.strokeColor=R;break;default:throw new a.FormatError(`Unsupported paint type: ${P}`)}}getPattern(I,P,_,k){let D=_;k!==f.SHADING&&(D=a.Util.transform(D,P.baseTransform),this.matrix&&(D=a.Util.transform(D,this.matrix)));const V=this.createPatternCanvas(P);let R=new DOMMatrix(D);R=R.translate(V.offsetX,V.offsetY),R=R.scale(1/V.scaleX,1/V.scaleY);const U=I.createPattern(V.canvas,"repeat");try{U.setTransform(R)}catch(te){(0,a.warn)(`TilingPattern.getPattern: "${te?.message}".`)}return U}}e.TilingPattern=M},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=c;var a=r(1);function c({src:o,srcPos:f=0,dest:s,destPos:g=0,width:m,height:p,inverseDecode:t=!1}){const b=a.FeatureTest.isLittleEndian?4278190080:255,[C,w]=t?[0,b]:[b,0],v=m>>3,M=m&7,y=o.length;s=new Uint32Array(s.buffer);for(let I=0;I<p;I++){for(const _=f+v;f<_;f++){const k=f<y?o[f]:255;s[g++]=k&128?w:C,s[g++]=k&64?w:C,s[g++]=k&32?w:C,s[g++]=k&16?w:C,s[g++]=k&8?w:C,s[g++]=k&4?w:C,s[g++]=k&2?w:C,s[g++]=k&1?w:C}if(M===0)continue;const P=f<y?o[f++]:255;for(let _=0;_<M;_++)s[g++]=P&1<<7-_?w:C}return{srcPos:f,destPos:g}}},(A,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=r.workerPort===void 0?null:r.workerPort,r.workerSrc=r.workerSrc===void 0?"":r.workerSrc},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var a=r(1);const c={UNKNOWN:0,DATA:1,ERROR:2},o={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f(g){switch(g instanceof Error||typeof g=="object"&&g!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),g.name){case"AbortException":return new a.AbortException(g.message);case"MissingPDFException":return new a.MissingPDFException(g.message);case"PasswordException":return new a.PasswordException(g.message,g.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(g.message,g.status);case"UnknownErrorException":return new a.UnknownErrorException(g.message,g.details);default:return new a.UnknownErrorException(g.message,g.toString())}}class s{constructor(m,p,t){this.sourceName=m,this.targetName=p,this.comObj=t,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=b=>{const C=b.data;if(C.targetName!==this.sourceName)return;if(C.stream){this._processStreamMessage(C);return}if(C.callback){const v=C.callbackId,M=this.callbackCapabilities[v];if(!M)throw new Error(`Cannot resolve callback ${v}`);if(delete this.callbackCapabilities[v],C.callback===c.DATA)M.resolve(C.data);else if(C.callback===c.ERROR)M.reject(f(C.reason));else throw new Error("Unexpected callback case");return}const w=this.actionHandler[C.action];if(!w)throw new Error(`Unknown action from worker: ${C.action}`);if(C.callbackId){const v=this.sourceName,M=C.sourceName;new Promise(function(y){y(w(C.data))}).then(function(y){t.postMessage({sourceName:v,targetName:M,callback:c.DATA,callbackId:C.callbackId,data:y})},function(y){t.postMessage({sourceName:v,targetName:M,callback:c.ERROR,callbackId:C.callbackId,reason:f(y)})});return}if(C.streamId){this._createStreamSink(C);return}w(C.data)},t.addEventListener("message",this._onComObjOnMessage)}on(m,p){const t=this.actionHandler;if(t[m])throw new Error(`There is already an actionName called "${m}"`);t[m]=p}send(m,p,t){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,data:p},t)}sendWithPromise(m,p,t){const b=this.callbackId++,C=(0,a.createPromiseCapability)();this.callbackCapabilities[b]=C;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,callbackId:b,data:p},t)}catch(w){C.reject(w)}return C.promise}sendWithStream(m,p,t,b){const C=this.streamId++,w=this.sourceName,v=this.targetName,M=this.comObj;return new ReadableStream({start:y=>{const I=(0,a.createPromiseCapability)();return this.streamControllers[C]={controller:y,startCall:I,pullCall:null,cancelCall:null,isClosed:!1},M.postMessage({sourceName:w,targetName:v,action:m,streamId:C,data:p,desiredSize:y.desiredSize},b),I.promise},pull:y=>{const I=(0,a.createPromiseCapability)();return this.streamControllers[C].pullCall=I,M.postMessage({sourceName:w,targetName:v,stream:o.PULL,streamId:C,desiredSize:y.desiredSize}),I.promise},cancel:y=>{(0,a.assert)(y instanceof Error,"cancel must have a valid reason");const I=(0,a.createPromiseCapability)();return this.streamControllers[C].cancelCall=I,this.streamControllers[C].isClosed=!0,M.postMessage({sourceName:w,targetName:v,stream:o.CANCEL,streamId:C,reason:f(y)}),I.promise}},t)}_createStreamSink(m){const p=m.streamId,t=this.sourceName,b=m.sourceName,C=this.comObj,w=this,v=this.actionHandler[m.action],M={enqueue(y,I=1,P){if(this.isCancelled)return;const _=this.desiredSize;this.desiredSize-=I,_>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),C.postMessage({sourceName:t,targetName:b,stream:o.ENQUEUE,streamId:p,chunk:y},P)},close(){this.isCancelled||(this.isCancelled=!0,C.postMessage({sourceName:t,targetName:b,stream:o.CLOSE,streamId:p}),delete w.streamSinks[p])},error(y){(0,a.assert)(y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,C.postMessage({sourceName:t,targetName:b,stream:o.ERROR,streamId:p,reason:f(y)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:m.desiredSize,ready:null};M.sinkCapability.resolve(),M.ready=M.sinkCapability.promise,this.streamSinks[p]=M,new Promise(function(y){y(v(m.data,M))}).then(function(){C.postMessage({sourceName:t,targetName:b,stream:o.START_COMPLETE,streamId:p,success:!0})},function(y){C.postMessage({sourceName:t,targetName:b,stream:o.START_COMPLETE,streamId:p,reason:f(y)})})}_processStreamMessage(m){const p=m.streamId,t=this.sourceName,b=m.sourceName,C=this.comObj,w=this.streamControllers[p],v=this.streamSinks[p];switch(m.stream){case o.START_COMPLETE:m.success?w.startCall.resolve():w.startCall.reject(f(m.reason));break;case o.PULL_COMPLETE:m.success?w.pullCall.resolve():w.pullCall.reject(f(m.reason));break;case o.PULL:if(!v){C.postMessage({sourceName:t,targetName:b,stream:o.PULL_COMPLETE,streamId:p,success:!0});break}v.desiredSize<=0&&m.desiredSize>0&&v.sinkCapability.resolve(),v.desiredSize=m.desiredSize,new Promise(function(M){M(v.onPull&&v.onPull())}).then(function(){C.postMessage({sourceName:t,targetName:b,stream:o.PULL_COMPLETE,streamId:p,success:!0})},function(M){C.postMessage({sourceName:t,targetName:b,stream:o.PULL_COMPLETE,streamId:p,reason:f(M)})});break;case o.ENQUEUE:if((0,a.assert)(w,"enqueue should have stream controller"),w.isClosed)break;w.controller.enqueue(m.chunk);break;case o.CLOSE:if((0,a.assert)(w,"close should have stream controller"),w.isClosed)break;w.isClosed=!0,w.controller.close(),this._deleteStreamController(w,p);break;case o.ERROR:(0,a.assert)(w,"error should have stream controller"),w.controller.error(f(m.reason)),this._deleteStreamController(w,p);break;case o.CANCEL_COMPLETE:m.success?w.cancelCall.resolve():w.cancelCall.reject(f(m.reason)),this._deleteStreamController(w,p);break;case o.CANCEL:if(!v)break;new Promise(function(M){M(v.onCancel&&v.onCancel(f(m.reason)))}).then(function(){C.postMessage({sourceName:t,targetName:b,stream:o.CANCEL_COMPLETE,streamId:p,success:!0})},function(M){C.postMessage({sourceName:t,targetName:b,stream:o.CANCEL_COMPLETE,streamId:p,reason:f(M)})}),v.sinkCapability.reject(f(m.reason)),v.isCancelled=!0,delete this.streamSinks[p];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(m,p){await Promise.allSettled([m.startCall&&m.startCall.promise,m.pullCall&&m.pullCall.promise,m.cancelCall&&m.cancelCall.promise]),delete this.streamControllers[p]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=s},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var a=r(1);class c{#e;#t;constructor({parsedData:f,rawData:s}){this.#e=f,this.#t=s}getRaw(){return this.#t}get(f){return this.#e.get(f)??null}getAll(){return(0,a.objectFromMap)(this.#e)}has(f){return this.#e.has(f)}}e.Metadata=c},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var a=r(1);const c=Symbol("INTERNAL");class o{#e=!0;constructor(g,m){this.name=g,this.intent=m}get visible(){return this.#e}_setVisible(g,m){g!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),this.#e=m}}class f{#e=!0;#t=new Map;#r=null;#n=null;constructor(g){if(this.name=null,this.creator=null,g!==null){this.name=g.name,this.creator=g.creator,this.#n=g.order;for(const m of g.groups)this.#t.set(m.id,new o(m.name,m.intent));if(g.baseState==="OFF")for(const m of this.#t.values())m._setVisible(c,!1);for(const m of g.on)this.#t.get(m)._setVisible(c,!0);for(const m of g.off)this.#t.get(m)._setVisible(c,!1);this.#r=new Map;for(const[m,p]of this.#t)this.#r.set(m,p.visible)}}#s(g){const m=g.length;if(m<2)return!0;const p=g[0];for(let t=1;t<m;t++){const b=g[t];let C;if(Array.isArray(b))C=this.#s(b);else if(this.#t.has(b))C=this.#t.get(b).visible;else return(0,a.warn)(`Optional content group not found: ${b}`),!0;switch(p){case"And":if(!C)return!1;break;case"Or":if(C)return!0;break;case"Not":return!C;default:return!0}}return p==="And"}isVisible(g){if(this.#t.size===0)return!0;if(!g)return(0,a.warn)("Optional content group not defined."),!0;if(g.type==="OCG")return this.#t.has(g.id)?this.#t.get(g.id).visible:((0,a.warn)(`Optional content group not found: ${g.id}`),!0);if(g.type==="OCMD"){if(g.expression)return this.#s(g.expression);if(!g.policy||g.policy==="AnyOn"){for(const m of g.ids){if(!this.#t.has(m))return(0,a.warn)(`Optional content group not found: ${m}`),!0;if(this.#t.get(m).visible)return!0}return!1}else if(g.policy==="AllOn"){for(const m of g.ids){if(!this.#t.has(m))return(0,a.warn)(`Optional content group not found: ${m}`),!0;if(!this.#t.get(m).visible)return!1}return!0}else if(g.policy==="AnyOff"){for(const m of g.ids){if(!this.#t.has(m))return(0,a.warn)(`Optional content group not found: ${m}`),!0;if(!this.#t.get(m).visible)return!0}return!1}else if(g.policy==="AllOff"){for(const m of g.ids){if(!this.#t.has(m))return(0,a.warn)(`Optional content group not found: ${m}`),!0;if(this.#t.get(m).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${g.policy}.`),!0}return(0,a.warn)(`Unknown group type ${g.type}.`),!0}setVisibility(g,m=!0){if(!this.#t.has(g)){(0,a.warn)(`Optional content group not found: ${g}`);return}this.#t.get(g)._setVisible(c,!!m),this.#e=null}get hasInitialVisibility(){if(this.#e!==null)return this.#e;for(const[g,m]of this.#t){const p=this.#r.get(g);if(m.visible!==p)return this.#e=!1}return this.#e=!0}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,a.objectFromMap)(this.#t):null}getGroup(g){return this.#t.get(g)||null}}e.OptionalContentConfig=f},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var a=r(1),c=r(8);class o{constructor(m,p){(0,a.assert)(p,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=m.progressiveDone||!1,this._contentDispositionFilename=m.contentDispositionFilename||null;const t=m.initialData;if(t?.length>0){const b=new Uint8Array(t).buffer;this._queuedChunks.push(b)}this._pdfDataRangeTransport=p,this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._contentLength=m.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((b,C)=>{this._onReceiveData({begin:b,chunk:C})}),this._pdfDataRangeTransport.addProgressListener((b,C)=>{this._onProgress({loaded:b,total:C})}),this._pdfDataRangeTransport.addProgressiveReadListener(b=>{this._onReceiveData({chunk:b})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(m){const p=new Uint8Array(m.chunk).buffer;if(m.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(p):this._queuedChunks.push(p);else{const t=this._rangeReaders.some(function(b){return b._begin!==m.begin?!1:(b._enqueue(p),!0)});(0,a.assert)(t,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(m){if(m.total===void 0){const p=this._rangeReaders[0];p?.onProgress&&p.onProgress({loaded:m.loaded})}else{const p=this._fullRequestReader;p?.onProgress&&p.onProgress({loaded:m.loaded,total:m.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(m){const p=this._rangeReaders.indexOf(m);p>=0&&this._rangeReaders.splice(p,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const m=this._queuedChunks;return this._queuedChunks=null,new f(this,m,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(m,p){if(p<=this._progressiveDataLength)return null;const t=new s(this,m,p);return this._pdfDataRangeTransport.requestDataRange(m,p),this._rangeReaders.push(t),t}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const p of this._rangeReaders.slice(0))p.cancel(m);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=o;class f{constructor(m,p,t=!1,b=null){this._stream=m,this._done=t||!1,this._filename=(0,c.isPdfFile)(b)?b:null,this._queuedChunks=p||[],this._loaded=0;for(const C of this._queuedChunks)this._loaded+=C.byteLength;this._requests=[],this._headersReady=Promise.resolve(),m._fullRequestReader=this,this.onProgress=null}_enqueue(m){this._done||(this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunks.push(m),this._loaded+=m.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const m=(0,a.createPromiseCapability)();return this._requests.push(m),m.promise}cancel(m){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(m,p,t){this._stream=m,this._begin=p,this._end=t,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(m){if(!this._done){if(this._requests.length===0)this._queuedChunk=m;else{this._requests.shift().resolve({value:m,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};const m=(0,a.createPromiseCapability)();return this._requests.push(m),m.promise}cancel(m){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class r{static textContent(c){const o=[],f={items:o,styles:Object.create(null)};function s(g){if(!g)return;let m=null;const p=g.name;if(p==="#text")m=g.value;else if(r.shouldBuildText(p))g?.attributes?.textContent?m=g.attributes.textContent:g.value&&(m=g.value);else return;if(m!==null&&o.push({str:m}),!!g.children)for(const t of g.children)s(t)}return s(c),f}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}e.XfaText=r},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var a=r(9);const c=function(g){return new Promise((m,p)=>{require$$5.readFile(g,(b,C)=>{if(b||!C){p(new Error(b));return}m(new Uint8Array(C))})})};class o extends a.BaseCanvasFactory{_createCanvas(m,p){return require$$5.createCanvas(m,p)}}e.NodeCanvasFactory=o;class f extends a.BaseCMapReaderFactory{_fetchData(m,p){return c(m).then(t=>({cMapData:t,compressionType:p}))}}e.NodeCMapReaderFactory=f;class s extends a.BaseStandardFontDataFactory{_fetchData(m){return c(m)}}e.NodeStandardFontDataFactory=s},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var a=r(7),c=r(1),o=r(23),f=r(24);class s{#e;#t=!1;#r=this.pointerup.bind(this);#n=this.pointerdown.bind(this);#s=new Map;#d=!1;#o=!1;#i;static _initialized=!1;constructor(m){s._initialized||(s._initialized=!0,o.FreeTextEditor.initialize(m.l10n),f.InkEditor.initialize(m.l10n),m.uiManager.registerEditorTypes([o.FreeTextEditor,f.InkEditor])),this.#i=m.uiManager,this.annotationStorage=m.annotationStorage,this.pageIndex=m.pageIndex,this.div=m.div,this.#e=m.accessibilityManager,this.#i.addLayer(this)}updateToolbar(m){this.#i.updateToolbar(m)}updateMode(m=this.#i.getMode()){this.#a(),m===c.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#i.unselectAll()}addInkEditorIfNeeded(m){if(!m&&this.#i.getMode()!==c.AnnotationEditorType.INK)return;if(!m){for(const t of this.#s.values())if(t.isEmpty()){t.setInBackground();return}}this.#l({offsetX:0,offsetY:0}).setInBackground()}setEditingState(m){this.#i.setEditingState(m)}addCommands(m){this.#i.addCommands(m)}enable(){this.div.style.pointerEvents="auto";for(const m of this.#s.values())m.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const m of this.#s.values())m.disableEditing()}setActiveEditor(m){this.#i.getActive()!==m&&this.#i.setActiveEditor(m)}enableClick(){this.div.addEventListener("pointerdown",this.#n),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#n),this.div.removeEventListener("pointerup",this.#r)}attach(m){this.#s.set(m.id,m)}detach(m){this.#s.delete(m.id),this.#e?.removePointerInTextLayer(m.contentDiv)}remove(m){this.#i.removeEditor(m),this.detach(m),this.annotationStorage.remove(m.id),m.div.style.display="none",setTimeout(()=>{m.div.style.display="",m.div.remove(),m.isAttachedToDOM=!1,document.activeElement===document.body&&this.#i.focusMainContainer()},0),this.#o||this.addInkEditorIfNeeded(!1)}#u(m){m.parent!==this&&(this.attach(m),m.pageIndex=this.pageIndex,m.parent?.detach(m),m.parent=this,m.div&&m.isAttachedToDOM&&(m.div.remove(),this.div.append(m.div)))}add(m){if(this.#u(m),this.#i.addEditor(m),this.attach(m),!m.isAttachedToDOM){const p=m.render();this.div.append(p),m.isAttachedToDOM=!0}this.moveEditorInDOM(m),m.onceAdded(),this.addToAnnotationStorage(m)}moveEditorInDOM(m){this.#e?.moveElementInDOM(this.div,m.div,m.contentDiv,!0)}addToAnnotationStorage(m){!m.isEmpty()&&!this.annotationStorage.has(m.id)&&this.annotationStorage.setValue(m.id,m)}addOrRebuild(m){m.needsToBeRebuilt()?m.rebuild():this.add(m)}addANewEditor(m){const p=()=>{this.addOrRebuild(m)},t=()=>{m.remove()};this.addCommands({cmd:p,undo:t,mustExec:!0})}addUndoableEditor(m){const p=()=>{this.addOrRebuild(m)},t=()=>{m.remove()};this.addCommands({cmd:p,undo:t,mustExec:!1})}getNextId(){return this.#i.getId()}#c(m){switch(this.#i.getMode()){case c.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(m);case c.AnnotationEditorType.INK:return new f.InkEditor(m)}return null}deserialize(m){switch(m.annotationType){case c.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(m,this);case c.AnnotationEditorType.INK:return f.InkEditor.deserialize(m,this)}return null}#l(m){const p=this.getNextId(),t=this.#c({parent:this,id:p,x:m.offsetX,y:m.offsetY});return t&&this.add(t),t}setSelected(m){this.#i.setSelected(m)}toggleSelected(m){this.#i.toggleSelected(m)}isSelected(m){return this.#i.isSelected(m)}unselect(m){this.#i.unselect(m)}pointerup(m){const p=a.KeyboardManager.platform.isMac;if(!(m.button!==0||m.ctrlKey&&p)&&m.target===this.div&&this.#d){if(this.#d=!1,!this.#t){this.#t=!0;return}this.#l(m)}}pointerdown(m){const p=a.KeyboardManager.platform.isMac;if(m.button!==0||m.ctrlKey&&p||m.target!==this.div)return;this.#d=!0;const t=this.#i.getActive();this.#t=!t||t.isEmpty()}drop(m){const p=m.dataTransfer.getData("text/plain"),t=this.#i.getEditor(p);if(!t)return;m.preventDefault(),m.dataTransfer.dropEffect="move",this.#u(t);const b=this.div.getBoundingClientRect(),C=m.clientX-b.x,w=m.clientY-b.y;t.translate(C-t.startX,w-t.startY),this.moveEditorInDOM(t),t.div.focus()}dragover(m){m.preventDefault()}destroy(){this.#i.getActive()?.parent===this&&this.#i.setActiveEditor(null);for(const m of this.#s.values())this.#e?.removePointerInTextLayer(m.contentDiv),m.isAttachedToDOM=!1,m.div.remove(),m.parent=null;this.div=null,this.#s.clear(),this.#i.removeLayer(this)}#a(){this.#o=!0;for(const m of this.#s.values())m.isEmpty()&&m.remove();this.#o=!1}render(m){this.viewport=m.viewport,(0,a.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const p of this.#i.getEditors(this.pageIndex))this.add(p);this.updateMode()}update(m){this.viewport=m.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[m,p,t,b]=this.viewport.viewBox,C=t-m,w=b-p;return[C,w]}get viewportBaseDimensions(){const{width:m,height:p,rotation:t}=this.viewport;return t%180===0?[m,p]:[p,m]}setDimensions(){const{width:m,height:p,rotation:t}=this.viewport,b=t%180!==0,C=Math.floor(m)+"px",w=Math.floor(p)+"px";this.div.style.width=b?w:C,this.div.style.height=b?C:w,this.div.setAttribute("data-main-rotation",t)}}e.AnnotationEditorLayer=s},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var a=r(1),c=r(7),o=r(6);class f extends o.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#r=this.editorDivKeydown.bind(this);#n;#s="";#d=!1;#o;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new c.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],f.prototype.commitOrRemove]]);static _type="freetext";constructor(g){super({...g,name:"freeTextEditor"}),this.#n=g.color||f._defaultColor||o.AnnotationEditor._defaultLineColor,this.#o=g.fontSize||f._defaultFontSize}static initialize(g){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(p=>[p,g.get(p)]));const m=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(m.getPropertyValue("--freetext-padding"))}static updateDefaultParams(g,m){switch(g){case a.AnnotationEditorParamsType.FREETEXT_SIZE:f._defaultFontSize=m;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:f._defaultColor=m;break}}updateParams(g,m){switch(g){case a.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(m);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:this.#u(m);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,f._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,f._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,this.#o],[a.AnnotationEditorParamsType.FREETEXT_COLOR,this.#n]]}#i(g){const m=t=>{this.editorDiv.style.fontSize=`calc(${t}px * var(--scale-factor))`,this.translate(0,-(t-this.#o)*this.parent.scaleFactor),this.#o=t,this.#l()},p=this.#o;this.parent.addCommands({cmd:()=>{m(g)},undo:()=>{m(p)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#u(g){const m=this.#n;this.parent.addCommands({cmd:()=>{this.#n=g,this.editorDiv.style.color=g},undo:()=>{this.#n=m,this.editorDiv.style.color=m},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-f._internalPadding*this.parent.scaleFactor,-(f._internalPadding+this.#o)*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.div.focus(),this.isEditing=!1)}focusin(g){super.focusin(g),g.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#c(){const g=this.editorDiv.getElementsByTagName("div");if(g.length===0)return this.editorDiv.innerText;const m=[];for(let p=0,t=g.length;p<t;p++){const C=g[p].firstChild;C?.nodeName==="#text"?m.push(C.data):m.push("")}return m.join(`
`)}#l(){const[g,m]=this.parent.viewportBaseDimensions,p=this.div.getBoundingClientRect();this.width=p.width/g,this.height=p.height/m}commit(){super.commit(),this.#d||(this.#d=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#s=this.#c().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(g){this.enableEditMode(),this.editorDiv.focus()}keydown(g){g.target===this.div&&g.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(g){f._keyboardManager.exec(this,g)}editorDivFocus(g){this.isEditing=!0}editorDivBlur(g){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let g,m;this.width&&(g=this.x,m=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),f._l10nPromise.get("editor_free_text_aria_label").then(t=>this.editorDiv?.setAttribute("aria-label",t)),f._l10nPromise.get("free_text_default_content").then(t=>this.editorDiv?.setAttribute("default-content",t)),this.editorDiv.contentEditable=!0;const{style:p}=this.editorDiv;if(p.fontSize=`calc(${this.#o}px * var(--scale-factor))`,p.color=this.#n,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[t,b]=this.parent.viewportBaseDimensions;this.setAt(g*t,m*b,this.width*t,this.height*b);for(const C of this.#s.split(`
`)){const w=document.createElement("div");w.append(C?document.createTextNode(C):document.createElement("br")),this.editorDiv.append(w)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(g,m){const p=super.deserialize(g,m);return p.#o=g.fontSize,p.#n=a.Util.makeHexColor(...g.color),p.#s=g.value,p}serialize(){if(this.isEmpty())return null;const g=f._internalPadding*this.parent.scaleFactor,m=this.getRect(g,g),p=o.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:a.AnnotationEditorType.FREETEXT,color:p,fontSize:this.#o,value:this.#s,pageIndex:this.parent.pageIndex,rect:m,rotation:this.rotation}}}e.FreeTextEditor=f},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return o.fitCurve}});var a=r(1),c=r(6),o=r(25),f=r(7);const s=16;class g extends c.AnnotationEditor{#e=0;#t=0;#r=0;#n=this.canvasPointermove.bind(this);#s=this.canvasPointerleave.bind(this);#d=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#i=!1;#u=!1;#c=null;#l=null;#a=0;#m=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(p){super({...p,name:"inkEditor"}),this.color=p.color||null,this.thickness=p.thickness||null,this.opacity=p.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(p){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(t=>[t,p.get(t)]))}static updateDefaultParams(p,t){switch(p){case a.AnnotationEditorParamsType.INK_THICKNESS:g._defaultThickness=t;break;case a.AnnotationEditorParamsType.INK_COLOR:g._defaultColor=t;break;case a.AnnotationEditorParamsType.INK_OPACITY:g._defaultOpacity=t/100;break}}updateParams(p,t){switch(p){case a.AnnotationEditorParamsType.INK_THICKNESS:this.#S(t);break;case a.AnnotationEditorParamsType.INK_COLOR:this.#_(t);break;case a.AnnotationEditorParamsType.INK_OPACITY:this.#b(t);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,g._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,g._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(g._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||g._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||g._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??g._defaultOpacity))]]}#S(p){const t=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=p,this.#v()},undo:()=>{this.thickness=t,this.#v()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#_(p){const t=this.color;this.parent.addCommands({cmd:()=>{this.color=p,this.#f()},undo:()=>{this.color=t,this.#f()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#b(p){p/=100;const t=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=p,this.#f()},undo:()=>{this.opacity=t,this.#f()},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(this.#g(),this.#y()),this.isAttachedToDOM||(this.parent.add(this),this.#C()),this.#v())}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){this.#i||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#o),this.canvas.addEventListener("pointerup",this.#d))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o),this.canvas.removeEventListener("pointerup",this.#d))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#E(){const{width:p,height:t,rotation:b}=this.parent.viewport;switch(b){case 90:return[0,p,p,t];case 180:return[p,t,p,t];case 270:return[t,0,p,t];default:return[0,0,p,t]}}#w(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,f.opacityToHex)(this.opacity)}`}#h(p,t){this.isEditing=!0,this.#u||(this.#u=!0,this.#C(),this.thickness||=g._defaultThickness,this.color||=g._defaultColor||c.AnnotationEditor._defaultLineColor,this.opacity??=g._defaultOpacity),this.currentPath.push([p,t]),this.#c=null,this.#w(),this.ctx.beginPath(),this.ctx.moveTo(p,t),this.#p=()=>{this.#p&&(this.#c&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#f(),this.ctx.lineTo(...this.#c),this.#c=null,this.ctx.stroke()),window.requestAnimationFrame(this.#p))},window.requestAnimationFrame(this.#p)}#A(p,t){const[b,C]=this.currentPath.at(-1);p===b&&t===C||(this.currentPath.push([p,t]),this.#c=[p,t])}#k(p,t){this.ctx.closePath(),this.#p=null,p=Math.min(Math.max(p,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);const[b,C]=this.currentPath.at(-1);(p!==b||t!==C)&&this.currentPath.push([p,t]);let w;if(this.currentPath.length!==1)w=(0,o.fitCurve)(this.currentPath,30,null);else{const I=[p,t];w=[[I,I.slice(),I.slice(),I]]}const v=g.#M(w);this.currentPath.length=0;const M=()=>{this.paths.push(w),this.bezierPath2D.push(v),this.rebuild()},y=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#g(),this.#y()),this.#v())};this.parent.addCommands({cmd:M,undo:y,mustExec:!0})}#f(){if(this.isEmpty()){this.#T();return}this.#w();const{canvas:p,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,p.width,p.height),this.#T();for(const b of this.bezierPath2D)t.stroke(b)}commit(){this.#i||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#i=!0,this.div.classList.add("disabled"),this.#v(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(p){super.focusin(p),this.enableEditMode()}canvasPointerdown(p){p.button!==0||!this.isInEditMode()||this.#i||(this.setInForeground(),p.type!=="mouse"&&this.div.focus(),p.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#s),this.canvas.addEventListener("pointermove",this.#n),this.#h(p.offsetX,p.offsetY))}canvasPointermove(p){p.stopPropagation(),this.#A(p.offsetX,p.offsetY)}canvasPointerup(p){p.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(p.stopPropagation(),this.#x(p),this.setInBackground())}canvasPointerleave(p){this.#x(p),this.setInBackground()}#x(p){this.#k(p.offsetX,p.offsetY),this.canvas.removeEventListener("pointerleave",this.#s),this.canvas.removeEventListener("pointermove",this.#n),this.parent.addToAnnotationStorage(this)}#g(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",g._l10nPromise.get("editor_ink_canvas_aria_label").then(p=>this.canvas?.setAttribute("aria-label",p)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#y(){this.#l=new ResizeObserver(p=>{const t=p[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let p,t;this.width&&(p=this.x,t=this.y),super.render(),g._l10nPromise.get("editor_ink_aria_label").then(M=>this.div?.setAttribute("aria-label",M));const[b,C,w,v]=this.#E();if(this.setAt(b,C,0,0),this.setDims(w,v),this.#g(),this.width){const[M,y]=this.parent.viewportBaseDimensions;this.setAt(p*M,t*y,this.width*M,this.height*y),this.#u=!0,this.#C(),this.setDims(this.width*M,this.height*y),this.#f(),this.#F(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#y(),this.div}#C(){if(!this.#u)return;const[p,t]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*p),this.canvas.height=Math.ceil(this.height*t),this.#T()}setDimensions(p,t){const b=Math.round(p),C=Math.round(t);if(this.#a===b&&this.#m===C)return;this.#a=b,this.#m=C,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-p/t)>.01&&(t=Math.ceil(p/this.#e),this.setDims(p,t));const[w,v]=this.parent.viewportBaseDimensions;this.width=p/w,this.height=t/v,this.#i&&this.#I(p,t),this.#C(),this.#f(),this.canvas.style.visibility="visible"}#I(p,t){const b=this.#P(),C=(p-b)/this.#r,w=(t-b)/this.#t;this.scaleFactor=Math.min(C,w)}#T(){const p=this.#P()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+p,this.translationY*this.scaleFactor+p)}static#M(p){const t=new Path2D;for(let b=0,C=p.length;b<C;b++){const[w,v,M,y]=p[b];b===0&&t.moveTo(...w),t.bezierCurveTo(v[0],v[1],M[0],M[1],y[0],y[1])}return t}#D(p,t,b,C){const v=[],M=this.thickness/2;let y,I;for(const P of this.paths){y=[],I=[];for(let _=0,k=P.length;_<k;_++){const[D,V,R,U]=P[_],te=p*(D[0]+t)+M,B=C-p*(D[1]+b)-M,j=p*(V[0]+t)+M,ie=C-p*(V[1]+b)-M,E=p*(R[0]+t)+M,L=C-p*(R[1]+b)-M,ee=p*(U[0]+t)+M,J=C-p*(U[1]+b)-M;_===0&&(y.push(te,B),I.push(te,B)),y.push(j,ie,E,L,ee,J),this.#O(te,B,j,ie,E,L,ee,J,4,I)}v.push({bezier:y,points:I})}return v}#O(p,t,b,C,w,v,M,y,I,P){if(this.#B(p,t,b,C,w,v,M,y)){P.push(M,y);return}for(let _=1;_<I-1;_++){const k=_/I,D=1-k;let V=k*p+D*b,R=k*t+D*C,U=k*b+D*w,te=k*C+D*v;const B=k*w+D*M,j=k*v+D*y;V=k*V+D*U,R=k*R+D*te,U=k*U+D*B,te=k*te+D*j,V=k*V+D*U,R=k*R+D*te,P.push(V,R)}P.push(M,y)}#B(p,t,b,C,w,v,M,y){const P=(3*b-2*p-M)**2,_=(3*C-2*t-y)**2,k=(3*w-p-2*M)**2,D=(3*v-t-2*y)**2;return Math.max(P,k)+Math.max(_,D)<=10}#R(){let p=1/0,t=-1/0,b=1/0,C=-1/0;for(const w of this.paths)for(const[v,M,y,I]of w){const P=a.Util.bezierBoundingBox(...v,...M,...y,...I);p=Math.min(p,P[0]),b=Math.min(b,P[1]),t=Math.max(t,P[2]),C=Math.max(C,P[3])}return[p,b,t,C]}#P(){return this.#i?Math.ceil(this.thickness*this.parent.scaleFactor):0}#v(p=!1){if(this.isEmpty())return;if(!this.#i){this.#f();return}const t=this.#R(),b=this.#P();this.#r=Math.max(s,t[2]-t[0]),this.#t=Math.max(s,t[3]-t[1]);const C=Math.ceil(b+this.#r*this.scaleFactor),w=Math.ceil(b+this.#t*this.scaleFactor),[v,M]=this.parent.viewportBaseDimensions;this.width=C/v,this.height=w/M,this.#e=C/w,this.#F();const y=this.translationX,I=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#C(),this.#f(),this.#a=C,this.#m=w,this.setDims(C,w);const P=p?b/this.scaleFactor/2:0;this.translate(y-this.translationX-P,I-this.translationY-P)}#F(){const{style:p}=this.div;this.#e>=1?(p.minHeight=`${s}px`,p.minWidth=`${Math.round(this.#e*s)}px`):(p.minWidth=`${s}px`,p.minHeight=`${Math.round(s/this.#e)}px`)}static deserialize(p,t){const b=super.deserialize(p,t);b.thickness=p.thickness,b.color=a.Util.makeHexColor(...p.color),b.opacity=p.opacity;const[C,w]=t.pageDimensions,v=b.width*C,M=b.height*w,y=t.scaleFactor,I=p.thickness/2;b.#e=v/M,b.#i=!0,b.#a=Math.round(v),b.#m=Math.round(M);for(const{bezier:_}of p.paths){const k=[];b.paths.push(k);let D=y*(_[0]-I),V=y*(M-_[1]-I);for(let U=2,te=_.length;U<te;U+=6){const B=y*(_[U]-I),j=y*(M-_[U+1]-I),ie=y*(_[U+2]-I),E=y*(M-_[U+3]-I),L=y*(_[U+4]-I),ee=y*(M-_[U+5]-I);k.push([[D,V],[B,j],[ie,E],[L,ee]]),D=L,V=ee}const R=this.#M(k);b.bezierPath2D.push(R)}const P=b.#R();return b.#r=Math.max(s,P[2]-P[0]),b.#t=Math.max(s,P[3]-P[1]),b.#I(v,M),b}serialize(){if(this.isEmpty())return null;const p=this.getRect(0,0),t=this.rotation%180===0?p[3]-p[1]:p[2]-p[0],b=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:b,thickness:this.thickness,opacity:this.opacity,paths:this.#D(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,t),pageIndex:this.parent.pageIndex,rect:p,rotation:this.rotation}}}e.InkEditor=g},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const a=r(26);e.fitCurve=a},A=>{function e(w,v,M){if(!Array.isArray(w))throw new TypeError("First argument should be an array");if(w.forEach(_=>{if(!Array.isArray(_)||_.some(k=>typeof k!="number")||_.length!==w[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),w=w.filter((_,k)=>k===0||!_.every((D,V)=>D===w[k-1][V])),w.length<2)return[];const y=w.length,I=t(w[1],w[0]),P=t(w[y-2],w[y-1]);return r(w,I,P,v,M)}function r(w,v,M,y,I){var _,k,D,V,R,U,te,B,j,ie,E,L,ee;if(w.length===2)return L=b.vectorLen(b.subtract(w[0],w[1]))/3,_=[w[0],b.addArrays(w[0],b.mulItems(v,L)),b.addArrays(w[1],b.mulItems(M,L)),w[1]],[_];if(k=s(w),[_,V,U]=a(w,k,k,v,M,I),V===0||V<y)return[_];if(V<y*y)for(D=k,R=V,te=U,ee=0;ee<20;ee++){if(D=o(_,w,D),[_,V,U]=a(w,k,D,v,M,I),V<y)return[_];if(U===te){let J=V/R;if(J>.9999&&J<1.0001)break}R=V,te=U}return E=[],B=b.subtract(w[U-1],w[U+1]),B.every(J=>J===0)&&(B=b.subtract(w[U-1],w[U]),[B[0],B[1]]=[-B[1],B[0]]),j=b.normalize(B),ie=b.mulItems(j,-1),E=E.concat(r(w.slice(0,U+1),v,j,y,I)),E=E.concat(r(w.slice(U),ie,M,y,I)),E}function a(w,v,M,y,I,P){var _,k,D;return _=c(w,M,y,I),[k,D]=g(w,_,v),P&&P({bez:_,points:w,params:v,maxErr:k,maxPoint:D}),[_,k,D]}function c(w,v,M,y){var I,P,_,k,D,V,R,U,te,B,j,ie,E,L,ee,J,Y,q=w[0],F=w[w.length-1];for(I=[q,null,null,F],P=b.zeros_Xx2x2(v.length),E=0,L=v.length;E<L;E++)J=v[E],Y=1-J,_=P[E],_[0]=b.mulItems(M,3*J*(Y*Y)),_[1]=b.mulItems(y,3*Y*(J*J));for(k=[[0,0],[0,0]],D=[0,0],E=0,L=w.length;E<L;E++)J=v[E],_=P[E],k[0][0]+=b.dot(_[0],_[0]),k[0][1]+=b.dot(_[0],_[1]),k[1][0]+=b.dot(_[0],_[1]),k[1][1]+=b.dot(_[1],_[1]),ee=b.subtract(w[E],C.q([q,q,F,F],J)),D[0]+=b.dot(_[0],ee),D[1]+=b.dot(_[1],ee);return V=k[0][0]*k[1][1]-k[1][0]*k[0][1],R=k[0][0]*D[1]-k[1][0]*D[0],U=D[0]*k[1][1]-D[1]*k[0][1],te=V===0?0:U/V,B=V===0?0:R/V,ie=b.vectorLen(b.subtract(q,F)),j=1e-6*ie,te<j||B<j?(I[1]=b.addArrays(q,b.mulItems(M,ie/3)),I[2]=b.addArrays(F,b.mulItems(y,ie/3))):(I[1]=b.addArrays(q,b.mulItems(M,te)),I[2]=b.addArrays(F,b.mulItems(y,B))),I}function o(w,v,M){return M.map((y,I)=>f(w,v[I],y))}function f(w,v,M){var y=b.subtract(C.q(w,M),v),I=C.qprime(w,M),P=b.mulMatrix(y,I),_=b.sum(b.squareItems(I))+2*b.mulMatrix(y,C.qprimeprime(w,M));return _===0?M:M-P/_}function s(w){var v=[],M,y,I;return w.forEach((P,_)=>{M=_?y+b.vectorLen(b.subtract(P,I)):0,v.push(M),y=M,I=P}),v=v.map(P=>P/y),v}function g(w,v,M){var y,I,P,_,k,D,V,R;I=0,P=Math.floor(w.length/2);const U=m(v,10);for(k=0,D=w.length;k<D;k++)V=w[k],R=p(v,M[k],U,10),_=b.subtract(C.q(v,R),V),y=_[0]*_[0]+_[1]*_[1],y>I&&(I=y,P=k);return[I,P]}var m=function(w,v){for(var M,y=[0],I=w[0],P=0,_=1;_<=v;_++)M=C.q(w,_/v),P+=b.vectorLen(b.subtract(M,I)),y.push(P),I=M;return y=y.map(k=>k/P),y};function p(w,v,M,y){if(v<0)return 0;if(v>1)return 1;for(var I,P,_,k,D,V=1;V<=y;V++)if(v<=M[V]){k=(V-1)/y,_=V/y,P=M[V-1],I=M[V],D=(v-P)/(I-P)*(_-k)+k;break}return D}function t(w,v){return b.normalize(b.subtract(w,v))}class b{static zeros_Xx2x2(v){for(var M=[];v--;)M.push([0,0]);return M}static mulItems(v,M){return v.map(y=>y*M)}static mulMatrix(v,M){return v.reduce((y,I,P)=>y+I*M[P],0)}static subtract(v,M){return v.map((y,I)=>y-M[I])}static addArrays(v,M){return v.map((y,I)=>y+M[I])}static addItems(v,M){return v.map(y=>y+M)}static sum(v){return v.reduce((M,y)=>M+y)}static dot(v,M){return b.mulMatrix(v,M)}static vectorLen(v){return Math.hypot(...v)}static divItems(v,M){return v.map(y=>y/M)}static squareItems(v){return v.map(M=>M*M)}static normalize(v){return this.divItems(v,this.vectorLen(v))}}class C{static q(v,M){var y=1-M,I=b.mulItems(v[0],y*y*y),P=b.mulItems(v[1],3*y*y*M),_=b.mulItems(v[2],3*y*M*M),k=b.mulItems(v[3],M*M*M);return b.addArrays(b.addArrays(I,P),b.addArrays(_,k))}static qprime(v,M){var y=1-M,I=b.mulItems(b.subtract(v[1],v[0]),3*y*y),P=b.mulItems(b.subtract(v[2],v[1]),6*y*M),_=b.mulItems(b.subtract(v[3],v[2]),3*M*M);return b.addArrays(b.addArrays(I,P),_)}static qprimeprime(v,M){return b.addArrays(b.mulItems(b.addArrays(b.subtract(v[2],b.mulItems(v[1],2)),v[0]),6*(1-M)),b.mulItems(b.addArrays(b.subtract(v[3],b.mulItems(v[2],2)),v[1]),6*M))}}A.exports=e,A.exports.fitCubic=r,A.exports.createTangent=t},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var a=r(1),c=r(8),o=r(5),f=r(28),s=r(29);const g=1e3,m=9,p=new WeakSet;function t(se){return{width:se[2]-se[0],height:se[3]-se[1]}}class b{static create($){switch($.data.annotationType){case a.AnnotationType.LINK:return new w($);case a.AnnotationType.TEXT:return new v($);case a.AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new y($);case"Btn":return $.data.radioButton?new P($):$.data.checkBox?new I($):new _($);case"Ch":return new k($)}return new M($);case a.AnnotationType.POPUP:return new D($);case a.AnnotationType.FREETEXT:return new R($);case a.AnnotationType.LINE:return new U($);case a.AnnotationType.SQUARE:return new te($);case a.AnnotationType.CIRCLE:return new B($);case a.AnnotationType.POLYLINE:return new j($);case a.AnnotationType.CARET:return new E($);case a.AnnotationType.INK:return new L($);case a.AnnotationType.POLYGON:return new ie($);case a.AnnotationType.HIGHLIGHT:return new ee($);case a.AnnotationType.UNDERLINE:return new J($);case a.AnnotationType.SQUIGGLY:return new Y($);case a.AnnotationType.STRIKEOUT:return new q($);case a.AnnotationType.STAMP:return new F($);case a.AnnotationType.FILEATTACHMENT:return new O($);default:return new C($)}}}class C{constructor($,{isRenderable:X=!1,ignoreBorder:ne=!1,createQuadrilaterals:oe=!1}={}){this.isRenderable=X,this.data=$.data,this.layer=$.layer,this.page=$.page,this.viewport=$.viewport,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this._mouseState=$.mouseState,X&&(this.container=this._createContainer(ne)),oe&&(this.quadrilaterals=this._createQuadrilaterals(ne))}_createContainer($=!1){const X=this.data,ne=this.page,oe=this.viewport,ue=document.createElement("section"),{width:fe,height:le}=t(X.rect),[ae,de,re,Q]=oe.viewBox,ce=re-ae,he=Q-de;ue.setAttribute("data-annotation-id",X.id);const ge=a.Util.normalizeRect([X.rect[0],ne.view[3]-X.rect[1]+ne.view[1],X.rect[2],ne.view[3]-X.rect[3]+ne.view[1]]);if(!$&&X.borderStyle.width>0){ue.style.borderWidth=`${X.borderStyle.width}px`;const me=X.borderStyle.horizontalCornerRadius,Ae=X.borderStyle.verticalCornerRadius;if(me>0||Ae>0){const xe=`calc(${me}px * var(--scale-factor)) / calc(${Ae}px * var(--scale-factor))`;ue.style.borderRadius=xe}else if(this instanceof P){const xe=`calc(${fe}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;ue.style.borderRadius=xe}switch(X.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:ue.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:ue.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:ue.style.borderBottomStyle="solid";break}const ye=X.borderColor||null;ye?ue.style.borderColor=a.Util.makeHexColor(ye[0]|0,ye[1]|0,ye[2]|0):ue.style.borderWidth=0}ue.style.left=`${100*(ge[0]-ae)/ce}%`,ue.style.top=`${100*(ge[1]-de)/he}%`;const{rotation:pe}=X;return X.hasOwnCanvas||pe===0?(ue.style.width=`${100*fe/ce}%`,ue.style.height=`${100*le/he}%`):this.setRotation(pe,ue),ue}setRotation($,X=this.container){const[ne,oe,ue,fe]=this.viewport.viewBox,le=ue-ne,ae=fe-oe,{width:de,height:re}=t(this.data.rect);let Q,ce;$%180===0?(Q=100*de/le,ce=100*re/ae):(Q=100*re/le,ce=100*de/ae),X.style.width=`${Q}%`,X.style.height=`${ce}%`,X.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(X,ne,oe)=>{const ue=oe.detail[X];oe.target.style[ne]=f.ColorConverters[`${ue[0]}_HTML`](ue.slice(1))};return(0,a.shadow)(this,"_commonActions",{display:X=>{const ne=X.detail.display%2===1;this.container.style.visibility=ne?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ne,print:X.detail.display===0||X.detail.display===3})},print:X=>{this.annotationStorage.setValue(this.data.id,{print:X.detail.print})},hidden:X=>{this.container.style.visibility=X.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:X.detail.hidden})},focus:X=>{setTimeout(()=>X.target.focus({preventScroll:!1}),0)},userName:X=>{X.target.title=X.detail.userName},readonly:X=>{X.detail.readonly?X.target.setAttribute("readonly",""):X.target.removeAttribute("readonly")},required:X=>{this._setRequired(X.target,X.detail.required)},bgColor:X=>{$("bgColor","backgroundColor",X)},fillColor:X=>{$("fillColor","backgroundColor",X)},fgColor:X=>{$("fgColor","color",X)},textColor:X=>{$("textColor","color",X)},borderColor:X=>{$("borderColor","borderColor",X)},strokeColor:X=>{$("strokeColor","borderColor",X)},rotation:X=>{const ne=X.detail.rotation;this.setRotation(ne),this.annotationStorage.setValue(this.data.id,{rotation:ne})}})}_dispatchEventFromSandbox($,X){const ne=this._commonActions;for(const oe of Object.keys(X.detail)){const ue=$[oe]||ne[oe];ue&&ue(X)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const X=this.annotationStorage.getRawValue(this.data.id);if(!X)return;const ne=this._commonActions;for(const[oe,ue]of Object.entries(X)){const fe=ne[oe];if(fe){const le={detail:{[oe]:ue},target:$};fe(le),delete X[oe]}}}_createQuadrilaterals($=!1){if(!this.data.quadPoints)return null;const X=[],ne=this.data.rect;for(const oe of this.data.quadPoints)this.data.rect=[oe[2].x,oe[2].y,oe[1].x,oe[1].y],X.push(this._createContainer($));return this.data.rect=ne,X}_createPopup($,X){let ne=this.container;this.quadrilaterals&&($=$||this.quadrilaterals,ne=this.quadrilaterals[0]),$||($=document.createElement("div"),$.className="popupTriggerArea",ne.append($));const ue=new V({container:ne,trigger:$,color:X.color,titleObj:X.titleObj,modificationDate:X.modificationDate,contentsObj:X.contentsObj,richText:X.richText,hideWrapper:!0}).render();ue.style.left="100%",ne.append(ue)}_renderQuadrilaterals($){for(const X of this.quadrilaterals)X.className=$;return this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName($,X=null){const ne=[];if(this._fieldObjects){const oe=this._fieldObjects[$];if(oe)for(const{page:ue,id:fe,exportValues:le}of oe){if(ue===-1||fe===X)continue;const ae=typeof le=="string"?le:null,de=document.querySelector(`[data-element-id="${fe}"]`);if(de&&!p.has(de)){(0,a.warn)(`_getElementsByName - element not allowed: ${fe}`);continue}ne.push({id:fe,exportValue:ae,domElement:de})}return ne}for(const oe of document.getElementsByName($)){const{id:ue,exportValue:fe}=oe;ue!==X&&p.has(oe)&&ne.push({id:ue,exportValue:fe,domElement:oe})}return ne}static get platform(){const $=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:$.includes("Win"),isMac:$.includes("Mac")})}}class w extends C{constructor($,X=null){super($,{isRenderable:!0,ignoreBorder:!!X?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=$.data.isTooltipOnly}render(){const{data:$,linkService:X}=this,ne=document.createElement("a");ne.setAttribute("data-element-id",$.id);let oe=!1;return $.url?(X.addLinkAttributes(ne,$.url,$.newWindow),oe=!0):$.action?(this._bindNamedAction(ne,$.action),oe=!0):$.dest?(this._bindLink(ne,$.dest),oe=!0):($.actions&&($.actions.Action||$.actions["Mouse Up"]||$.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ne,$),oe=!0),$.resetForm?(this._bindResetFormAction(ne,$.resetForm),oe=!0):this.isTooltipOnly&&!oe&&(this._bindLink(ne,""),oe=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((ue,fe)=>{const le=fe===0?ne:ne.cloneNode();return ue.append(le),ue}):(this.container.className="linkAnnotation",oe&&this.container.append(ne),this.container)}_bindLink($,X){$.href=this.linkService.getDestinationHash(X),$.onclick=()=>(X&&this.linkService.goToDestination(X),!1),(X||X==="")&&($.className="internalLink")}_bindNamedAction($,X){$.href=this.linkService.getAnchorUrl(""),$.onclick=()=>(this.linkService.executeNamedAction(X),!1),$.className="internalLink"}_bindJSAction($,X){$.href=this.linkService.getAnchorUrl("");const ne=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const oe of Object.keys(X.actions)){const ue=ne.get(oe);ue&&($[ue]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X.id,name:oe}}),!1))}$.onclick||($.onclick=()=>!1),$.className="internalLink"}_bindResetFormAction($,X){const ne=$.onclick;if(ne||($.href=this.linkService.getAnchorUrl("")),$.className="internalLink",!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ne||($.onclick=()=>!1);return}$.onclick=()=>{ne&&ne();const{fields:oe,refs:ue,include:fe}=X,le=[];if(oe.length!==0||ue.length!==0){const re=new Set(ue);for(const Q of oe){const ce=this._fieldObjects[Q]||[];for(const{id:he}of ce)re.add(he)}for(const Q of Object.values(this._fieldObjects))for(const ce of Q)re.has(ce.id)===fe&&le.push(ce)}else for(const re of Object.values(this._fieldObjects))le.push(...re);const ae=this.annotationStorage,de=[];for(const re of le){const{id:Q}=re;switch(de.push(Q),re.type){case"text":{const he=re.defaultValue||"";ae.setValue(Q,{value:he});break}case"checkbox":case"radiobutton":{const he=re.defaultValue===re.exportValues;ae.setValue(Q,{value:he});break}case"combobox":case"listbox":{const he=re.defaultValue||"";ae.setValue(Q,{value:he});break}default:continue}const ce=document.querySelector(`[data-element-id="${Q}"]`);if(ce){if(!p.has(ce)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Q}`);continue}}else continue;ce.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:de,name:"ResetForm"}}),!1}}}class v extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X})}render(){this.container.className="textAnnotation";const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.alt="[{{type}} Annotation]",$.dataset.l10nId="text_annotation_type",$.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup($,this.data),this.container.append($),this.container}}class M extends C{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier($){const{isWin:X,isMac:ne}=C.platform;return X&&$.ctrlKey||ne&&$.metaKey}_setEventListener($,X,ne,oe){X.includes("mouse")?$.addEventListener(X,ue=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:oe(ue),shift:ue.shiftKey,modifier:this._getKeyModifier(ue)}})}):$.addEventListener(X,ue=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:oe(ue)}})})}_setEventListeners($,X,ne){for(const[oe,ue]of X)(ue==="Action"||this.data.actions?.[ue])&&this._setEventListener($,oe,ue,ne)}_setBackgroundColor($){const X=this.data.backgroundColor||null;$.style.backgroundColor=X===null?"transparent":a.Util.makeHexColor(X[0],X[1],X[2])}_setTextStyle($){const X=["left","center","right"],{fontColor:ne}=this.data.defaultAppearanceData,oe=this.data.defaultAppearanceData.fontSize||m,ue=$.style;let fe;if(this.data.multiLine){const le=Math.abs(this.data.rect[3]-this.data.rect[1]),ae=Math.round(le/(a.LINE_FACTOR*oe))||1,de=le/ae;fe=Math.min(oe,Math.round(de/a.LINE_FACTOR))}else{const le=Math.abs(this.data.rect[3]-this.data.rect[1]);fe=Math.min(oe,Math.round(le/a.LINE_FACTOR))}ue.fontSize=`calc(${fe}px * var(--scale-factor))`,ue.color=a.Util.makeHexColor(ne[0],ne[1],ne[2]),this.data.textAlignment!==null&&(ue.textAlign=X[this.data.textAlignment])}_setRequired($,X){X?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",X)}}class y extends M{constructor($){const X=$.renderForms||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:X})}setPropertyOnSiblings($,X,ne,oe){const ue=this.annotationStorage;for(const fe of this._getElementsByName($.name,$.id))fe.domElement&&(fe.domElement[X]=ne),ue.setValue(fe.id,{[oe]:ne})}render(){const $=this.annotationStorage,X=this.data.id;this.container.className="textWidgetAnnotation";let ne=null;if(this.renderForms){const oe=$.getValue(X,{value:this.data.fieldValue});let ue=oe.formattedValue||oe.value||"";const fe=$.getValue(X,{charLimit:this.data.maxLen}).charLimit;fe&&ue.length>fe&&(ue=ue.slice(0,fe));const le={userValue:ue,formattedValue:null,valueOnFocus:""};this.data.multiLine?(ne=document.createElement("textarea"),ne.textContent=ue,this.data.doNotScroll&&(ne.style.overflowY="hidden")):(ne=document.createElement("input"),ne.type="text",ne.setAttribute("value",ue),this.data.doNotScroll&&(ne.style.overflowX="hidden")),p.add(ne),ne.setAttribute("data-element-id",X),ne.disabled=this.data.readOnly,ne.name=this.data.fieldName,ne.tabIndex=g,this._setRequired(ne,this.data.required),fe&&(ne.maxLength=fe),ne.addEventListener("input",de=>{$.setValue(X,{value:de.target.value}),this.setPropertyOnSiblings(ne,"value",de.target.value,"value")}),ne.addEventListener("resetform",de=>{const re=this.data.defaultFieldValue??"";ne.value=le.userValue=re,le.formattedValue=null});let ae=de=>{const{formattedValue:re}=le;re!=null&&(de.target.value=re),de.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ne.addEventListener("focus",re=>{le.userValue&&(re.target.value=le.userValue),le.valueOnFocus=re.target.value}),ne.addEventListener("updatefromsandbox",re=>{const Q={value(ce){le.userValue=ce.detail.value??"",$.setValue(X,{value:le.userValue.toString()}),ce.target.value=le.userValue},formattedValue(ce){const{formattedValue:he}=ce.detail;le.formattedValue=he,he!=null&&ce.target!==document.activeElement&&(ce.target.value=he),$.setValue(X,{formattedValue:he})},selRange(ce){ce.target.setSelectionRange(...ce.detail.selRange)},charLimit:ce=>{const{charLimit:he}=ce.detail,{target:ge}=ce;if(he===0){ge.removeAttribute("maxLength");return}ge.setAttribute("maxLength",he);let pe=le.userValue;!pe||pe.length<=he||(pe=pe.slice(0,he),ge.value=le.userValue=pe,$.setValue(X,{value:pe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:pe,willCommit:!0,commitKey:1,selStart:ge.selectionStart,selEnd:ge.selectionEnd}}))}};this._dispatchEventFromSandbox(Q,re)}),ne.addEventListener("keydown",re=>{let Q=-1;if(re.key==="Escape"?Q=0:re.key==="Enter"?Q=2:re.key==="Tab"&&(Q=3),Q===-1)return;const{value:ce}=re.target;le.valueOnFocus!==ce&&(le.userValue=ce,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:ce,willCommit:!0,commitKey:Q,selStart:re.target.selectionStart,selEnd:re.target.selectionEnd}}))});const de=ae;ae=null,ne.addEventListener("blur",re=>{const{value:Q}=re.target;le.userValue=Q,this._mouseState.isDown&&le.valueOnFocus!==Q&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:Q,willCommit:!0,commitKey:1,selStart:re.target.selectionStart,selEnd:re.target.selectionEnd}}),de(re)}),this.data.actions?.Keystroke&&ne.addEventListener("beforeinput",re=>{const{data:Q,target:ce}=re,{value:he,selectionStart:ge,selectionEnd:pe}=ce;let me=ge,Ae=pe;switch(re.inputType){case"deleteWordBackward":{const ye=he.substring(0,ge).match(/\w*[^\w]*$/);ye&&(me-=ye[0].length);break}case"deleteWordForward":{const ye=he.substring(ge).match(/^[^\w]*\w*/);ye&&(Ae+=ye[0].length);break}case"deleteContentBackward":ge===pe&&(me-=1);break;case"deleteContentForward":ge===pe&&(Ae+=1);break}re.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:he,change:Q||"",willCommit:!1,selStart:me,selEnd:Ae}})}),this._setEventListeners(ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],re=>re.target.value)}if(ae&&ne.addEventListener("blur",ae),this.data.comb){const re=(this.data.rect[2]-this.data.rect[0])/fe;ne.classList.add("comb"),ne.style.letterSpacing=`calc(${re}px * var(--scale-factor) - 1ch)`}}else ne=document.createElement("div"),ne.textContent=this.data.fieldValue,ne.style.verticalAlign="middle",ne.style.display="table-cell";return this._setTextStyle(ne),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.append(ne),this.container}}class I extends M{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,X=this.data,ne=X.id;let oe=$.getValue(ne,{value:X.exportValue===X.fieldValue}).value;typeof oe=="string"&&(oe=oe!=="Off",$.setValue(ne,{value:oe})),this.container.className="buttonWidgetAnnotation checkBox";const ue=document.createElement("input");return p.add(ue),ue.setAttribute("data-element-id",ne),ue.disabled=X.readOnly,this._setRequired(ue,this.data.required),ue.type="checkbox",ue.name=X.fieldName,oe&&ue.setAttribute("checked",!0),ue.setAttribute("exportValue",X.exportValue),ue.tabIndex=g,ue.addEventListener("change",fe=>{const{name:le,checked:ae}=fe.target;for(const de of this._getElementsByName(le,ne)){const re=ae&&de.exportValue===X.exportValue;de.domElement&&(de.domElement.checked=re),$.setValue(de.id,{value:re})}$.setValue(ne,{value:ae})}),ue.addEventListener("resetform",fe=>{const le=X.defaultFieldValue||"Off";fe.target.checked=le===X.exportValue}),this.enableScripting&&this.hasJSActions&&(ue.addEventListener("updatefromsandbox",fe=>{const le={value(ae){ae.target.checked=ae.detail.value!=="Off",$.setValue(ne,{value:ae.target.checked})}};this._dispatchEventFromSandbox(le,fe)}),this._setEventListeners(ue,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],fe=>fe.target.checked)),this._setBackgroundColor(ue),this._setDefaultPropertiesFromJS(ue),this.container.append(ue),this.container}}class P extends M{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const $=this.annotationStorage,X=this.data,ne=X.id;let oe=$.getValue(ne,{value:X.fieldValue===X.buttonValue}).value;typeof oe=="string"&&(oe=oe!==X.buttonValue,$.setValue(ne,{value:oe}));const ue=document.createElement("input");if(p.add(ue),ue.setAttribute("data-element-id",ne),ue.disabled=X.readOnly,this._setRequired(ue,this.data.required),ue.type="radio",ue.name=X.fieldName,oe&&ue.setAttribute("checked",!0),ue.tabIndex=g,ue.addEventListener("change",fe=>{const{name:le,checked:ae}=fe.target;for(const de of this._getElementsByName(le,ne))$.setValue(de.id,{value:!1});$.setValue(ne,{value:ae})}),ue.addEventListener("resetform",fe=>{const le=X.defaultFieldValue;fe.target.checked=le!=null&&le===X.buttonValue}),this.enableScripting&&this.hasJSActions){const fe=X.buttonValue;ue.addEventListener("updatefromsandbox",le=>{const ae={value:de=>{const re=fe===de.detail.value;for(const Q of this._getElementsByName(de.target.name)){const ce=re&&Q.id===ne;Q.domElement&&(Q.domElement.checked=ce),$.setValue(Q.id,{value:ce})}}};this._dispatchEventFromSandbox(ae,le)}),this._setEventListeners(ue,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],le=>le.target.checked)}return this._setBackgroundColor(ue),this._setDefaultPropertiesFromJS(ue),this.container.append(ue),this.container}}class _ extends w{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&($.title=this.data.alternativeText);const X=$.lastChild;return this.enableScripting&&this.hasJSActions&&X&&(this._setDefaultPropertiesFromJS(X),X.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({},ne)})),$}}class k extends M{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const $=this.annotationStorage,X=this.data.id,ne=$.getValue(X,{value:this.data.fieldValue}),oe=document.createElement("select");p.add(oe),oe.setAttribute("data-element-id",X),oe.disabled=this.data.readOnly,this._setRequired(oe,this.data.required),oe.name=this.data.fieldName,oe.tabIndex=g;let ue=this.data.combo&&this.data.options.length>0;this.data.combo||(oe.size=this.data.options.length,this.data.multiSelect&&(oe.multiple=!0)),oe.addEventListener("resetform",de=>{const re=this.data.defaultFieldValue;for(const Q of oe.options)Q.selected=Q.value===re});for(const de of this.data.options){const re=document.createElement("option");re.textContent=de.displayValue,re.value=de.exportValue,ne.value.includes(de.exportValue)&&(re.setAttribute("selected",!0),ue=!1),oe.append(re)}let fe=null;if(ue){const de=document.createElement("option");de.value=" ",de.setAttribute("hidden",!0),de.setAttribute("selected",!0),oe.prepend(de),fe=()=>{de.remove(),oe.removeEventListener("input",fe),fe=null},oe.addEventListener("input",fe)}const le=(de,re)=>{const Q=re?"value":"textContent",ce=de.target.options;return de.target.multiple?Array.prototype.filter.call(ce,he=>he.selected).map(he=>he[Q]):ce.selectedIndex===-1?null:ce[ce.selectedIndex][Q]},ae=de=>{const re=de.target.options;return Array.prototype.map.call(re,Q=>({displayValue:Q.textContent,exportValue:Q.value}))};return this.enableScripting&&this.hasJSActions?(oe.addEventListener("updatefromsandbox",de=>{const re={value(Q){fe?.();const ce=Q.detail.value,he=new Set(Array.isArray(ce)?ce:[ce]);for(const ge of oe.options)ge.selected=he.has(ge.value);$.setValue(X,{value:le(Q,!0)})},multipleSelection(Q){oe.multiple=!0},remove(Q){const ce=oe.options,he=Q.detail.remove;ce[he].selected=!1,oe.remove(he),ce.length>0&&Array.prototype.findIndex.call(ce,pe=>pe.selected)===-1&&(ce[0].selected=!0),$.setValue(X,{value:le(Q,!0),items:ae(Q)})},clear(Q){for(;oe.length!==0;)oe.remove(0);$.setValue(X,{value:null,items:[]})},insert(Q){const{index:ce,displayValue:he,exportValue:ge}=Q.detail.insert,pe=oe.children[ce],me=document.createElement("option");me.textContent=he,me.value=ge,pe?pe.before(me):oe.append(me),$.setValue(X,{value:le(Q,!0),items:ae(Q)})},items(Q){const{items:ce}=Q.detail;for(;oe.length!==0;)oe.remove(0);for(const he of ce){const{displayValue:ge,exportValue:pe}=he,me=document.createElement("option");me.textContent=ge,me.value=pe,oe.append(me)}oe.options.length>0&&(oe.options[0].selected=!0),$.setValue(X,{value:le(Q,!0),items:ae(Q)})},indices(Q){const ce=new Set(Q.detail.indices);for(const he of Q.target.options)he.selected=ce.has(he.index);$.setValue(X,{value:le(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}};this._dispatchEventFromSandbox(re,de)}),oe.addEventListener("input",de=>{const re=le(de,!0),Q=le(de,!1);$.setValue(X,{value:re}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:Q,changeEx:re,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(oe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],de=>de.target.checked)):oe.addEventListener("input",function(de){$.setValue(X,{value:le(de,!0)})}),this.data.combo&&this._setTextStyle(oe),this._setBackgroundColor(oe),this._setDefaultPropertiesFromJS(oe),this.container.append(oe),this.container}}class D extends C{constructor($){const X=!!($.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X})}render(){const $=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",$.includes(this.data.parentType))return this.container;const X=`[data-annotation-id="${this.data.parentId}"]`,ne=this.layer.querySelectorAll(X);if(ne.length===0)return this.container;const oe=new V({container:this.container,trigger:Array.from(ne),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ue=this.page,fe=a.Util.normalizeRect([this.data.parentRect[0],ue.view[3]-this.data.parentRect[1]+ue.view[1],this.data.parentRect[2],ue.view[3]-this.data.parentRect[3]+ue.view[1]]),le=fe[0]+this.data.parentRect[2]-this.data.parentRect[0],ae=fe[1],[de,re,Q,ce]=this.viewport.viewBox,he=Q-de,ge=ce-re;return this.container.style.left=`${100*(le-de)/he}%`,this.container.style.top=`${100*(ae-re)/ge}%`,this.container.append(oe.render()),this.container}}class V{constructor($){this.container=$.container,this.trigger=$.trigger,this.color=$.color,this.titleObj=$.titleObj,this.modificationDate=$.modificationDate,this.contentsObj=$.contentsObj,this.richText=$.richText,this.hideWrapper=$.hideWrapper||!1,this.pinned=!1}render(){const X=document.createElement("div");X.className="popupWrapper",this.hideElement=this.hideWrapper?X:this.container,this.hideElement.hidden=!0;const ne=document.createElement("div");ne.className="popup";const oe=this.color;if(oe){const le=.7*(255-oe[0])+oe[0],ae=.7*(255-oe[1])+oe[1],de=.7*(255-oe[2])+oe[2];ne.style.backgroundColor=a.Util.makeHexColor(le|0,ae|0,de|0)}const ue=document.createElement("h1");ue.dir=this.titleObj.dir,ue.textContent=this.titleObj.str,ne.append(ue);const fe=c.PDFDateString.toDateObject(this.modificationDate);if(fe){const le=document.createElement("span");le.className="popupDate",le.textContent="{{date}}, {{time}}",le.dataset.l10nId="annotation_date_string",le.dataset.l10nArgs=JSON.stringify({date:fe.toLocaleDateString(),time:fe.toLocaleTimeString()}),ne.append(le)}if(this.richText?.str&&(!this.contentsObj?.str||this.contentsObj.str===this.richText.str))s.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ne}),ne.lastChild.className="richText popupContent";else{const le=this._formatContents(this.contentsObj);ne.append(le)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const le of this.trigger)le.addEventListener("click",this._toggle.bind(this)),le.addEventListener("mouseover",this._show.bind(this,!1)),le.addEventListener("mouseout",this._hide.bind(this,!1));return ne.addEventListener("click",this._hide.bind(this,!0)),X.append(ne),X}_formatContents({str:$,dir:X}){const ne=document.createElement("p");ne.className="popupContent",ne.dir=X;const oe=$.split(/(?:\r\n?|\n)/);for(let ue=0,fe=oe.length;ue<fe;++ue){const le=oe[ue];ne.append(document.createTextNode(le)),ue<fe-1&&ne.append(document.createElement("br"))}return ne}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show($=!1){$&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide($=!0){$&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class R extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0}),this.textContent=$.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const $=document.createElement("div");$.className="annotationTextContent",$.setAttribute("role","comment");for(const X of this.textContent){const ne=document.createElement("span");ne.textContent=X,$.append(ne)}this.container.append($)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class U extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const $=this.data,{width:X,height:ne}=t($.rect),oe=this.svgFactory.create(X,ne,!0),ue=this.svgFactory.createElement("svg:line");return ue.setAttribute("x1",$.rect[2]-$.lineCoordinates[0]),ue.setAttribute("y1",$.rect[3]-$.lineCoordinates[1]),ue.setAttribute("x2",$.rect[2]-$.lineCoordinates[2]),ue.setAttribute("y2",$.rect[3]-$.lineCoordinates[3]),ue.setAttribute("stroke-width",$.borderStyle.width||1),ue.setAttribute("stroke","transparent"),ue.setAttribute("fill","transparent"),oe.append(ue),this.container.append(oe),this._createPopup(ue,$),this.container}}class te extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const $=this.data,{width:X,height:ne}=t($.rect),oe=this.svgFactory.create(X,ne,!0),ue=$.borderStyle.width,fe=this.svgFactory.createElement("svg:rect");return fe.setAttribute("x",ue/2),fe.setAttribute("y",ue/2),fe.setAttribute("width",X-ue),fe.setAttribute("height",ne-ue),fe.setAttribute("stroke-width",ue||1),fe.setAttribute("stroke","transparent"),fe.setAttribute("fill","transparent"),oe.append(fe),this.container.append(oe),this._createPopup(fe,$),this.container}}class B extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const $=this.data,{width:X,height:ne}=t($.rect),oe=this.svgFactory.create(X,ne,!0),ue=$.borderStyle.width,fe=this.svgFactory.createElement("svg:ellipse");return fe.setAttribute("cx",X/2),fe.setAttribute("cy",ne/2),fe.setAttribute("rx",X/2-ue/2),fe.setAttribute("ry",ne/2-ue/2),fe.setAttribute("stroke-width",ue||1),fe.setAttribute("stroke","transparent"),fe.setAttribute("fill","transparent"),oe.append(fe),this.container.append(oe),this._createPopup(fe,$),this.container}}class j extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const $=this.data,{width:X,height:ne}=t($.rect),oe=this.svgFactory.create(X,ne,!0);let ue=[];for(const le of $.vertices){const ae=le.x-$.rect[0],de=$.rect[3]-le.y;ue.push(ae+","+de)}ue=ue.join(" ");const fe=this.svgFactory.createElement(this.svgElementName);return fe.setAttribute("points",ue),fe.setAttribute("stroke-width",$.borderStyle.width||1),fe.setAttribute("stroke","transparent"),fe.setAttribute("fill","transparent"),oe.append(fe),this.container.append(oe),this._createPopup(fe,$),this.container}}class ie extends j{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class E extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const $=this.data,{width:X,height:ne}=t($.rect),oe=this.svgFactory.create(X,ne,!0);for(const ue of $.inkLists){let fe=[];for(const ae of ue){const de=ae.x-$.rect[0],re=$.rect[3]-ae.y;fe.push(`${de},${re}`)}fe=fe.join(" ");const le=this.svgFactory.createElement(this.svgElementName);le.setAttribute("points",fe),le.setAttribute("stroke-width",$.borderStyle.width||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),this._createPopup(le,$),oe.append(le)}return this.container.append(oe),this.container}}class ee extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class J extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Y extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class q extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class F extends C{constructor($){const X=!!($.data.hasPopup||$.data.titleObj?.str||$.data.contentsObj?.str||$.data.richText?.str);super($,{isRenderable:X,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends C{constructor($){super($,{isRenderable:!0});const{filename:X,content:ne}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(X),this.content=ne,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:X,content:ne})}render(){this.container.className="fileAttachmentAnnotation";const $=document.createElement("div");return $.className="popupTriggerArea",$.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup($,this.data),this.container.append($),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class Z{static#e($,X,ne,oe){const ue=$.firstChild||$;ue.id=`${c.AnnotationPrefix}${X}`,ne.append($),oe?.moveElementInDOM(ne,$,ue,!1)}static render($){const{annotations:X,div:ne,viewport:oe,accessibilityManager:ue}=$;this.#t(ne,oe);let fe=0;for(const le of X){if(le.annotationType!==a.AnnotationType.POPUP){const{width:de,height:re}=t(le.rect);if(de<=0||re<=0)continue}const ae=b.create({data:le,layer:ne,page:$.page,viewport:oe,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:$.annotationStorage||new o.AnnotationStorage,enableScripting:$.enableScripting,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,mouseState:$.mouseState||{isDown:!1}});if(ae.isRenderable){const de=ae.render();if(le.hidden&&(de.style.visibility="hidden"),Array.isArray(de))for(const re of de)re.style.zIndex=fe++,Z.#e(re,le.id,ne,ue);else de.style.zIndex=fe++,ae instanceof D?ne.prepend(de):Z.#e(de,le.id,ne,ue)}}this.#r(ne,$.annotationCanvasMap)}static update($){const{annotationCanvasMap:X,div:ne,viewport:oe}=$;this.#t(ne,oe),this.#r(ne,X),ne.hidden=!1}static#t($,{width:X,height:ne,rotation:oe}){const{style:ue}=$,fe=oe%180!==0,le=Math.floor(X)+"px",ae=Math.floor(ne)+"px";ue.width=fe?ae:le,ue.height=fe?le:ae,$.setAttribute("data-main-rotation",oe)}static#r($,X){if(X){for(const[ne,oe]of X){const ue=$.querySelector(`[data-annotation-id="${ne}"]`);if(!ue)continue;const{firstChild:fe}=ue;fe?fe.nodeName==="CANVAS"?fe.replaceWith(oe):fe.before(oe):ue.append(oe)}X.clear()}}}e.AnnotationLayer=Z},(A,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function r(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}class a{static CMYK_G([o,f,s,g]){return["G",1-Math.min(1,.3*o+.59*s+.11*f+g)]}static G_CMYK([o]){return["CMYK",0,0,0,1-o]}static G_RGB([o]){return["RGB",o,o,o]}static G_HTML([o]){const f=r(o);return`#${f}${f}${f}`}static RGB_G([o,f,s]){return["G",.3*o+.59*f+.11*s]}static RGB_HTML([o,f,s]){const g=r(o),m=r(f),p=r(s);return`#${g}${m}${p}`}static T_HTML(){return"#00000000"}static CMYK_RGB([o,f,s,g]){return["RGB",1-Math.min(1,o+g),1-Math.min(1,s+g),1-Math.min(1,f+g)]}static CMYK_HTML(o){const f=this.CMYK_RGB(o).slice(1);return this.RGB_HTML(f)}static RGB_CMYK([o,f,s]){const g=1-o,m=1-f,p=1-s,t=Math.min(g,m,p);return["CMYK",g,m,p,t]}}e.ColorConverters=a},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var a=r(20);class c{static setupStorage(f,s,g,m,p){const t=m.getValue(s,{value:null});switch(g.name){case"textarea":if(t.value!==null&&(f.textContent=t.value),p==="print")break;f.addEventListener("input",b=>{m.setValue(s,{value:b.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if(t.value===g.attributes.xfaOn?f.setAttribute("checked",!0):t.value===g.attributes.xfaOff&&f.removeAttribute("checked"),p==="print")break;f.addEventListener("change",b=>{m.setValue(s,{value:b.target.checked?b.target.getAttribute("xfaOn"):b.target.getAttribute("xfaOff")})})}else{if(t.value!==null&&f.setAttribute("value",t.value),p==="print")break;f.addEventListener("input",b=>{m.setValue(s,{value:b.target.value})})}break;case"select":if(t.value!==null)for(const b of g.children)b.attributes.value===t.value&&(b.attributes.selected=!0);f.addEventListener("input",b=>{const C=b.target.options,w=C.selectedIndex===-1?"":C[C.selectedIndex].value;m.setValue(s,{value:w})});break}}static setAttributes({html:f,element:s,storage:g=null,intent:m,linkService:p}){const{attributes:t}=s,b=f instanceof HTMLAnchorElement;t.type==="radio"&&(t.name=`${t.name}-${m}`);for(const[C,w]of Object.entries(t))if(w!=null)switch(C){case"class":w.length&&f.setAttribute(C,w.join(" "));break;case"dataId":break;case"id":f.setAttribute("data-element-id",w);break;case"style":Object.assign(f.style,w);break;case"textContent":f.textContent=w;break;default:(!b||C!=="href"&&C!=="newWindow")&&f.setAttribute(C,w)}b&&p.addLinkAttributes(f,t.href,t.newWindow),g&&t.dataId&&this.setupStorage(f,t.dataId,s,g)}static render(f){const s=f.annotationStorage,g=f.linkService,m=f.xfaHtml,p=f.intent||"display",t=document.createElement(m.name);m.attributes&&this.setAttributes({html:t,element:m,intent:p,linkService:g});const b=[[m,-1,t]],C=f.div;if(C.append(t),f.viewport){const v=`matrix(${f.viewport.transform.join(",")})`;C.style.transform=v}p!=="richText"&&C.setAttribute("class","xfaLayer xfaFont");const w=[];for(;b.length>0;){const[v,M,y]=b.at(-1);if(M+1===v.children.length){b.pop();continue}const I=v.children[++b.at(-1)[1]];if(I===null)continue;const{name:P}=I;if(P==="#text"){const k=document.createTextNode(I.value);w.push(k),y.append(k);continue}let _;if(I?.attributes?.xmlns?_=document.createElementNS(I.attributes.xmlns,P):_=document.createElement(P),y.append(_),I.attributes&&this.setAttributes({html:_,element:I,storage:s,intent:p,linkService:g}),I.children&&I.children.length>0)b.push([I,-1,_]);else if(I.value){const k=document.createTextNode(I.value);a.XfaText.shouldBuildText(P)&&w.push(k),_.append(k)}}for(const v of C.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:w}}static update(f){const s=`matrix(${f.viewport.transform.join(",")})`;f.div.style.transform=s,f.div.hidden=!1}}e.XfaLayer=c},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=I;var a=r(1),c=r(8);const o=1e5,f=30,s=.8,g=new Map,m=/^\s+$/g;function p(P,_){const k=g.get(P);if(k)return k;_.save(),_.font=`${f}px ${P}`;const D=_.measureText("");let V=D.fontBoundingBoxAscent,R=Math.abs(D.fontBoundingBoxDescent);if(V){_.restore();const te=V/(V+R);return g.set(P,te),te}_.strokeStyle="red",_.clearRect(0,0,f,f),_.strokeText("g",0,0);let U=_.getImageData(0,0,f,f).data;R=0;for(let te=U.length-1-3;te>=0;te-=4)if(U[te]>0){R=Math.ceil(te/4/f);break}_.clearRect(0,0,f,f),_.strokeText("A",0,f),U=_.getImageData(0,0,f,f).data,V=0;for(let te=0,B=U.length;te<B;te+=4)if(U[te]>0){V=f-Math.floor(te/4/f);break}if(_.restore(),V){const te=V/(V+R);return g.set(P,te),te}return g.set(P,s),s}function t(P,_,k,D){const V=document.createElement("span"),R=P._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,fontSize:0};P._textDivs.push(V);const U=a.Util.transform(P._viewport.transform,_.transform);let te=Math.atan2(U[1],U[0]);const B=k[_.fontName];B.vertical&&(te+=Math.PI/2);const j=Math.hypot(U[2],U[3]),ie=j*p(B.fontFamily,D);let E,L;te===0?(E=U[4],L=U[5]-ie):(E=U[4]+ie*Math.sin(te),L=U[5]-ie*Math.cos(te)),V.style.left=`${E}px`,V.style.top=`${L}px`,V.style.fontSize=`${j}px`,V.style.fontFamily=B.fontFamily,R.fontSize=j,V.setAttribute("role","presentation"),V.textContent=_.str,V.dir=_.dir,P._fontInspectorEnabled&&(V.dataset.fontName=_.fontName),te!==0&&(R.angle=te*(180/Math.PI));let ee=!1;if(_.str.length>1||P._enhanceTextSelection&&m.test(_.str))ee=!0;else if(_.str!==" "&&_.transform[0]!==_.transform[3]){const J=Math.abs(_.transform[0]),Y=Math.abs(_.transform[3]);J!==Y&&Math.max(J,Y)/Math.min(J,Y)>1.5&&(ee=!0)}if(ee&&(B.vertical?R.canvasWidth=_.height*P._viewport.scale:R.canvasWidth=_.width*P._viewport.scale),P._textDivProperties.set(V,R),P._textContentStream&&P._layoutText(V),P._enhanceTextSelection&&R.hasText){let J=1,Y=0;te!==0&&(J=Math.cos(te),Y=Math.sin(te));const q=(B.vertical?_.height:_.width)*P._viewport.scale,F=j;let O,Z;te!==0?(O=[J,Y,-Y,J,E,L],Z=a.Util.getAxialAlignedBoundingBox([0,0,q,F],O)):Z=[E,L,E+q,L+F],P._bounds.push({left:Z[0],top:Z[1],right:Z[2],bottom:Z[3],div:V,size:[q,F],m:O})}}function b(P){if(P._canceled)return;const _=P._textDivs,k=P._capability,D=_.length;if(D>o){P._renderingDone=!0,k.resolve();return}if(!P._textContentStream)for(let V=0;V<D;V++)P._layoutText(_[V]);P._renderingDone=!0,k.resolve()}function C(P,_,k){let D=0;for(let V=0;V<k;V++){const R=P[_++];R>0&&(D=D?Math.min(R,D):R)}return D}function w(P){const _=P._bounds,k=P._viewport,D=v(k.width,k.height,_);for(let V=0;V<D.length;V++){const R=_[V].div,U=P._textDivProperties.get(R);if(U.angle===0){U.paddingLeft=_[V].left-D[V].left,U.paddingTop=_[V].top-D[V].top,U.paddingRight=D[V].right-_[V].right,U.paddingBottom=D[V].bottom-_[V].bottom,P._textDivProperties.set(R,U);continue}const te=D[V],B=_[V],j=B.m,ie=j[0],E=j[1],L=[[0,0],[0,B.size[1]],[B.size[0],0],B.size],ee=new Float64Array(64);for(let Y=0,q=L.length;Y<q;Y++){const F=a.Util.applyTransform(L[Y],j);ee[Y+0]=ie&&(te.left-F[0])/ie,ee[Y+4]=E&&(te.top-F[1])/E,ee[Y+8]=ie&&(te.right-F[0])/ie,ee[Y+12]=E&&(te.bottom-F[1])/E,ee[Y+16]=E&&(te.left-F[0])/-E,ee[Y+20]=ie&&(te.top-F[1])/ie,ee[Y+24]=E&&(te.right-F[0])/-E,ee[Y+28]=ie&&(te.bottom-F[1])/ie,ee[Y+32]=ie&&(te.left-F[0])/-ie,ee[Y+36]=E&&(te.top-F[1])/-E,ee[Y+40]=ie&&(te.right-F[0])/-ie,ee[Y+44]=E&&(te.bottom-F[1])/-E,ee[Y+48]=E&&(te.left-F[0])/E,ee[Y+52]=ie&&(te.top-F[1])/-ie,ee[Y+56]=E&&(te.right-F[0])/E,ee[Y+60]=ie&&(te.bottom-F[1])/-ie}const J=1+Math.min(Math.abs(ie),Math.abs(E));U.paddingLeft=C(ee,32,16)/J,U.paddingTop=C(ee,48,16)/J,U.paddingRight=C(ee,0,16)/J,U.paddingBottom=C(ee,16,16)/J,P._textDivProperties.set(R,U)}}function v(P,_,k){const D=k.map(function(R,U){return{x1:R.left,y1:R.top,x2:R.right,y2:R.bottom,index:U,x1New:void 0,x2New:void 0}});M(P,D);const V=new Array(k.length);for(const R of D){const U=R.index;V[U]={left:R.x1New,top:0,right:R.x2New,bottom:0}}k.map(function(R,U){const te=V[U],B=D[U];B.x1=R.top,B.y1=P-te.right,B.x2=R.bottom,B.y2=P-te.left,B.index=U,B.x1New=void 0,B.x2New=void 0}),M(_,D);for(const R of D){const U=R.index;V[U].top=R.x1New,V[U].bottom=R.x2New}return V}function M(P,_){_.sort(function(V,R){return V.x1-R.x1||V.index-R.index});const D=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const V of _){let R=0;for(;R<D.length&&D[R].end<=V.y1;)R++;let U=D.length-1;for(;U>=0&&D[U].start>=V.y2;)U--;let te,B,j,ie,E=-1/0;for(j=R;j<=U;j++){te=D[j],B=te.boundary;let J;B.x2>V.x1?J=B.index>V.index?B.x1New:V.x1:B.x2New===void 0?J=(B.x2+V.x1)/2:J=B.x2New,J>E&&(E=J)}for(V.x1New=E,j=R;j<=U;j++)te=D[j],B=te.boundary,B.x2New===void 0?B.x2>V.x1?B.index>V.index&&(B.x2New=B.x2):B.x2New=E:B.x2New>E&&(B.x2New=Math.max(E,B.x2));const L=[];let ee=null;for(j=R;j<=U;j++){te=D[j],B=te.boundary;const J=B.x2>V.x2?B:V;ee===J?L.at(-1).end=te.end:(L.push({start:te.start,end:te.end,boundary:J}),ee=J)}for(D[R].start<V.y1&&(L[0].start=V.y1,L.unshift({start:D[R].start,end:V.y1,boundary:D[R].boundary})),V.y2<D[U].end&&(L.at(-1).end=V.y2,L.push({start:V.y2,end:D[U].end,boundary:D[U].boundary})),j=R;j<=U;j++){if(te=D[j],B=te.boundary,B.x2New!==void 0)continue;let J=!1;for(ie=R-1;!J&&ie>=0&&D[ie].start>=B.y1;ie--)J=D[ie].boundary===B;for(ie=U+1;!J&&ie<D.length&&D[ie].end<=B.y2;ie++)J=D[ie].boundary===B;for(ie=0;!J&&ie<L.length;ie++)J=L[ie].boundary===B;J||(B.x2New=E)}Array.prototype.splice.apply(D,[R,U-R+1,...L])}for(const V of D){const R=V.boundary;R.x2New===void 0&&(R.x2New=Math.max(P,R.x2))}}class y{constructor({textContent:_,textContentStream:k,container:D,viewport:V,textDivs:R,textContentItemsStr:U,enhanceTextSelection:te}){te&&(0,c.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=_,this._textContentStream=k,this._container=D,this._document=D.ownerDocument,this._viewport=V,this._textDivs=R||[],this._textContentItemsStr=U||[],this._enhanceTextSelection=!!te,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(_,k){for(let D=0,V=_.length;D<V;D++){if(_[D].str===void 0){if(_[D].type==="beginMarkedContentProps"||_[D].type==="beginMarkedContent"){const R=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),_[D].id!==null&&this._container.setAttribute("id",`${_[D].id}`),R.append(this._container)}else _[D].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(_[D].str),t(this,_[D],k,this._layoutTextCtx)}}_layoutText(_){const k=this._textDivProperties.get(_);let D="";if(k.canvasWidth!==0&&k.hasText){const{fontFamily:V}=_.style,{fontSize:R}=k;(R!==this._layoutTextLastFontSize||V!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${R*this._devicePixelRatio}px ${V}`,this._layoutTextLastFontSize=R,this._layoutTextLastFontFamily=V);const{width:U}=this._layoutTextCtx.measureText(_.textContent);if(U>0){const te=this._devicePixelRatio*k.canvasWidth/U;this._enhanceTextSelection&&(k.scale=te),D=`scaleX(${te})`}}if(k.angle!==0&&(D=`rotate(${k.angle}deg) ${D}`),D.length>0&&(this._enhanceTextSelection&&(k.originalTransform=D),_.style.transform=D),k.hasText&&this._container.append(_),k.hasEOL){const V=document.createElement("br");V.setAttribute("role","presentation"),this._container.append(V)}}_render(_=0){const k=(0,a.createPromiseCapability)();let D=Object.create(null);const V=this._document.createElement("canvas");if(V.height=V.width=f,this._layoutTextCtx=V.getContext("2d",{alpha:!1}),this._textContent){const R=this._textContent.items,U=this._textContent.styles;this._processItems(R,U),k.resolve()}else if(this._textContentStream){const R=()=>{this._reader.read().then(({value:U,done:te})=>{if(te){k.resolve();return}Object.assign(D,U.styles),this._processItems(U.items,D),R()},k.reject)};this._reader=this._textContentStream.getReader(),R()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');k.promise.then(()=>{D=null,_?this._renderTimer=setTimeout(()=>{b(this),this._renderTimer=null},_):b(this)},this._capability.reject)}expandTextDivs(_=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(w(this),this._bounds=null);const k=[],D=[];for(let V=0,R=this._textDivs.length;V<R;V++){const U=this._textDivs[V],te=this._textDivProperties.get(U);te.hasText&&(_?(k.length=0,D.length=0,te.originalTransform&&k.push(te.originalTransform),te.paddingTop>0?(D.push(`${te.paddingTop}px`),k.push(`translateY(${-te.paddingTop}px)`)):D.push(0),te.paddingRight>0?D.push(`${te.paddingRight/te.scale}px`):D.push(0),te.paddingBottom>0?D.push(`${te.paddingBottom}px`):D.push(0),te.paddingLeft>0?(D.push(`${te.paddingLeft/te.scale}px`),k.push(`translateX(${-te.paddingLeft/te.scale}px)`)):D.push(0),U.style.padding=D.join(" "),k.length&&(U.style.transform=k.join(" "))):(U.style.padding=null,U.style.transform=te.originalTransform))}}}e.TextLayerRenderTask=y;function I(P){const _=new y({textContent:P.textContent,textContentStream:P.textContentStream,container:P.container,viewport:P.viewport,textDivs:P.textDivs,textContentItemsStr:P.textContentItemsStr,enhanceTextSelection:P.enhanceTextSelection});return _._render(P.timeout),_}},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var a=r(8),c=r(1),o=r(3);let f=class{constructor(){(0,c.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=f;{let I=function(R){let U=[];const te=[];for(const B of R){if(B.fn==="save"){U.push({fnId:92,fn:"group",items:[]}),te.push(U),U=U.at(-1).items;continue}B.fn==="restore"?U=te.pop():U.push(B)}return U},P=function(R){if(Number.isInteger(R))return R.toString();const U=R.toFixed(10);let te=U.length-1;if(U[te]!=="0")return U;do te--;while(U[te]==="0");return U.substring(0,U[te]==="."?te:te+1)},_=function(R){if(R[4]===0&&R[5]===0){if(R[1]===0&&R[2]===0)return R[0]===1&&R[3]===1?"":`scale(${P(R[0])} ${P(R[3])})`;if(R[0]===R[3]&&R[1]===-R[2]){const U=Math.acos(R[0])*180/Math.PI;return`rotate(${P(U)})`}}else if(R[0]===1&&R[1]===0&&R[2]===0&&R[3]===1)return`translate(${P(R[4])} ${P(R[5])})`;return`matrix(${P(R[0])} ${P(R[1])} ${P(R[2])} ${P(R[3])} ${P(R[4])} ${P(R[5])})`};var s=I,g=P,m=_;const p={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},t="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",C=["butt","round","square"],w=["miter","round","bevel"],v=function(R,U="",te=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!te)return URL.createObjectURL(new Blob([R],{type:U}));const B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let j=`data:${U};base64,`;for(let ie=0,E=R.length;ie<E;ie+=3){const L=R[ie]&255,ee=R[ie+1]&255,J=R[ie+2]&255,Y=L>>2,q=(L&3)<<4|ee>>4,F=ie+1<E?(ee&15)<<2|J>>6:64,O=ie+2<E?J&63:64;j+=B[Y]+B[q]+B[F]+B[O]}return j},M=function(){const R=new Uint8Array([137,80,78,71,13,10,26,10]),U=12,te=new Int32Array(256);for(let J=0;J<256;J++){let Y=J;for(let q=0;q<8;q++)Y&1?Y=3988292384^Y>>1&2147483647:Y=Y>>1&2147483647;te[J]=Y}function B(J,Y,q){let F=-1;for(let O=Y;O<q;O++){const Z=(F^J[O])&255,se=te[Z];F=F>>>8^se}return F^-1}function j(J,Y,q,F){let O=F;const Z=Y.length;q[O]=Z>>24&255,q[O+1]=Z>>16&255,q[O+2]=Z>>8&255,q[O+3]=Z&255,O+=4,q[O]=J.charCodeAt(0)&255,q[O+1]=J.charCodeAt(1)&255,q[O+2]=J.charCodeAt(2)&255,q[O+3]=J.charCodeAt(3)&255,O+=4,q.set(Y,O),O+=Y.length;const se=B(q,F+4,O);q[O]=se>>24&255,q[O+1]=se>>16&255,q[O+2]=se>>8&255,q[O+3]=se&255}function ie(J,Y,q){let F=1,O=0;for(let Z=Y;Z<q;++Z)F=(F+(J[Z]&255))%65521,O=(O+F)%65521;return O<<16|F}function E(J){if(!o.isNodeJS)return L(J);try{let Y;parseInt(process.versions.node)>=8?Y=J:Y=Buffer.from(J);const q=require$$5.deflateSync(Y,{level:9});return q instanceof Uint8Array?q:new Uint8Array(q)}catch(Y){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Y)}return L(J)}function L(J){let Y=J.length;const q=65535,F=Math.ceil(Y/q),O=new Uint8Array(2+Y+F*5+4);let Z=0;O[Z++]=120,O[Z++]=156;let se=0;for(;Y>q;)O[Z++]=0,O[Z++]=255,O[Z++]=255,O[Z++]=0,O[Z++]=0,O.set(J.subarray(se,se+q),Z),Z+=q,se+=q,Y-=q;O[Z++]=1,O[Z++]=Y&255,O[Z++]=Y>>8&255,O[Z++]=~Y&65535&255,O[Z++]=(~Y&65535)>>8&255,O.set(J.subarray(se),Z),Z+=J.length-se;const $=ie(J,0,J.length);return O[Z++]=$>>24&255,O[Z++]=$>>16&255,O[Z++]=$>>8&255,O[Z++]=$&255,O}function ee(J,Y,q,F){const O=J.width,Z=J.height;let se,$,X;const ne=J.data;switch(Y){case c.ImageKind.GRAYSCALE_1BPP:$=0,se=1,X=O+7>>3;break;case c.ImageKind.RGB_24BPP:$=2,se=8,X=O*3;break;case c.ImageKind.RGBA_32BPP:$=6,se=8,X=O*4;break;default:throw new Error("invalid format")}const oe=new Uint8Array((1+X)*Z);let ue=0,fe=0;for(let ce=0;ce<Z;++ce)oe[ue++]=0,oe.set(ne.subarray(fe,fe+X),ue),fe+=X,ue+=X;if(Y===c.ImageKind.GRAYSCALE_1BPP&&F){ue=0;for(let ce=0;ce<Z;ce++){ue++;for(let he=0;he<X;he++)oe[ue++]^=255}}const le=new Uint8Array([O>>24&255,O>>16&255,O>>8&255,O&255,Z>>24&255,Z>>16&255,Z>>8&255,Z&255,se,$,0,0,0]),ae=E(oe),de=R.length+U*3+le.length+ae.length,re=new Uint8Array(de);let Q=0;return re.set(R,Q),Q+=R.length,j("IHDR",le,re,Q),Q+=U+le.length,j("IDATA",ae,re,Q),Q+=U+ae.length,j("IEND",new Uint8Array(0),re,Q),v(re,"image/png",q)}return function(Y,q,F){const O=Y.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:Y.kind;return ee(Y,O,q,F)}}();class y{constructor(){this.fontSizeScale=1,this.fontWeight=p.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=p.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(U,te){this.x=U,this.y=te}}let k=0,D=0,V=0;e.SVGGraphics=f=class{constructor(R,U,te=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new y,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=R,this.objs=U,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!te,this._operatorIdMapping=[];for(const B in c.OPS)this._operatorIdMapping[c.OPS[B]]=B}save(){this.transformStack.push(this.transformMatrix);const R=this.current;this.extraStack.push(R),this.current=R.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(R){this.save(),this.executeOpTree(R),this.restore()}loadDependencies(R){const U=R.fnArray,te=R.argsArray;for(let B=0,j=U.length;B<j;B++)if(U[B]===c.OPS.dependency)for(const ie of te[B]){const E=ie.startsWith("g_")?this.commonObjs:this.objs,L=new Promise(ee=>{E.get(ie,ee)});this.current.dependencies.push(L)}return Promise.all(this.current.dependencies)}transform(R,U,te,B,j,ie){const E=[R,U,te,B,j,ie];this.transformMatrix=c.Util.transform(this.transformMatrix,E),this.tgrp=null}getSVG(R,U){this.viewport=U;const te=this._initialize(U);return this.loadDependencies(R).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(R)),te))}convertOpList(R){const U=this._operatorIdMapping,te=R.argsArray,B=R.fnArray,j=[];for(let ie=0,E=B.length;ie<E;ie++){const L=B[ie];j.push({fnId:L,fn:U[L],args:te[ie]})}return I(j)}executeOpTree(R){for(const U of R){const te=U.fn,B=U.fnId,j=U.args;switch(B|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(j);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(j[0],j[1]);break;case c.OPS.setFont:this.setFont(j);break;case c.OPS.showText:this.showText(j[0]);break;case c.OPS.showSpacedText:this.showText(j[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(j[0],j[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(j[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(j[0]);break;case c.OPS.setHScale:this.setHScale(j[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(j[0],j[1],j[2],j[3],j[4],j[5]);break;case c.OPS.setTextRise:this.setTextRise(j[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(j[0]);break;case c.OPS.setLineWidth:this.setLineWidth(j[0]);break;case c.OPS.setLineJoin:this.setLineJoin(j[0]);break;case c.OPS.setLineCap:this.setLineCap(j[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(j[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(j[0],j[1],j[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(j[0],j[1],j[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(j);break;case c.OPS.setFillColorN:this.setFillColorN(j);break;case c.OPS.shadingFill:this.shadingFill(j[0]);break;case c.OPS.setDash:this.setDash(j[0],j[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(j[0]);break;case c.OPS.setFlatness:this.setFlatness(j[0]);break;case c.OPS.setGState:this.setGState(j[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(j[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(j[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(j[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(j[0],j[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(j[0],j[1],j[2],j[3],j[4],j[5]);break;case c.OPS.constructPath:this.constructPath(j[0],j[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(U.items);break;default:(0,c.warn)(`Unimplemented operator ${te}`);break}}}setWordSpacing(R){this.current.wordSpacing=R}setCharSpacing(R){this.current.charSpacing=R}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(R,U,te,B,j,ie){const E=this.current;E.textMatrix=E.lineMatrix=[R,U,te,B,j,ie],E.textMatrixScale=Math.hypot(R,U),E.x=E.lineX=0,E.y=E.lineY=0,E.xcoords=[],E.ycoords=[],E.tspan=this.svgFactory.createElement("svg:tspan"),E.tspan.setAttributeNS(null,"font-family",E.fontFamily),E.tspan.setAttributeNS(null,"font-size",`${P(E.fontSize)}px`),E.tspan.setAttributeNS(null,"y",P(-E.y)),E.txtElement=this.svgFactory.createElement("svg:text"),E.txtElement.append(E.tspan)}beginText(){const R=this.current;R.x=R.lineX=0,R.y=R.lineY=0,R.textMatrix=c.IDENTITY_MATRIX,R.lineMatrix=c.IDENTITY_MATRIX,R.textMatrixScale=1,R.tspan=this.svgFactory.createElement("svg:tspan"),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtgrp=this.svgFactory.createElement("svg:g"),R.xcoords=[],R.ycoords=[]}moveText(R,U){const te=this.current;te.x=te.lineX+=R,te.y=te.lineY+=U,te.xcoords=[],te.ycoords=[],te.tspan=this.svgFactory.createElement("svg:tspan"),te.tspan.setAttributeNS(null,"font-family",te.fontFamily),te.tspan.setAttributeNS(null,"font-size",`${P(te.fontSize)}px`),te.tspan.setAttributeNS(null,"y",P(-te.y))}showText(R){const U=this.current,te=U.font,B=U.fontSize;if(B===0)return;const j=U.fontSizeScale,ie=U.charSpacing,E=U.wordSpacing,L=U.fontDirection,ee=U.textHScale*L,J=te.vertical,Y=J?1:-1,q=te.defaultVMetrics,F=B*U.fontMatrix[0];let O=0;for(const $ of R){if($===null){O+=L*E;continue}else if(typeof $=="number"){O+=Y*$*B/1e3;continue}const X=($.isSpace?E:0)+ie,ne=$.fontChar;let oe,ue,fe=$.width;if(J){let ae;const de=$.vmetric||q;ae=$.vmetric?de[1]:fe*.5,ae=-ae*F;const re=de[2]*F;fe=de?-de[0]:fe,oe=ae/j,ue=(O+re)/j}else oe=O/j,ue=0;($.isInFont||te.missingFile)&&(U.xcoords.push(U.x+oe),J&&U.ycoords.push(-U.y+ue),U.tspan.textContent+=ne);let le;J?le=fe*F-X*L:le=fe*F+X*L,O+=le}U.tspan.setAttributeNS(null,"x",U.xcoords.map(P).join(" ")),J?U.tspan.setAttributeNS(null,"y",U.ycoords.map(P).join(" ")):U.tspan.setAttributeNS(null,"y",P(-U.y)),J?U.y-=O:U.x+=O*ee,U.tspan.setAttributeNS(null,"font-family",U.fontFamily),U.tspan.setAttributeNS(null,"font-size",`${P(U.fontSize)}px`),U.fontStyle!==p.fontStyle&&U.tspan.setAttributeNS(null,"font-style",U.fontStyle),U.fontWeight!==p.fontWeight&&U.tspan.setAttributeNS(null,"font-weight",U.fontWeight);const Z=U.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(Z===c.TextRenderingMode.FILL||Z===c.TextRenderingMode.FILL_STROKE?(U.fillColor!==p.fillColor&&U.tspan.setAttributeNS(null,"fill",U.fillColor),U.fillAlpha<1&&U.tspan.setAttributeNS(null,"fill-opacity",U.fillAlpha)):U.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?U.tspan.setAttributeNS(null,"fill","transparent"):U.tspan.setAttributeNS(null,"fill","none"),Z===c.TextRenderingMode.STROKE||Z===c.TextRenderingMode.FILL_STROKE){const $=1/(U.textMatrixScale||1);this._setStrokeAttributes(U.tspan,$)}let se=U.textMatrix;U.textRise!==0&&(se=se.slice(),se[5]+=U.textRise),U.txtElement.setAttributeNS(null,"transform",`${_(se)} scale(${P(ee)}, -1)`),U.txtElement.setAttributeNS(t,"xml:space","preserve"),U.txtElement.append(U.tspan),U.txtgrp.append(U.txtElement),this._ensureTransformGroup().append(U.txtElement)}setLeadingMoveText(R,U){this.setLeading(-U),this.moveText(R,U)}addFontStyle(R){if(!R.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const U=v(R.data,R.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${R.loadedName}"; src: url(${U}); }
`}setFont(R){const U=this.current,te=this.commonObjs.get(R[0]);let B=R[1];U.font=te,this.embedFonts&&!te.missingFile&&!this.embeddedFonts[te.loadedName]&&(this.addFontStyle(te),this.embeddedFonts[te.loadedName]=te),U.fontMatrix=te.fontMatrix||c.FONT_IDENTITY_MATRIX;let j="normal";te.black?j="900":te.bold&&(j="bold");const ie=te.italic?"italic":"normal";B<0?(B=-B,U.fontDirection=-1):U.fontDirection=1,U.fontSize=B,U.fontFamily=te.loadedName,U.fontWeight=j,U.fontStyle=ie,U.tspan=this.svgFactory.createElement("svg:tspan"),U.tspan.setAttributeNS(null,"y",P(-U.y)),U.xcoords=[],U.ycoords=[]}endText(){const R=this.current;R.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&R.txtElement?.hasChildNodes()&&(R.element=R.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(R){R>0&&(this.current.lineWidth=R)}setLineCap(R){this.current.lineCap=C[R]}setLineJoin(R){this.current.lineJoin=w[R]}setMiterLimit(R){this.current.miterLimit=R}setStrokeAlpha(R){this.current.strokeAlpha=R}setStrokeRGBColor(R,U,te){this.current.strokeColor=c.Util.makeHexColor(R,U,te)}setFillAlpha(R){this.current.fillAlpha=R}setFillRGBColor(R,U,te){this.current.fillColor=c.Util.makeHexColor(R,U,te),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(R){this.current.strokeColor=this._makeColorN_Pattern(R)}setFillColorN(R){this.current.fillColor=this._makeColorN_Pattern(R)}shadingFill(R){const U=this.viewport.width,te=this.viewport.height,B=c.Util.inverseTransform(this.transformMatrix),j=c.Util.applyTransform([0,0],B),ie=c.Util.applyTransform([0,te],B),E=c.Util.applyTransform([U,0],B),L=c.Util.applyTransform([U,te],B),ee=Math.min(j[0],ie[0],E[0],L[0]),J=Math.min(j[1],ie[1],E[1],L[1]),Y=Math.max(j[0],ie[0],E[0],L[0]),q=Math.max(j[1],ie[1],E[1],L[1]),F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x",ee),F.setAttributeNS(null,"y",J),F.setAttributeNS(null,"width",Y-ee),F.setAttributeNS(null,"height",q-J),F.setAttributeNS(null,"fill",this._makeShadingPattern(R)),this.current.fillAlpha<1&&F.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(F)}_makeColorN_Pattern(R){return R[0]==="TilingPattern"?this._makeTilingPattern(R):this._makeShadingPattern(R)}_makeTilingPattern(R){const U=R[1],te=R[2],B=R[3]||c.IDENTITY_MATRIX,[j,ie,E,L]=R[4],ee=R[5],J=R[6],Y=R[7],q=`shading${V++}`,[F,O,Z,se]=c.Util.normalizeRect([...c.Util.applyTransform([j,ie],B),...c.Util.applyTransform([E,L],B)]),[$,X]=c.Util.singularValueDecompose2dScale(B),ne=ee*$,oe=J*X,ue=this.svgFactory.createElement("svg:pattern");ue.setAttributeNS(null,"id",q),ue.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ue.setAttributeNS(null,"width",ne),ue.setAttributeNS(null,"height",oe),ue.setAttributeNS(null,"x",`${F}`),ue.setAttributeNS(null,"y",`${O}`);const fe=this.svg,le=this.transformMatrix,ae=this.current.fillColor,de=this.current.strokeColor,re=this.svgFactory.create(Z-F,se-O);if(this.svg=re,this.transformMatrix=B,Y===2){const Q=c.Util.makeHexColor(...U);this.current.fillColor=Q,this.current.strokeColor=Q}return this.executeOpTree(this.convertOpList(te)),this.svg=fe,this.transformMatrix=le,this.current.fillColor=ae,this.current.strokeColor=de,ue.append(re.childNodes[0]),this.defs.append(ue),`url(#${q})`}_makeShadingPattern(R){switch(typeof R=="string"&&(R=this.objs.get(R)),R[0]){case"RadialAxial":const U=`shading${V++}`,te=R[3];let B;switch(R[1]){case"axial":const j=R[4],ie=R[5];B=this.svgFactory.createElement("svg:linearGradient"),B.setAttributeNS(null,"id",U),B.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),B.setAttributeNS(null,"x1",j[0]),B.setAttributeNS(null,"y1",j[1]),B.setAttributeNS(null,"x2",ie[0]),B.setAttributeNS(null,"y2",ie[1]);break;case"radial":const E=R[4],L=R[5],ee=R[6],J=R[7];B=this.svgFactory.createElement("svg:radialGradient"),B.setAttributeNS(null,"id",U),B.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),B.setAttributeNS(null,"cx",L[0]),B.setAttributeNS(null,"cy",L[1]),B.setAttributeNS(null,"r",J),B.setAttributeNS(null,"fx",E[0]),B.setAttributeNS(null,"fy",E[1]),B.setAttributeNS(null,"fr",ee);break;default:throw new Error(`Unknown RadialAxial type: ${R[1]}`)}for(const j of te){const ie=this.svgFactory.createElement("svg:stop");ie.setAttributeNS(null,"offset",j[0]),ie.setAttributeNS(null,"stop-color",j[1]),B.append(ie)}return this.defs.append(B),`url(#${U})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${R[0]}`)}}setDash(R,U){this.current.dashArray=R,this.current.dashPhase=U}constructPath(R,U){const te=this.current;let B=te.x,j=te.y,ie=[],E=0;for(const L of R)switch(L|0){case c.OPS.rectangle:B=U[E++],j=U[E++];const ee=U[E++],J=U[E++],Y=B+ee,q=j+J;ie.push("M",P(B),P(j),"L",P(Y),P(j),"L",P(Y),P(q),"L",P(B),P(q),"Z");break;case c.OPS.moveTo:B=U[E++],j=U[E++],ie.push("M",P(B),P(j));break;case c.OPS.lineTo:B=U[E++],j=U[E++],ie.push("L",P(B),P(j));break;case c.OPS.curveTo:B=U[E+4],j=U[E+5],ie.push("C",P(U[E]),P(U[E+1]),P(U[E+2]),P(U[E+3]),P(B),P(j)),E+=6;break;case c.OPS.curveTo2:ie.push("C",P(B),P(j),P(U[E]),P(U[E+1]),P(U[E+2]),P(U[E+3])),B=U[E+2],j=U[E+3],E+=4;break;case c.OPS.curveTo3:B=U[E+2],j=U[E+3],ie.push("C",P(U[E]),P(U[E+1]),P(B),P(j),P(B),P(j)),E+=4;break;case c.OPS.closePath:ie.push("Z");break}ie=ie.join(" "),te.path&&R.length>0&&R[0]!==c.OPS.rectangle&&R[0]!==c.OPS.moveTo?ie=te.path.getAttributeNS(null,"d")+ie:(te.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(te.path)),te.path.setAttributeNS(null,"d",ie),te.path.setAttributeNS(null,"fill","none"),te.element=te.path,te.setCurrentPoint(B,j)}endPath(){const R=this.current;if(R.path=null,!this.pendingClip)return;if(!R.element){this.pendingClip=null;return}const U=`clippath${k++}`,te=this.svgFactory.createElement("svg:clipPath");te.setAttributeNS(null,"id",U),te.setAttributeNS(null,"transform",_(this.transformMatrix));const B=R.element.cloneNode(!0);if(this.pendingClip==="evenodd"?B.setAttributeNS(null,"clip-rule","evenodd"):B.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,te.append(B),this.defs.append(te),R.activeClipUrl){R.clipGroup=null;for(const j of this.extraStack)j.clipGroup=null;te.setAttributeNS(null,"clip-path",R.activeClipUrl)}R.activeClipUrl=`url(#${U})`,this.tgrp=null}clip(R){this.pendingClip=R}closePath(){const R=this.current;if(R.path){const U=`${R.path.getAttributeNS(null,"d")}Z`;R.path.setAttributeNS(null,"d",U)}}setLeading(R){this.current.leading=-R}setTextRise(R){this.current.textRise=R}setTextRenderingMode(R){this.current.textRenderingMode=R}setHScale(R){this.current.textHScale=R/100}setRenderingIntent(R){}setFlatness(R){}setGState(R){for(const[U,te]of R)switch(U){case"LW":this.setLineWidth(te);break;case"LC":this.setLineCap(te);break;case"LJ":this.setLineJoin(te);break;case"ML":this.setMiterLimit(te);break;case"D":this.setDash(te[0],te[1]);break;case"RI":this.setRenderingIntent(te);break;case"FL":this.setFlatness(te);break;case"Font":this.setFont(te);break;case"CA":this.setStrokeAlpha(te);break;case"ca":this.setFillAlpha(te);break;default:(0,c.warn)(`Unimplemented graphic state operator ${U}`);break}}fill(){const R=this.current;R.element&&(R.element.setAttributeNS(null,"fill",R.fillColor),R.element.setAttributeNS(null,"fill-opacity",R.fillAlpha),this.endPath())}stroke(){const R=this.current;R.element&&(this._setStrokeAttributes(R.element),R.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(R,U=1){const te=this.current;let B=te.dashArray;U!==1&&B.length>0&&(B=B.map(function(j){return U*j})),R.setAttributeNS(null,"stroke",te.strokeColor),R.setAttributeNS(null,"stroke-opacity",te.strokeAlpha),R.setAttributeNS(null,"stroke-miterlimit",P(te.miterLimit)),R.setAttributeNS(null,"stroke-linecap",te.lineCap),R.setAttributeNS(null,"stroke-linejoin",te.lineJoin),R.setAttributeNS(null,"stroke-width",P(U*te.lineWidth)+"px"),R.setAttributeNS(null,"stroke-dasharray",B.map(P).join(" ")),R.setAttributeNS(null,"stroke-dashoffset",P(U*te.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width","1px"),R.setAttributeNS(null,"height","1px"),R.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(R)}paintImageXObject(R){const U=R.startsWith("g_")?this.commonObjs.get(R):this.objs.get(R);if(!U){(0,c.warn)(`Dependent image with object ID ${R} is not ready yet`);return}this.paintInlineImageXObject(U)}paintInlineImageXObject(R,U){const te=R.width,B=R.height,j=M(R,this.forceDataSchema,!!U),ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x","0"),ie.setAttributeNS(null,"y","0"),ie.setAttributeNS(null,"width",P(te)),ie.setAttributeNS(null,"height",P(B)),this.current.element=ie,this.clip("nonzero");const E=this.svgFactory.createElement("svg:image");E.setAttributeNS(b,"xlink:href",j),E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y",P(-B)),E.setAttributeNS(null,"width",P(te)+"px"),E.setAttributeNS(null,"height",P(B)+"px"),E.setAttributeNS(null,"transform",`scale(${P(1/te)} ${P(-1/B)})`),U?U.append(E):this._ensureTransformGroup().append(E)}paintImageMaskXObject(R){const U=this.current,te=R.width,B=R.height,j=U.fillColor;U.maskId=`mask${D++}`;const ie=this.svgFactory.createElement("svg:mask");ie.setAttributeNS(null,"id",U.maskId);const E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width",P(te)),E.setAttributeNS(null,"height",P(B)),E.setAttributeNS(null,"fill",j),E.setAttributeNS(null,"mask",`url(#${U.maskId})`),this.defs.append(ie),this._ensureTransformGroup().append(E),this.paintInlineImageXObject(R,ie)}paintFormXObjectBegin(R,U){if(Array.isArray(R)&&R.length===6&&this.transform(R[0],R[1],R[2],R[3],R[4],R[5]),U){const te=U[2]-U[0],B=U[3]-U[1],j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x",U[0]),j.setAttributeNS(null,"y",U[1]),j.setAttributeNS(null,"width",P(te)),j.setAttributeNS(null,"height",P(B)),this.current.element=j,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(R){const U=this.svgFactory.create(R.width,R.height),te=this.svgFactory.createElement("svg:defs");U.append(te),this.defs=te;const B=this.svgFactory.createElement("svg:g");return B.setAttributeNS(null,"transform",_(R.transform)),U.append(B),this.svg=B,U}_ensureClipGroup(){if(!this.current.clipGroup){const R=this.svgFactory.createElement("svg:g");R.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(R),this.current.clipGroup=R}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",_(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var a=r(1),c=r(33);const o=require$$5,f=require$$5,s=require$$5,g=require$$5,m=/^file:\/\/\/[a-zA-Z]:\//;function p(P){const _=g.parse(P);return _.protocol==="file:"||_.host?_:/^[a-z]:[/\\]/i.test(P)?g.parse(`file:///${P}`):(_.host||(_.protocol="file:"),_)}class t{constructor(_){this.source=_,this.url=p(_.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&_.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new y(this):new v(this),this._fullRequestReader}getRangeReader(_,k){if(k<=this._progressiveDataLength)return null;const D=this.isFsUrl?new I(this,_,k):new M(this,_,k);return this._rangeRequestReaders.push(D),D}cancelAllRequests(_){this._fullRequestReader&&this._fullRequestReader.cancel(_);for(const k of this._rangeRequestReaders.slice(0))k.cancel(_)}}e.PDFNodeStream=t;class b{constructor(_){this._url=_.url,this._done=!1,this._storedError=null,this.onProgress=null;const k=_.source;this._contentLength=k.length,this._loaded=0,this._filename=null,this._disableRange=k.disableRange||!1,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!k.disableStream,this._isRangeSupported=!k.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const _=this._readableStream.read();return _===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=_.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(_).buffer,done:!1})}cancel(_){if(!this._readableStream){this._error(_);return}this._readableStream.destroy(_)}_error(_){this._storedError=_,this._readCapability.resolve()}_setReadableStream(_){this._readableStream=_,_.on("readable",()=>{this._readCapability.resolve()}),_.on("end",()=>{_.destroy(),this._done=!0,this._readCapability.resolve()}),_.on("error",k=>{this._error(k)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class C{constructor(_){this._url=_.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();const k=_.source;this._isStreamingSupported=!k.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const _=this._readableStream.read();return _===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=_.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(_).buffer,done:!1})}cancel(_){if(!this._readableStream){this._error(_);return}this._readableStream.destroy(_)}_error(_){this._storedError=_,this._readCapability.resolve()}_setReadableStream(_){this._readableStream=_,_.on("readable",()=>{this._readCapability.resolve()}),_.on("end",()=>{_.destroy(),this._done=!0,this._readCapability.resolve()}),_.on("error",k=>{this._error(k)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function w(P,_){return{protocol:P.protocol,auth:P.auth,host:P.hostname,port:P.port,path:P.path,method:"GET",headers:_}}class v extends b{constructor(_){super(_);const k=D=>{if(D.statusCode===404){const te=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=te,this._headersCapability.reject(te);return}this._headersCapability.resolve(),this._setReadableStream(D);const V=te=>this._readableStream.headers[te.toLowerCase()],{allowRangeRequests:R,suggestedLength:U}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:V,isHttp:_.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=R,this._contentLength=U||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(V)};this._request=null,this._url.protocol==="http:"?this._request=f.request(w(this._url,_.httpHeaders),k):this._request=s.request(w(this._url,_.httpHeaders),k),this._request.on("error",D=>{this._storedError=D,this._headersCapability.reject(D)}),this._request.end()}}class M extends C{constructor(_,k,D){super(_),this._httpHeaders={};for(const R in _.httpHeaders){const U=_.httpHeaders[R];typeof U>"u"||(this._httpHeaders[R]=U)}this._httpHeaders.Range=`bytes=${k}-${D-1}`;const V=R=>{if(R.statusCode===404){const U=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=U;return}this._setReadableStream(R)};this._request=null,this._url.protocol==="http:"?this._request=f.request(w(this._url,this._httpHeaders),V):this._request=s.request(w(this._url,this._httpHeaders),V),this._request.on("error",R=>{this._storedError=R}),this._request.end()}}class y extends b{constructor(_){super(_);let k=decodeURIComponent(this._url.path);m.test(this._url.href)&&(k=k.replace(/^\//,"")),o.lstat(k,(D,V)=>{if(D){D.code==="ENOENT"&&(D=new a.MissingPDFException(`Missing PDF "${k}".`)),this._storedError=D,this._headersCapability.reject(D);return}this._contentLength=V.size,this._setReadableStream(o.createReadStream(k)),this._headersCapability.resolve()})}}class I extends C{constructor(_,k,D){super(_);let V=decodeURIComponent(this._url.path);m.test(this._url.href)&&(V=V.replace(/^\//,"")),this._setReadableStream(o.createReadStream(V,{start:k,end:D-1}))}}},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=g,e.extractFilenameFromHeader=s,e.validateRangeRequestCapabilities=f,e.validateResponseStatus=m;var a=r(1),c=r(34),o=r(8);function f({getResponseHeader:p,isHttp:t,rangeChunkSize:b,disableRange:C}){const w={allowRangeRequests:!1,suggestedLength:void 0},v=parseInt(p("Content-Length"),10);return!Number.isInteger(v)||(w.suggestedLength=v,v<=2*b)||C||!t||p("Accept-Ranges")!=="bytes"||(p("Content-Encoding")||"identity")!=="identity"||(w.allowRangeRequests=!0),w}function s(p){const t=p("Content-Disposition");if(t){let b=(0,c.getFilenameFromContentDispositionHeader)(t);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,o.isPdfFile)(b))return b}return null}function g(p,t){return p===404||p===0&&t.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+t+'".'):new a.UnexpectedResponseException(`Unexpected server response (${p}) while retrieving PDF "${t}".`,p)}function m(p){return p===200||p===206}},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=c;var a=r(1);function c(o){let f=!0,s=g("filename\\*","i").exec(o);if(s){s=s[1];let v=b(s);return v=unescape(v),v=C(v),v=w(v),p(v)}if(s=t(o),s){const v=w(s);return p(v)}if(s=g("filename","i").exec(o),s){s=s[1];let v=b(s);return v=w(v),p(v)}function g(v,M){return new RegExp("(?:^|;)\\s*"+v+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',M)}function m(v,M){if(v){if(!/^[\x00-\xFF]+$/.test(M))return M;try{const y=new TextDecoder(v,{fatal:!0}),I=(0,a.stringToBytes)(M);M=y.decode(I),f=!1}catch{}}return M}function p(v){return f&&/[\x80-\xff]/.test(v)&&(v=m("utf-8",v),f&&(v=m("iso-8859-1",v))),v}function t(v){const M=[];let y;const I=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=I.exec(v))!==null;){let[,_,k,D]=y;if(_=parseInt(_,10),_ in M){if(_===0)break;continue}M[_]=[k,D]}const P=[];for(let _=0;_<M.length&&_ in M;++_){let[k,D]=M[_];D=b(D),k&&(D=unescape(D),_===0&&(D=C(D))),P.push(D)}return P.join("")}function b(v){if(v.startsWith('"')){const M=v.slice(1).split('\\"');for(let y=0;y<M.length;++y){const I=M[y].indexOf('"');I!==-1&&(M[y]=M[y].slice(0,I),M.length=y+1),M[y]=M[y].replace(/\\(.)/g,"$1")}v=M.join('"')}return v}function C(v){const M=v.indexOf("'");if(M===-1)return v;const y=v.slice(0,M),P=v.slice(M+1).replace(/^[^']*'/,"");return m(y,P)}function w(v){return!v.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(v)?v:v.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(M,y,I,P){if(I==="q"||I==="Q")return P=P.replace(/_/g," "),P=P.replace(/=([0-9a-fA-F]{2})/g,function(_,k){return String.fromCharCode(parseInt(k,16))}),m(y,P);try{P=atob(P)}catch{}return m(y,P)})}return""}},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var a=r(1),c=r(33);const o=200,f=206;function s(b){const C=b.response;return typeof C!="string"?C:(0,a.stringToBytes)(C).buffer}class g{constructor(C,w={}){this.url=C,this.isHttp=/^https?:/i.test(C),this.httpHeaders=this.isHttp&&w.httpHeaders||Object.create(null),this.withCredentials=w.withCredentials||!1,this.getXhr=w.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(C,w,v){const M={begin:C,end:w};for(const y in v)M[y]=v[y];return this.request(M)}requestFull(C){return this.request(C)}request(C){const w=this.getXhr(),v=this.currXhrId++,M=this.pendingRequests[v]={xhr:w};w.open("GET",this.url),w.withCredentials=this.withCredentials;for(const y in this.httpHeaders){const I=this.httpHeaders[y];typeof I>"u"||w.setRequestHeader(y,I)}return this.isHttp&&"begin"in C&&"end"in C?(w.setRequestHeader("Range",`bytes=${C.begin}-${C.end-1}`),M.expectedStatus=f):M.expectedStatus=o,w.responseType="arraybuffer",C.onError&&(w.onerror=function(y){C.onError(w.status)}),w.onreadystatechange=this.onStateChange.bind(this,v),w.onprogress=this.onProgress.bind(this,v),M.onHeadersReceived=C.onHeadersReceived,M.onDone=C.onDone,M.onError=C.onError,M.onProgress=C.onProgress,w.send(null),v}onProgress(C,w){const v=this.pendingRequests[C];v&&v.onProgress?.(w)}onStateChange(C,w){const v=this.pendingRequests[C];if(!v)return;const M=v.xhr;if(M.readyState>=2&&v.onHeadersReceived&&(v.onHeadersReceived(),delete v.onHeadersReceived),M.readyState!==4||!(C in this.pendingRequests))return;if(delete this.pendingRequests[C],M.status===0&&this.isHttp){v.onError?.(M.status);return}const y=M.status||o;if(!(y===o&&v.expectedStatus===f)&&y!==v.expectedStatus){v.onError?.(M.status);return}const P=s(M);if(y===f){const _=M.getResponseHeader("Content-Range"),k=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);v.onDone({begin:parseInt(k[1],10),chunk:P})}else P?v.onDone({begin:0,chunk:P}):v.onError?.(M.status)}getRequestXhr(C){return this.pendingRequests[C].xhr}isPendingRequest(C){return C in this.pendingRequests}abortRequest(C){const w=this.pendingRequests[C].xhr;delete this.pendingRequests[C],w.abort()}}class m{constructor(C){this._source=C,this._manager=new g(C.url,{httpHeaders:C.httpHeaders,withCredentials:C.withCredentials}),this._rangeChunkSize=C.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(C){const w=this._rangeRequestReaders.indexOf(C);w>=0&&this._rangeRequestReaders.splice(w,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}getRangeReader(C,w){const v=new t(this._manager,C,w);return v.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(v),v}cancelAllRequests(C){this._fullRequestReader?.cancel(C);for(const w of this._rangeRequestReaders.slice(0))w.cancel(C)}}e.PDFNetworkStream=m;class p{constructor(C,w){this._manager=C;const v={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=w.url,this._fullRequestId=C.requestFull(v),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=w.disableRange||!1,this._contentLength=w.length,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const C=this._fullRequestId,w=this._manager.getRequestXhr(C),v=I=>w.getResponseHeader(I),{allowRangeRequests:M,suggestedLength:y}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});M&&(this._isRangeSupported=!0),this._contentLength=y||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(v),this._isRangeSupported&&this._manager.abortRequest(C),this._headersReceivedCapability.resolve()}_onDone(C){if(C&&(this._requests.length>0?this._requests.shift().resolve({value:C.chunk,done:!1}):this._cachedChunks.push(C.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(C){this._storedError=(0,c.createResponseStatusError)(C,this._url),this._headersReceivedCapability.reject(this._storedError);for(const w of this._requests)w.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(C){this.onProgress?.({loaded:C.loaded,total:C.lengthComputable?C.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const C=(0,a.createPromiseCapability)();return this._requests.push(C),C.promise}cancel(C){this._done=!0,this._headersReceivedCapability.reject(C);for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class t{constructor(C,w,v){this._manager=C;const M={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._requestId=C.requestRange(w,v,M),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(C){const w=C.chunk;this._requests.length>0?this._requests.shift().resolve({value:w,done:!1}):this._queuedChunk=w,this._done=!0;for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(C){this._storedError=(0,c.createResponseStatusError)(C,this._url);for(const w of this._requests)w.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(C){this.isStreamingSupported||this.onProgress?.({loaded:C.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const w=this._queuedChunk;return this._queuedChunk=null,{value:w,done:!1}}if(this._done)return{value:void 0,done:!0};const C=(0,a.createPromiseCapability)();return this._requests.push(C),C.promise}cancel(C){this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var a=r(1),c=r(33);function o(p,t,b){return{method:"GET",headers:p,signal:b.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function f(p){const t=new Headers;for(const b in p){const C=p[b];typeof C>"u"||t.append(b,C)}return t}class s{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}getRangeReader(t,b){if(b<=this._progressiveDataLength)return null;const C=new m(this,t,b);return this._rangeRequestReaders.push(C),C}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const b of this._rangeRequestReaders.slice(0))b.cancel(t)}}e.PDFFetchStream=s;class g{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const b=t.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=f(this._stream.httpHeaders);const C=b.url;fetch(C,o(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,c.validateResponseStatus)(w.status))throw(0,c.createResponseStatusError)(w.status,C);this._reader=w.body.getReader(),this._headersCapability.resolve();const v=I=>w.headers.get(I),{allowRangeRequests:M,suggestedLength:y}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=M,this._contentLength=y||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:b}=await this._reader.read();return b?{value:t,done:b}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}class m{constructor(t,b,C){this._stream=t,this._reader=null,this._loaded=0;const w=t.source;this._withCredentials=w.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!w.disableStream,this._abortController=new AbortController,this._headers=f(this._stream.httpHeaders),this._headers.append("Range",`bytes=${b}-${C-1}`);const v=w.url;fetch(v,o(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,c.validateResponseStatus)(M.status))throw(0,c.createResponseStatusError)(M.status,v);this._readCapability.resolve(),this._reader=M.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:b}=await this._reader.read();return b?{value:t,done:b}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var e=__webpack_module_cache__[A];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return o.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(A,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return p.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return t.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return m.renderTextLayer}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(4),a=__w_pdfjs_require__(8),c=__w_pdfjs_require__(22),o=__w_pdfjs_require__(7),f=__w_pdfjs_require__(27),s=__w_pdfjs_require__(15),g=__w_pdfjs_require__(3),m=__w_pdfjs_require__(30),p=__w_pdfjs_require__(31),t=__w_pdfjs_require__(29);if(g.isNodeJS){const{PDFNodeStream:b}=__w_pdfjs_require__(32);(0,r.setPDFNetworkStreamFactory)(C=>new b(C))}else{const{PDFNetworkStream:b}=__w_pdfjs_require__(35),{PDFFetchStream:C}=__w_pdfjs_require__(36);(0,r.setPDFNetworkStreamFactory)(w=>(0,a.isValidFetchUrl)(w.url)?new C(w):new b(w))}})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;function h(A,e,r,a){const c=r-A,o=a-e;return Math.sqrt(c*c+o*o)}function n$1(A,e,r){return Math.max(e,Math.min(A,r))}class u{constructor(e=0,r=0){this.length=2,this.x=e,this.y=r}static multiplyByScalar(e,r){return new u(e.x*r,e.y*r)}static addScalar(e,r){return new u(e.x+r,e.y+r)}static normalize(e){return new u().setFromVec2(e).normalize()}static add(e,r){return new u(e.x+r.x,e.y+r.y)}static subtract(e,r){return new u(e.x-r.x,e.y-r.y)}static dotProduct(e,r){return e.x*r.x+e.y*r.y}static applyMat3(e,r){return e.clone().applyMat3(r)}static lerp(e,r,a){return e.clone().lerp(r,a)}static rotate(e,r,a){return e.clone().rotate(r,a)}static equals(e,r,a=6){return!!e&&e.equals(r)}static getDistance(e,r){const a=r.x-e.x,c=r.y-e.y;return Math.sqrt(a*a+c*c)}static getAngle(e,r){return e.getAngle(r)}static minMax(...e){return(e=(e||[]).filter(r=>r)).length?{min:new u(Math.min(...e.map(r=>r.x)),Math.min(...e.map(r=>r.y))),max:new u(Math.max(...e.map(r=>r.x)),Math.max(...e.map(r=>r.y)))}:{min:new u,max:new u}}clone(){return new u(this.x,this.y)}set(e,r){return this.x=e,this.y=r,this}setFromVec2(e){return this.x=e.x,this.y=e.y,this}multiplyByScalar(e){return this.x*=e,this.y*=e,this}addScalar(e){return this.x+=e,this.y+=e,this}getMagnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}getAngle(e){const r=Math.atan2(this.x,this.y);let a=Math.atan2(e.x,e.y)-r;return a>Math.PI?a-=2*Math.PI:a<=-Math.PI&&(a+=2*Math.PI),a}normalize(){const e=this.getMagnitude();return e&&(this.x/=e,this.y/=e),this}add(e){return this.x+=e.x,this.y+=e.y,this}subtract(e){return this.x-=e.x,this.y-=e.y,this}dotProduct(e){return u.dotProduct(this,e)}applyMat3(e){if(e.length!==9)throw new Error("Matrix must contain 9 elements");const{x:r,y:a}=this,[c,o,,f,s,,g,m]=e;return this.x=r*c+a*f+g,this.y=r*o+a*s+m,this}lerp(e,r){return this.x+=r*(e.x-this.x),this.y+=r*(e.y-this.y),this}rotate(e,r){const a=Math.sin(r),c=Math.cos(r),o=this.x-e.x,f=this.y-e.y;return this.x=o*c-f*a+e.x,this.y=o*a+f*c+e.y,this}truncate(e=5){return this.x=+this.x.toFixed(e),this.y=+this.y.toFixed(e),this}equals(e,r=6){return!!e&&+this.x.toFixed(r)==+e.x.toFixed(r)&&+this.y.toFixed(r)==+e.y.toFixed(r)}toArray(){return[this.x,this.y]}toIntArray(){return new Int32Array(this)}toFloatArray(){return new Float32Array(this)}*[Symbol.iterator](){yield this.x,yield this.y}}class l{constructor(){this.length=9,this._matrix=new Array(this.length),this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=0,this._matrix[4]=1,this._matrix[5]=0,this._matrix[6]=0,this._matrix[7]=0,this._matrix[8]=1}get x_x(){return this._matrix[0]}get x_y(){return this._matrix[1]}get x_z(){return this._matrix[2]}get y_x(){return this._matrix[3]}get y_y(){return this._matrix[4]}get y_z(){return this._matrix[5]}get z_x(){return this._matrix[6]}get z_y(){return this._matrix[7]}get z_z(){return this._matrix[8]}static fromMat3(e){return new l().setFromMat3(e)}static fromMat4(e){return new l().setFromMat4(e)}static from4Vec2(e,r,a,c,o=!1){const f=new l;f.applyTranslation(-e.x,-e.y);const s=u.subtract(r,e).getMagnitude(),g=u.subtract(c,a).getMagnitude()/s;if(f.applyScaling(g),!o){const m=Math.atan2(r.y-e.y,r.x-e.x)-Math.atan2(c.y-a.y,c.x-a.x);f.applyRotation(m)}return f.applyTranslation(a.x,a.y),f}static multiply(e,r){const[a,c,o,f,s,g,m,p,t]=e._matrix,[b,C,w,v,M,y,I,P,_]=r._matrix,k=new l;return k.set(a*b+c*v+o*I,a*C+c*M+o*P,a*w+c*y+o*_,f*b+s*v+g*I,f*C+s*M+g*P,f*w+s*y+g*_,m*b+p*v+t*I,m*C+p*M+t*P,m*w+p*y+t*_),k}static multiplyScalar(e,r){const a=new l;for(let c=0;c<this.length;c++)a._matrix[c]=e._matrix[c]*r;return a}static transpose(e){const r=new l;return r.set(e.x_x,e.y_x,e.z_x,e.x_y,e.y_y,e.z_y,e.x_z,e.y_z,e.z_z),r}static invert(e){const r=new l;r.set(e.y_y*e.z_z-e.z_y*e.y_z,e.y_x*e.z_z-e.z_x*e.y_z,e.y_x*e.z_y-e.z_x*e.y_y,e.x_y*e.z_z-e.z_y*e.x_z,e.x_x*e.z_z-e.z_x*e.x_z,e.x_x*e.z_y-e.z_x*e.x_y,e.x_y*e.y_z-e.y_y*e.x_z,e.x_x*e.y_z-e.y_x*e.x_z,e.x_x*e.y_y-e.y_x*e.x_y),r.set(r.x_x,-r.x_y,r.x_z,-r.y_x,r.y_y,-r.y_z,r.z_x,-r.z_y,r.z_z);const a=e.x_x*r.x_x+e.x_y*r.x_y+e.x_z*r.x_z,c=new l;if(a){const o=1/a;c.set(o*r.x_x,o*r.y_x,o*r.z_x,o*r.x_y,o*r.y_y,o*r.z_y,o*r.x_z,o*r.y_z,o*r.z_z)}else c.set(0,0,0,0,0,0,0,0,0);return c}static buildScale(e,r){return r!=null||(r=e),new l().set(e,0,0,0,r,0,0,0,1)}static buildRotation(e){const r=Math.cos(e),a=Math.sin(e);return new l().set(r,-a,0,a,r,0,0,0,1)}static buildTranslate(e,r){return new l().set(1,0,0,0,1,0,e,r,1)}static equals(e,r,a=6){return e.equals(r,a)}clone(){return new l().set(this.x_x,this.x_y,this.x_z,this.y_x,this.y_y,this.y_z,this.z_x,this.z_y,this.z_z)}set(e,r,a,c,o,f,s,g,m){return this._matrix[0]=e,this._matrix[1]=r,this._matrix[2]=a,this._matrix[3]=c,this._matrix[4]=o,this._matrix[5]=f,this._matrix[6]=s,this._matrix[7]=g,this._matrix[8]=m,this}reset(){return this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=0,this._matrix[4]=1,this._matrix[5]=0,this._matrix[6]=0,this._matrix[7]=0,this._matrix[8]=1,this}setFromMat3(e){for(let r=0;r<this.length;r++)this._matrix[r]=e._matrix[r];return this}setFromMat4(e){const r=e.toArray();if(r.length!==16)throw new Error("Matrix must contain 16 elements");const[a,c,o,,f,s,g,,m,p,t]=r;for(let b=0;b<this.length;b++)this._matrix[0]=a,this._matrix[1]=c,this._matrix[2]=o,this._matrix[3]=f,this._matrix[4]=s,this._matrix[5]=g,this._matrix[6]=m,this._matrix[7]=p,this._matrix[8]=t;return this}multiply(e){const[r,a,c,o,f,s,g,m,p]=this._matrix,[t,b,C,w,v,M,y,I,P]=e._matrix;return this._matrix[0]=r*t+a*w+c*y,this._matrix[1]=r*b+a*v+c*I,this._matrix[2]=r*C+a*M+c*P,this._matrix[3]=o*t+f*w+s*y,this._matrix[4]=o*b+f*v+s*I,this._matrix[5]=o*C+f*M+s*P,this._matrix[6]=g*t+m*w+p*y,this._matrix[7]=g*b+m*v+p*I,this._matrix[8]=g*C+m*M+p*P,this}multiplyScalar(e){for(let r=0;r<this.length;r++)this._matrix[r]*=e;return this}transpose(){const e=new l().setFromMat3(this);return this.set(e.x_x,e.y_x,e.z_x,e.x_y,e.y_y,e.z_y,e.x_z,e.y_z,e.z_z),this}invert(){const e=new l;e.set(this.y_y*this.z_z-this.z_y*this.y_z,this.y_x*this.z_z-this.z_x*this.y_z,this.y_x*this.z_y-this.z_x*this.y_y,this.x_y*this.z_z-this.z_y*this.x_z,this.x_x*this.z_z-this.z_x*this.x_z,this.x_x*this.z_y-this.z_x*this.x_y,this.x_y*this.y_z-this.y_y*this.x_z,this.x_x*this.y_z-this.y_x*this.x_z,this.x_x*this.y_y-this.y_x*this.x_y),e.set(e.x_x,-e.x_y,e.x_z,-e.y_x,e.y_y,-e.y_z,e.z_x,-e.z_y,e.z_z);const r=this.x_x*e.x_x+this.x_y*e.x_y+this.x_z*e.x_z;if(r){const a=1/r;this.set(a*e.x_x,a*e.y_x,a*e.z_x,a*e.x_y,a*e.y_y,a*e.z_y,a*e.x_z,a*e.y_z,a*e.z_z)}else this.set(0,0,0,0,0,0,0,0,0);return this}getDeterminant(){const[e,r,a,c,o,f,s,g,m]=this._matrix;return e*o*m-e*f*g+r*f*s-r*c*m+a*c*g-a*o*s}getTRS(){const e=new u(this.z_x,this.z_y),r=Math.sqrt(this.x_x*this.x_x+this.x_y*this.x_y),a=Math.sqrt(this.y_x*this.y_x+this.y_y*this.y_y),c=new u(r,a),o=Math.atan(-this.x_y/this.x_x),f=Math.acos(this.x_x/r);let s;return s=f>Math.PI/2&&o>0||f<Math.PI/2&&o<0?2*Math.PI-f:f,{t:e,r:s,s:c}}truncate(e=5){for(let r=0;r<this.length;r++)this._matrix[r]=+this._matrix[r].toFixed(e);return this}equals(e,r=6){for(let a=0;a<this.length;a++)if(+this._matrix[a].toFixed(r)!=+e._matrix[a].toFixed(r))return!1;return!0}applyScaling(e,r){const a=l.buildScale(e,r);return this.multiply(a)}applyTranslation(e,r){const a=l.buildTranslate(e,r);return this.multiply(a)}applyRotation(e){const r=l.buildRotation(e);return this.multiply(r)}toArray(){return this._matrix.slice()}toIntArray(){return new Int32Array(this)}toFloatArray(){return new Float32Array(this)}toIntShortArray(){return new Int32Array([this._matrix[0],this._matrix[1],this._matrix[3],this._matrix[4],this._matrix[6],this._matrix[7]])}toFloatShortArray(){return new Float32Array([+this._matrix[0].toFixed(5),+this._matrix[1].toFixed(5),+this._matrix[3].toFixed(5),+this._matrix[4].toFixed(5),+this._matrix[6].toFixed(5),+this._matrix[7].toFixed(5)])}*[Symbol.iterator](){for(let e=0;e<9;e++)yield this._matrix[e]}}class z{constructor(e=0,r=0,a=0){this.length=3,this.x=e,this.y=r,this.z=a}static multiplyByScalar(e,r){return new z(e.x*r,e.y*r,e.z*r)}static addScalar(e,r){return new z(e.x+r,e.y+r,e.z+r)}static normalize(e){return new z().setFromVec3(e).normalize()}static add(e,r){return new z(e.x+r.x,e.y+r.y,e.z+r.z)}static subtract(e,r){return new z(e.x-r.x,e.y-r.y,e.z-r.z)}static dotProduct(e,r){return e.x*r.x+e.y*r.y+e.z*r.z}static crossProduct(e,r){return new z(e.y*r.z-e.z*r.y,e.z*r.x-e.x*r.z,e.x*r.y-e.y*r.x)}static onVector(e,r){return e.clone().onVector(r)}static onPlane(e,r){return e.clone().onPlane(r)}static applyMat3(e,r){return e.clone().applyMat3(r)}static applyMat4(e,r){return e.clone().applyMat4(r)}static lerp(e,r,a){return e.clone().lerp(r,a)}static equals(e,r,a=6){return!!e&&e.equals(r,a)}static getDistance(e,r){const a=r.x-e.x,c=r.y-e.y,o=r.z-e.z;return Math.sqrt(a*a+c*c+o*o)}static getAngle(e,r){return e.getAngle(r)}clone(){return new z(this.x,this.y,this.z)}set(e,r,a){return this.x=e,this.y=r,this.z=a,this}setFromVec3(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}multiplyByScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}getMagnitude(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}getAngle(e){const r=this.getMagnitude()*e.getMagnitude();if(!r)return Math.PI/2;const a=this.dotProduct(e)/r;return Math.acos(n$1(a,-1,1))}normalize(){const e=this.getMagnitude();return e&&(this.x/=e,this.y/=e,this.z/=e),this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}subtract(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}dotProduct(e){return z.dotProduct(this,e)}crossProduct(e){return this.x=this.y*e.z-this.z*e.y,this.y=this.z*e.x-this.x*e.z,this.z=this.x*e.y-this.y*e.x,this}onVector(e){const r=this.getMagnitude();return r?e.clone().multiplyByScalar(e.clone().dotProduct(this)/(r*r)):this.set(0,0,0)}onPlane(e){return this.subtract(this.clone().onVector(e))}applyMat3(e){if(e.length!==9)throw new Error("Matrix must contain 9 elements");const{x:r,y:a,z:c}=this,[o,f,s,g,m,p,t,b,C]=e;return this.x=r*o+a*g+c*t,this.y=r*f+a*m+c*b,this.z=r*s+a*p+c*C,this}applyMat4(e){if(e.length!==16)throw new Error("Matrix must contain 16 elements");const{x:r,y:a,z:c}=this,[o,f,s,g,m,p,t,b,C,w,v,M,y,I,P,_]=e,k=1/(r*g+a*b+c*M+_);return this.x=(r*o+a*m+c*C+y)*k,this.y=(r*f+a*p+c*w+I)*k,this.z=(r*s+a*t+c*v+P)*k,this}lerp(e,r){return this.x+=r*(e.x-this.x),this.y+=r*(e.y-this.y),this.z+=r*(e.z-this.z),this}truncate(e=5){return this.x=+this.x.toFixed(e),this.y=+this.y.toFixed(e),this.z=+this.z.toFixed(e),this}equals(e,r=6){return!!e&&+this.x.toFixed(r)==+e.x.toFixed(r)&&+this.y.toFixed(r)==+e.y.toFixed(r)&&+this.z.toFixed(r)==+e.z.toFixed(r)}toArray(){return[this.x,this.y,this.z]}toIntArray(){return new Int32Array(this)}toFloatArray(){return new Float32Array(this)}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(A){return typeof A=="string"&&REGEX.test(A)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(A){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(byteToHex[A[e+0]]+byteToHex[A[e+1]]+byteToHex[A[e+2]]+byteToHex[A[e+3]]+"-"+byteToHex[A[e+4]]+byteToHex[A[e+5]]+"-"+byteToHex[A[e+6]]+byteToHex[A[e+7]]+"-"+byteToHex[A[e+8]]+byteToHex[A[e+9]]+"-"+byteToHex[A[e+10]]+byteToHex[A[e+11]]+byteToHex[A[e+12]]+byteToHex[A[e+13]]+byteToHex[A[e+14]]+byteToHex[A[e+15]]).toLowerCase();if(!validate(r))throw TypeError("Stringified UUID is invalid");return r}function v4(A,e,r){A=A||{};var a=A.random||(A.rng||rng)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,e){r=r||0;for(var c=0;c<16;++c)e[r+c]=a[c];return e}return stringify(a)}var img$J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/PCSiERUtRCy2iGKRgCiIpUQwTbRIIhi1SdY8hDyW3QQJtoKNRcBCtPFV+A+0FWwVBEERRGz8A74akfVOIkQkmWX2fpyZc5k5A85wTs9b7jHIF0pmJBTUFuNLmucFNz304kRL6JYxF52N0XJ83uFQ9TagerXe13R0rqYsHRztwpO6YZaEp4XD6yVD8bZwv55NrAofCvtNOaDwldKTdX5WnKnzu2IzFpkBp+qpZf5w8g/rWTMvPCrsy+fK+u951E28qcJCVOqgzCEsIoQIopGkzBo5SgSkFiSz5r6xmm+eonh0+RtUMMWRIStev6hl6ZqSmhY9JV+Oisr9f55WemK83t0bhLYn234bBs8OfFdt++vItr+PwfUIF4WGvyg5TX2IXm1ovgPo3oSzy4aW3IXzLRh4MBJmoia5ZDrTaXg9ha449N1Ax3I9q991Tu4htiFPdA17+zAi+7tXfgDAkGftS3qrhgAAAAlwSFlzAAALEwAACxMBAJqcGAAABNVJREFUeNrlW21T4jAQTkJxPI9BeXFGZ27u//8oP934QUcpMnIngjS3GxomhKRt0qSUmjmuRTD22X32NQklkcft7S3ZbreEU0o4vKdZRjhj4krhiiPj8Al8vv8Mvwc/Y3D/+voa9flojEnH4/EOGIBilu9kAJZJASj3tu9xuM7nc5/H4UVYaUjQQssFYOoOnJvg3NWFwcvw1hbAaDQSD4V/iZFmRpabT/b1RRaLhYsAjjAntW0o1zatojm8R5ZsNsIvLO/uxM8GT0+k1+sR2u/v5kGfoPgIfUiG9ZKkiolzg1BoMAHYUXP4x4W2rFp6eBCXpWWK6+trIRich4Y1q70QggsAZ958fpLlcll7LlVwg8GAXFxciGjh4QCtQkhC2STDMAavdDaLQigpUBlWszxMeoIP5wME1UEAabEzCjZeXl7E9ebmZucr3MBTPSxS0r3BXXIe+p3Bk7LQLTO6cwY/mkwKlWwVwGg6dfW4rdQ8LVGkUQBD8LQcPG1XaI8RY4oKrRoFEiVz64LNY7j8skQMZqR+Bx0eAp1MJsUCwMIGa/Iuenv5S5he2xmAtFccH2Z4+i+cE3hQ6O9MUyjWFkYBiHpepwcIY+GR4Y0NVIsFPv9bRs3P5/M/TItk6BBVpe4FwA3dG1ojDE4D+xIAagQPtUfhQ/b7/Z+6Q2RKGc0OanZN1DOPwkZqHyWN9yHYIMGrc1UBj+P5+fmvXjNQ5X1P0l+vt7GkXa/Xzlo3GejHx0cwzf+4uhKvKuD3YR00fmD7wOzLy0uyWq0smSBIyKeet3VwfVlgoj0OF/A43t/fjxgu8xzxf6bZOufcW2PYD2AG3+EqhFDgrf4sFwjDBgMzNDjqDBsTqjrG0OCNAgEGoOmzrZbz86IeniMTjjpHuWM8Bfg0TYlJrYzr1AhYA9jMwcaE2JrXkYnQz0ncYTIHExOaoP2RIxS9TD3+R+gBlDnGJsDbHCPjGuVx0aIpJjQNXo9uorNMNAZsIzZCDI6xUc3r0Q0ZQEuKjjirxzvqn4T2qu8R6xklFVcsH+lVz8cYjfe9bDYvwUcspclwODx2gm0CH7ufoC+lceEETwzeZvMxhKDXA6wpBpSBty2ohm6qUEPRx9qied/aoXYi1Cbau9YOznmAgQG0QoiiTYCvYv919h7gmgA31AasDZqP1VQpbPLAe9xpxtoGvkLt4CcAnf75e9ZG8GWUdxUCJkDUIpCQAuCmB67dydHmxPf4cnGMib6dDuj/ljMslAC46YFDFTZyTnVuNJEqTLi/v78qMgcWEnzMqs7CrlIhrNbrf/p6J+4wLQpxLmGwNVWd0VeMx78gmXo8qAGA/tggDcGAVoMXDEnTR70A2mgdL9ZV8JZkQKwSHTjI7wIebf/NsMWefRfwPdvO887TPq/7bUv9SdfBlx21oQ5gzw58JXb49hJIRwarCx631olzQ80nObgPuPY8SV3Nex5l8x6Q22N6uz+k0bQAQi+UVEaAJS1WdZ8AXhysDLSMn5zYBHmREOQub16whnfuAthrF3N2mp87EsmLQu+YHjex0JI3hJ3ayllWktmh/W8CLOUnocIcbj8VOzALDjyGKGbk8dxQh7SisEsepw0iDAkaXm8RTpJHT2hURyYEAldc8cGrbFXLe5Zf1c9ih9n/LqFyUTq2iTQAAAAASUVORK5CYII=",img$I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABcWlDQ1BpY2MAACiRdZG9S8NQFMVPW8Wi1Q46SHHIUMWhhaIgjlLBLtWhrWDVJXlN2kKShpcUKa6Ci0PBQXTxa/A/0FVwVRAERRBx8R/wa5ES72sKLdLe8PJ+nHfP5eUE8Kd1Zth9CcAwHZ5JJaW1/Lo08A4fRhBEHBGZ2dZydimHnvXzSN1UD3Exq3df1xoqqDYDfEHiOWZxh3iBOL3lWIL3iMdYSS4QnxDHOF2Q+Fboisdvgosefwnmucwi4BczpWIHKx3MStwgniaOGnqVte4jviSkmqtZ2iO0JmAjgxSSkKCgijJ0OJRLGSZl1t2XaPpWUCEPo7eFGjg5iiiRN0ZqlaaqtGukq/ToqInc/+dpa7Mz3vRQEuh/dd3PSWBgH2jUXff31HUbZ0DgBbg22/4K5TT/TXq9rUWPgfAOcHnT1pQD4GoXGH+2ZC43pQAtv6YBHxfAcB4YvQcGN7ysWuc4fwJy2/SL7oDDI2CK+sObf/JNaAQfxWcoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJT0lEQVR42uVbW2wUVRiec7bt0i2l3U7TAgajCFp8AoEIgjzZhCBqUB40qfdYL5V6wRASjAlKYoIgVsQLPGlMMJYEI4IhJfGBApogBB+o1hIvmBSyO7vbUrv3Gb9/ma1nTme7u7O7tV1PsswyOz0z//ffL8OUEi+v13sjDisYY0sMw2jB8SbdMJpxrp5z7qZrdF2P4hDijF3FNb8rnPcxwziPc2cCgcBfpXw+Voo96xsbV4OAjfjcqzB2SyGbGbo+AECOAqXuYDB4mk5NSQDq6uq8vKKiHUS3g+j5peCWCcYBPZHYPzQ0FJoSANTW1qqVlZVbINYdEOkaZRIWVGYE6vJBMpncCSCC/xUAroaGhg5wezvp8wTXJXVFOcsNoxff+6Djv+BzGURcGx4eHqELZs2aNRPg1cI+zMN/Wxjni/A3q7miLKX7TLB3AAS8oWnaR4TLpAGgqmpLUtc/w0Mvz3BJDIp6FOrwOb6fgCEbdnIfADwLh1YA1gZQ1uF7la1EKMr3FYw97vf7+0sOAB7qSYj7PhBfbfOzXzGMPYlE4mNwN1BMsTdV7XlI3MvEAxu1+Btq8QLA/qxUALjg0rrAiQ67m+P8WzOqqvYODg6OllL/m5uba+Lx+EtgwjYwwTPOUCrK+0FNeyVXlcgNgAUL3A2BQDfQv8/mhoch6p2l9tcZ4ou9AP5+G2/xVVBVH1YGBqJZuZoL8fXB4NcwUOskrkfgkjqA9pZwOJy3jjc2Ni6tcrsHqmtqqiPh8Hf5/n0kEhnC5wu3x+MDA+4BcyrGuMpYS3Uksix8ww2HlEAgWYgEkKU/LHMesvUXiF8f8vkuODJuqhqUPUdA0xx7JIB5RyKZPAKVmCtLJxi0cSJ14FnErGsc8br+M9P1VU6JhwdZZuc2vaq6xykAsP7nIPar8Gz9Enc3YN/djlQAnH8K+rVDJj7hdq8Z9vsHnRIPrvTg6wwbUVwxw+Ophzocd7J3NBoNIRr9Eh7oAaiAKu4LNbmEfX/KWQVMP39OdHUk9sR5xON/OhTTpbDcZ00gB7H3nAw+fU9I014tICS/CYw7Le5PXqrC5VoCSfk1FxVwmUFOtWTw1hdI/Imxm2Yg3nygV+pV9V2nACA0/h3Erkc8EhXuV4P7f2pHr8tG9DcBwaetT8U7Qn7/MacGD2LfaYp9yE78BaAHIb61EMuVENs6p+owOjo66PF4yNCKnmse9ryKPc9mVIFUtFVVNSAaKdOSPlio2DtKegpUBzDzCIz4euGUlkwkFoiZpEUkKKsTiaesi4Ich5wPCDofzubu7M6TOmAfx/k/ssVNuLcYmapI2V+ztQGUz1NKaxEPeAEnER5xnjzbdREyoml7ks3XZ/q9IYsrm8geID94W4oSO+He68YBQMUMSz5vGD6K7R2Kfc+/KDJ3PoFOhutedQqCy+V6j7YVDGIt/nlGBoClKjnW1ZVvYkMRmSn23kKivIwgNDTsyhcAn883AmZ2Sda2PW3/UgBQDU8qY8UQUHzkgPgTuYq1IxAY2+wEhFgs9iEOcUG1F0INVowBQAVMKYY+mk8+bxq8HwvlfKlAGBkZ8UP3v5Xs20YRgHstP16v5OTK+VtlwotBfDYQEONvz6vwwdjnUsyRihF4Kq+2lq4TuLgn50qtYbSWivgM+2kmBY/k6RJ7xKwQxrAFzJtDErBCCj5+1DTtWq4b49pPgMLJUhFvs6+K+30D4B/K0yWGoAbnJSm4q4I6NpbA4Hr1Np+VQKywZjKqQAWDyzkxaumY9DK2mFO7SrqsTynXxVifZOwXcerVSTr9S7nSD4IttCG9v5mbjUoRgMtlC0A8bknnDc6buVyeoo5NuQIAT3BNigi9PN2iTq90u6oc18js2desNpG7ufI/X9wcThhb1KgsV2JnXrlSK6l7hJtlKsWSLpbpQmpcK8UFQU5jKVLMPK9sw4DKyhslN3iVp2ZyrKulbAGQgj64wd84DSRJaeKiMrZ5FgAQV/dxcxpLTIZWly35un63JBEXyAiesdgFJAvmZEZZLSr6QrqXSEbxFKeqb2r6SjiPT2vZ+XvOWxWhCAxJv+jz+a5w89ejUj7QVn6JIGuT0v5jyhgiut4tGcJ11CUqmwBo5sxGILBWOn1oDIDUBKZhXBJ+rEoNJJXJqnS7X6SDEAH2Q/V/UASdMAzG9ksy8zINJE134lVVpWZrpyTh+wWjb6KSSOynXqD4tzSNNe1rAIZBE2NewfgNw/0dGAcAFQ1p/NTiNg1jmzmNNV1d382gYasU/HSJg5tcKhjsVKx9NJrD2ztdAYCf/8Ay0GkYPhiA3VLc8++iwWOavZX05f56VZ12BhHBXKcijfYh9n8dBn9IkojxMQMIPg1k7hSQiyY5Xznk958vysPZ9PyL2U+A4VuOG1B5X5wt7sU9qHxvZJSAtOpXMPaYZbCAMTdLJr+hAaQpr/dNTfOTuv61SDzVOROcP6HYvGxhWxKjqWsYxOelUHIu1OE4XGPTVCW+qampmcfjx/Gssy1i7nI9O+zzXbINkTNtRlPXNHgsgXBrNBY7WQxJoNE18zhaLM7DbfeCSQskP7gr6PcfzJgjTLQpTV3T4LEMAm5yiuYBnD4s6Tv2eDNllxjbUaj+0wAmi8dPjSNeUbrByC0T5ghZd6dJ8WCQQFgrIRtFgrFZ07R9U8Dav6PIL1Mg2QHxG/AtVhgAJgjeYPAgzd7ahFpHIMabQqHQH5Md5JCfl13dGOc1rS0b8encPweZDSQj4XD3DI+njkntdDzAbbAV7R6PhyPrOjc6OhorJeEU21dXV2/FfQ9C5G+3YcgucP45fEvklCbn+wCIEdpguT7O8IZYgAaSaCaHxlKKndJSVmcmNl4bozoCa98+kcErCgC0YAAXmrO3KzNcEqeZHBpLockMp+/4pd5F5LwV+zxq5vMVGS7tJT+fydUVHQAhYnwWbuQtxeYlJjHFSE1mcN5L/XlqUVOXlhqV6V4ddWyoaUF1e7N03QKWroGIL87iqfxI47eB6wcUh2+UsiIYI3pjdDNNYE5WVymV0iKro8RGju0nHYD0So2f0gSmrrfTHF5JCNf1fipmUD7v9F3EkgEg7klDiDSHR6NoNI1VILcvmgXMQ+kyVlEfttTiSqNoNI1FA0k0k0NjKTSZYQ4npF+fpxcygtSro3YVdWyoaUF1eypdl/L5/gF8P3SyE6no9QAAAABJRU5ErkJggg==",img$H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABcWlDQ1BpY2MAACiRdZG9S8NQFMVPW8Wi1Q46SHHIUMWhhaIgjlLBLtWhrWDVJXlN2kKShpcUKa6Ci0PBQXTxa/A/0FVwVRAERRBx8R/wa5ES72sKLdLe8PJ+nHfP5eUE8Kd1Zth9CcAwHZ5JJaW1/Lo08A4fRhBEHBGZ2dZydimHnvXzSN1UD3Exq3df1xoqqDYDfEHiOWZxh3iBOL3lWIL3iMdYSS4QnxDHOF2Q+Fboisdvgosefwnmucwi4BczpWIHKx3MStwgniaOGnqVte4jviSkmqtZ2iO0JmAjgxSSkKCgijJ0OJRLGSZl1t2XaPpWUCEPo7eFGjg5iiiRN0ZqlaaqtGukq/ToqInc/+dpa7Mz3vRQEuh/dd3PSWBgH2jUXff31HUbZ0DgBbg22/4K5TT/TXq9rUWPgfAOcHnT1pQD4GoXGH+2ZC43pQAtv6YBHxfAcB4YvQcGN7ysWuc4fwJy2/SL7oDDI2CK+sObf/JNaAQfxWcoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJeElEQVR42uVbbWxb1Rk+5zi2g+Mmvv4Q6QSMQVSWaRuqqNSVtf+oEC1lBdEfSFW3Pw0d0GVQ2FRpExKi0r74KhRE+QFslZhop2pQojKkaWKsq9SVov0hoqWgTqJN5OvrNGkcx/a5e96ba/fek2vHvrbT1LxSm+Te63PP+7zveb/NWZsplUr1l0qlH5qc32oyNsil/JYpxLVMSk0I0U3PSCnzTAgD98Zw7wvO2KfcND/B/WPpdPp8O/fH27FoPB5fjR/3S843CMa+08xaAGcUQIyYUh4yDOM4LplLEgAw3Qspb8dGh7DhFe0AFmufhqbsByqvAYyJJQGApml92NQuiGUY0u5li0DQikkuxF5ZLD4zMTFhXCkAuJZMbsdZ3YPfk7X2C8l9ApA+xO+j0JJRs1A4B7swOdXfP0kPRC9cWBYIBJbxYPAGbOgWZpqD4HItmFyJ24Eaa+uSsV9ndf1Ves+iAdCbSt3cJeUb+HVtlUeKYOKoaZp/grQ+8Culvr6+GIBZj3W2Aoy7cClY5dF/C85/DIN5uu0AQOoPmKXSfpzzqMdtA0dhbyGff2lqairdSrWPRqPJUCj0EON8mEyOx7G4BC3bAW040C4ABAzdb7GBxz1enoMEfsM5f07X9ck2u9Uojs/PpWnuhhAi8wwlY88bur6r3iNRLwCheCJByG6Zb5rNEWzoEaj5F2wRKRaLfRMAvAiBbPIA4bChaQ+wM2fyrQAgBMkfxos2KNdnwfwTmUxmL7uClEgkHoaNeAb7Cyu3jmY0bfNCIAQWAgiSfwuLb1ZU/gJU/g4wf7jJ2GH3NZHIh92RSG4ml/uXnzVyudyJnp6ekZKUm3AElzluDXRPT393ZmbmYK3giS+wwd+rZx4u7YwMBu+cGB8/2xTziQSWktN0jsmA4WdPRtd9u2V4jBvhKd5XgzAyyrAJw1UNWy1r78V8MBhc2yzzlZfbRoyYb3Yt2KAvw6HQOoD5mSLhn0GQ2xoCgPw8XN2rqtqT5MfHx8fYEqWxsbFxCOlO7PUrdyRmvpJMJlfUCwCnIAdScZ6n2YAQ97RK8u0k0gQzELgbBjrv1LSiaf7Ri1/hofrb50V4sPbw7yfYVUIT6fQpZKKPKoyuhsf4aU0jSIkNLOlpnP2U08/D2m9secoMI6hea8YIVknU/grDeI/zFaViccAZmgvFKu1yMk8RHgU57OqlneRpnLgjt/iF5xGw8nmktK6bCG8XO8JrJRmGcQ487FEM4iOUZM0DgIoZSj5vUGzPrnKC236B0maHQYyKrq6h+QBIOaQGEO1ObBbJNV6CHXveZfhMc6hs/0S5hqdEUAVKaVmHUKFQeMXKXSoI8JthIG93asD9its72up8/krS5OSkDg0fUQz+lgoAUsn0kF0dYB1GsGcHlCKG5doF1e2V0rWkMhbrPCKeShVAhBjA0b9OUNNCSXhONVtpXYqEYO6iZOykcnmNoI6Ncjb+yTqUoOkfuYTN+UpB7SrludFOBQDa/aliBwYF9eoUVDoWAFW4MIw3CqtR6QSgUDjXsRpgmv9TwuJrBXVpnRepY9OpAFBLTbkUE+UWdZnK7apOpIsXL0657b0IC/Y1J2ENJziIGpWdymxvb29UORJ5QZMZzovUpe1YabvrnERZcoOuKi+1qDsVALi9612AcD5GbtBV8bH6850LwC2KW/xS0ECS4iwHO9jmDSqAjAqaxlKc5bpGV43FYt9DZvUuVXq9qr2tpPI78D6aOOlqKA7gfK2iAacoDjjmQkWIlc6iYZ2q9Rf8dzeza2/tAsG1LufrEonEg/V+Fs8ug8+/Tbl8XNAcHo2iOW0DjaU0aF7fKr/Hc7OtZv4y8HXXLSDt9S6NMc3Praqx7R5GlIe3NrI5Q9efZNSjr2PTrWKeXgvhfVY3AJxvVf5+z06RrTTxkHIM7qKZnAYLDo+3AwSPzxtwX7dldD3eQAAUh7HfqABwqAIATWBaQ4iXKWgNJDVedWkpCF6fo8EMSP7jRtbp6uqinmDIoeJns+n0RxUA6JI1gek+YMM0kOQLBMaebRaEKpJf1Sjzy5cvpxmEYUX6+5k9NSIc7u81JV2M0zSWH8ll5qa0fINQec7Z4uZ8PZg/2eheZmZndyr9zkuyWKwIuwIAzd7S+KlSMNhNoydNgMAaBaF8nxqzjsEnww/zVPXF0f6VcoT2Ve0OA5k/MHcfLQKX+KJfA0btbsnYc/WC4LyOd19jb3hVIwZPUfW9ykBntlAo/M6V/Dn/yOfzM+FIZNJlMTlfEYlE0jSN5WcTM7nc+1izD2uusSV7XpnmUimLf+UiTVavMeBUi7RkcgjvfEIJBn4J6f9DyX3mhzWQBFnINY4P5oHk7Y0aIFe4nEg8C3V7tM7Hs7a1P+nrXanUraxYPO6sdgH4E1nDIJ5KLma9QmYaPLZmby9rQbhYKh3xaw9sUT7mdRwcGzyvuDpfzGuadgMWO6IwnwsIsU1lft4RKNP09HSmu6fnHNTjPkfYSWq7ASC8fQnk9zh0RyIxrPsDj7CW1s/i3jqovS/mo/39KVEq/R0A3qSo+Q64Z8+wOVBjs/9VN4tNJorF4o/C4fAR2Itsy0GYY/4/fiVvMS/Et13HXsp98HB7qiZyC6U5WiJxCA/dq6jrV12BwKZmbIKHJ8jC2mu+zzypPWPXKUbvXUj+Xi/Vr2UDXLxaU9eMHVVqa98ACMdg2B7yCwC5SCDwtDUuO+fqfDFP1t4yeArzsDd/y8TjW2oxX48GzNHAQFjT9T8jUNo8z9dK+Q5+7KTUcjFLO1aQAz+vamdF8sR8HePygfrElSnR1DXOroYXrlbrbEifH0SsQFnXx7CPhXYyTrF9MBx+DO88CM35vodA6Mz/BHuuax/cB/LbECK/XGXAWaeBJJrJobGUVjJOKS2yuh1sbgI06eFG6VsrD+PMv95QNcvPZmjwuGiabwoPS27TLM3k2GMpH9Bwgk81p7G9O6iYYUenoSoxxAny8/AgDXe2mxlNFTR7C0P2FPP4EpODSjSZQcMJdn9+lLq0lHmWe3XUsaGmBdXt7dL1IBUw8ZlVCxzTLDTuSQC8byFj1w4ALEJgpNH4KU1gVvkmWcvJ+oIFsjpKbJo9ai0bTqZKsjWBKeV2GkBqC+emeZaKGZTPt2qOqR1fnubWECLN4Um5sWkwTPNzKmBSDc8uYy3NL0/X8teUWdJAEs3k0FgKTWawueGEsK3SeTsDHKN2FXVsqGmBa8fbHV/8H2Qog/fmBwhzAAAAAElFTkSuQmCC",img$G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIoSE1JoISKYQsUiAVEUS4mgTbSIEYzaZNc8hDyW3Q0SbAUbC8FCtPFV+A+0FWwVBEERRGz8A74akfWOCSRIMsvs/Tgz5zJzBtzRnJ63WoYhX7DN2EwkuJhYCra94qEPL37GkrplzM5Px2k6vu5xqXoXVr2a72s4OlZTlg6uduFx3TBt4Unh6LptKN4W7tKzyVXhI+GQKQcUvla6VuEXxZkKfyg247EpcKuewUwda3WsZ8288JBwfz5X0qvnUTfxpQoL81J7ZPZiEWOGCEE0SqyRwyYstSCZNfYN//nmKIpHl79BGVMcGbLiDYlakq4pqWnRU/LlKKvc/+dppUdHKt19EWh9dpz3AWjbhZ8dx/k+dpyfE/A8wWWh5i9KThOfou/UtP5DCGzC+VVN0/bgYgu6H42kmfyTPDLd6TS8nYE/AZ234F2uZFVd5/QB4hvyRDewfwCDsj+w8gsVKmgU+omlKwAAAAlwSFlzAAALEwAACxMBAJqcGAAACdRJREFUeNrdW3tsW9UdPuf4Ok5wHrav86pYB6zQZA+NDpi6tUzaRCSg7TakIsEUFYTUQGlpV2AVk7ZJCLFNhY62lIHafwarhLZ2KoK2g0XaHzRQ0Cgt/yyllOdQm9SPmzgmTvw4d99xbff45NqxnTi+7pFS3/oe33u/3+P7Pc65lFR5+P3+bs75D01KrzcJ6aWcX20y1kk49zLGXGIOzk8RxgycG8W5Tykhw9Q0P3A4HG8FAoGRaj4frcY1vV7vcsrYWgC7HSB75nIxTsh/mWkexeHBcDj8rm0FANBt0OJ6qHMA4K+thrYg0DO49l5Yxz4II2ILAbS1tXmYpj1qcr4Z2m4hCzBgFRE8+C5IZIdhGOO1EgDz6Pr9jJAncKwXe14I5ySs4xihdBg88KGZSHyRSqUmol1dE2JC88hIC/y9hTqdi6Fd4TI9AHcztL1M3KfglU0zAM74jREM7hP/WzABgNiu5ab5Ig5/UGBKAqD/SSndD6CD4+PjYxValyDKPlynH8K7FV85C0wdSjJ2byQQ+LjqAoDW+6GdF/BgbovTYWhlVzwe/3M0Gg3Op9k3Nzf7nS7XJjzwZkE5FvwwQR2O+2ENL1dLAMyr6zvwg19a3HySUfoHmPFOhK1oNf1f1/UW0zS3wgIfgxKaLNziaRDktlJdojQBLFni8hrGy5h8h8UND8PMH4KZf0YWcMA9robA98A1brc4fSAcCvXjMz53AQC8zzBewdGtCvBp+OYjoVDoOVLD4fP5NkMIT+GwQXm+o7CEO2YTAp3V7L3ef4CNf66Y/HnN4VgdDAbfJzYYcIubUpy/CpfosrCEuy5GTuvhKJrc6PpOaPkeNRkBw/8Y8XeY2GTEYrFzrtbWQzSVWoXn9UmnvtXU1OTG+cGyLQCmtQ6m9aIK3tXQcPPo6OgFYsPR0dHRmUgkhmCxS/K8gdJfFIoOtECcvy6ZSr0vhzqAPwfNr1hosiubHDs6rqGJxFuyO+DZo1zTrrfKE6yyLJZEkpMX50F48Pk1dgcvxviFC584GFsjkx+wNGuc/8VK4Q4LQnkQswbyTJ/SLSCTV0mdDMEJ8P0IXPg26evFjW73uanJyRMFXUCkng5NOysoIKd8sCsI72ekDgd47IiSJwSBZ4lcQOW5ABKLbTJ4keHh46GKS2Rdfxxh9IzH4/lOLQSABG0TMMRkeoM/PGLJAaKsRXq5Ke8kpU9CWl9UKP2nYV6/E70B+ODva8IH4+OfAsMf8yICIVvwbK0zBICafkCQhTQ35HQ6d1UKHqaXlXQIx6tr5QbIC57BhyEBbkVYXK8KgMLe1yup5E7E+6/mCJ7M0iuo+kCqPgGt786DxvlAHgnCT1fAVIekOfFEPL5oYmIiVBZ4VIv4eHhGjRwK0VoKQZTSDS7XeRxqkoKXix4jywTKOxUJHb1cwIuR7k2Y5uvK12svuQDnqxS/2V8meNOu4C8p3PyrktukwyODz16p5M4p/A2W0SH6k9X3dgKfCemDclUIzX+zvb29i6l9Pcw4UWrLWYDHBbbaHXwmJBpw7VNKnrCCISQsUxKDocsN/CVw7E2lSvwug230KgQ4fFmCvzhOK0lRLxIlelWxSRbp7TNZ8KIzVEfghcbzsIl1Sob0t1Nhy/8VAy93hZE5dtcL+DS2RCIvrReLtCIx8ChsOVEk1JFyz9ViFFKIWI1CtSuDFQsvF5eosyMSiUQtNP9EvZTAooJFaP+1ZUKUWYqTLLiRlWQ6nD9cLwIAqCuQyT1Z8nxIbFr+orW1tVmdpDkcP6ojC/gK/viYZU0wMtKizJ0WFjCmSHDGEncwGDwhz5PZ34YW4DZCoe1W58QKtDLZ0BAHR3HYLdUBX8PH5xbEAirQb4R0B7PsX08hMI3N6VyMMCeHwVGGsPeZUggtLVJbvwekfdJXY3aMAgUFQMhSJQyKjhFVE5/eWRoM7+FHN2bAe+waCguUhL2KQIaFBZxUysSVs11HcAKEcIvECbG6EALnedioaZ4SO7oWoxz+PK8cNk1fKRUhABs5KzDNafiPy66cIJq+SILEpo3cWgiUuIilu76mKS8ZiQm3lJhxeTPuQLLg7WoJiAB9MnhY7WlY8nmWKRKOKEVDf6kXzoRIw+7pMVy9XwmXR3MtMQA+qJDDKiREvjJyb1/GEgw7CkE0ReHmtynZ7cGcAMaCwSGI6BPpfIOmaQ+Uc5MMMfbZ0RIaGhoeJNIOM4D/CK7/Tk4AaQuhdG9+0KRbu7u7r6hACDfYyRLa29ubgWWLkgHuJZlNVLliiCeTe0UeLU3zT8XjZa8Lim0zcois9UAJLPoXvrxyn/N9OVlkD0TTEA/+nOInvxVd40qEkGcFpnmsFuA9Hs/XuWnmlcbggt0FV4cTicR2uegRhQVcY3eFTQlBjEtBqJuQU/ykRoXRs+nyWEpkYek7iBLzcyMej8eamppi8sYCAOhtdLvPqxsLShmTk5OhWCz2H1Jkl1a1Bgq3jYLH8hJBQh4dN4xjSsSbmTN4vN7jkNxNkt9MEU1bPhYIfFAPRY/f7/8envltOTnDOA6rXKkqw6ojlHIwtk7eWCBaR5DCYZE22x08Ut6rkqnUazJ4Qe7s4na/GZbIClR8p/GDjcrEKxE33mju6mq3K/jOzs4OkNwbUNgihQweADF/ZJkiF7oYfPdUY2NjO8rl70u9Aj9NJteAJ16bmpoat5vmU5z/G+Cvy4tkhOwcC4WeKtIjKF5DIAweAvI1Cpl8CamutgsntPn9y2gqdVjVPMAfMkKhtcVIeLaucCrs892JX/9LdQeSTL7j9fsHag3eo+sbHJwfn2H2hLxueL13zxaBSt4u7wuHD6iWkJUyNc3NiPVfLiTwDCE/C5//6Yxn4vwVQ9fvImfPTs9aJpeW1YRT4IS/gxN0mROyeQKyrYEmt5t7PZ6T0Wg0UWWic7tcrl9B8H+D1r9toZDdRjh8H545WWKfsLwBTrgPgPcUeFsjgH93JZPJ5yORSHg+gbe0tOhOp3MDrFDk9vrMblf6rZUNsMSXyrluRa0rZFk9YNyX5GRJGXFo4ghcYz8sZlDs1KrkPpn9fH2imQFTF1taGixbfYS8q1G6DqHuTLn3mEvvTkQIkW4+TpQFVmUkxa4TZppi48UwwHwoVqBFVZZdhxSrUWJBJrMm0QOwvfjNSpDtDbO4aVhsxoSAn6803abzZJrb4BYbC7xJNu9DbH+Hue9BqbtdVLFzuda8dW/T7/hp2gDMfgBWcU2VGnsfi8aN6F1U+i5i1QQgX9Pj96+EINbibxWE8Y05Yeb8LJKuI1D7AdTxb5MK3xBdSAFYxevl8O9l8P0esSUnsyvFI70+L+L1mFinTC/VMSZenz+ZruCqnF/8H8NHa92AY3WkAAAAAElFTkSuQmCC",img$F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIoSE1JoISKYQsUiAVEUS4mgTbSIEYzaZNc8hDyW3Q0SbAUbC8FCtPFV+A+0FWwVBEERRGz8A74akfWOCSRIMsvs/Tgz5zJzBtzRnJ63WoYhX7DN2EwkuJhYCra94qEPL37GkrplzM5Px2k6vu5xqXoXVr2a72s4OlZTlg6uduFx3TBt4Unh6LptKN4W7tKzyVXhI+GQKQcUvla6VuEXxZkKfyg247EpcKuewUwda3WsZ8288JBwfz5X0qvnUTfxpQoL81J7ZPZiEWOGCEE0SqyRwyYstSCZNfYN//nmKIpHl79BGVMcGbLiDYlakq4pqWnRU/LlKKvc/+dppUdHKt19EWh9dpz3AWjbhZ8dx/k+dpyfE/A8wWWh5i9KThOfou/UtP5DCGzC+VVN0/bgYgu6H42kmfyTPDLd6TS8nYE/AZ234F2uZFVd5/QB4hvyRDewfwCDsj+w8gsVKmgU+omlKwAAAAlwSFlzAAALEwAACxMBAJqcGAAACd1JREFUeNrdW2tsHFcVnrmzT3vt9e7s+gFNCa3TxPCjpEUi5AFCIlKbpFUrEolKaQuImDTNo2kgP3gIiYd4CPJqQ2gi8Wit0qoGShO7LUb9EUxIlRSDVJGkSWkIqI7xzs76va+Zy3fN7nLnena9a2e9417JnvV4duZ+537nO+fce0eWqtzC4fBNOHycyvJKyTQ7ZFlealLagnNNhBAvu8Y0zRQOCSLLQ5TSq7jmIo4DOHdW1/Vr1eyfXI17hkKh1RIhW4Bso0xI+7zuRunbMF4PfroTsVg/O+NIAwSDwSbicnXKlHZKsnxrVYaL0n/AEMfNbPb4yMiI7ggDAHhIUZT9oPVOUDogLUCDy0zAXY5mMpkfjo2NabUyAFFV9RHw8VvM1UtcZ5iS9AaRpH5qmhfwN/PvfwHE2Ojo6Di7oLGxMQDjNcD3l+BnOU51mLK8Ft+5E59dJe6dACu+GY/Hj7LnLJgBIpHIbVlKn0YHP1bkkjTA9gJMFz73oYOjc3kODNwAY60H7beioxtxylOEEecUQh7SNO1i1Q0AVX8IdD+GEauz+beGETkEah6bLzXFBpaEXS7XI/i4BxoTtTHCFNxiJ4z9s2oZgIRU9SC+sNvm4ZN4+HfdbvfhoaGhiWr6f1tbW10ynd4Fhn3dTnNw/ihC555yXaI8A7S3e0Oa9hxC2n02D3wJh13Vjtd2+QVc4wgA3G8TLU7Gw+Et0pUrqfkbAODDuv4iPt0lPCQFodqb0LRjUg1bKBLppIZxGGzwWVgpSb9PhEL3zmYEuQzad4tWBuXfpYqyaSQWG5Ac0Jqi0dvRqVMQ5ZtmMCEev7+UOyglrauqBwD+8wL4t0D7T43o+kXJIS05OTnk9/l+jYhxNyJP5P/DKy/3+XxqMpnsrZgBTaq6FRZ9RgTv9XjWQej+IzmwBVpbo65U6jTcYYXAhC+ACT8v2wCI88uyhjGAG9VbaG+aa5CCXpUc3FCH3EwJ+RPvDixEIk+4wy5PIHZ+jzj/Sx48EzyXotzjdPCsTUcjQjYBdLIAiBC/YZpP27m8YkP97aDFdgtNZPkxWO8laZG0aU0IBIaB4x4Ow/v9fr82NTX1elEXmC5sXK7LLAsVlPTeGuBwIRX+EjreF4vF3pqTO6jqb4QIlsik0+18lmpxAZSz+3jwLMPDz65ajCISnddQaD0Jd7wUVtX4nAodSnezypEnOLLV/bYaAPEIQuQsaS7S2+8lEol/1oTHsrzOmu9E7qj0FmDuv5G9ftsSySh9lDF9JgMI2cZKUv77qPMPOcWv0fE/zMUIPo/nCRxinCDWs4kb0QAy+N4pxM7Dw8PD47UCHNc0MUSHYIQ3YIQ7K7nP4ODgJLAcFFyjM69/JEf/VaDKMu4aaEX6J7UedRsjMCb0VWqEbDb7UzZHwbnXLU2RyNqCAQB+s1DhvTw+Ph5zAvWLMOF8JcI4Ojoah6D2CCzYXDAAlHKDEPe7nBTX7ZiQE8aymQDAXcLfG6ePuEkbLPouP4dnZLMRZH0JpyU4GHWaz0wxSt58bIeBQmWE1UZ8J84nf2D6BwhGf7VA/wEngrcwAeBZfp+P7eUwgc1LmpJ0Xji9ilBZ/oi1EiD9Tk5z80Zg+b0QImc1AqG0X3D1lQSc6hASkAtOz/UFTWBsbWLCiNT5o7N89YI10tMVRDbND1pOStKlxVDwcEZo4vreV8oIAHxJYMBSF2rnFt6cNJO5NqsIObBBEwbhFm3o4Dn001YY2YKMbM0pWgi+abnQMIyxIpXVfqGwcFRj4Pmix04T2GqUWP2T/BJ1vo23to4VmTr6vmWSxOEtaxinbRKiccFoXlL2HSn9GiuPF4sBkN0eKOu6plBonB/ZdCoVLZYGO1kDyskep5fX3G6Nc4kpF3jA1tkLBkAJ3MCXj2WkpLXPDK1R7JCuaXuL6ESDcCrBwuCQhRJu982LYYTz4Jn6lwM+F/aWCBM+QwRh8B2hSFixWMDz6o8092Ap8Lm2QgiLV4ksZEfiRU4GX/BlgE9o2uNlCGOH4BMXCEb8b0Kw/MR7EXzu2rUC2wfkaDTaanB+xK7LlcP6ewm8XTkMH1hChoeHr+NGf7eKJVnvdPDTEl4m+FxbL8wFXGGzxiRXJvYKavmgw8EfqDQkQ/C2Cv7fU5gSQ+sW4sVdgUAg4mDw+yq5T0NDgwoB3CBo3QsFA4AKr7Olb+7fLrfXu9Nx4Cn9caXgWXO73WxzlYenv67rZ3gGsBBxXCh+drNtajUmgWYBH49/udIbtLS01IPRjwn0PyHlttwSLiScgBjy+/lC8Ju9NYNO6Skpv045R/CsZTKZPZJ1vXOcbbUtpP75D1NTUyl/XV0dRv6T3ITBKq/X+2wqlVrwSVI8900cPo3RO6rH41+dyz2mN0tI0vMQdTfH7AOJRKKH+9vyhSBc4Qo+RriR6IX1N0qLsAHP74CHX9qPI8dp53McywaJZDKZ8tXXj/AbCzACy/x+vy5uLHB6a1LVHSh2Hhd07SsQv9PCuZkpMxSYXcSnjWlcuEbTtPOLATxbRYavn+EWT1jWeBaJ05r/feT00E5+soR8jokFd86DdPlksLn5FqeDDwaDS7OGcdIC3jQnXLL8sAi+mAGk0eHht2VF6RQmE1pJJvNqc3Nzi1PBI+Q1w+dfRV/fJ9T9O4ptsym6UTI5OfkmfD8AS67mUuSwYRj3eRsbe1ITE7rTRh4sfQ3gbxNmiI4givygaIk8y30J9OA5HLdYs0jzugJ1hSacc4rPg/anhKlxlvG9CNH7jB31S7oAjxWp51ZJKJaYO8Cy/Sgxd9caPLLVR5ngieDRXtFV9bOlwJfDgIIIggldIhPyeQLcYidi6zsLTXlFUZ6AX26a0SVJ+q0eCj1QznZ5pcznGcgDuqEJ9bwm5PME/O5EEqng5y+4Ll1N4NFoNODz+fbjub+C4H3YBjybGP0iKrxsOfereJo7FIk8QA3jKZspZtZ0JjqZVOrJG73FhpXnHo9nB4Cz3H7GS1rTy3aEbEesr2h3y5zm+Ruj0VtdpvkLIVmy1CBwjVdQTHWhY31znV5j7yKC5uvZZAZG+25W2Ra59M8IdQ8j1F2u9BnzWeiQwYZtsml+x+4lJn5w2K4TjM4fJfbKHHstNpO5xhZh8+uQgevXG9iCDFuTQIeWw3gdGNJ1AL1yFqHWoHDfwKg/NZvYVcMAhQIK4PaB+nvQ08aFEEC2ygvjHEFZ+6P5bue5YUtdbNYVo7sNo90pJiM3bIrANC9LbOLGNE8gvo/ciHtWZa0PxmAvVG42ZXkDWPGheY72RRi0F+C7Afqs5NSXp0uErVb4+xqw43a2H4ltyWG7UtjGjPybXtOvzxOis3VKtlTHVqtkSv+K/5+BsA1Ws3//Bc6zp+jC743WAAAAAElFTkSuQmCC",img$E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JErEBymMIKKQQsXCgCiIpUTQRi1iBKM22c1LyGPZTZBgK9hYBCxEG1+F/0BbwVZBEBRBxMY/4KuRsN7JBhLEzDJ7P87MucycAfd8Rs9aLWOQzRXM8FwosBJdDXjf8NCDDz8DMd0yFpZmIzQd3w+4VL0Pql7N9/07OuIJSwdXm/CkbpgF4Wnh+c2CoXhX2K+nY3HhY+FRUw4ofKN0zeFXxSmHPxWbkfAMuFXPQKqBtQbW02ZWeER4MJsp6rXzqJt0JnLLS1L7ZPZjEWaOEAE0imyQoUBQak4y+983VvUtkhePLn+DEqY4UqTFOypqUbompCZFT8iXoaRy/5unlZwYd7p3hqD1xbY/hsC7B5Wybf+c2HblFDzPcJWr+/OS09SX6OW6NngEvm24uK5r2j5c7kDvkxEzY1XJI9OdTML7OXRFofsO2tecrGrrnD1CZEue6BYODmFY9vvWfwHle2f+inwUtgAAAAlwSFlzAAALEwAACxMBAJqcGAAACSJJREFUeNrlW1tsFGUUnvl3tyV1e5m90EIAMVSwPkhQE0Tqmz7ILRDhgYSAL1TkkqqoCVFDYiRRIgGL1QiJFyRGAwkqSlDeAJEEBd4od4IJ0trZbbutsN3d+f3Osltn/53ZnZ2d2a5xkma3c/nnnO/cz39Wllw+wuFwSyqVms9leTaXpDZZ0x7gjDXjc6LMWA3do3GekGS5D+d6ce26LEkXZM7PM8ZO9ff3/+kmfbIbiwYCgbn4WK7J8gImSQ8b3aNpmgQG874b3NeDa0e4ph2MRqOncYpXJQBgugFSXgtCO0DwTDeAxdqXgdQeoLIXYAxWBQCKojSCqM0QSydk2CBV4IBWxGA+XVoyuWNwcDA6XgDISii0Fra6Dd9DheiF5M4DpOP43gMt6eGJxE34hdhwS0uMbvDfvl3v8XjqZZ9vGgiaJXHeBi7bweQcXPYUWFvVJOmtAVX9hN5TMQAawuEZXk37HF/bTW5JgomjnPMvIa1jdqXU2NjYBGCewTqrAMazOOUzufVXJstr4DAvuw4ApL6Sp1J7YOd+g8tRmEJXIh7/cHh4uN9Jtff7/aGampr1iBad5HIMzGIEWrYO2rDfLQAYHN17IOBVg5ffgQTelWV5p6qqMZfDqh/m8xJC5xYIoS7PUUrSrqiqbrZqElYBqAkEg4TsinzXzI+AoI1Q8+tSBY+mpqb7AcBuCGSxAQiHooqyUrpyJe4EADWQ/CG8aIFwfhTMvxaJRLpKiWROa2YwGNwAH7ED9NUKl45GFGVpMRCKvUiG5L8RJQ+Vv+1hbDHU/TcHmbZNZygUejSZSh2GRkwW8oZvkS88V8gcWJHkZrvIPBa9wn2++RaY5w5mbQXXgvc/C7rmQzCXclBjbKkSDO60hSx5e8T4r0TmfT5fe19fX28FpF4y3c3NzRPjo6Mn8jJRztfAVPdZXojiPEsmz2Gher3ak+QH+/quuWzjZa2B3GE6JP+L3hxA+99ej2cONOWSFROQKcnRM08ODza/pEzmZd2fE/cZvg/R6Ab3eBZB6mPOj8JlkvN9RvwyA9Vfm5fhwdvD5s/YZN4KM3afNQahv/8cKtGXBUbnImK8WFCNqLBBMnMZISWsj/Own4U2mHej1C7pXeDnO5jDEt2pSCqZbNWn5rkagKpOzzxleJTkVAnzhdY1o2MT2b8+sKG2eN3QBNL1PEranItIbwtkeNxhdXccBOQAN8HDttzSlG+kIisPAGpmCPV8lHJ7qToPyyAjbH9AZbPOIfqZ19uRD4CmdQhwdhUobLhVopBJVhKEPLp6e3tH4Md25TzIeUf2eZbt4QnJQ4JK2nKZd6XfCEB1oFoCIZFIfJyuXcaekmfAQT6p14DlQtg76mQ975QWZNeJqGpJz8ViMRUafkRw+CvGANCESg/V1f5yVBHFiSipskEowLwl7YM/2y80MdKhXU737TVN33vXECtDJm2ssmwfHpkKF9sAFJB8UbooygGFSE6PkfOpjDYthILnXAk9PFP0jYhFCCqqCaLmWGDekhYgmRtCTfy7cHoeox0bwTZOOGX7RDRJ3chEimlNFggLzFvv6UnSyRxhy/IcRttVwn09Tpa4RipvpAlmmlEG83n0QrsvCH6gjdFenYBKj9PJiJkmZJl2iHkr9PQIjnE6o43KHAASiZtuxG8z5+eC5M1VgvM/BE1sZlADRX+SdmzcSmKsMuUG85niLiZoQAAJIJugP5ndrhovENxino6hoaFhQSNqmfQ/PxjUIqdvThuVbufylUibjY6Ghga/YAJJhrifk/TQLu14Me82CEKfk0zgLwqDOS1u2qKuJPNmNu8GCJD4VCE176UweF0IprPsJhp2mTcDwSxjtEsPAJglaMANRgNJQrBsKzfxsSN5u7VDiYlRmwBID6NpLCFYPuW25zWTeKm1Q8l5gCy3CxpAmz/sVA4qjM3RNw2dMgOrcd5q7VAqHcFgsB4x/zHh9GlGc3g0iqb3DTSWMt6ZYKHawWYaTDx5dSeuprvGmfBwRE8gzeSUYFfcSeZt1A6WmjQo8lYJ//841hKjIUT94jSQRDM5lZa8WyESCVAAiCwUADioR0pWFOUiGH9QpyJbI5HI2zZbULycyOF4DhIIvAGX/46Ot2vgrZW+sTGCaQIzN0Z00kCSjTjMpSo6Jk2aRINUnYL092TpZLrwt1coFwM0jVViTsCd6CI5edwdHd0k7HeOaMnkHl2b7N5Bs7c0fiqEny00cOBkYlRh1Z8C//amkP52m+4OA5n3pdx9tDqExN1OtMXG44CqdwkDnQOJRGJ7DiD6f4DMAM3eCr5gEY2i/ddAUEKhDhC2TEgGttIuUTHiGcIMtY/n6R6Mw2tOsJmFVRygpnB4tpRMntZ3u2D7ZwaiUeIpZaoB2Xtp8Dg9e/uvFtQ2KcotJ1Jh1yWvKNPA7Q8C83c8jK0WmTcDQEpPXTO2TmgmTAIIF2kUrVpt3t/SEoZEfgJTUwTHt1FVVcN2v2lPkKauafBYAGEmzeHpIoNcLT6AJO+Nx4+DxodyVFTTumG+n9q1T6YEgwdFZwKVuuX1eBbThGY1MJ+2eVJ7QfLwXYfB/DIj1S+qAVle01PXknRU0ITJAOFUUzC4vhq8fdrhCcwjmv0cCQRWFGLeuoduba1VVPVrmr3N84Ka9j0+NlFpWfEkB3E+L9RlJU/MWxiX91gryyKpu3fvHphQV6fghXPFPhvK5xfq6uqo6jo7MjKScDu399XWvoJ3HoBze8RAIN0QxvOg2RIdsg3kVyNF/ghmcJ/BZZUGkmgmR0w4yj2opPV6veukexOgeaV65lcrG2Dzn5Wyri0PHgqFZiY5/wJ294TJLaM0k5MZSzlGwwk21ZzG9p6mZkamnq8xdFRIcijOm4U6t7I0RrO3CJXUMwgUuC9Fkxk0nJDZn++hXVqqPLN7dbRjQ5sW1LfPtK7bqIGJZx4vYqYDmb5FdzFn51qaipxAofFTmsA0+SWZ4wdlqVTVUWFTrqk5lsRQJzk9galpaxEtWt0p7/g1amZQPV/uL0bdLFTk9BAizeFp2sKyweD8KjUwqYc30N9/UqrWH08XitdUWdJAEs3k0FgKTWbgMwxf4M2E0ji+R2ivjraraMeGNi1w6bTb+cU/7fBoL+/5UFUAAAAASUVORK5CYII=",img$D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIU/N4piFBEtRCxSRLFQCApiKRFMoxYxgq8mu24SIRuX3Q0itoKNRcBCtPFV+A+0FWwVBEERRGz8A74akfVOVohIMsvs/Tgz5zJzBrTJvGG59TGwCp6TTMQjc/MLkcYXQmiE6aQ9bbj21MxEiprj8446VW8HVa/a+6qO8LLpGlDXJDxi2I4nPCY8uebZireFO41celn4UHjAkQMKXyldD/hZcTbgd8VOKjkOmuoZyf5h/Q8bOccS7heOWvmi8XsedZMWszA7I7VbZg8uSRLEiaBTZIU8HoNSC5JZdV+s7JtmVTyG/G3WccSRJSfeAVGL0tWUmhHdlC/Pusr9f55uZngo6N4Sh4Yn33/rhcYd+C75/teR738fQ+gRLgoV/6rkNPoheqmiRQ+gbRPOLiuavgvnW9D1YKeddFkKydQyGXg9hdZ56LiB5sUgq991Tu4htSFPdA17+9An+9uWfgCZXmfbLPy9EwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAtBJREFUeNrlWwtuwjAMra2cALj/CWFHWLYiQKGLEzu282GRqiFo3bznT23PhY1Yl8vl/vd6vW6VFTf5AitZp/P5JQsByPMoHEABr12oAE/d21IWG0+gTuywYrLx2OumR8sOSnmg3LwaONcFiqZT0j4jBngAhoZYVDX/HLbQCfgRWJT6MkVGycefn0tEQO5HS7YJWWwCanI5+y8REKxUu99UEEhzsQO0hFOKK5GFrdrfhT2PQU+RJiVVCdA8WkYA0O4DPTdrHUg5AKUk4AhNzURy0DIqDH4uJB/3sH+mAt+fVPg7Ri+Nx5bonpFtIscrFeZkfFGxeSs5pLLQGfww2Vy3xIXAu9wDO2xMY7bgTQJODF5EQi4Q59zg+B1ODt7FElIS4HQ+v/34dbv1Ah8NrqleW+t14OSad7cEXAi8Cwm4GHgVCRbl8Azgm0igiqagBf/rR+BZCVaKGaor/ZY2l/aEC2reNCaE9LGXtrgy1diM4KuW8Lt/YPcDMqayAniVO+CiZm/mDvhB4JtIwA8DLyYBt3++Qmsw6bUa8wq2FeOoRoTjErkw9io6ZgR/dwGLVHMl8Mf+BzIaCCtYQvOTC5m9tJlJUD22JdVg1h0etQKsCP7lAtyO6mSWYJKwoaQWn4gEs2wVGxOOkSSYpuqaVHgECeZ1ingqy3BTUXl+E/gU3z4aYFEM9bAEc/B38wdonxLrSIJreW5ZDnuQYAaecm3UChjQNDG7B/m/QcoNJiDBXDZ22CiMluM6K1wQDoqgaqb12mMdS/6hcINlFqZDz9z3hVYnIcUVtg9dZmNyveZ+e4En3xpLL+aAfp43G0Fdp8UVsSCOKKWzEyKcbtAKbpAL4hwMotfmDF6vE78252mJr1RYo+G9KfpojHIOiYuwjlalNI3LCwYopFle1ChAky2GI7iOSc4xz+/SVK0+BrlEPH6HwgyR1MebSOBOqVHf/wB4polu0KoYHQAAAABJRU5ErkJggg==",img$C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIpioim0ELHYIgaLCKIglhJBG7WIEYzabDabRNjEZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9Y4SImFlm78eZOZeZM+CfsoyC2zQIhWLJSUzGtfnUgtbyTIAQHQSJ6oZrT89OJGk4Pm7xqXozoHo13vfvCGZM1wBfq/CIYTsl4THhqdWSrXhTuMvI6xnhA+GYIwcUvlR6usZPinM1flPsJBPj4Fc9tdwvTv9iI+8UhPuFIwWrbPycR90kZBbnZqX2yOzFJcEkcTTSlFnGosSA1KJk9r9v8Ns3w4p4DPnbVHDEkSMv3pioZelqSs2KbspnUVG5/83TzQ4P1bqH4tD86HmvfdCyDdUtz/s89LzqEQQe4LxY969ITqPvom/Vtcg+hNfh9KKupXfgbAO6723d0b+lgEx/NgsvJ9Cegs5raFusZfWzzvEdJNfkia5gdw+isj+89AXPlWf0rTeiAwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAZdJREFUeNrtW1GywiAMZDOeQHv/E9Z3hBenf05ttZAACSQz/lQHdjcJCRVSCgsLm9nQcC62iA3GSDfHCcOkm2CGI+JVsKMDeTQcq/oA7H0OVASmvb5UmQ8VwPSsLGghABvoKdRwwCl5NTxwTF4FF5yTF+MjJ/uIrmWQjZMXYSXnnhdjo8Lc8mRcqhg7834RdkqTGw2S+8VYaeDcv8SJBvR+tRTwZphdgEtpQJPkvygCMHIaRB8QAoQAIUAIEAKEAOUvFDxugCICfgiAgfmiNAKG3R/cpAPcH4/093wePte0szmOnuc4jTQ2QHuy2uSV5oA0AvibMDVIC+a4nLLTV4GS8zrWq0QW5tsMTl6W5fCLdV1/pgCclcQsbJswqBFWxsjjnfDHIvj+8CxUHETCpQMSW8hLvDjEEZm9kzX+G2Qv5LUaGD759CAvwrFxj4OSFUuOi6OyJOjhkRGiGqGuTl6SApKFcKjj8j2rgakLEy2FMHtlpqYYri5NaYlh59rcvn38Z7sbQgK+9v4fv0+TG+V635N5xt7MXlrTY+62KCOPAAAAAElFTkSuQmCC",img$B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIU/4yOikYAKilikULFIICiIpUTQRi1iBF/NZpNNhDyW3QQJtoKNRcBCtPFV+A+0FWwVBEERRGz8A74aCeudJJAgcZbZ+3FmzmXmDLjmUnrabglCOpOzwrMh3/LKqs/9RgttdOOmT9Ntc35xJsK/4/uBJlXvA6rX//sajs5Y3NahqV14QjetnPCU8NxmzlS8K9yrJ7WY8LGw35IDCt8oPVrhV8WJCn8qtiLhaXCpnr5EHUfrWE9aaeFR4aF0Kq9Xz6Nu4olnlhalDsgcxCbMLCF8RMmzQYocAakZyayxL1j2LZAVjy5/kwKWOBIkxesXNS9d41IN0ePypSio3P/maRvjY5XunhC0vjjOxzC496BUdJyfE8cpnULzM1xlav6s5DT5JXqxpg0dgXcbLq5rWnQfLneg/8nULK0sNct0GQa8n0PXCvTcQcdaJavqOmePENmSJ7qFg0MYkf3e9V+kTWfgP9nSuwAAAAlwSFlzAAALEwAACxMBAJqcGAAACLpJREFUeNrlW1tsU2Uc/76vl5HZjZ1e2Ea4GRZwvhD0AYHxJg9cAxEeSAj6sokCoqAmPBATo4kSCTgkBEi88kCUBBUlQ964yBIUeGOBcQkmk+HabmwTurbn8/dv2nL6tT29nq7ML+nanXN6zve//3///7+cWbx8Pl9TNBpdLDmfJxlr5br+rBSikem6JoSYRNfouh5iQgRxrh/n7nDGrnMpr+H87wMDA39buT9uxU3dbvcCvK3TOV8uGHu+lHuBOT1gxGmp6yeCwWA3DsmqZACIroeU27HRDmx4jhWMxb1vQlOOgCtHwYyhqmCApmmTsamdEMt2SLveCsIDfj9zezxGrRjmQnTqkchnQ0NDg+PFAK55ve2w248Y5z4zLYbkroJJ5/G5B1rSI8Phe/ALwyNNTcN0gev+/TqbzVbHHY4Z2NBcJmUrqFwCIufjtDC5t19nbPeg33+YnlMxBtT7fLPtuv41PrZluSQMIrqklMcgrbOQUrCY50yePLkBjFmK+2wEM5bhkCPLpZcE56/CYd60nAGQ+gYZjR6GnddlOB2EKXSGQ6EvRkZGBsppBi6Xy+t0Ot+Etm0nl5PBWY5CyzZDG45ZxQAOR7cHG3g3w8MfQQKfcM73+f3+YYvDqgvm87Yu5S4IoTbNUTK2P+j378zXJPJlgBNOiDi7Pt01y9PY0Fao+R1WwQXzmAXzOACBrMzAhJNBTdvAentD5WCAE5I/iQctV46Pgfj3AoFAJxvH5fF4tsBH7MX+apRTXQFNW5OLCbkYICD546rkofL3bUKshrpfLjSUW+WbGjStDybRrOQNPyJfeMXMHESO5OZTlXjctFc6HIsLIF4aXqyI7+T1vcFgcCoEcyOFi0Ks0TyefaYSNvP2qsMj4h0OR9vQgwe3LSA6n/uZrhqnc0kaExh7C4LcVJCqUZwXkQiBEZdR7UnyeRJv9eJmzhGSv4i9TzWGSLvN9gLyhBv5aACnJMdIPDk82PyqHMTnK3Ge41WSL0E0ugtiV8FBJ50faHkmIuU3megVGVS/PS3Dg7eHzf9RgtQLITDfa2U2AUDSV4BEdyiEvoSI8YapKhGwgfr04qPXGOcR6lYUSTwvow8we4bM9EzQ8xPoWW3EVdFIpMWYmqdqAFCdkXjK8CjJKWJjnJW31mB2P2ny/zbQ8K8xsCF5ej+jCcTwPCBtykmktyYZnqxkkaWYeyMHuAcaPk6FpnIrgaw0BlAxQ8HzQcrtCyCeW0x8UUxA2P6cYLPBIbqE3d6RzgBd71Ao7LQa2FjgD9JWf3//KPzYfgW9tScYyZM1PM67DZdExkKh5iyQVlZY7UtOpevq6jwOp7OPcI1B4G0wkYsJDVinhL2uKiS+6DU8POwHwacVh78+aQK6gvSArr6rUlqK9jPwZ8cUM4iFdh6r2+u6sfauI1Z6M5SxnkrpG6McuBDAR5tB0tMFNS0UwHOt2BpeNS8kcw+Bif9UDi8U1LFRbOOcVZh9vBfs/UKKsDmfL6hdpVzXM04Iz/oQouvXFT/QKqhXp3Clh03c1aM4xlki1qg0MiAcvldB9ZeV1C5Et7+UtLiRNGAKAEPyIHVsxiGpqQgTqKWmaIBPAC46kR8nDybaVeOQ0VnOhIcPH44oGmEX7H++BOwgbDQBalSOE6KzPKzW19e7FBMICfx9YDQB6tJWMK2taE6h9jNhAgFygv0pu3I4ZjwNuX2ReGC6UvDppzB4R9nR3HJj8qpBUpzPVTTgrqCBJCVYtk6EtDfLalUY0iNoGksJlm0T1eMD9rcpGnCVe73eZkSCPsPxaBwOD050OAxsMFPQHB6NohmutdFYygRUgJeVWsCtWNU4Hh5OK6qxMU9pPzXOECBvo/L/r3GIHFOFEymUCrGMZnImiuiRALkhvRUKA04kGUATmLEhxCfLERtImiBaYLfbNzNDRRgqfntwYOBCkgExImgCMzVGbKeBpBLATVWs5ubmWtDyjiL9I4k9C0P4O6rARTdNYxXg+auSCY/Hxrax1H7nqB6JJIWdZADN3tL4qVIw2NXQ0DDzaWUCQt80mPZuJf09mLU7DM7sZal9tFq8DhRYFaoaJkDVO2k4wnBoMBwO70lhiPEf4gzN3iq+YBWNohXBhHIyouD7aV5vBza3VknzP6AuUS4CaDSOPORCwxdD4OQimrwoUuq8BMILvk+DzzePRSLdiR9kxG3/8mAwSDRFs2pA4loaPI7N3j7RgppINHqKBpCKJLCQqbGSJsw0TZsBan9RiH9kE2KTSnw2BrDY1LUQm5ViwlQ4yTONjY1TSsT2Mser6OVqavLhBmdA1DTF8W3x+/0Zy/1Za4I0dU2DxwoT5oTGxs6baMK4ASSSvD0UOoc9PpfCbV0/GAgEvip2s0LzeE6ozgQq1SdttpVDAwNXK5Qk8Zw2T2qvSB6+6xSIX5tJ9XNqQILW2NQ1Y12qOdh0/VJDhrEzE9PgBRKc1/fI28ccnkI8otlvAbd7vRnx+atrS0uN5vcfp9nbNPHq+s9420bQsuJJDuJ8WqhLSJ6Iz2Nc3pbX0wKB6OPHj3+YVFur4YEL1Dob4PPrtbW1hLqujI6Ohq3O7R01NTvwzO+F2tmO2zyE8Rr2HC7ZtrJwfhNS5EOZfq0RyyKl3I9s65CacJQD0gLVkcltz/QjrfivVrbC5r8sm3PJtrxe75yIlN8KRRsMa4xmcuJjKWdpOKGY5yADrYOkl1IxI47nnRkdFZIcivPZQp0VGVrMF9LsLVz8hyzDj5gMK0qTGTScEO/P91CXlpBnoldHHRtqWlDdPl66bqUCJr7zIsF5k3sPUnoLBh/M5ewsi9nICTQaP6UJTGXC3LJFWSqhOgI2pZpa2ZIWGj+lCUwuZQdsdLY18E7epmIG4flyzTFZkbVxZGWLYnN4ur4CobOlRKJvUQGTanjxMlZ1/njaLF4TsqSBJJrJobEUmszAuxu+oCYeSuFT5T/Uq6N2FXVsqGmBU91W5xf/AaUAHXpt/nz4AAAAAElFTkSuQmCC",img$A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/aqGVIVRDVIODRYGBFERjGORSDWaQ1aI3PwI/LvcqIa1BS4PQELX0NfQf1Bq0FgRBEUS09A/0tUTc3qOCEnku574/nnOel3OeA/bZjJY1WwKQzRWMcCjoXYoue52vtNGPiy5GYpqpzy3MRGg6vu6xqXo3qno13/fv6FhLmBrYXMITmm4UhKeEZzcKuuId4R4tHVsTPhL2G3JA4Wulx6v8ojhV5Q/FRiQ8DXbV05tq4HgDa2kjKzws7MtmilrtPOom7kRucUFqn8wBTMKECOIlTpF1MhQYlZqTzP73BSq+efLi0eSvU8IQR4q0eP2iFqVrQmpS9IR8GUoq9795msnxsWp3dxBany3rfRCcu/BTtqzvY8v6OQHHE1zm6v685DT5KXq5rvkOwbMF51d1Lb4HF9vQ+6jHjFhFcsi0J5PwdgadUei+hfaVala1dU4fILIpT3QD+wcwJPs9q78GJWgN6zGReAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAlxJREFUeNrtW1uOgzAMxCgn2HL/E9IeYb30AymkYbETv6BEQuoDiD2xJ+MQYNhp0zRh7fdfxEGrjQCb7/M8w6DcgOq4BwAWQADVcU8ANIEYhy9vcDT6FnnISUNpe1Ikx8u+qWnZFQG1Tjydp0SDpH1fzwFj5NHP7CmPexZQJ8FK4xASXA0A7HG8V1aX5/08HmKyOmmiazGNcW0pgUjEUQBCFEBEx4+ASFfMay0SdJOxZc6/ns9ue96/v+1JFihHltWj9uhHEVY1O9723lLYKfSRKazU7JHmAEq4Y/HZNUVSgCg8BKHC+ig1IB4cAJ11hui5aUWXoq+V89YkHUrlOzLEBVJunh+NIEgqUmBxAEdhOTeXJTE4k2NaswAI5nuIYstjFgjjvBcAocrs5OQwdjp/aiG0GqbtPOncUSCfwy5/aXMAGilEOyHUG1pMWR2GOLE4uOdXrzEAoaktdm1sry13g1MxZDUlYisHoLVxJiSYh2rgsNUVQsQOwCsFNFeEWoohby3PFUL/2paOtqYRQXBf3LQWQp7OhhBCR0UNSgI1TdPmu+TTpqQwGnjqFOh8ti/ufDn6V1wQ8Y2AvaemEYyrjf5ir7wQ2ukcpQknSthXSYwz6vlDj0WlQV5p5SVx/p8QV3DvB7VqMFeW4muCBFndS7LAuB/ugPAJgOUObVfSK5RvqpBMMxBEWQ3CKQCcFCCToDL5QZT73TrgBkB3Pg9FqDV77rfGLFCOsFlyz65k2Xm0V/BUIqBHVpetZcvOqvKob6GG5YDW/Urc61RSILKs/nhjxKKzCEDs8c8fwBklUiRq2yMAAAAASUVORK5CYII=",img$z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIU/4yOikYAKilikULFIICiIpUTQRi1iBF/NZpNNhDyW3QQJtoKNRcBCtPFV+A+0FWwVBEERRGz8A74aCeudJJAgcZbZ+3FmzmXmDLjmUnrabglCOpOzwrMh3/LKqs/9RgttdOOmT9Ntc35xJsK/4/uBJlXvA6rX//sajs5Y3NahqV14QjetnPCU8NxmzlS8K9yrJ7WY8LGw35IDCt8oPVrhV8WJCn8qtiLhaXCpnr5EHUfrWE9aaeFR4aF0Kq9Xz6Nu4olnlhalDsgcxCbMLCF8RMmzQYocAakZyayxL1j2LZAVjy5/kwKWOBIkxesXNS9d41IN0ePypSio3P/maRvjY5XunhC0vjjOxzC496BUdJyfE8cpnULzM1xlav6s5DT5JXqxpg0dgXcbLq5rWnQfLneg/8nULK0sNct0GQa8n0PXCvTcQcdaJavqOmePENmSJ7qFg0MYkf3e9V+kTWfgP9nSuwAAAAlwSFlzAAALEwAACxMBAJqcGAAACQFJREFUeNrlW2tsHMUdn5nbuwv4dXd7ju2IUh4BbAmpBAQyjfnWSJQQSqREAslKK6QY0jwoBSIqFRBCFS1tRBKSUiUfWmgkRBMEgiRA+QaBgNoS+FKHEN6oiXOPtc8Hie8xw2+ud2Z2vPf07tk+Rjrfend2d37/x+///8/MUeJxi0ajfZzzHwtKrxKEDFDOLxaM9RDOw4yxoOyD6+cIYxaujeHap5SQUSrEBz6f761YLHbay/FRL54ZDocHKWNrAOwmgOyfzcM4If9lQhzG4YFkMvnuvBUAQHdBi+uhzhGAv8wLbUGgJ/DsPbCOvRBGal4IoKurK8QM4z7B+RZou6N0PplIkIhpemK2sIoUBr4DEtlmWdbEXAmAhUzzTkbIoziuhJRDOMdgHW8SSkfBAx+KbPaLfD4/me7tnZQd2k+f7oC/d1C//0JoV7pMP8DdAG0vk+8p+2QhYuCM31rx+F75X9MEAGK7jAvxNA6vL9MlC9CvUEr3AejrExMT4w1alyTKFXjOMIR3I075y3Q9kmPsF6lY7GPPBQCtD0M7f8HA2hwuJ6GVHZlM5s/pdDruptm3t7dH/cHgJgx4i6QcB36YpD7fnbCGZ70SAAub5jbc8CuHl3/DKH0MZrwdYSvtZdgyTbNDCHEPLPABKOE8B7f4Ewhya60uUZsAli4Nhi3rWXRe7fDCgzDzzTDzz0gTG9zjYgh8F1zjJofL+0HCw/jOzF4AAB+xrBdxdKMGfAq+eW8ikdhN5rBFIpEtEMIfcRjQxncYlrC6mhBoVbMPh58HG9+qmfypccta0sB4hRfcBLe4Ns/5S3CJXgdLuO3/kbMMwIrJjWk+4QD+RB3ghfYhDdxXtcEK/yX8/uWIPCe1S2thIX+oqOEKprWuyLg28MFA4IY6ALjRahLGxJkzn/j9/qEZQqD0vnA0entdpoY4f3kun39PDXUA/z88fHkVshNNcPuK7tG1ePElNJt9S3UHjD3NDeMqpzzByQJYDkmOLc6D8Ayfb5VL4GmVz6ysS1qCj7FVKvkBS7vB+d+cns8cCGUDTg7aTJ/SX8fj8fcqDEDUAZq41FdU4IR/Q2n3a6eH4ArrK5qTTD19hiF9KDL9FrArCo6flXkxrQKeusgDdb8DPHZIyxPiwLNULaBsFoDEYqsKXmZ4+NpcYSCiihbd9Htar3CQoG0ChrMqvcEf7nV0AVnWIr3cZLtI6e8grS/mwSRLtWc7CgGc9Skw/F7reDcso3OGAFDTj0iyUF0JYWXHPAJfzRochYBs9Ql8WQrgTkHpel0AFPa+Xkslt4+NjX3tUabXtAZCnMSgdtoGyfmITWNId5cj4zui9MlkM5klk5OTiWaksi6TI3UqpQPB4CkcGoqCB+UcIysGyrWahA47gJ+PrSZXKMxNCPGqdnrNdy7A+UrNb/Z5wNZz2oQQf9dym0J4pGDEC4D4SzV6oHfErVnX+eIKxRwnrhI/MsY+ps/roW78zwIDX1NDSLTg2u9recJyhpCwTEsMjixAfLW5HWNv2MyG0h8x+P+ARoCjLaJ0J7c4rnUYQKJEL6rUqZUaNG7DJtcpGdLfHo0tv2yylkSz3EAuyNj+Z6xHWkC3NuszOQcm2pQMUq5GKTilBSxm0LihdkqlUuk58k/PhVBaiitOkhBkvwFGvudNusCUeqKzs7N9jsKW5xmkXIRVXQD8l5UukLSHyu+WuJsohKakz3IFWnUBZMBnGExgTKsDftDkBKZptYNcftfC4Ji0gM80AVzRQomPLu0rtDAoZ4yonvgMtAi/UYeScEDrMCot4JhWJg61LOVzbsNGhXhf7ui6EPHw8+9BORwqlsM+JQQuYYVZXyHUJSPZ4SetpnxEgBUqeITB4/F4/BQrFgmHtKJhuJW0X6xxhrVwf5iUZkcA+IB290okRJFW0b6cFIWb/1Qr+w9MC2A8Hj8CEX2iXA8YhnFXq2g/EAj8kig7zAD+I7j+O9MCKFgIpXvsj6H39PX1nb+Q475s3d3d7cBytzYztKd0/3QxxHO5PSAGdSEkei6T2bzAwFOHEljuaovYyn3O907LonQgJw0RFnZrfvJgYdZ4gYIPhUI/RMHzG1snxnaWXR3OZrOPS0pQmLINrrFzIYIvjv9JfFQ3TsDSt9n6qP8UVoOEeFh78upwNDrSwECFy8DrAm+a5kb4/ipbIkjIg9LSq93sC4XDRyG5axW/OUcMY3A8FvugQU1Rj4iu3B6nqzHmtyGAoHL6aDKRGCLaljmnGaG8j7F16sYCCGMRpHBQps2z1KBwsa8jeKS8F+Xy+ZdV8JLcwW8/Jw77BR2nxBKJxHHcsFHreAFG9Fp7b2+3S+Zc7tPwHEJPT89ikNxrUNgSjQzuQtr7kSNPlHsLiqG/Igrs1kil35iaemMWluB+iatofiqTeRNjvFyT9vbxRGJf3Q8s8QHC4AsOZPIVpHFzDZwgvAQ9DT4aXUbz+YO65vHyF6xEYg1pdKus5INkJLIWd/9TdweSy71TQ3Sodw+g030VW8g0N/g4PzrD7Al51QqHb68EvnZ2ljvGk8n9uiWUpEyF2AKX+aqZvlB0wyfh87fMGBPnL1qmeRs5eXKqaplc09uSyfzZs2f/sWjRIpNSep0mwQFkWyPntbXxcCh0LJ1OZ70EDqJrCwaD90Pwz0HrVzooZKeVTN6BMedc8S+9gRPuAOBdZX6tEcPfHblc7qlUKpV0E3hHR4fp9/s3wAplbm/OnO0q/GplAyzxGVcJpkyW1Z/n/Bk1WdJaBpo4BNfYB4t5Xe7UauQ9xf18K+RkBkxdbmkJOE71EfKuQek6hLoTrjNslQgh081HJBdV6JeTu06YEHLjxSjAfChXoGVVVlqHlKtRckGmuCbRD7ADuGcIZHtNFTdNAsBDEPBT1cjOCwGoprkVbrGxzC/JXG9y+zvMfRdK3cf13L7pAlASkbDcbQqzH4FVXOJNLSg+lhM3cu6i0d8ieiYA9ZmhaHQIgliDz0oI49JZYZa/AGHsENS+H3X82y5Xmd6vyxXj9SD8exl8v19uyZG7UuTGjNLeBLlCLRdp5TplYamOMfnz+WOFCs7j/OJb5EAGggqAwaMAAAAASUVORK5CYII=",img$y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIU/EyXigxSxELFIEcXCoCiIWEkEbaJFEsFXk6x5CHksuxsk2Ao2FoKFaOOr8B9oK9gqCIIiiNj4B3w1EtY72UCCJLPM3o8zcy4zZ8AVzmo5s3UUcnnLiMyF/EvLK37POy58eBhhKq6Z+nx0NkbT8fNIi6oPQdWr+b6Go3M9aWrQ0i48oemGJTwtHN60dMW7wj1aJr4ufCI8bMgBhW+VnnD4TXHa4S/FRiwyAy7V05+u40QdaxkjJzwkHMhli1r1POomXcn8YlRqn8x+TCLMEcJPgiIbZLEISs1LZo19oxXfAgXxaPLXKWGII01GvMOiFqVrUmpK9KR8WUoq9/95mqnxMad7VwjaXm37cwA8+1Des+3fU9sun4H7Ba7zNX9Bcpr8Fn2vpgWOwbsNlzc1LXEAVzvQ+6zHjXhFcst0pVLwcQHdy+C7h45VJ6vqOudPENuSJ7qDwyMYlP3etT9GwWgrP+9tUQAAAAlwSFlzAAALEwAACxMBAJqcGAAACRlJREFUeNrlW1toHFUYnjm7my3rJs3s7DaJ1FoxtMYHS0Wo1fgg6IO9eEH7IJTqS2LVlnoHQRGEgrdijVYxffBWRLFYL7VEBR+s1kLViCAGW6tUsE3c2c092ezsHL9/uklmzs7sJdnZWfFAyXZm9sz5v/9+WVnyeCUSidZcLnctl+U1XJI6ZMO4hDPWgr/LZMYa6BmD86wky0O4Noh7f8iS9KvM+U+MsWPJZPKsl+eTvdg0Foutw587DFnewCTpcqdnDMOQQGDBZ4fnBnDvCDeMg+l0+jgu8boEAEQ3gctdOGg3DrzKC2Cx90kg1QtU9gOMkboAQFGUpTjUw2DLLvCwSarBglSMQX16DF3fMzIykvYLAFmJx7ugq7vxOV7svODcTwDpa3wegJQM8Gz2DOzC2Hhr6xg9ED13rjEQCDTKodAKHGi1xHkHqOwEkWtxO1Bkb82QpCeHNe11ek/NAGhKJC4NGsab+Njp8ogOIvo45++AW18ulEtLly5tBjA3Yp+tAOMmXAq5PPodk+W7YDBPeg4AuH4nz+V6oedRh9tpqEJPNpN5ZXx8PFlNsY9Go/GGhob74C12kclxUIsJSNl2SMMBrwBgMHTP4gCPOLx8Chx4RpblFzVNG/PYrUahPg/AdT4OJkQKDKUk7U1r2sPlqkS5ADTEVJWQ3VJomvkRHGgHxPwPqYarubn5YgDwMhiy2QGEQ2lFuVM6dSpTDQAawPlDeNEG4foMiH80lUr1SD4uVVXvh43Yg/OFhVt9KUW5tRQIpQCQwfn3Rc5D5M8FGNsMcf9eqoMVj8ev1HO5TyERFwpxw0eIF24vpg6BEsHN80C2S9j0FA+Frk8nk79IdbImJyfPhsPhD/FxA+yQOsc9Wb5sSSSiTE9N9VUsAWTt4ePfFYkPhUKdQ0NDg1IdrpaWlmWZmZmjBZEo53dBVd8uGwDy80zX+7FRo1XswflrR4aGTkt1vBA7rETM8K1VHXD2yWAgsBZxwm8Frs0JFApyrMSTwYPO31zvxNOCN/qTBwKbwPU540fuUuf8bSd6mYPodxVEeLD2MHgnitoLVeW1JLTY+0aSyX5kog8KhK6Dx7i3qApQYgPDcRLWI2H189CfjeUeJqVpco2Jl/FOt0TtY6jDzZZLqZyut1tDc7sEIKuzEk8RHgU5lXDCa0lw2L/Y+3aS/lu/jtziMUcVMPN5pLS2mwhvFxLheQVCpfsiBjgDGnbbU1O+g5KsAgComCHk82mK7Uu9xE3kEZzwWhBfSuXgtl+itNliEKMsGOwuBMAwugW56ik3sXE6BJA2D41/vhFPa3BwcAJ2bK/N8HHePWv/2GwNTwgespTSVnJIOgzEzbGS5Rfx88RkXzNzl/kQ8VIYyGusEnCH4Pb6FpLPI9CQq2kTqkE8rbGxMQ0SfkQw+FvmADCETA/Z1YGFcsxNEioFoVrEW/KCA0IRw3Ttslm3Nwxr7d2Ar4wvttjoRAAB4yYlXhI/6+WAQsqWAHJ+EaOmhZDw9C+W+FKGsdbEm99PpUaRE/8gXF7PqGMj6MbRarkuN3Vwc5FeEW9xed/YmC3Laxm1q4TnBqrpv51E3kkSvCY+L92/Cnagg1GvTkClqgCUYxhrQbwTc2EYVzJqVNoAyGbPeBHGVuoivUiq4N3+EiSxhUEMFOtF6th4lciUS5RXGSW11AQJiCEAZEusF2fbVX6B4GU6PTo6Oi5IRJhJ//PFIBa2ujk1Kv2q5HhdT2hqaooKKqAz+H1b0ENdWr+I9xoEoc5JKvAPuUFbiZta1LUk3k3nvQABHL9ICM0HyQ3aKj5mf77GxNeqqAIAVgsS8CejgSTBWXb4wfmF5g4Vrg4BkAFG01iCs7zOL7GvNHeoOA6Q5U5BAvplbN4GpP8W0mEVGeGwX5UcL6JDVVUbsSmlw0FLbnAxozk8GkWz2gYaS/GzjFWtoorA7RutxOPC72bVOO8ejggPb/WLeK/Ka0jytgr//2yuJEZDiDbjwNhNNJPjF/HVdpEIgGLYaKMAwME5AGgC0xxCnF8hcyDJR+JLfb8SwxgMBqkn2GAR8dPDyeQ3cwDQJXMC0+4jdtFAkp/EV8NFtrW10SDVLoH7vVK+XM8s7m+/kC7GaBrLb+IXaxinZ2Z2Cv3OCUPXey1lsvOLZm9p/FRA+XEaOHDb3E0MvUppy6ko28CJxZZDtZ8Qwt99rt1hIPOCZO+jReASXy52IJErXrfHy4kgLaLeIwx0Dmez2edsgFj/Q8EPzd4KtmATjaKVw5VazAaUk0PQUuLxbty8TQgGnqIukZD7FGaN0CuykOstX8wAyWtA7I//hSJHcyKxRtL149ZqF3T/xHA6TTTlXCVg9lkaPDZnb+elIKzncoeL2YN6WYqirAC1hwXipwKMbROJdwNAMqeuGdsuFBPaYCQ/p1G0eiU+2tqagFX+HEQtFwzfDk3THMv9roOS01NTPy+JRJqhI1db0kdV1/VbwuHw4UwmM1xvnGe53Fdg1GU2tTeMffBwu11rBKWqSIqqHhSNCUTq72AgsLlebIKp8yT2Audhuz5NpVK3OYl+URWw0mpOXUtSn6AOFwKEY82qep/vnIe1Nw2eQDy82RepWGxLMeLLkYDzq709rGjae7ABtxb4WsP4BH92UmpZS8LNIAd+vsDVzXKeiC9jXD5QnuNN5aanpz+gwWO8cJ1YZ0P6fE8kEqGs68eJiYmsl4RTbB8Khx/COz+AcbvCgSGk83fjzGWdQ14A8tsQIr8KNbjA4bZGA0k0kyMGHItdlNIiq9sunZ8ALUjV879auR86/0Yl+y4ockMOsErn/C1m8RDCmqGZnPxYypc0nLBAMaexvRuomJHP5xscDRWCHPLzbq6u6gDM2kKavYXffVpy+BGTZeVoMoOGE/L9+QHq0lLmOduro44NNS2obp8vXXdQARPfuaqEmg5TeAuA95Uydl4AYC5EhwqNn9IEpssvyaq+KEqlrI4Sm8WqWtWSFxo/NScwDaML3qLdE8o5P03FDMrnqzHHVFUArHuaQ4g0h2cYGxcNBue/UwGTanj5MlZ9/ni6mL+mzJIGkmgmh8ZSaDIDfxOwBcG8K83gc4p6ddSuoo4NNS1w67jX8cW/7UTXYK9/2wQAAAAASUVORK5CYII=",img$x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/adGX4VBDRIODRYOCGERjGNRiDWrQ16LXezVQu9yrRLQGLQ1BQ9TS19B/UGvQWhAERRDR0j/Q1xJye48KSui5nPv+eM55Xs55DriiOS1vt4cgXyhasdmIb3Fp2df5jpsh+gnTndRscy4+k6Dl+HmkTdWHoOrVel/T0ZvWbQ3auoQnNNMqCk8JRzeKpuJd4QEtm0wLnwgHLDmg8K3SU1V+U5yp8pdiKxGbBpfq6cs0cKqBtayVFx4T9udzJa12HnUTj15YiEsdkjmMTYxZIvhIUWKNHEWCUguSWXNfqOKbZ108mvxNNrHEkSEr3oCoJemqSzVE1+XLsaly/5+nbYyHq909Eeh4dZzPEejch/Ke4/yeOk75DNwvcF2o+9clp8lv0ffqmv8YvNtweVPXUgdwtQODz2bSSlYkt0yXYcDHBfQtQf899KxUs6qtc/4EiS15ojs4PIJR2e9d/QMO/2gR3i+r3wAAAAlwSFlzAAALEwAACxMBAJqcGAAABZ9JREFUeNrlW2tv2zYUJWkpH7YsieUYaICi2P7/XyqwYeiHBvEjTryiqWNx99JixlyREimSsrYRcGVHNqtzeHhfJDnL3JbLJTsej0xyziR85nXNpBDqyuGKrZZwB+6/3cPvwd8EvF+tVlmfj+fotKqqEzAAJRzfqQGs0AQY713fk3DdbrejESBDyUHQapQ7wMQ27Jth3wnJ4A7w3gqZz+fqofBHgo3T6mb61K+vbLfbefNnw1R0gPdSgp7H3Gfk8D2q5HBQdmH/4YP62+XXr2w2mzFelqd+0CYYNoI2rbBZUYSCb2EqPH8cbisAhIQXjpZzlD5/Vpe9o4vr62tFDPbDh08r2XWzsEwJGUMCfvHw8sL2+3201E3iLi8v2cXFhfIWqcC7FBBMgrLU6MbgtVmvs8x7Tah2q3XjJgeA530EhJGAUgcCNv7GKKo9PDyo683NzclWRID3sfLeHU2oBT0zT93hvwk863PdTUTHhxqYKYCfLxadA+UkYH57a1rcqZPgHHluhObeBFyBpZVgaQPC5knLHj3GLQ6oLwGFO56fGglecx6xvDo8hrBKf3gCNVmDh0AXi0U3AZjYYE4emUVO0trrH2F47VYAyt4INTHCgx/8NjESvMHDgH6qyYBibmElQOXzVB5ABsTjv4cqoVos5Fjgq5Osrc+x3W7/FCR3QINoquCNAGmp3kBs/8vQ6QBWNykJNlIRPOQenbIvy/JnahCFkUaLdzk7oXq9Xj+HFlaaEVFM40NXFsMzFLzZlw94bPf393/RnIEbn4WWP3V7mNKGVpccvlamHHkE7gv+Dcvh0AqPVCXLGQkCQ0Py+dVqldQmuH4XAh7b8/NzS+G6QqX+rTnNcIcPGj6csBQtQklIBd6wZ7SIcSIACwzCUuCIaS4l+BrG1OCthIAC1NQ/kphfdtXwApXQqhw1hvEc4DebDbMNq5BUGglr+q7p4FJC7pGnyJTrzx222aaDTQljyL5lCFUtk/p/nr7Q02cYxwDvMoxCEslL6jMzKmFs8NS7qcoyIwo4tgshSZWQ8nuhjXo3pQAaAerlqnORkFP2T09PLUWMtZ452SaoLHChMmcbGgekaFdXV+0pQP0+LRiMCT43CXS6qylA3SAuUY8J3jXnc5BA8wFhc4P8DOBdJKQuqnBL0ie4JRU+x8gPzR2iAyFOAUdmgjGyD80dguMAmwKoYcA0kZaOxyxm+OYOoQ3XBGw+X+A+vL7S8diVnFRFlc4iD3zGnWbC5R7OBX5o7tBLAJV/81nY0kScBrgn51zgU7tIDIC4gxBFAEqBkqA2JAWSbNsfFF3JaXsL9QoxjAXdTgcKf2y24ApnJQgYWi6XvjKQ5gOmTmyMeMGcIl5KuLu7+6lrOgjT/dXt1HgfAj5nVmfrDwnpI+H7jx/f6Hon7jC1Bn5zcBWc5M8wNX7d7XZ/hIBnefcPef+fVVV9BBf65Z2RB/ljgbStAARsMKO9w8TAd/Xfeh4A+qW14kUqXu/uYjm8TjwK5yaBGj9cJXISgO2xf6fnVLbNBZGA09mUvpMAnSY6VoemtmfQiwTEMnPtPHdEYbYFkqlumOwlAQd0PWQP8/yf9XjpeE2pWZ9RL4OziNH7T2+V/d9vlhaxHaHE+mSWo+HS9ty+/SbIOxSxLKrDS2Bl8YHKssQ9OVmBQ2yP4e3bIY2O5/Q671CkkL2Otg4QSSIRGG3RgCO2YUqLWd0LgOeM+Zwh8iKhSD7nYVRKSKXVrtNmhGwBiK/MdfY20OhwFnhoKpnBM0fopqnH6ZqDPk2m1+pwdFFFvDl3pIIXQ96RFreThOiDk/pom8chpmRNz//AqWY9OJns6CwSoXZgdhx4jHdwUk2HwBOj6eXdG0E2x2mTkNGAxtdjhpPk2QMa05ApQnAE8SQogmqqz/q9aK7mvRwnxs32N2D2E/TuYxaGAAAAAElFTkSuQmCC",img$w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIU/YyTBBykUEbHYwoiFAVEQS4mgjVrECEZtkk02EbKbZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9YwIJorPM3o8zcy4zZ8A3k9dN1z8MplV0YtNRbTGxpAVe8NNNB0HCSd21Z+en4vw7Pu9oUvU2onr9v+/P0ZbOuDo0BYXHdNspCk8Iz6wVbcVbwl16LpkWPhQecuSAwldKT1X5WXG2yu+KnXhsEnyqp5Zt4FQD6znHFB4U7jfzJb12HnWT9oy1MC+1V2YfLjGmiaKRosQqeYpEpFqS2d++4R/fHAXx6PK3KeOII0tOvEOilqRrRqoheka+PGWV++88XWN0pNq9PQotT573FobADlS2Pe/ryPMqx9D8CBdW3V+QnMY/RN+ua/0HENqAs8u6ltqF803oebCTTvJHapbpMwx4PYWOBHTeQOtyNavaOif3EF+XJ7qGvX0YkP2hlW/cxWf6XLNyeQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAJpJREFUeNrt1TESxCAIBdCw97+z2+1slQmgNHmv9guS0VwXAAAAAADAS8TDdauYq2Qna6WbyeSz2claWza92yObnaz1aACrcZXW4LVd3SsfGw7/v9fpw++oFZUBRGNIcfhtyGajFUg2ls1O1fqt/TRe3mhkd/+uy31+DjeWycVwD1sGMPH1T+55O4AoNlbJTdYCAAAAAAAAXugLTOAcJH5aTj8AAAAASUVORK5CYII=",img$v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABbmlDQ1BpY2MAACiRdZE7SwNBFIW/JEp8IqiFiEWKKAoKoiCWEkEbtYgRfDW76yYRsuuyu0GCrWBjIViINr4K/4G2gq2CICiCiI1/wFcjYb1jhATRWWbvx5k5l5kzEJ7IGZZX1Q+W7bvJ8URsdm4+Fn0mQjO19BDVDM+ZnB5L8e/4uCWk6k2f6vX/vj9H/ZLpGRCqER4yHNcXHhGeWPUdxZvCrUZWWxI+EO515YDCl0rXS/ykOFPiN8VuKjkKYdUzlqlgvYKNrGsJdwvHrVze+DmPukmDac9MS22X2YFHknESxNDJs0wOnz6ptmT2t6//2zfFingM+TsUcMWRISveXlHz0tWUmhbdlC9HQeX+O08vPThQ6t6QgOrHIHjthOg2FLeC4PMwCIpHEHmAc7vsX5Gcht9F3ypr8X1oWofTi7Km78DZBrTdO5qrfUsRmeF0Gl5OoHEOWq6hbqGU1c86x3eQWpMnuoLdPeiS/U2LX8/hZ/QGsUVrAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDklEQVR42u2aQRKDIAxFSacnqNz/hNgjNF221qkIKAJ5f+eMjPwHiZmAc8i2pPL3tLV5SYPmq87tRgiUr1TXnsWY+ZVvQsB6CCCESILUAdQBhmUewP2gokEzxtUasxnahAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYUqwt7rz3i+eXLjvMz3m+1MBjmj6rKesueQiBHQAAAPxX7HR41KMxTocBAAAAAOBIAJKRmWuNKSuFC36pLY3J3gEj3BrTFAAWLhJLag7QUVd/a8X17Ni7yLyUJEHtBIRmx8OACTDqVQaO/10+5Yxt1YPx3MSmoxhPejHWGG2qtv9qjMYaorvqgF/zPannuVfTG32vK+uRIdIIAAAAAElFTkSuQmCC",img$u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABbmlDQ1BpY2MAACiRdZG9S0JRGMZ/amGY4VBDRIODhYRCFERjGORiDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG392RghJ7Lue+P55zn5ZzngD1S0Ipm1zgUSxUjGg55lxLLXucLDly4GcOf1Ex9PjYXp+P4vMOm6m1Q9eq8r+3oTWdMDWw9wlOablSEZ4Qj6xVd8bbwgJZPpoUPhQOGHFD4SumpJj8rzjX5XbERj86CXfX05v5w6g9reaMo7Bf2FQtV7fc86ibuTGkxJnVI5jAmUcKE8JKiyhoFKgSlliSz9r7xH98CZfFo8tepYYgjR168AVGr0jUjNSt6Rr4CNZX7/zzN7OREs7s7BN1PlvU2As4daNQt6+vIshrH4HiEi1LLX5acpj9Er7c03wF4NuHssqWlduF8CwYf9KSR/JEcMu3ZLLyeQl8C+m/AtdLM6nedk3uIb8gTXcPePozKfs/qNw5zaBHJcPVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAADIUlEQVR42u1bPY7UMBS2PZYQotmdTMMhqFhKGsR23IN6F1pEg7bj5xZUnICSluEAXIBmnEkFQsomPId45bGcxEnsTJ4nT7I0cX7s73u/diaUNMhms7H2F2VJ+kgqhK3b9hBqu3CdJM5jMUobz+12O2s/dwWOXRQukwgeO/AuIhg5caFd2m/ynZHiHAN8aLsNG58Y+KSiMLQRwWwnYwDvaiEnEQOkQp3T4Ny0PyY75be3JNvvD7CZz+MhJ+CDUFvhVRQFYYw1Fj7qHnlNl3DMpt23KrUGQUyAlcZdNOsqR7EAWd/rawTz2GEtMWitYLMa7sOMhpIwh2egcQEzGPsAj4oAPZv4Ao9yMdQGXsULmSajJMAFfN8swWIDH6ULhAKPgoCQ4FEGQZ/gnSrBOe4N+AKP0gJ8gkdHgG/wzouhMXsCvlwoBHg0FhAKPAoCQoJHnQYXAhwspnRYFPEYtdrHbRYXWAhYCFgIWAhYCDhhGV0H5Hn+iDF2Qyh9UedgGmqy6yT5/xanLL+lafpMDu/DAkqjmYNWr5NUU+/aVaOUfqnBi4NJhgIvhdKnSZK8HPioA7zjXYCxz/WvxDpZ3+DvOKBfZxED9kK8BZN87zJpX+DlsGB9PychQNbV8rW0anJzRG/VNWn6OgQJlvv3MIfHMKf17LKAbxJs9wH456D5H7NNgxUJhHwYS0KD5i98gw9SB4B5vhpDgpbq/mqavwTwWzSFUE0C6UuCOl8UxR8I8/e0gBcEfNBKUBZEBSEfXUnQ+6Gwul9r/sJnwAtSCXZsmV/nUDwBy1e1Zn8BuIct12fQztTvkJqfbC2QCXGtLKEDPKnBZ7Xmz6NZDOkk2ERahpHqtmQimWw1KEkAJ/9kr6Yry8hgFfUkNHi9qKua2RFSoGy+aiIBRr4UQnyPfj9AkmA3kOnBH21DRKZIsIR34Pu/pwx4gwg4O/c/N5k6V5S+4avVAzjcHvODLdtncyUEortgoP/fHrtIbLNwgTkJ07XdxlSM2pfYedcNNoKwAzfSb3+tH+sv9q6FjosoxS5fjg7xf8wWYLo0HeI7GAloimX/ANBjieJDfrkhAAAAAElFTkSuQmCC",img$t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABcWlDQ1BpY2MAACiRdZG9S8NQFMVPW8Wi1Q46SHHIUMWhhaIgjlLBLtWhrWDVJXlN2kKShpcUKa6Ci0PBQXTxa/A/0FVwVRAERRBx8R/wa5ES72sKLdLe8PJ+nHfP5eUE8Kd1Zth9CcAwHZ5JJaW1/Lo08A4fRhBEHBGZ2dZydimHnvXzSN1UD3Exq3df1xoqqDYDfEHiOWZxh3iBOL3lWIL3iMdYSS4QnxDHOF2Q+Fboisdvgosefwnmucwi4BczpWIHKx3MStwgniaOGnqVte4jviSkmqtZ2iO0JmAjgxSSkKCgijJ0OJRLGSZl1t2XaPpWUCEPo7eFGjg5iiiRN0ZqlaaqtGukq/ToqInc/+dpa7Mz3vRQEuh/dd3PSWBgH2jUXff31HUbZ0DgBbg22/4K5TT/TXq9rUWPgfAOcHnT1pQD4GoXGH+2ZC43pQAtv6YBHxfAcB4YvQcGN7ysWuc4fwJy2/SL7oDDI2CK+sObf/JNaAQfxWcoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB30lEQVR42u2bzXKDIBCAw+ql6cnqpQ/Q93+f9gF60aan9GKwmkqHsXZA5Wd3YWcyySFO+D4WCLKKU+R4qush5u/DKfHIAlIXIFIDXs45eQhkAYlHiaUhTdMMcvgZniDcTE397Xb9vFweKQgoFfwU+ue1kFJ+AcDDf6J+RQKcqWRAv+cikyhqc4Ax71WPT73Pbg746Lpd/0uO7iVIrwIuNlJkBIyrhJddJBkBbdt62UIDp7Qf5xExL5PvLAXYwM+rxDM7AbbwLIeAL3gSAnzCoxfgGx61gBDwaAWEgkcpICQ8OgGh4VEJiAGPRkAseBQCPMF3JAQo+LV7e3vh9esGKd9M3xeppT2Kk6GYY/5PBiwb47sBmOCDZwA2eCsBVVW9Tg0fX63TsadNfLHgrQQIgBebHtza8+pQIyb81iFQc0n7YHMAdnivAijAexNABd6LAErwzgVQg3cqgCK8MwFU4Z0IoAx/WAB1+EMCOMBvEqAfOXOB3yRAHTlzgne6DOrwy3IW9gKWPa+Xs7AXQDHt9ThcJ7h2p8eiglPMdYF85oCpfvf+ble+OpDMAFNx8o7f7tELGHv2WhbF2SQGisJYv7soh+9JZICp3p565EdmsoDEQ8R+dpfSwUgeAlkAw/gGgdL3j4c6UpkAAAAASUVORK5CYII=",img$s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABcWlDQ1BpY2MAACiRdZG9S8NQFMVPW8Wi1Q46SHHIUMWhhaIgjlLBLtWhrWDVJXlN2kKShpcUKa6Ci0PBQXTxa/A/0FVwVRAERRBx8R/wa5ES72sKLdLe8PJ+nHfP5eUE8Kd1Zth9CcAwHZ5JJaW1/Lo08A4fRhBEHBGZ2dZydimHnvXzSN1UD3Exq3df1xoqqDYDfEHiOWZxh3iBOL3lWIL3iMdYSS4QnxDHOF2Q+Fboisdvgosefwnmucwi4BczpWIHKx3MStwgniaOGnqVte4jviSkmqtZ2iO0JmAjgxSSkKCgijJ0OJRLGSZl1t2XaPpWUCEPo7eFGjg5iiiRN0ZqlaaqtGukq/ToqInc/+dpa7Mz3vRQEuh/dd3PSWBgH2jUXff31HUbZ0DgBbg22/4K5TT/TXq9rUWPgfAOcHnT1pQD4GoXGH+2ZC43pQAtv6YBHxfAcB4YvQcGN7ysWuc4fwJy2/SL7oDDI2CK+sObf/JNaAQfxWcoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+0lEQVR42u2bMW/EIAyFA7qla5Ol///HdUm6dguFKlQuBwnh7ADKs5TlTsrxPp6NAZ16H0czCMTXsijO90mNUw83DwC4OwAV5hZ37rYWoV6kAAAAAAAAAAAAAAAAAAAAAADcMh6CO63F7iwnkR2cUmqe57YcEIq3zyg4cWaapnYARM7rRjtLYupXY9ggaAHxzqKDtSgbAXdIkwBqqgK4QryP8J3OBe6xLjBVAFwpnjoh9rmDUJoOuhfxqXTwTiitCbon8WE6ROrCaQi6N/GxdFjX9XtzwWkIukS8/cHPmuKfnKD1W6kTdMnM2x/8qC0+VhNIPciGoEts7+nb75ro53cm4nCJ3L0ZkrqRvWSXRwokBZR9M9SzeJoOR82SziHYe5C6kA/A2cZB8E/PsXfh+zgqLt4+DgIl2cotsivEdizJlD0aZ84ymOy/G5nd5FhyJukQwHby8td60jW3hULpxP8Wu605O+vQrEaIQqDtZ20nePG+OStJz+xW+MkJpP2s4QQqvmTmizZDUSdsg7jSCVzii7bDHkK4PF5VEzjFFx+IOAip/lsSArf4YgCxZkl6iZQQ/zKAVJ/AnQ5S4lkA0Jog3Msv3OK5HBBdHZjj300TZxvOdjcoCYHrjlHMAT0HAAAAAAAAAAAAAAAAAAAAANwzFP47jBQAgFvHDyRnPtj60cBDAAAAAElFTkSuQmCC",img$r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIpioim0ELHYIgaLCKIglhJBG7WIEYzabDabRNjEZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9Y4SImFlm78eZOZeZM+CfsoyC2zQIhWLJSUzGtfnUgtbyTIAQHQSJ6oZrT89OJGk4Pm7xqXozoHo13vfvCGZM1wBfq/CIYTsl4THhqdWSrXhTuMvI6xnhA+GYIwcUvlR6usZPinM1flPsJBPj4Fc9tdwvTv9iI+8UhPuFIwWrbPycR90kZBbnZqX2yOzFJcEkcTTSlFnGosSA1KJk9r9v8Ns3w4p4DPnbVHDEkSMv3pioZelqSs2KbspnUVG5/83TzQ4P1bqH4tD86HmvfdCyDdUtz/s89LzqEQQe4LxY969ITqPvom/Vtcg+hNfh9KKupXfgbAO6723d0b+lgEx/NgsvJ9Cegs5raFusZfWzzvEdJNfkia5gdw+isj+89AXPlWf0rTeiAwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAeNJREFUeNrlm2uOwjAMhDsWJ4De/4bsEfD+WGm3QqTNw54460hIBbWNP2ec2G3Alq/p4RhIDP/jgczwmRyghd9NQ0AbzkUEeAtD1MBAzIIf6VwdjAUbvqdTJUgWLPjWztQAQAlO0JZ7wgAeTnMIvOFrOlFSzFr0oz3Xw/qGrNi1shWB4Hv7HrJVAiYvICjm9EQNkjJf2WGiUgSFv7LHLERlW6+Zzk8IPPotyVO3nRKkYhuBG7JTiDl+yLpBssV8rQMQHN5UQp6TX/TQgqw8ehY2SmD5U5psydst0JJVM9urgVo1ogKmld+SGT6CA6bCz3bAdPiSAzQL/CwFWD/4HHYAFpU9VlPACLyyQ4CVx09Pu+XEEA0MD28FRBp5ZSiAqYJReDDmgH+zzrc6wEIFVvCUx/S1D0SUHK+0dxRiMLIMeHoq3PoqWo3A6XPHaP6NzX/vkOvuMa809JNj0OFc9xXq1jByq+wSc00pV9knWM0g+77/fjkeTzAOMxKlCApgQzfPAbUZngaGLucB98fDKr3F26ck8VD1AIzga64L+cpdnOCXaZIZ/swBKeBLDkgD/8kBqeDfHZAO/uiAlPBX9TxKNcJL/y75ej5nFk5uq0CajVKXD0UrKsTlQ+AoV9afF8PwfwNGBXNgWGrhCQAAAABJRU5ErkJggg==",img$q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABcWlDQ1BpY2MAACiRdZE9S8NQFIbfpkpFqx3qIMUhQxWHFoqCOEoFu1SHtoJVl+Q2aYQkDUmKFFfBxaHgILr4NfgPdBVcFQRBEURc/AN+LVLiuU2hRdoTbs7De897uPdcQMjqzHD6UoBhunYukxZXi2ti6B0BxDACAVGJOdZSfrGAnvHzSNUUD0neq3dd1xgqKQ4DAgPEs8yyXeJ54uyWa3HeIx5lmlQiPiFO2HRA4luuyz6/cS77/MXZLuQWAIH3FMsdLHcw02yDeIo4buhV1joPv0lYMVfylGO0xuEghwzSECGjik3ocJGkbNLMuvtSTd8yKuRh9LdQg02OMjTyJkitUleFskq6Qp+OGp/7/3k66sy03z2cBvpfPe9zAgjtA4265/2eel7jDAi+ANdm21+hOc19k15va/FjILIDXN60NfkAuNoFxp4tyZaaUpCWoKrAxwUwXASi98Dguj+r1j7On4DCNj3RHXB4BExSfWTjD603Z+Sp2ztrAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGklEQVR42uVbC47jIAytESeY6f1P2NkjLCOqInmoP5g4BChSpLZJAT8/G9sQuDHtfr+Tv/9P6WZp/35+tP6lDsEyXgBg7z0eD3qAVsE9AWgU/s8cOQG+vr+bAOCAiK2Cn9CS4TnwGrTIWYAItw9voGmfo56DJlI1DnD38jx75qGxOvcZRwuuCV++V888zaCmLyUkvlc+S0BE6uZBtBMDKHjYbvnMzVG6Rz0bvbSaByWo+0frR0GQWCSZicSE0Kv93Fm5mAl10V/4PSkrSGpRkgrAUXoatWbq8yVA8ujfFQBOg56UbxXQCoIXACytvUHwBjkepffL+Q0PYGqQseaxw5WWyScDcmyPr6uEYOzdnT3YcTcxwMsBtsTlXv1aVoJwpv0bNH16tDl8FThTmwygXeYSBtn61YAmLn6YlgFW0Bg/UgueatMYWQ+AWRiFQZjSBOql6kwneWlF6MyaA8E+6EqHtUleEQUeMD2ofcJH1QRPS4cno7tp/NjoMGbSIljpL4EfPo3ybwzAOzd5aRC0DSOTllEgBEPykBSAlmzBkjkhILyWJLb2Vy7qP54heW89oGu/rgiEKskiRdGETyurBUr7L08L0sA9FdhpTYBaZopmpMKjBwjO+5KiuVD9xVYPSuzXTRdAtdQRc90TnyMIBxBetuHib+jQxjYgPNnQ68m3igOsjm0nEALl4Q2BzvIgRC3Qwaewciu5A9pzr4sM65nAQRYszYioxPzqQUXsDzJbOMZMDwAX6GQB6vM522WDStKzdYt1HlCzQNrBXZEROAxuDYS2YUGtrAwGmw1+SmsNhdMm2n87Wxha1/PdvH/xa8GQg69eEL3ufMBszg+zPBjD2jRwgmfavv7CxC7rvqbcgA89E4cKYQNfkCTlDt0XmGDZezNt1QmuGBgJwvNvjeE/t5Siy3ncq/f9LcJTrA1Wp7GAQ2SFJ0+ItGx5C0XQNJPmhYIuiG+Otm5P9QzQypwjpmSlPR4TNDoTr6iRA40+ak/l95QD1+RaemdIE96UDqMDCUuBYBW+lhM0O1VC4nQl/SkW1MJrcvwCJhH28gf87HUAAAAASUVORK5CYII=",img$p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIU/o6JoJIIWIhZbqFhEEAWxlAimUYsYwahNsskmwm6y7CZIsBVsLAIWoo2vwn+grWCrIAiKIGLjH/DVSFjvGCFBkllm78eZOZeZM+CbM3XLbRkDK5t3IuGQthxb0dpeaaEbP5ME4rprzy/ORmk4vu5pUvVuVPVqvK/u6EymXB2a2oUnddvJC08Lz23kbcU7wr16Jp4UPhIOOnJA4WulJyr8ojhd4Q/FTjQyAz7VU0vXcKKG9YxjCY8ID1pmQf87j7qJP5VdWpTaL3MAlwhhQmgkKLCOSZ5RqVnJrL5v7Ne3QE48uvxtijjiSJMRb1DUgnRNSTVET8lnUlS5/8/TNSbGK939IWh99rz3IWjbhXLJ876PPa98As1PcJmt+nOS09Sn6KWqNngIgS04v6pqiT242Ia+RzvuxH+lZpk+w4C3M+iKQc8tdKxWsvpb5/QBopvyRDewfwDDsj+w9gMBwWgLeGpB4gAAAAlwSFlzAAALEwAACxMBAJqcGAAABX1JREFUeNrlW21P4zgQtt0EcRwC2lJpkU6n+/+/aT+cTvthEdBS6B3Q0vhmjF2ZiZ3YiZ3SrrXdpKR188w88+qYs8xjNpux7XbLJOdMwnteVUwKoY4cjjgqCVfg+u4afg7+JuD8/v4+6/3xHJNOJpMPYABKeD5TAVhhBGCd+z4n4bhYLLrcjmzCylOCVlpuANN34NwM5w4XhmzD21sA4/FY3RT+kmDDjEqbT/X+zpbLZYwAapiL3jaktc1DNIfnyJLNRvmF1bdv6m/nP3+y0WjEeFl+zIM+wfIRdBiGjYoixMSlQyg8mQD8qCX8k0pbXi19/64OK88Ul5eXSjA4D09rVjshJBcAzrx5e2Or1ar3XLbgzs/P2cnJiYoWHRygVwhFKpsUGMbgNX94yEIoI1ATVisdJjuCT+cDFNVBAPNmZ5Rs3N3dqePV1dWHr4gDz2lY5Oz4hozJefivDJ61hW6T0R0y+PF02qhkrwDG19exHvdLap63KNIpgAvwtBI87bHQHiPGNSo0NAoUVuZ2DDaP4fLdEzGEk/pH6PAQ6HQ6bRYAFjZYkx+jtzdfwvTazwCkveX4MMOjXzgk8KDQPyuiUKwtnAJQ9TylBwhj2SHDmziolgu8/i2n5heLxT+CRDJ0iLZSdwKQju4N7xEGrxP7EgDqBA+1R+NNlmX5O3WIwiqjxaeanYj6oUNhY7SPksbzFGww4O25QsDjuL29/ZfWDNx6PzL0p/U2lrTr9Tpa6y4DfXl5Sab5387O1CsE/C6sg8Y/2T4w+/T0lL2+vnoyQZBQl3re18HtygIX7XHEgMfx/PxcY7jJc9T/FbF1KWVnjWE/QDh8R6wQUoH3+jMtEIENBuFocPQZPiaEOsbU4J0CAQag6YstyfllUw8vkgm1zpF2jPsAP5/PmUutQlJqJKwBfObgY0JuzVNkKvRLlne4zMHFhCFoX3OEqpdJ43+GHkCbYxwCvM8xCkkoj4sWQzFhaPA0uqnOMiMM2GZshDgc46Cap9FNMYD21s1y1QBCGJz2T09PNUbsq+3TqZ7PMQSlBS5U5hw+mzfgM5bS7OLiom4CNO7ThsGQ4HP3E6i5KxOgYRCXqIcE77P5HEKg9YBwhUG+B/C+BdXUTRXuKPoEd5TC+9B819qhdyLEKeCEXeFY2sfWDtF5gIsB1DFgmZiiE9w1wwutHWIHrgm4Yr7AH2xrHQ/dyUnVVGls8sB7fNJM+MLDvsAH1A7dBEDpr98LV5mIZoDP5OwLfJNj7CIETIC4RyBKAEgFKgT1QFKkkF033LuTQ+bE9/iKcYwFfZwOGP6oGSa8nSCQ0Gw2C6WBdN1wqsLGzGnPjSYSwoSbm5uzJnMQdvir6qXxKgZ8zqrOw65WIbyu1//R9U58wtSZ+I1hMk7qZzCNv5bL5d9fvapz+orJ5A8IoT8+OXmgPzZI6wxAwJZkTHQ4VPCKIfP5DxrhNqTj9ekqtsOrSJv/quA9yYBaJfIKAMdj+4LoQYJHc7ap7xWAKRM9q0MHC37ke/Lcm4XVv3CYtNcK7bLUr6KCBd71+vJDbehoKomP1uGF9gQ8YPmvAJ76AEnOg8AjxdpolinJsU208yhaNN2qebV5Cbws3lBZlvhMTlbgkNtjervbpJFKADxACP5HznXE2EAmiYLAbIsmHH0HlrRY1b0BeM5Ysj1EBQHY3+ZBKyWU0uqpU60hVwISSnNTveVyOoUDaJLwZmvoSvfjTM/B7CYza3WoXWQR1/uOVPJi0Tunx+URoc/5WbO1LWATU9LMDu0/hanxiPjfqAgUhHoCs2HDY4piBs0hYMdoEgG48oLw7Evv8e0tDA0aX48ZdpJnT2hsR6YEghrEnaAISnefzbnQR/taxx3jweN/nwXieSq4/nsAAAAASUVORK5CYII=",img$o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/adGX4VBDRIODRYOCGERjGNRiDWrQ16LXezVQu9yrRLQGLQ1BQ9TS19B/UGvQWhAERRDR0j/Q1xJye48KSui5nPv+eM55Xs55DriiOS1vt4cgXyhasdmIb3Fp2df5jpsh+gnTndRscy4+k6Dl+HmkTdWHoOrVel/T0ZvWbQ3auoQnNNMqCk8JRzeKpuJd4QEtm0wLnwgHLDmg8K3SU1V+U5yp8pdiKxGbBpfq6cs0cKqBtayVFx4T9udzJa12HnUTj15YiEsdkjmMTYxZIvhIUWKNHEWCUguSWXNfqOKbZ108mvxNNrHEkSEr3oCoJemqSzVE1+XLsaly/5+nbYyHq909Eeh4dZzPEejch/Ke4/yeOk75DNwvcF2o+9clp8lv0ffqmv8YvNtweVPXUgdwtQODz2bSSlYkt0yXYcDHBfQtQf899KxUs6qtc/4EiS15ojs4PIJR2e9d/QMO/2gR3i+r3wAAAAlwSFlzAAALEwAACxMBAJqcGAAAAvVJREFUeNrtW01y0zAYtRQPadzpkEQ5AwcoXcCGHSdgxTFaTtA9tGy5BxumnemCbXoD9mwsJ6sYZlqLT0EeUiNZ/pHj2P40o3HGcWS99733SXJk4hnKYrHQnk+E2B4jzr1DKXPGtkdKiPGaMAy150c64EEQGBsS6hjHca1Ow31ePhuPf0yOjye/4viuTlsT1V+SQ4DEJOtms3lyntgi3oQCIGIrOEx3z0F7pEkFmBRB9y1XxthZFrwsM8au27APsUXf5J2q4EE/NzoClL0+rzg/d3U/m6oltlHqD92XWb/U9TwAXMLHoyRJfoJfTzTReDUOgueQE765uKfsv6ymnCa/G+lYchn1FDzkjlsJXiWrkxxJvnZJginA6fnGc4BMeAB+qWS/zk2woAyVmM6njF256oMMqCmoJKsAl9FXkV9W/X3ieddrzi+qev3h8dFbr1a519IijetqgchHKXiIbGwb7nTnpRKgHVGaOBiqZaXULvBGLCAjL0e2v6ld/IaOTIqM9abvgYRPRQCntUyhTYCHTtz8MxkZl5noGK67sJFQtVDH4E+V7Gd1ZnlGEubzj3X7mFULrSMfDfjborKuRAIhH1yQ4FwBKuHd1418GyRQB7J/kQXuAryNBFg7XB4EAUKIt02BN7TH1azpvea6dEK1PwI451+Ahe9Ngde0y+B+X4H4dzrwW1C0OCzfQd8eoih6s4+la84k6jCGwS4WJGDoBFhzgOtnA6gAJKBjFjA9cOiLNdACSAAS0K+yOy0WBRZFfh+jWmZtgBZAApAAJAAJQAKQgGGvBrN/Bz158Cg3IO3+Y3RI2+MqFoEKQAJKECAlL/ffpbXoBoku5YDWFyzpRsfBWCCbSNtMrJgDkAAkAAlAAoa+FhhWxDMvVfhl3rJACyABAyRgOpv1mgD5vsB/+2PDMOxlYtBh9VvqiKchvR0L6KKtY6qP0ZfYfdsPum4HWzBJlajX2Va/74mOqaSBHfwwWMn/XVZA1tKkine6SIApl/0BVV9uhgTVncEAAAAASUVORK5CYII=",img$n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABcWlDQ1BpY2MAACiRdZG9S8NQFMVPW8Wi1Q46SHHIUMWhhaIgjlLBLtWhrWDVJXlN2kKShpcUKa6Ci0PBQXTxa/A/0FVwVRAERRBx8R/wa5ES72sKLdLe8PJ+nHfP5eUE8Kd1Zth9CcAwHZ5JJaW1/Lo08A4fRhBEHBGZ2dZydimHnvXzSN1UD3Exq3df1xoqqDYDfEHiOWZxh3iBOL3lWIL3iMdYSS4QnxDHOF2Q+Fboisdvgosefwnmucwi4BczpWIHKx3MStwgniaOGnqVte4jviSkmqtZ2iO0JmAjgxSSkKCgijJ0OJRLGSZl1t2XaPpWUCEPo7eFGjg5iiiRN0ZqlaaqtGukq/ToqInc/+dpa7Mz3vRQEuh/dd3PSWBgH2jUXff31HUbZ0DgBbg22/4K5TT/TXq9rUWPgfAOcHnT1pQD4GoXGH+2ZC43pQAtv6YBHxfAcB4YvQcGN7ysWuc4fwJy2/SL7oDDI2CK+sObf/JNaAQfxWcoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIkklEQVR42uVbWYwTZRz/vm96YOku207r7hK8IgHXBw3GBI/VxEQfBFGM8mBCxBdWEAheaHwwJiYknhFX0YgPXsR4EFFBsmpijAKSeGBMDBtBNJggu3baLnt0u53O5+8/duvM19lDaJd2/L+0OzM7M//79z/KWY0pmUy2FYvFqyXnl0rGOrhlXSCFaMXn2VyIEF1jSVlgnPfjWB/O/cYZO8Sl/FEIsT+VSv1Zy/fjtbhpPB5fjI/bLc6XCMYu9rrGsiwGBiu+e1zXi3N7pGXtyGQyB3BI1qUAwHQztLwaL9qFF15QC8Hi3ochqW2QyqsQxkBdCCAWi83BSz0AtWyEDpvZDBCsYhDu022Z5rMDAwOZMyUAHkskVsNXN+N7YrL3heZ+hJC+wvdeWEmvLBSOIS4MDrW1DdIF0RMnmjRNa+LB4Ll4oYVMyg5w2QkmF+G0Nsm9DYuxR7OG8Qo9Z8YE0JxMXhiwrNfxtXOCS0ww0SOlfAva+vxUtTRnzpwWCOYG3GclhHEjDgUnuPQbwfkqBMzDNRcAtH6HLBa3wc+jHqczcIXuQj7/4tDQUKqaZh+NRhOhUOgeZIuNFHI83GIYVrYG1rC9VgIQCHRP4gUe9Hh4Dhp4gnP+nGEYgzVOq1G4z71InY9ACZGKQMnYloxhPDBdl5iuAEJxXSfJrqgMzXIPXmg9zPw3NoPU0tJyHgTwAhSyzEMIOzOx2B3syJF8NQQQguZ34kFLlONjYH5TOp3uZmeQdF1fhxjxLN4vrJzqScdiy6cSwlQC4ND8u6rmYfInNCGWwdy/Y3VAiUTiMrNY3AWLmKvghg+BF26bzB20KcDN05DsauWmR2QweF0mlfqZ1QmNjIz8GQ6HP8DXJYhDell7nF80KxKJjeZyPf/ZAijaI8e/rTIfDAY7+/v7+1gdUmtr69n5sbGvK5ColKvgqm9OWwCU54VpHsSNmpxmD81fPdDff5TVMQE7nA/MsM/pDnj3kYCmLQJO+KUitXkJhUCOk3kKePD5m+udeSJko9+lpt0ErZeDH6VLU8o3vfjVPEy/C2axTjGh+2FCO1mDUH5k5EQ4EjHAx1KHqc+LRCJ/5XK5byd0ASpsEDgOI3oknXkezC9lDUjg5yO4w82OQ+miac53QnO3SaCqczJPCI9ADmtc2kD+70xsqC0e8owBdj2PktZ1EvB2phFeNQkY4Bh42OwuTeV6KrIqBEDNDKWezxC2Zw1OSNvPU9nsCIhREQh0VQrAsroUPN1d68JmJqivr28YcWyLK/BJ2TUe/3i5h8f5Acc1hbF8fm61S9ozRU1NTXowFDpOdY1D4Z1wkX3jFnC7kvZ6/MI80eDgoAGG9ygBf0XZBSyl0kN1tZ35jBDPtitNDDu1c7tvb1nO3ruFXJk43WZjvRFlOUgh7QJ/Up4jaGihFDwH/ca8jYDS6ZOoib9XDl8paGKj+MbXzKcEf9/rUjbniwSNq5Trev0qAFj3ISUOdAia1SlS8a0AVOUiMJ4vaFDpEkChcMy3FiDlHwosbg3ADGLMMZikiY1nFNV12UjMpg2jotlDIzWhaU4LiAMai1nOi8bHVX6kkydPDikWERbsf04CZuHqm9Og0q/MNjc3R5UgaAbg/wR6yiMmmtLiIzUdn2o4bbv7nOQCf1EadLW4aUTtVwuAxs9RGj59lAZdHR97Pu9fASxULOB3QQtJSrLs8HHM61AE0itoG0tJltf4lXuU/Z2KBRzkiUSiHYjouFIO66gIs35iXtf1JiA5KocDjtrgPEF7eLSK5owNtJbiQxh8g5N5HPjV7hqX0sMe5eKVvhMA5yuVvz8plci2KexwBQchbqSdHB8BoLhzTFYSwI6yAGgD015C/JeC9kKSTygQCKxljo4wTPxoNpXaWxYAHbI3MN05YiMtJDU68+3t7YRyNyra38ZKK7fCkf5epXLRWQHTNlajC2B0bGyDMu8ctkyzrOxycTw6Opo/a/bs2fCVax0NgyvC4fDb+Xy+IVNiPB6fh4D+HgBPyIF0t2Sz2V3llOcCCqb5DHPP0SJIiS80cOTvVhY6s4VC4SnnNa4FCWh6NByJDLoiJucLIpFISl0sqHcqLXpsUsDAwwB4Xyq1T2XVGNd1ipBXOv4xD0leBdD0QyMw35JMXspM84Cz2wXf/zabyRBPRRezXpCZFo/t3dt/rSBsFou7aQGp7jUfi50LbncrzOc0Ie5UmZ9IAMzeuhZijdJMaAdA+pRW0eqV+WhbWxK57VMwNU+p+9cbhuHZ7p9wUXI0l/tpViTSAh+5wlE+6qZp3oLMsLveMgNpXhSLX0BRF7nc3rK2AuhtnrBHMFUXKabrO3DRre6K2Toe0LRl9RITbJ8ns1c0j9i1K51O3+pl+pO6gJNXe+uasR7FHeZCCPtbdP2Mw2WK9nbAU5i3GPssHY+vmIz56VjAPzR/fjhmGO8gBiyvyLWW9TE+NlBpOeMgB3letc6y5on5aazLa9N6WjpdBFJ8nxaP8cDFSltpIdDW3cAKVHX9MDw8XKg1tg+Gw/fjme8juF3ioRDy+bvwztN6D34Kkr8TEPkluMFsj9MGLSQBbb1MaynVLmlR1a2BxO9jHj/SKv1qZR18/rX/ct9T6vUnEokFppRvCEeGUGiMdnJKaymf03LCKZo5re1dT82MEjoNeQYqgBzK8xOluqoLYDwW6rq+Fnn3cebxIyYHFWkzg5YTSvP5XprSUuU5PqujiQ0NLahvX2pdd1ADE/9z+RRumoXFPQYBb50q2NVCADYBHcZo/ZQ2MCf4JVnViVAqzH0rFTan62pVG3fR+qm9gWlZq5Et5temvJNHqZlB9Xy19phqMe/jQGVX2Xt4lrX0tIUh5a/UwKQeXqmNVZ8/np4sX1NlSQtJtJNDaym0mYHPJGJBoJRK8/ieplkdjatoYkNDC5w6UGt88TeBNfhPMH+OaQAAAABJRU5ErkJggg==",img$m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIU/EyXigxSxELFIEcXCoCiIWEkEbaJFEsFXk6x5CHksuxsk2Ao2FoKFaOOr8B9oK9gqCIIiiNj4B3w1EtY72UCCJLPM3o8zcy4zZ8AVzmo5s3UUcnnLiMyF/EvLK37POy58eBhhKq6Z+nx0NkbT8fNIi6oPQdWr+b6Go3M9aWrQ0i48oemGJTwtHN60dMW7wj1aJr4ufCI8bMgBhW+VnnD4TXHa4S/FRiwyAy7V05+u40QdaxkjJzwkHMhli1r1POomXcn8YlRqn8x+TCLMEcJPgiIbZLEISs1LZo19oxXfAgXxaPLXKWGII01GvMOiFqVrUmpK9KR8WUoq9/95mqnxMad7VwjaXm37cwA8+1Des+3fU9sun4H7Ba7zNX9Bcpr8Fn2vpgWOwbsNlzc1LXEAVzvQ+6zHjXhFcst0pVLwcQHdy+C7h45VJ6vqOudPENuSJ7qDwyMYlP3etT9GwWgrP+9tUQAAAAlwSFlzAAALEwAACxMBAJqcGAAACZpJREFUeNrNW11sHNUVvnN31xtt145nZxfbiL+KQHAfioIqpYT0oVJ5ICEUVPKAFEFf7AZIlLa0lZBaVaoUqX+o1DStGh7a0qhqRVRKoZEpUh8KhUi0BFWqsEhIUCqR2N3ZtWM79npn5/Y7w665e3d2/nbG3itZO56Znbnnu+fnO+ee1VjCo1QqjTYajbuEpt0uGBvXbPuTgvMRfF6jcT5A99hC1JmmzeHcLK5d0Bh7VxPiHc75G+Vy+VKS89OSeGihUNiJjwdtTdvDGfuU2z22bTMI2HHsct8Mrp0Stn2yWq2exinRlwBA6CGs8gQmOokJ35oEsHj2WSB1HKg8CzAW+gIAXde3YlJPYFmOYA2H2AYMaMUizGfKtqynFhYWqpsFgKYXixOw1aM4LnrNFyv3DkD6O45noCUzol6/CL+wuDQ6ukg35C9fHkylUoNaJnMDJrSdCTEOKXdDyB24nPJ4tmkz9p150/wlvWfDABgqlW5O2/avcbi7yy0WhJgWQvwWq/Vq1FXaunXrMIC5G885ADDuwalMl1vf5Jr2CBzm2cQBwKo/JBqN47DzvMvlKkxhql6r/Wxpaakcp9rn8/niwMDAY4gWR8jluJjFMrTsILThRFIAcDi6H2AC33B5+QpW4Puapv3ENM3FhMNqHubzVYTOJ7EIuQ5HydjTVdN8IqhJBAVgoGAYhOz+TtcsTmFCh6DmF9gGjuHh4RsBwDNYkH0uILxQ1fWH2LlztTgAGMDKv4AX7VHOr0H4b1YqlSm2icMwjMfhI57C/LLKpemKrt/vB4IfABpW/g/qykPlL6c43wd1/yfrg1EsFu+wGo2XoBHXKrzhT+ALX/Iyh5QPufkRkJ1QHnpOZDKfr5bL/2F9Mq5evXopm83+EYd74IeM9dXTtNu25HL66srKdGgNIG+PGP87VfhMJrN7bm5ulvXhGBkZuaa2tvZaBxMV4hGY6nOBAaA4zy3rDB40KKs9Vv6uhbm586yPB7jDTeAM/5DNAXO/mk6ldoAnvNcR2txAIZIjC08ODzZ/X78LTwPR6AORSt2LVV93fhQuLSGec5OXu6j+RAfDg7eHw3vL018YxoYK6vW+hXL5DDLRrymC7kTEeNTTBCixgeM4C+9RkuM87Gdv0MlUTHPDhe/2TsjzIszhPvnWhmVtk6l5uwYgq5OFJ4ZHJCfMZJLWhJDPP0z2L38ducW3XE3AyeeR0rZdBL2NwvCSBIFWG/OiP9H6Aw9wvRcc4CKuH21PTcUhSrI6AKBihpLPV4nbB5lQF3KSFOlhLlWhrlUihO2fUtosOcQ8T6cnOwGw7UnliVNBExs3EIC0owkb7RzVMTs7uww/9nSb4xNisuX/eKuGp5CHOqW0UVQzYcrLotQE6/X6L5zc5WOKeDMc5C5ZAx5Uwt50lHweRCNWnyB/L6rwNBYXF01o+CnF4e9fB8BWMj1kVyd6dVK9ghBSeF/Vgz87oRQxnNCuOXV725Zr7zZiZbHXYqObwARMNy3x4hVeAOB5geyOohxQqLQlgEJcz2nTQkl4zvQqvJ9jDANcL6rfNp9K5Qpy4n8pp+/ktGOj2MZrccfsoCGyCzg9qb5Cel5ve7Cm7eC0XaXcNxOn53ZT+W6aQIDJfz5RRQtiTop2v6v4gXFOe3UKKrECENUx+ql+WOHdFheO8SZOG5VtANTrF5OI4WEmHIfXd9UAIf6raOIIhxro8knasUmSx8chfMTVd7bUFA0ogADyLfLJ1nbVZoIQlyap48qVK0uKRmR5P1VzklJ9z8gAtWirm9NG5Wbk80mqfmsMDQ3lFROw0oj7RHrWt5hol5Y0LcJK+U6wh8ywZ+GbqfCgYgL/ozDYVuKmLeogDtXtnFcNYBNCnls+cL1CzWcpDF5QjGx7D+9wBaGb8H48PwzXDwjAdkUDPuDUkKQEy/Ee39MGgpfwQeYcc0FlXAFkhlM3lhIsPxdkYlE0oYvwws/u4yqvIe3frWjAGQ0PHwMj+lBJhw1khPMxVGe6Oq+gqh9Xyd0wjEG8jNLhtJQb3MipD49a0WTfQG0pQQhJAPsUEa9pMUcRWu27ZeFx4n2natwMD6eUmw+E8S0+mhI2l/cMeVFBQJJ3QPn/L+slMWpCbJsB5/dQT04IahoKBC9QwlaMAhKgAia4VwHg5DoA1IHpNCF+PDJOQ1I4fh4IBB+N0IJGizCOMZ1O057ggKTi5+fL5dfXAXDskTow22PEEWpISgKEsKoftbxGY2xsjFjuEWX1j7d8EJfC37NKuligbqwImVoU4uJLdaNWm1fX1g4r+53LtmUdl8pkHw3qvaX2UwXlJ6nhwCcU9gxCUKoblhIXCoXrYNrfVujvsa67w0Dmx6x9Hy2HkPhM2AmFASEs1VXNwYsbQNWnlIbO+Xq9/sM2QOR/iPxQ763iC+6lVjQ/r6yqYosneAkYlee3hPYSXi8WJ/HwBxQy8F3aJfKL4RzCkIe8U/piDUjuwoTf7qHYIZJKctQxXCrdzizrtFztgu2/NV+tkkwNXxKDyd5iNRrUJPUJ6QGXYE+7qAeH9fHQdf0GQU1SjF0nzX0lxfkdpml2VLx5F9WkHyYcVIoJY3CSr1ArWr8Knx8dLUHNXpGFbzq+Q27COwWgruFjZeXfW3K5YajIZ6X00bAs64vZbPblWq02328rzxuNv2Ghbmsze9s+hgh3NGpay3XDOKk6E6jUh+lUal8vPiF2m7ftl9WVh+96qVKpPKDava8JyLI6XdeMTSvmcC1AeGPYMB7b9JWHt3ccniI8otlfK4XCfi/hgxOWbduyumn+Hj7g/o5Ya9t/xsdhSi03UnCH5CDOd4S61sqT8AHa5VPBAm+lsbq6+jw1HuOFO9U6G9Lnr+RyOcq63l5eXq4nKThx+0w2+3W883k4t0+7LAjZ/Jcx50Dz0CIg/zAo8s/lECkNkxqSqCdHJRy9DkppkdUdZB91gHZw8OavVh6Hzf8qVBISkdTcagnxGy5FCGWsUU9Osy3lVWpOiKjm1Lb3BSpmNPP5AVdHBZKDOP9wt1AXOwAtX0i9t4i732MuP2KSRoM6M6g5obk/P0O7tJR5tvbqaMeGNi2obt8sXY9TARPf+YyPmc4TvQXAx/ycXRIAOAPZok7tp9SB2eWXZLEPSmkpq6PEpldTi42PU/up04Fp2xOIFtsSkVyI81TMoHw+jj6mWAGQn+k0IVIfnm3v7RkMId6nAibV8JplrP788bRXvKbMkhqSqCeH2lKoMwOfJfiCdDOU1nBcob062q6iHRvatMCl00nzi/8Dx0Tcgl7ehnwAAAAASUVORK5CYII=",img$l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIpioim0ELHYIgaLCKIglhJBG7WIEYzabDabRNjEZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9Y4SImFlm78eZOZeZM+CfsoyC2zQIhWLJSUzGtfnUgtbyTIAQHQSJ6oZrT89OJGk4Pm7xqXozoHo13vfvCGZM1wBfq/CIYTsl4THhqdWSrXhTuMvI6xnhA+GYIwcUvlR6usZPinM1flPsJBPj4Fc9tdwvTv9iI+8UhPuFIwWrbPycR90kZBbnZqX2yOzFJcEkcTTSlFnGosSA1KJk9r9v8Ns3w4p4DPnbVHDEkSMv3pioZelqSs2KbspnUVG5/83TzQ4P1bqH4tD86HmvfdCyDdUtz/s89LzqEQQe4LxY969ITqPvom/Vtcg+hNfh9KKupXfgbAO6723d0b+lgEx/NgsvJ9Cegs5raFusZfWzzvEdJNfkia5gdw+isj+89AXPlWf0rTeiAwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAaNJREFUeNrlm0sOgzAMRHHEEbj/CbmDq7Ko2opWxBk79pBNuwCTN/4lCshSc+jbfxkxJMXhhzmEAH6IRUjgzTxCBG9iaoXhBSBW+gi4Aq8jbELiebMIQhL2ZhGEBN58rxDBm2wIGXy3LSGE77LZSOEv399I4S8viORm8GlqQDR8qjaYBn5GDZie8zMjIEXOzxIgJXyUAGnhIwRIDe8tQHp4TwFKwHsJUAbeQ4BS8GgBysEjBSgJf2pk27bjd993evjnWL/B7+J5xGaoPPxLAIP3KeCtEUADfxg+8/6fAkgF3xsBdPCnAvzwPiX8Rxsk8Tz8bDAzPOStkdUw8dnwipxf73l7NnjxqgG6+AwFpSKsQDYQQEl49EqwHPw/g8iXEhHwbmsCj91gGfgeAQSYDqneS2oArym4jWqkWM2hZmgV+F8PUcM1iLDXGWnSgMKhcj60RvTsBTwLni6ThjhOxgIf3iHWIFFTwp89VIPAU8BbIqDiV2bDAngfoU8VVYInqdkiKmpTolnTCXEuUBbeskTtTZ30RTRqpZa2eyA/R6FvmZTjAXQIhaMv+ge0AAAAAElFTkSuQmCC",img$k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABcWlDQ1BpY2MAACiRdZG9S8NQFMVPW8Wi1Q46SHHIUMWhhaIgjlLBLtWhrWDVJXlN2kKShpcUKa6Ci0PBQXTxa/A/0FVwVRAERRBx8R/wa5ES72sKLdLe8PJ+nHfP5eUE8Kd1Zth9CcAwHZ5JJaW1/Lo08A4fRhBEHBGZ2dZydimHnvXzSN1UD3Exq3df1xoqqDYDfEHiOWZxh3iBOL3lWIL3iMdYSS4QnxDHOF2Q+Fboisdvgosefwnmucwi4BczpWIHKx3MStwgniaOGnqVte4jviSkmqtZ2iO0JmAjgxSSkKCgijJ0OJRLGSZl1t2XaPpWUCEPo7eFGjg5iiiRN0ZqlaaqtGukq/ToqInc/+dpa7Mz3vRQEuh/dd3PSWBgH2jUXff31HUbZ0DgBbg22/4K5TT/TXq9rUWPgfAOcHnT1pQD4GoXGH+2ZC43pQAtv6YBHxfAcB4YvQcGN7ysWuc4fwJy2/SL7oDDI2CK+sObf/JNaAQfxWcoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIPUlEQVR42uVbW2wUVRg+c/ZSUrelsxfaGkQNDVgfJKgJAuVNg1yDER5ICPrSigJWQU1INCYmJEokQLEQIPHKgwYSULABeQPEJijwRiPXYKK07uz2Kt3uzhy/f90uM2dnt6XdbXfH87LbmdOZ83///bIKK/AKhUI1uq4vFIoyRzBWrxjG44LzanxOUzj30h5DiDhTlC5c68S9WwpjVxUhrnDOL4TD4b8KeT6lEA/1+/3z8LHaUJSlnLEn7fYYhsFAYMZ3m30duNcmDONoNBptxyVRlACA6EpwuREHbcKBZxUCWDz7GpA6CFQOAYyeogBAVdWpONRWsKUZPKxkE7AgFX1QnxYjkdjZ09MTnSwAFDUYbISubsf3YK7zgnNXANJZfO+AlHSIePwO7EJff01NH23w3b1b4XK5KhSPZwYONJsJUQ8qG0DkXNx25Xi2ZjD2QbemHaD3TBgAlaHQTLdhfImvDVm2JEDEKSHEN+DWmbFyaerUqVUA5gU8Zx3AWIJLnixbf+GK8goM5rWCAwCurxW6fhB67rO5HYUqtMRjsc/6+/vD+RR7n88X9Hq9b8BbNJPJsVGLAUjZBkjD4UIBwGHoPsEB3rF5+T1w4GNFUXZpmtZXYLfqg/q8Bde5DUwozzCUjO2OatrW0arEaAHw+gMBQnZNpmkWbTjQJoj5LTaBq6qq6lEAsBcMWWEDwrGoqq5l16/H8gGAF5w/hhctla4Pgfh3I5FIC5vEFQgENsJG7MT5yqRbpyKqumokEEYCQAHnv5M5D5G/6+J8BcT91zHHDYGAJaCJaNqYPVIwGHw6oesnIBEPS3HDccQLL+dSBz5CcLNDJh4PvS48noXjIT7fC9b/Es61EIz53cI9zlepgcCunIYtl7WXDR4R7/F4Gnq6um6yIluwQbfLvN5FGSAw9iYYuf6BACA/D1d3QBZ7w+NZ3NXV1cmKdHV2dnaBSYtx1j+tkZjYDzWZNVoAFApyoE8VZoMHnV9ZjJy3kwThci2HgU4bP3KXCSG+tqOX24h+Y0aEB2sPnb/ISmT1hMOXkYm+LRE6Dx7j9ZxegBIbBDPXoPshs5+Hq1uW95Q5j14gR6L2PQzhSvNr9ESizhyaWyUAWZ2ZeIrwKMhhpbs2g4Z/zLgjt3jPVgWS+TxSWstNhLcTHeHlcyEGuAMatksGcRMlWRkAUDFDyuejFNuzEl9w23sobTYZRB93u5syATCMJimebil0YjNBrnEAdmy3xfAJ0TRs//hwDU8qY8UppWUOWfF4fH8yd0kjoMyEgVxgloDVkts7le98fjJXX1+fBglvkwz+mjQAhpTpIbs6zBy2YM8OS0WMpGvnVLeXStcGlbGY8xbRpJsSpTqo/nROTQsp4bk83kprMS4Ec73IiX+TLs/n1LGRdOMcc+iCpJ+3MFtR5nJqV0n7OpwKAKT7qmQH6jn16iRUHAuAzFwYxsc4NSotAMTjdxwrAUL8IYXF1W6IgcpMjUnq2Iwmeyt0djhuo2eTXVJLjbtcZgnwIwDkU8ybhttVTly9vb39kkSUcfY/XxxiYambU6PSqcRWVlb6JCOYcEP/KehJt5ioS4uP8Gh0qtgrQhncttY5SQX+JjdoqfJSi9qpEgCOPyIVfDrJDVoqPsn+vHMBmC1JwG1OA0mSs6x3sM2rlwDp4DSNJTnLRU6lHml/gyQBlykOuGBBhfO55qKhU1YgEKiAz39GutzOaQ6PRtHMtoHGUhwYBhNNbtOFG8mqcco9tEmb1zkOAEVZJ/39YypFTqaJRyU1WEIzOQ4KgPww9sskAI6mAaAJzOQQ4v3lSQ4kOWS53W7qCXpNIn6zOxw+nwaALiUnMK0+opkGkkqd+NraWopymyXuH2SpkVtucn+HKF00R6s0jVXqAAwODW2W+p0DRiKRZnYaAJq9pfFTqWCwDS7xsVIlnqq+UO33pfC3NWt3GMh8yqx9tHK4xL0lbPlbpIHO7ng8vsMCiPkPINNNs7eSLVhOo2ilRrwaDDbB8r8kBQMfUpdIyn0ys0akqmQh55v+MQYkF9A0Vimkw1Wh0ByWSLSbq13Q/Yvd0SjRpGeVgOG9NHicnL29LwVlCV0/WQr2QFXVGaD2pET8PRfn62XiswHAklPXnG+Qigm1MJKnq6urpxUr8b6amhDE6jSImi4Zvk2aptmW+7PWBGnqmgaPJRBmxYaGzhWjJBDn3bHYWZzxCYvaG0ZrJBL5PGuVKNdDaeqaBo9lECAJP9N4arEQTzovcCaZeNiuE3DvzTmLJCM+va6uzB+NHse3F6WHx5Bfb4Gk7Jtsay90fY9c3oc3+6lbVVeOd1g6DYKqad/S7G2GrzWMH/CxmVLLCQ9y4OczXF2K8xG/f81oxuVdo3pbJKIPDg4emVJeruKF86Sy0mykz6+Vl5dT1nVpYGAgXujY3lNWtgXvPALj9pQNQ1rBjFdx5lGdQxkD8usRIu+DyD1kc1ujgSSayZEDjnyktMjqNrD/JkAzUvXUr1Y2wuB98SDPHVPwQYPHCSG+ggV9LsuWIZrJSY2lnKHhhDGKOY3tPU/FjFQ+77XbR0EO+flsri7vAAw7BJq9hZf4iNn8iMm0dJrMoOGEVH++g7q0lHkO9+qoY0NNC6rbp0rX9VTAxP88O4KadlN4C4Bb7YKcQgOQXIgJVBo/pQnMLL8ky/uiKJWyOkpsxqtqeYu/qZKcnMA0jEYaQCpMeiduUjGD8vl8zTEVoh+nJIcQaQ7PMJaNGwwhblABk2p4qTJWcf54Ope/psySBpJoJofGUmgyA58h2AJ3ypXG8D1CvTpqV1HHhpoWuNVe6PjiX7rk5GR8PE/UAAAAAElFTkSuQmCC",img$j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIpioim0ELHYIgaLCKIglhJBG7WIEYzabDabRNjEZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9Y4SImFlm78eZOZeZM+CfsoyC2zQIhWLJSUzGtfnUgtbyTIAQHQSJ6oZrT89OJGk4Pm7xqXozoHo13vfvCGZM1wBfq/CIYTsl4THhqdWSrXhTuMvI6xnhA+GYIwcUvlR6usZPinM1flPsJBPj4Fc9tdwvTv9iI+8UhPuFIwWrbPycR90kZBbnZqX2yOzFJcEkcTTSlFnGosSA1KJk9r9v8Ns3w4p4DPnbVHDEkSMv3pioZelqSs2KbspnUVG5/83TzQ4P1bqH4tD86HmvfdCyDdUtz/s89LzqEQQe4LxY969ITqPvom/Vtcg+hNfh9KKupXfgbAO6723d0b+lgEx/NgsvJ9Cegs5raFusZfWzzvEdJNfkia5gdw+isj+89AXPlWf0rTeiAwAAAAlwSFlzAAALEwAACxMBAJqcGAAAA0dJREFUeNrlWwmO5CAMjBEv2On/v7BnnjDeZhUkixgfQELIIkXqzgG4XD64YKuU1+vF3v9F3Dzl5/vbVX9PewGg+uz9frP3wduxskMVAdHSlgeImgB/vr5MANTqid6OGAoK92GbXLKcGYgwuH7sfH55iZr2a9TrBAmkdjxsrPkYrZ70LLUZBwpes3vUQCjbSv+5zpf05YSkz/JvCYjAPRykdZCcX6vtWjTrqTOeZPtgZMIQQDTFSUwIrdpPlY2IHFqnRxauzrDNKzhKwz2hPFxA/22UL7AI6AVhJgOGULrXVOJoRK8UvhY2c4zXwuQ/BqTcnl53FHB09KCgTDeBGsPOYl5pNuHJmr7ECVobKqnXo+GRoIWRdmUNU/m9VhBGmkeYaecjtcy9Lw2oLgWgFq8/93BPpNjrrDR5ehRwJDBIQDqFlXGG8C3ffDqMwrfQCkLs7fBVmaLSD2wF4w5jAahcbpB306qaDAfi5SZAhfl0SJoqB6pdmt9bTWYTpt1cANxlQLSDAJY5hV1g1TSWHg5z5qL4iQNgkU4rJ9oI2gZrsjEJiEx70VSSj/i8BwcG5I8lBBWAblO0PlJHGYzCl0B0aarQWjVR2jUJLSGucKTDw2BTZrYLBVR4ia4EHI+tm/xEdpKB0z7pJAidw22tYosCOcxkzaT/QrzGM+21IW3WzAVcY4Fi4hFmaN0DAuMzDiXtJ6D7CMIIGq1W6ORvaNDGY0BIV2ik5CNAYBlgsfMngRA4D+9IdJYHIQqJDmSvSUseO5Clp+Fr/5ebQCcLlmZEVHJ+0NYLqT9IbKkx5vYA1BKdJMCoFZ0losCIQc+yJsCxgNuadsMJEbvGSRpsTYQew4LDstgHjOpo8H8p1lQYH6L9w4auYI3nT/P+2a8FxxgcFwcBe0zgUc6Psjw401q8sINn2r5+YOIpcV9TbqD7e5hNhfAAX4CScmNHpbCA3auHt1QnuGJiJAhfPzVGP7ZMRe9bVuCsjY5nCM+xNnidxgIOsSo8e2DCsuQtTILinTQvTOiCeHLUujzV0oCVOT2m5KU9bRM0OjNH1NiGZm21V84LgybX0itDmvCu4bB19+YKiyKS8KWcoNmpkhLjTPpzLCiF1+T4C+eX+V1keq0EAAAAAElFTkSuQmCC",img$i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIpioim0ELHYIgaLCKIglhJBG7WIEYzabDabRNjEZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9Y4SImFlm78eZOZeZM+CfsoyC2zQIhWLJSUzGtfnUgtbyTIAQHQSJ6oZrT89OJGk4Pm7xqXozoHo13vfvCGZM1wBfq/CIYTsl4THhqdWSrXhTuMvI6xnhA+GYIwcUvlR6usZPinM1flPsJBPj4Fc9tdwvTv9iI+8UhPuFIwWrbPycR90kZBbnZqX2yOzFJcEkcTTSlFnGosSA1KJk9r9v8Ns3w4p4DPnbVHDEkSMv3pioZelqSs2KbspnUVG5/83TzQ4P1bqH4tD86HmvfdCyDdUtz/s89LzqEQQe4LxY969ITqPvom/Vtcg+hNfh9KKupXfgbAO6723d0b+lgEx/NgsvJ9Cegs5raFusZfWzzvEdJNfkia5gdw+isj+89AXPlWf0rTeiAwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAbhJREFUeNrtWgFqwzAM9Jm+YM3/X5juCdPooFA8Z7MdSZbkCEohtFi6O8lSUEqXXba0waBPpOkfDAev4uPNcOBLpADN9hOOWEcUAKjRJ5V6AEPBY0ZRhDHWW/8HTwDQSR9EQYAxyauDAKOsq4EAw6yrgAAngYuBAKNyV5sZ4IR1MSXAafBsIMBx8CwgZOaucsZscerMbMEJofNJCgBKNm0IhByA/VMg5CDsD4OQA7E/BEIOxr7qLYCVAAjJPncj5LE4NgFADuVPlwKYAPDIflfBjqgA4lJAFPaXrwHgAgAR0ckr5/8KKYCrBvxjt055/UL0435Pn49Hqj3ntKMz3p5X5b9t28/3vu/dCmguemWw3MEPnoESiBcYowroclDCOM4oFRGlBgyP673LCXACAErGa/ZUQfhb4Kj4RboG6Uw9GNnPcbteW0uH/P6w8oNQs38tHTCAMDyyf0Ty8q1wS3NBDZ+ZChj24xk7BmUmMplx3v/cTmmxDMn8r/YBjf01Jkm6J90glQJW1CFCkoVl6fAAaIBkYlV2Fkgh31bbKhxl+/hFdtcFMtA8Cl+tcAsAf71RsW6efVezb/4DdiZjsxv1AAAAAElFTkSuQmCC",img$h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIpioim0ELHYIgaLCKIglhJBG7WIEYzabDabRNjEZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9Y4SImFlm78eZOZeZM+CfsoyC2zQIhWLJSUzGtfnUgtbyTIAQHQSJ6oZrT89OJGk4Pm7xqXozoHo13vfvCGZM1wBfq/CIYTsl4THhqdWSrXhTuMvI6xnhA+GYIwcUvlR6usZPinM1flPsJBPj4Fc9tdwvTv9iI+8UhPuFIwWrbPycR90kZBbnZqX2yOzFJcEkcTTSlFnGosSA1KJk9r9v8Ns3w4p4DPnbVHDEkSMv3pioZelqSs2KbspnUVG5/83TzQ4P1bqH4tD86HmvfdCyDdUtz/s89LzqEQQe4LxY969ITqPvom/Vtcg+hNfh9KKupXfgbAO6723d0b+lgEx/NgsvJ9Cegs5raFusZfWzzvEdJNfkia5gdw+isj+89AXPlWf0rTeiAwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAa1JREFUeNrtmoFqAyEMhv2lT7De+z/hdY+wjA4GxXkjphqTaKAUpOWSL380eqa0bdvSBoM+kaZ/MBy8io83w4EvUQI02084yjqiACCmTyrzAQwFjxmTIoxlnfs/eAJAb/owFAKMSV4dAoxmXQ0CDGddBQKcBD4MAozKXW3PACdZH6YEOA2+G4TsvL2GsCyHAMCkvcXUZZCMbKvFE6PFIzFVCNEANEOICKAJQlQAbAg5LW4bwAawjmElALQVsAHwlvu8svw5AChNfHE5uwRIStWL/PckGBAArQ6gebO3fAncGuX1h+jH/Z4+H49UG+9pV894Ga/K/ziOn+/zPJsVwD4rKIPtHbzwGShB/MKQKqDJwRHW4xmlIqLMAeI+pfVyApwAQJnxmj1VEH4VuJr8Ii2D9M58ILmf4/Z6ba0c8utg5Qcej83RUg4QEIbH7F8leflWmNNcEOMzUwFiP56xQyizITuznut/b6e0soyR9V/tA5j9NSZJuqXcMKoErKhjSJIsXJYOD0ADkomrsrMgRb7kYaRuyvbxi+y+J8kAeyu8W2EOgP9OVKybZ9/V7BsoanMeq391+AAAAABJRU5ErkJggg==",img$g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZHNK0RRGMZ/M4gYUSwk6S6GKFOiZKlRZoPFGGWwuffOnRk1M273zqTJVtlYTFmIja+F/4CtsqWUIiXZ+Ad8bTRd7zFqJHNu576/nnOet3OeA/7pjJl164chm8s70UhYW4gvao3P1NNDO4P06qZrz8xNxag5Pm7xqXoTUr1q7/t3tCQs1wRfk/CYaTt54Qnh6bW8rXhLuNNM6wnhA+EhRw4ofKl0o8JPilMVflPsxKKT4Fc9tdQvNn6xmXaywgPCwWymYP6cR90kYOXm56R2y+zBJUqEMBoGBVbIkCckNSeZ/e8b/vbNsioeU/42RRxxpEiLd0jUgnS1pCZFt+TLUFS5/83TTY6OVLoHwtDw6HmvfdC4DeWS530eel75COoe4DxX9a9KTuPvopeqWnAf2jbg9KKqGTtwtgld97bu6N9SnUx/MgkvJ9Aah45raF6qZPWzzvEdxNblia5gdw/6ZX/b8hco4WgdZKtgqgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAhtJREFUeNrtW21uwyAMjREnWHv/E6brDrDGC1MzZQiCCWAMwVL+NCH2e/iLQGHyyP1+R9fvC+IkVRSA9948z86bQAXeOgE+IoAKvBcCbCLUdHGB0Oz7YidFVn22jiLg3noOsWlO4NzyJhaOiFCu2e8BPDXhXyIHGE/whZmWPvt2voiR79dr+no+/2GzPV6XNCBHgnOV3WVZJqWUt+xtY8wzIdEtu3aOnkSnzmCqh8Q2OgY0ZWazEVBbPh+Pw/sft1uS18D6ArQUUpKg1H44aLuN94wvoWCHibbt8msBVcLNJIdAdBL0ZHmyIlcVObsYOkp4W7K0nwkl0WZCgAKeKwS6Ad8EASXBN10FcoAfjZDxAMNkJJtdNULboN/LZif0vNCL4gF/FzgGdR0Ctu26oKJuW+HLrwUGAYOAjuRsEuSqAiDRAzhLII4QEEgAZw8AUnPAaIQGAb0QsP/iErvL0qLYGPVVgPtI0JdzeWtLXcccLRtJcBAwCOifAOqR2RbFhW0clfUx09thSR9GHRrQOhGhkIYzsX90PG23T5+VuPW9SOlaqX1NkePy+y22zeCc4G0dWb8HbIzkrALG8FRPyEmkK6S9Z4VzEZFCQk7w5P8MZRAM5Rvm94TLoEASkMvekiXuLAjktLV0jY8Fg9x2cjQ5VFBYw0auLi8EDmvZx9nmokTbuPt8lGZXjYUOSrKp5koPBdlSlYSqX6B+AGDuGPLVCsLeAAAAAElFTkSuQmCC",img$f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZHNK0RRGMZ/M4gYUSwk6S6GKFOiZKlRZoPFGGWwuffOnRk1M273zqTJVtlYTFmIja+F/4CtsqWUIiXZ+Ad8bTRd7zFqJHNu576/nnOet3OeA/7pjJl164chm8s70UhYW4gvao3P1NNDO4P06qZrz8xNxag5Pm7xqXoTUr1q7/t3tCQs1wRfk/CYaTt54Qnh6bW8rXhLuNNM6wnhA+EhRw4ofKl0o8JPilMVflPsxKKT4Fc9tdQvNn6xmXaywgPCwWymYP6cR90kYOXm56R2y+zBJUqEMBoGBVbIkCckNSeZ/e8b/vbNsioeU/42RRxxpEiLd0jUgnS1pCZFt+TLUFS5/83TTY6OVLoHwtDw6HmvfdC4DeWS530eel75COoe4DxX9a9KTuPvopeqWnAf2jbg9KKqGTtwtgld97bu6N9SnUx/MgkvJ9Aah45raF6qZPWzzvEdxNblia5gdw/6ZX/b8hco4WgdZKtgqgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAhRJREFUeNrtW1tywyAMtBhO0OT+J3SaHqAxMZ2446qINwQBmvFPbAy7rB4YAgth1+tVmX7flFpaNQFA3lvX1XgTfIFzJ4AiAnyB90IAJkIsgxu4Zp/ynRTb+8N9FAH36seKTdYEXttexIKNCGGa/R7A+wb8IWKAVgLlZrL12cfxIsS+H4/l637/gw0rXpYcQI4AZ0q727YtQggy7R1t9DMuk5ylnaMmkakzmKqQ0EJHg/aZ2WwEvNs+bzfr/Y/LJUk1sL9AoQ59gmCr9bBz7BhvjJZUw4IJHtvwawFRQmYtu0BwECSivHdHpiwSuxiyBbwjWOJnXEGUjQv4gK/lAt2AZ0FASfCss0AO8LMQ0grQTAay2VUhdDT6uTA7rucbvXwU8HuBoVHXLoDHLgt21G0pPPxaYBIwCejIYoNgrSwALSqgZgpU0wUaJKBmDQCtxoBZCE0CeiHg/MUldJeFo2GMchTgFAlyOMmjLXUZcrRsBsFJwCSgfwJ8j8xyNBO2eVSWYqa3w5IURulqwJ0Il0tDjO+fDhr9Iwfv0xt2nZJijKtq9a1rko7Ln7bTlAk8ATwZvOW9+T44uJSAT3PsMwKeg8uWXWwqcCkAuzR5VpgIGjHjbSKtev9nKAIMJIB/e4CFDDMKHIGXLITYgM/9PYAV8JwuUKofdgpgBbzGYohFCS1HBV5KAewWTnJU4KkDVz2A1/YE9TAKPpdsqQcAAAAASUVORK5CYII=",img$e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABcmlDQ1BpY2MAACiRdZE9S8NQFIbftkpFWwrqIOKQoYpCC0VBHKWCXapDW8GqS3KbtEKShpsUKa6Ci0PBQXTxa/Af6Cq4KgiCIoi4+Af8WqTEc5tCi7Qn3JyH9573cO+5gD+tM8PuSQCG6fBMKimt5tek4Dt8GEQYQ5iSmW0tZRdz6Bo/j1RN8RAXvbrXdYyBgmozwNdHPMss7hDPE6e3HEvwHvEwK8kF4hPiGKcDEt8KXfH4TXDR4y/BPJdZAPyip1RsY6WNWYkbxJPEUUOvsOZ5xE1CqrmSpTxKaww2MkghCQkKKtiEDgdxyibNrLMv0fAto0weRn8LVXByFFEib4zUCnVVKWukq/TpqIq5/5+nrc1Me91DSaD31XU/x4HgPlCvue7vqevWz4DAC3BttvxlmtPcN+m1lhY9BiI7wOVNS1MOgKtdYOTZkrnckAK0/JoGfFwA4TwwdA/0r3uzau7j/AnIbdMT3QGHR8AE1Uc2/gDt82gCvNGYhAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAcpJREFUeNrtWwFuwyAMjBEPWNf8/4XpugesoWMKUppBYidQ5cAnVZWaRtGdDxscoC6Bvu9d7PfRue6sMETJa8MwRC8Slzi6ACkhiEu8FgGWQpiucdBW9FNj5wiWzyvxjOk5/muVm30n8Xfjl8NfkNeEMLHo10Cem/CbyAHeCZMb/sGePfqTfXfh5/Hovu/3F25Lx9ujiURad6WIld1xHDtjTLLshXv8f7Zgka2dY04ClQNCxDmR5eL0Dvi63Vavf16vh1xjzzy13YKUPPQQWFaDHOShBJjX8VzkIRdDa+RDvvBlskoBOOSlVcLURr7KIVCKPIQAJclDJsGc5FkzwdBUqJE8pANykocTIDd59mKI2zIv0Q8oSR7GAaXIQwhQkjx0GVQBGI5xjEWRrTGqkmGjQ0AFUAFUABVABVAB2sXmRMi3pEbnSDLJyNm3h3MAEvnsAqCRZw0Bb/l5Q2THjg1qaghoFVABVAAVQAVQAVQAFUCCI9thxYSJXj5WcspCHaACNNgP+LhcTr+gySqAX/nNX2nP99ujI/aaX3NAbAPDkQ0RSNFfPTUWbkA/QLUVTNoT9RpOj+rJ0aUDJE5AdkDy8LRECEQBUrnsCeUexwK5uUFRAAAAAElFTkSuQmCC",img$d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIpioim0ELHYIgaLCKIglhJBG7WIEYzabDabRNjEZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9Y4SImFlm78eZOZeZM+CfsoyC2zQIhWLJSUzGtfnUgtbyTIAQHQSJ6oZrT89OJGk4Pm7xqXozoHo13vfvCGZM1wBfq/CIYTsl4THhqdWSrXhTuMvI6xnhA+GYIwcUvlR6usZPinM1flPsJBPj4Fc9tdwvTv9iI+8UhPuFIwWrbPycR90kZBbnZqX2yOzFJcEkcTTSlFnGosSA1KJk9r9v8Ns3w4p4DPnbVHDEkSMv3pioZelqSs2KbspnUVG5/83TzQ4P1bqH4tD86HmvfdCyDdUtz/s89LzqEQQe4LxY969ITqPvom/Vtcg+hNfh9KKupXfgbAO6723d0b+lgEx/NgsvJ9Cegs5raFusZfWzzvEdJNfkia5gdw+isj+89AXPlWf0rTeiAwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAMtJREFUeNrt2kEKgzAQBVAjnqDm/ifUHqHpsigKgkYa5/2dWRjnOQkE0nUiEjlpZ7xEqTcFKn6z5j76EggPMJzYJ1pJ0QEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACB4hrMveI1j957nzfErszfH1vjtHbAu9uria84x1PrAGqkxR/g94Mg1uafdEXJNDgAAAAAAAAAAAACAY6fBogMAxDoOP7nt01GARXLOi+dP+V+fPv1KmqbJEjgNsP77LaXlb78tX1rgGEFVOtioAAAAAElFTkSuQmCC",img$c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JIpioim0ELHYIgaLCKIglhJBG7WIEYzabDabRNjEZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9Y4SImFlm78eZOZeZM+CfsoyC2zQIhWLJSUzGtfnUgtbyTIAQHQSJ6oZrT89OJGk4Pm7xqXozoHo13vfvCGZM1wBfq/CIYTsl4THhqdWSrXhTuMvI6xnhA+GYIwcUvlR6usZPinM1flPsJBPj4Fc9tdwvTv9iI+8UhPuFIwWrbPycR90kZBbnZqX2yOzFJcEkcTTSlFnGosSA1KJk9r9v8Ns3w4p4DPnbVHDEkSMv3pioZelqSs2KbspnUVG5/83TzQ4P1bqH4tD86HmvfdCyDdUtz/s89LzqEQQe4LxY969ITqPvom/Vtcg+hNfh9KKupXfgbAO6723d0b+lgEx/NgsvJ9Cegs5raFusZfWzzvEdJNfkia5gdw+isj+89AXPlWf0rTeiAwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAZBJREFUeNrtmlGOwyAMRDOoJ9jm/idM9wjrzVZaKWpDoBI2YzBSf6oqeB5jjGmWZfKBDnMKU0wgEd0tPpAKN4sTDsSrxgqyPDffH2AoHp2eYwqgddDqEEAs3gQCyMWrPz85KbHUZVA6VxewOsDFSOTWV392UrAkW3Nl6gCL5grMKSDsK94aAAhSIKpAACADIF7yvxUAeM3/SAFFAOIltRKLFXvNqZkCwr76sQc0BgBv9rdwgDDbP1Ig2uFwQAAIAI46QZU5wgEOdmzEHuAEgOV/BMJk0VxAFu8eQA3Auq6nlH/k/evvx+Ptu6/7van6mjkS8jy2bUMVgJzwKwCvAbYWXzvHFYAcCNQKLwGg2NBQnxH/IKavAiitfi53vIySttuowo86dgjZ0okzQqOIP7ggW0qn2AP2BX1+sifB4w9GW/2Ss3FiC4zshteUjzK4n6jk7Jg5w/g7TWLheNNr2AsRfgBajYunFOh1qdG9BYgUCAABIADcPuymnsPLrVCuAQoHXABAafWd3gNM0+x9PH4BvDJ3ZJJMpIIAAAAASUVORK5CYII=",img$b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIU/YyTBBykUEbHYwoiFAVEQS4mgjVrECEZtkk02EbKbZTdBgq1gYyFYiDa+Cv+BtoKtgiAogoiNf8BXI2G9YwIJorPM3o8zcy4zZ8A3k9dN1z8MplV0YtNRbTGxpAVe8NNNB0HCSd21Z+en4vw7Pu9oUvU2onr9v+/P0ZbOuDo0BYXHdNspCk8Iz6wVbcVbwl16LpkWPhQecuSAwldKT1X5WXG2yu+KnXhsEnyqp5Zt4FQD6znHFB4U7jfzJb12HnWT9oy1MC+1V2YfLjGmiaKRosQqeYpEpFqS2d++4R/fHAXx6PK3KeOII0tOvEOilqRrRqoheka+PGWV++88XWN0pNq9PQotT573FobADlS2Pe/ryPMqx9D8CBdW3V+QnMY/RN+ua/0HENqAs8u6ltqF803oebCTTvJHapbpMwx4PYWOBHTeQOtyNavaOif3EF+XJ7qGvX0YkP2hlW/cxWf6XLNyeQAAAAlwSFlzAAALEwAACxMBAJqcGAAAADdJREFUeNrt1LERAAAEA0DsvzO9EfjvUsrlRAAAAAAAAABwX67c3+6u7wtQgC8AAAAAAAAAwH0DNkcBCEXoxRkAAAAASUVORK5CYII=",img$a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZHNK0RRGMZ/xmiESWEhLO5iyAKJkqVGscFiZpTBZu51Z0bNx+3eO2myVTYWykJsfC38B2yVLaUUKcnGP+BrI13vMVMzyZzbue+v55zn7ZzngG8mY2Qd/zBkc64dmQ5rC/FFLfCCn27aGCKYMBxrNjoVo+b4vKNO1dtB1av2vn9H84rpGFDXKDxmWLYrPCE8s+ZaireEO4x0YkX4UHjAlgMKXyldL/Gz4lSJ3xXbscgk+FRPLVXFehUbaTsr3C8cymYKRvk86iYtZm4+KrVLZg8OEaYJo6FTYJUMLoNSc5LZ/77hX98cefEY8rcoYosjRVq8A6IWpKspNSm6KV+Gosr9b55OcnSk1L0lDA1PnvfWC4Ed+N72vK8jz/s+hvpHuMhV/HnJafxD9O2KFjqA1g04u6xo+i6cb0Lng5WwE79SvUxfMgmvpxCMQ/sNNC2Vsiqvc3IPsXV5omvY24c+2d+6/AMRKmgSy8M37AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAV1JREFUeNrtmgEKgzAMRRvJCab3P6HuCOtU5nBdY61iqcn/UJBN0f9qkxTjHARBkGGR9EfXdT72+8v7as00JNpxfd/TLgCS8bsDkEDQXuNaAIQgGsSAxOxLa+cuSnljrcbXPkYI02EUBMUIaTG/eguWwz+vJmLAOKHziAZO7bOf8mY+CwCAdQBszXBYyfLB0rbWephKLAFf8QR7xIACAGquE7KfjUvdCGkQAAAAADRVgnoKoecwuGlYLYSWi+bxaFufc36lY1Mfj99BkYtI+RLwKISQBQAAAADgZBAslQmo1jegVBr0WAKVAihVB1DNMYAsvwFIg2oAjLuj9U5JveHQI1sxLkEw920w7CTjnNYyBEEAAAD9APa2zN5RMW9olZXIKGyWjHrk1AWae4V/dnQ5a3+rryjzK9PpUjZV6Ei6pF3+avNX3INDIpqzQGxJs3SCNhCae6AhCIKgo3oDRfKqQh1Aqh4AAAAASUVORK5CYII=",img$9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABbmlDQ1BpY2MAACiRdZE7SwNBFIW/JEpEE1JoIZIihYqFgiiIpUTQRi1iBF/N7uYlZDfLboKIrWBjIViINr4K/4G2gq2CICiCiI1/wFcjst5JAgmSzDJ7P87MucycAf9M3jDdlmEwraKTmI7HFpeWY8E3WogSIoxPM1x7dn4qSdPx/YBP1fsh1av5voajI5V2DfC1CY8ZtlMUnhCeWS/aineEu4yclhI+Fh505IDCN0rXK/yqOFvhT8VOMjEJftUzlq1jvY6NnGMKDwj3mvmSUT2PukkobS3MS+2RGcUlwTRxYuiUWCNPkSGplmTW2Ddc9s1REI8hf5sNHHFkyYl3UNSSdE1LzYieli/Phsr9f55uZnSk0j0Uh9YXz/vog+Ae/O563s+J5/2eQuAZrqyavyA5jX+JvlvTeo8gsgUX1zVN34fLbeh+sjVHK0sBmf5MBt7PIbwEnXfQvlLJqrrO2SMkN+WJbuHgEPplf2T1D6TFZ+Dpj8jzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJUlEQVR42u2b6wrCMAyFF9kTuL3/q0YUlDIQrGnatPkOFPZDluY0l7NQty05pHjWCfbo9nKd6KCa4pY9BSAgOwF7w7zTRrmrRIAjzvN8rSsB0rP1VFZ86RUBUqwIbc91L+8ooAtkdv4ZBUQABEAAn8Ot8KsS1Ei+946ASJ/dSgoMIECipf8+ed2pxv04hhdB2iAEQEAcjCiCLbWAGGwsIYTUYAMhtIIQEoMN8Qjv6woHhBBtEAIgYCUhZO4gTISoAXMLIfNe0k2E6AIQAAFT6ADLoGMJHaDOzqMDousAy6Cjai/p5gHlFTlSAAJsbVD/+E24lBBH52ts6ijfI6SAjrTLJanOJyeBokBSnvi36/IAUATD/3fQxXdJ6vyHBHRA9hQA2fEADxYsjjbR70EAAAAASUVORK5CYII=",img$8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZHNK0RRGMZ/M4gYUSwk6S6GKFOiZKlRZoPFGGWwuffOnRk1M273zqTJVtlYTFmIja+F/4CtsqWUIiXZ+Ad8bTRd7zFqJHNu576/nnOet3OeA/7pjJl164chm8s70UhYW4gvao3P1NNDO4P06qZrz8xNxag5Pm7xqXoTUr1q7/t3tCQs1wRfk/CYaTt54Qnh6bW8rXhLuNNM6wnhA+EhRw4ofKl0o8JPilMVflPsxKKT4Fc9tdQvNn6xmXaywgPCwWymYP6cR90kYOXm56R2y+zBJUqEMBoGBVbIkCckNSeZ/e8b/vbNsioeU/42RRxxpEiLd0jUgnS1pCZFt+TLUFS5/83TTY6OVLoHwtDw6HmvfdC4DeWS530eel75COoe4DxX9a9KTuPvopeqWnAf2jbg9KKqGTtwtgld97bu6N9SnUx/MgkvJ9Aah45raF6qZPWzzvEdxNblia5gdw/6ZX/b8hco4WgdZKtgqgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAZ1JREFUeNrtmw1uwyAMhTHiBGvuf8K03QHWMDE1UkehgEMSDO+TKlX5IXnG2E4gpCJM0xTcvlirWkUTRffN8xzcTrnCpRsgZgjKFd6LAVIeAQAYCzrjon7APTMgmdZ7KDc7hfh5PNT3/f7W3mpw99/seQM1ejeUdpdlUVrraNpbz3HHpDQZyeO3Rk1ifJfweyzVg1s9pLTQcaJjPcuOAUeKKOV2vX7c/3W5bPIa8htIXfBJq/VwMqv5ejm+ZBsOC8X3ptXg6D3cTFJhx60Dsi8UyiLcSvBTwFtjV2lMEzMEcsQfNQS6ES/CAHuKF50FaohHIeQ8wAkutGZXhRCnrraN/4o00imWbqgQAgCAoRk+C1BH4lmaNIYACiEAhub16ah0lkW6XocZRXjMCNzZ4aOyQPWo/jalzpgYbeoFxxacdgmVILXYuO1BPHcIdMPfEAgZoNdlpCGteBiKWaY3L4hpNKkTpBsiFeOKl8s7Xhca1Zqjq1Xa5i6ZXzuWFQMY02lyXoi0tI53Dw/w9ZjYAb3VB/hCBAAAAAAAgH/8Ah3f3c5J52vwAAAAAElFTkSuQmCC",img$7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZHNK0RRGMZ/M4gYUSwk6S6GKFOiZKlRZoPFGGWwuffOnRk1M273zqTJVtlYTFmIja+F/4CtsqWUIiXZ+Ad8bTRd7zFqJHNu576/nnOet3OeA/7pjJl164chm8s70UhYW4gvao3P1NNDO4P06qZrz8xNxag5Pm7xqXoTUr1q7/t3tCQs1wRfk/CYaTt54Qnh6bW8rXhLuNNM6wnhA+EhRw4ofKl0o8JPilMVflPsxKKT4Fc9tdQvNn6xmXaywgPCwWymYP6cR90kYOXm56R2y+zBJUqEMBoGBVbIkCckNSeZ/e8b/vbNsioeU/42RRxxpEiLd0jUgnS1pCZFt+TLUFS5/83TTY6OVLoHwtDw6HmvfdC4DeWS530eel75COoe4DxX9a9KTuPvopeqWnAf2jbg9KKqGTtwtgld97bu6N9SnUx/MgkvJ9Aah45raF6qZPWzzvEdxNblia5gdw/6ZX/b8hco4WgdZKtgqgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAgVJREFUeNrtWwtuwyAMxREnWLn/Cdt1B1hDSzemyoNiKFADthSpSiDhPX/5FFREjDHB+7u1iqtsANFnx+MxeB+owEcnIEYEUIHPQgAmwvfgi6qt3ClbFfyP1ajFZXkCNCUz1BYccGMpqpHYFAGshJqdQvJ9uaiv8/nf+zzh7rduOYAa2g2l3X3f1bZt0bTn+7g2KUx6ZP+tUZNobBJYYykNvmohuYWOAx3TbHEQ7AkiVz5Pp6fPPw6Hl6wGbi+w6IOULMC1eEqOHeMtsSXOlWP22KQSbGFmnF2AUglSojz5Q6EsUloJPgt4PljiNqkgOowLUMBPOxlqBX4IAlqCHzoL1AAvhZCzAMdkJptTFUK+0/3C7KTaM70oFvB3hRZFp3YBVWlFiHM1KHMBIUAIEALqzQbfnAmAqwX0SoNWXIApAb3qAOAcA2BlC5A0OA0BjysuubssIwrGqFcBHiNBL2fyaEsdjDG28wkNNuL2J+SU2PJZ4GYGsCp4hx1Ce38MY0LJumXQ58UFMAGU3dtMTVmm5h60dJ3qkOEOFv0GrsCDvpSj9ceDRr+7SrbxbDEaA3AVSz0y7xVbFAPQdlpr8H0XHDJPb/QCX80CMB4da0BwiaE0T/7PUKFG3m65PUvhqeYOyxdCI7oAcHnZ0Omv1oCHJ6HGYOcqhFYjYWNG5PDCdjosEpEraP7o1MFLlvgAAAAASUVORK5CYII=",img$6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZHNK0RRGMZ/M4gYUSwk6S6GKFOiZKlRZoPFGGWwuffOnRk1M273zqTJVtlYTFmIja+F/4CtsqWUIiXZ+Ad8bTRd7zFqJHNu576/nnOet3OeA/7pjJl164chm8s70UhYW4gvao3P1NNDO4P06qZrz8xNxag5Pm7xqXoTUr1q7/t3tCQs1wRfk/CYaTt54Qnh6bW8rXhLuNNM6wnhA+EhRw4ofKl0o8JPilMVflPsxKKT4Fc9tdQvNn6xmXaywgPCwWymYP6cR90kYOXm56R2y+zBJUqEMBoGBVbIkCckNSeZ/e8b/vbNsioeU/42RRxxpEiLd0jUgnS1pCZFt+TLUFS5/83TTY6OVLoHwtDw6HmvfdC4DeWS530eel75COoe4DxX9a9KTuPvopeqWnAf2jbg9KKqGTtwtgld97bu6N9SnUx/MgkvJ9Aah45raF6qZPWzzvEdxNblia5gdw/6ZX/b8hco4WgdZKtgqgAAAAlwSFlzAAALEwAACxMBAJqcGAAAALNJREFUeNrt2zEOgCAMAEAw/v/L1Qc4FSWNvSaORLjS6gBjiN4x7yc6Axzdd0B7gDMzKCJmyXqeMz7fAVUXn52bHgBAE9zffJ5qNdPA3uhHSiCZ7VjJ3FefvcxczuSLR5Vf6NUEKAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDj2HJlJnOkddcBzKPi4lfGKQEAxQCytbyrB7g3qAQACNE5LgqdKICszpBUAAAAAElFTkSuQmCC",img$5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZE7SwNBFIW/JMaIRlJoISKaQsVCQRTEUiKYRi1iBF9Ndt0kwiYuuwkitoKNhWAh2vgq/AfaCrYKgqAIIjb+AV+NhPVOVkiQOMvs/Tgz5zJzBvyTpp5z6gYhly/YiXgsOje/EA29EqSeEJ10pXTHmpqZSPLv+LrHp+rdgOr1/76ao2nZcHTwNQiP6JZdEB4TnlwrWIq3hVv1bGpZ+Ei435YDCl8rXfP4RXHG4w/FdjIxDn7VM5qpYq2K9aydE+4T7s6ZRf33POomYSM/OyO1XWYHDgnixIiiUWQFkwIDUvOSWW3fYNk3zap4dPlbrGOLI0NWvP2iFqWrITUtuiGfybrK/W+eTnp4yOsejkHw2XXfeyC0C6Ud1/0+dt3SCQSe4DJf8a9KTqOfou9UtO5DiGzC+VVF0/bgYgvaHq2UnSpLAZn+dBrezqB5HlpuoXHRy+p3ndMHSG7IE93A/gH0yv7I0g/RtGf1H+H7WwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAPxJREFUeNrtmm0OgyAQRB3TE1Tvf1WaNmlCE4NCW77mkfDHRbP7nF1AXBbzpsL7wizxaKLgi2Ja3VMAAO4Abo2KT+ilHtkpYN/3V/8GgH40lf5DeaqlAEW9h2kv25e3CpgFnIN/qgAFAAAAbIdbtNCLL6QAANgNerX7tlEESQEAAAAAAAAAADwBsBAiBQAAAAAAAAAAAAAAAAAAAAAAAACwOxmKf5FDAQColwKhYEyVT2TqJPhm/lED3AGooxrQyje/dUC8FtDFt6YJ7UnD2cnN6PbL5I7Gj25PXggGZUA5spkeggyD/4h9zZHLhPYkAJ08ZHR7sgbMOO8f2h90sy2pSZTVdgAAAABJRU5ErkJggg==",img$4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZHNK0RRGMZ/M4gYUSwk6S6GKFOiZKlRZoPFGGWwuffOnRk1M273zqTJVtlYTFmIja+F/4CtsqWUIiXZ+Ad8bTRd7zFqJHNu576/nnOet3OeA/7pjJl164chm8s70UhYW4gvao3P1NNDO4P06qZrz8xNxag5Pm7xqXoTUr1q7/t3tCQs1wRfk/CYaTt54Qnh6bW8rXhLuNNM6wnhA+EhRw4ofKl0o8JPilMVflPsxKKT4Fc9tdQvNn6xmXaywgPCwWymYP6cR90kYOXm56R2y+zBJUqEMBoGBVbIkCckNSeZ/e8b/vbNsioeU/42RRxxpEiLd0jUgnS1pCZFt+TLUFS5/83TTY6OVLoHwtDw6HmvfdC4DeWS530eel75COoe4DxX9a9KTuPvopeqWnAf2jbg9KKqGTtwtgld97bu6N9SnUx/MgkvJ9Aah45raF6qZPWzzvEdxNblia5gdw/6ZX/b8hco4WgdZKtgqgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAMpJREFUeNrtmksKgDAMBY30BNr7n7B3iCgo4kbwl+CbAZdCM77E+uk6AABh7OJ5/pd67EfFX6qpV4t8rXU5ZAXIJ2CfhJkSNHw8yzySboE5Bf0DV9sCa7i9lvJR5DPuZWgBBARG2bOshRZAgDhFreBhHBmCtAACEIAABABocrYRciEXdhTggoEwboPqAuRnAAAzIAReiHAbRAACEIAABMQj92Vo/4scCUAAAngWoAVogbjIp1ibJS3+tfWt+4DWGi0gmQBmAAAAwMYEsvUT/L18rywAAAAASUVORK5CYII=",img$3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABb2lDQ1BpY2MAACiRdZHNK0RRGMZ/M4gYUSwk6S6GKFOiZKlRZoPFGGWwuffOnRk1M273zqTJVtlYTFmIja+F/4CtsqWUIiXZ+Ad8bTRd7zFqJHNu576/nnOet3OeA/7pjJl164chm8s70UhYW4gvao3P1NNDO4P06qZrz8xNxag5Pm7xqXoTUr1q7/t3tCQs1wRfk/CYaTt54Qnh6bW8rXhLuNNM6wnhA+EhRw4ofKl0o8JPilMVflPsxKKT4Fc9tdQvNn6xmXaywgPCwWymYP6cR90kYOXm56R2y+zBJUqEMBoGBVbIkCckNSeZ/e8b/vbNsioeU/42RRxxpEiLd0jUgnS1pCZFt+TLUFS5/83TTY6OVLoHwtDw6HmvfdC4DeWS530eel75COoe4DxX9a9KTuPvopeqWnAf2jbg9KKqGTtwtgld97bu6N9SnUx/MgkvJ9Aah45raF6qZPWzzvEdxNblia5gdw/6ZX/b8hco4WgdZKtgqgAAAAlwSFlzAAALEwAACxMBAJqcGAAAANNJREFUeNrt2tEKwyAMhWEz9gSr7/+qjg0GvZ3dVMwX8K6F5OfkRFtLSR7R+V7bpZ7YqPiumm7ZWwCA7ADuk8ynreJH6RRQa32vKwDiR6P0H8qLUQqI01ph7H2dy0cFpkDm4l8qoAAAAHAcnhFtlVy0AABOg7nicRxMUAsAAAAAAAAAQE4ANkJaAAAAAAAAAAAAAAAAAAAAAAAA0v0ZOl+RowAAxrVA63hmyCeyWKT4afnxgOwAYiEPmJVbvn3A1evyQmxogi1r/ZG4eCYIAA+w2SpPUykQkfN9GyAAAAAASUVORK5CYII=";class Icons{}Icons.icon_arrow=img$J;Icons.icon_arrow_up=img$I;Icons.icon_arrow_down=img$H;Icons.icon_arrow_left=img$G;Icons.icon_arrow_right=img$F;Icons.icon_back=img$E;Icons.icon_caret=img$D;Icons.icon_circle=img$C;Icons.icon_clockwise=img$B;Icons.icon_counter_clockwise=img$z;Icons.icon_compare=img$A;Icons.icon_close=img$y;Icons.icon_close2=img$x;Icons.icon_cloudy=img$w;Icons.icon_delete=img$v;Icons.icon_download=img$u;Icons.icon_fit_page=img$t;Icons.icon_fit_viewer=img$s;Icons.icon_geometric=img$r;Icons.icon_hand=img$q;Icons.icon_line=img$p;Icons.icon_load=img$o;Icons.icon_minus=img$n;Icons.icon_ok=img$m;Icons.icon_pen=img$l;Icons.icon_plus=img$k;Icons.icon_pointer=img$j;Icons.icon_polygon=img$i;Icons.icon_polyline=img$h;Icons.icon_popup=img$g;Icons.icon_popup2=img$f;Icons.icon_sidebar=img$e;Icons.icon_square=img$d;Icons.icon_stamp=img$c;Icons.icon_straight=img$b;Icons.icon_text=img$a;Icons.icon_text2=img$9;Icons.icon_text_free=img$8;Icons.icon_text_callout=img$7;Icons.icon_text_highlight=img$6;Icons.icon_text_squiggly=img$5;Icons.icon_text_strikeout=img$4;Icons.icon_text_underline=img$3;Icons.geometricIcons={square:`<img src="${Icons.icon_square}"/>`,circle:`<img src="${Icons.icon_circle}"/>`,line:`<img src="${Icons.icon_line}"/>`,arrow:`<img src="${Icons.icon_arrow}"/>`,polyline:`<img src="${Icons.icon_polyline}"/>`,polygon:`<img src="${Icons.icon_polygon}"/>`};Icons.textIcons={note:`<img src="${Icons.icon_popup2}"/>`,freeText:`<img src="${Icons.icon_text_free}"/>`,freeTextCallout:`<img src="${Icons.icon_text_callout}"/>`,strikeout:`<img src="${Icons.icon_text_strikeout}"/>`,squiggly:`<img src="${Icons.icon_text_squiggly}"/>`,underline:`<img src="${Icons.icon_text_underline}"/>`,highlight:`<img src="${Icons.icon_text_highlight}"/>`};Icons.lineTypeIcons={straight:`<img src="${Icons.icon_straight}"/>`,cloudy:`<img src="${Icons.icon_cloudy}"/>`};Icons.editIcons={close:`<img src="${Icons.icon_close}"/>`,ok:`<img src="${Icons.icon_ok}"/>`,back:`<img src="${Icons.icon_back}"/>`,delete:`<img src="${Icons.icon_delete}"/>`};function getCommonStyles(A){return`
    :host {
      --${A}-color-primary-final: var(--${A}-color-primary, rgba(40,40,40,1));
      --${A}-color-primary-tr-final: var(--${A}-color-primary-tr, rgba(40,40,40,0.9));
      --${A}-color-secondary-final: var(--${A}-color-secondary, rgba(60,60,60,1));
      --${A}-color-secondary-tr-final: var(--${A}-color-secondary-tr, rgba(60,60,60,0.9));
      --${A}-color-accent-final: var(--${A}-color-accent, rgba(96,96,96,1));
      --${A}-color-shadow-final: var(--${A}-color-shadow, rgba(0,0,0,0.75));
      --${A}-color-bg-final: var(--${A}-color-bg, rgba(128,128,128,1));
      --${A}-color-fg-primary-final: var(--${A}-color-fg-primary, rgba(255,255,255,1));
      --${A}-color-fg-secondary-final: var(--${A}-color-fg-secondary, rgba(187,187,187,1));
      --${A}-color-fg-accent-final: var(--${A}-color-fg-accent, rgba(255,204,0,1));
      --${A}-color-text-selection-final: var(--${A}-color-text-selection, rgba(104,104,128,0.3));
    }
  
    .disabled {
      pointer-events: none !important;
    }
  
    .relative {
      position: relative;
    }
    .absolute {
      position: absolute;
    }
    .abs-hidden {
      position: absolute;
      opacity: 0;
      z-index: -10;
    }
    .abs-stretch {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }
    .abs-topleft {
      position: absolute;
      left: 0;
      top: 0;
    }
    .stretch {
      width: 100%;
      height: 100%;
    }
    
    .no-margin {
      margin: 0;
    }
    .no-padding {
      padding: 0;
    }
    .margin-s-5 {
      margin: 0 5px;
    }
  
    .line-clamp {
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical; 
      overflow: hidden; 
    }
  
    #main-container {
      box-sizing: border-box;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: stretch;
      align-items: stretch;
      width: 100%;
      height: 100%;
      background: var(--${A}-color-bg-final);
    }
  
    #top-panel {
      position: relative;
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      flex-shrink: 0;
      width: 100%;
      height: 50px;
      background: var(--${A}-color-primary-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
      z-index: 4;
      transition: height 0.25s ease-out 0.1s;
    }
    .hide-panels #top-panel {
      height: 0;
      transition: height 0.25s ease-in 0.2s;
    }
  
    #bottom-panel {
      position: absolute;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      flex-grow: 0;
      flex-shrink: 0;
      bottom: 20px;
      height: 50px;  
      background: var(--${A}-color-primary-tr-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
      z-index: 4;
      transition: height 0.25s ease-out, bottom 0.1s linear 0.25s;
    }
    .hide-panels #bottom-panel {
      bottom: 0;
      height: 0;
      transition: bottom 0.1s linear 0.1s, height 0.25s ease-in 0.2s;
    }
    .compact #zoom-fit-viewer,
    .compact #zoom-fit-page {  
      width: 0;  
      transform: scale(0);
    }
  
    #focused-annotation-panel {
      box-sizing: border-box;
      position: absolute;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
      flex-grow: 0;
      flex-shrink: 0;
      left: calc(50% - 120px);
      top: 80px;
      width: 240px;
      height: 84px; 
      padding: 18px;
      border-radius: 18px;
      background: var(--${A}-color-secondary-tr-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
      opacity: 0;
      transform: scale(0);
      transition: opacity 0.1s ease-in, transform 0s linear 0.1s;
      z-index: 4;
      pointer-events: none;
    }
    .mobile #focused-annotation-panel {
      left: 20px;
      width: 150px;
    }
    .annotation-focused #focused-annotation-panel {
      opacity: 100;
      transform: scale(1);    
      transition: opacity 0.1s ease-out 0.35s, transform 0s linear 0.35s;
    }
    #focused-annotation-panel p {
      margin: 0;
      padding: 0;
      line-height: 16px;
      font-size: 12px;
      font-family: sans-serif;
      color: var(--${A}-color-fg-primary-final);
    }
    
    #annotation-panel,
    #command-panel {
      position: absolute;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-end;
      flex-grow: 1;
      flex-shrink: 1;
      right: 20px;
      pointer-events: none;
    }
    #annotation-panel {
      top: 125px;
      z-index: -5;
      transition: z-index 0s linear 0.25s;
    }
    #command-panel {
      top: 80px;
      z-index: 5;
    }
    .mode-annotation #annotation-panel {
      z-index: 5;
    }
    
    .annotation-panel-row,
    .command-panel-row {      
        display: flex;
        flex-direction: row;
        justify-content: flex-end;
        align-items: center;
        flex-grow: 1;
        flex-shrink: 1;
      }
  
    .annotation-panel-item {
      margin: 3px;
      cursor: default;      
      opacity: 0;
      background: var(--${A}-color-primary-tr-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
      transform: scale(0);
      transition: opacity 0.1s ease-in, transform 0s linear 0.1s;
      pointer-events: all;
    }    
    .mode-annotation .annotation-panel-item { 
      cursor: pointer;
      opacity: 100;
      transform: scale(1);    
      transition: opacity 0.1s ease-out 0.35s, transform 0s linear 0.35s;
    }
  
    .annotation-panel-subitem,
    .command-panel-subitem {
      margin: 3px;    
      background: var(--${A}-color-secondary-tr-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
      pointer-events: all;
    }    
    .command-panel-subitem.accent:hover,
    .command-panel-subitem.accent.on {
      box-shadow: 0 0 10px var(--${A}-color-fg-accent-final);
    }
    :not(.mode-annotation):not(.undoable-commands) #button-command-undo,
    :not(.annotation-selected) #button-annotation-edit-text,
    :not(.annotation-selected) #button-annotation-delete,
    :not(.stamp-annotator-data-undoable) #button-annotation-stamp-undo,
    :not(.stamp-annotator-data-clearable) #button-annotation-stamp-clear,
    :not(.stamp-annotator-data-saveable) #button-annotation-stamp-save,
    :not(.pen-annotator-data-undoable) #button-annotation-pen-undo,
    :not(.pen-annotator-data-clearable) #button-annotation-pen-clear,
    :not(.pen-annotator-data-saveable) #button-annotation-pen-save,
    :not(.text-annotator-data-undoable) #button-annotation-text-undo,
    :not(.text-annotator-data-clearable) #button-annotation-text-clear,
    :not(.text-annotator-data-saveable) #button-annotation-text-save,
    :not(.geom-annotator-data-undoable) #button-annotation-geometric-undo,
    :not(.geom-annotator-data-clearable) #button-annotation-geometric-clear,
    :not(.geom-annotator-data-saveable) #button-annotation-geometric-save {
      cursor: default;      
      opacity: 0;
      transform: scale(0);
      transition: opacity 0.1s ease-in, transform 0s linear 0.1s;
    }
    .mode-annotation.undoable-commands #button-command-undo,
    .annotation-selected #button-annotation-edit-text,
    .annotation-selected #button-annotation-delete,
    .stamp-annotator-data-undoable #button-annotation-stamp-undo,
    .stamp-annotator-data-clearable #button-annotation-stamp-clear,
    .stamp-annotator-data-saveable #button-annotation-stamp-save,
    .pen-annotator-data-undoable #button-annotation-pen-undo,
    .pen-annotator-data-clearable #button-annotation-pen-clear,
    .pen-annotator-data-saveable #button-annotation-pen-save,
    .text-annotator-data-undoable #button-annotation-text-undo,
    .text-annotator-data-clearable #button-annotation-text-clear,
    .text-annotator-data-saveable #button-annotation-text-save,
    .geom-annotator-data-undoable #button-annotation-geometric-undo,
    .geom-annotator-data-clearable #button-annotation-geometric-clear,
    .geom-annotator-data-saveable #button-annotation-geometric-save { 
      cursor: pointer;
      opacity: 100;
      transform: scale(1);    
      transition: opacity 0.1s ease-out 0.35s, transform 0s linear 0.35s;
    }
  
    .panel-v-separator {
      width: 1px;
      height: 30px;
      background-color: var(--${A}-color-fg-secondary-final);
    }
  
    .panel-button {
      cursor: pointer;
      user-select: none;
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
      flex-grow: 0;
      justify-content: center;
      align-items: center;
      width: 36px;
      height: 36px;
      border-radius: 50%;
    }
    .panel-button:hover,
    .panel-button.on {
      background-color: var(--${A}-color-accent-final);
    }
    .panel-button.accent,
    .panel-button.accent:hover,
    .panel-button.accent.on {
      background-color: var(--${A}-color-fg-accent-final);
    }
    .panel-button img {
      width: 20px;
      height: 20px;
      filter: invert() opacity(0.7) drop-shadow(0 0 0 var(--${A}-color-fg-primary-final)) saturate(1000%);
    }  
    .panel-button:hover img,
    .panel-button.on img {
      filter: invert() opacity(0.7) drop-shadow(0 0 0 var(--${A}-color-fg-accent-final)) saturate(1000%);
    }  
    .panel-button.accent img,  
    .panel-button.accent:hover img,
    .panel-button.accent.on img {
      filter: opacity(0.7) drop-shadow(0 0 0 var(--${A}-color-primary-final)) saturate(1000%);
    }
    .disabled .panel-button img,
    .panel-button.disabled img {
      filter: invert() opacity(0.2) drop-shadow(0 0 0 var(--${A}-color-fg-primary-final)) saturate(1000%);
    }  
    .context-menu-content .panel-button {
      margin: 1px;
    }
    
    .subpanel {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      margin: 0 4px;
    }    
    
    .panel-item {
      transform: scale(1);
      transition: opacity 0.1s ease-out 0.35s, transform 0s linear 0.35s;
    }
    .hide-panels .panel-item {
      cursor: default;      
      opacity: 0;
      transform: scale(0);
      transition: opacity 0.1s ease-in, transform 0s linear 0.1s;
    }
  
    #paginator {  
      user-select: none;
      font-family: sans-serif;
      font-size: 16px;
      color: var(--${A}-color-fg-primary-final);
    }
  
    #toggle-previewer {
      margin: 4px;
    }
      
    #previewer {
      box-sizing: border-box;
      position: absolute;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      overflow-x: hidden;
      overflow-y: auto;
      left: 0;
      top: 50px;
      bottom: 0;
      width: 160px; 
      padding-top: 0px;
      background: var(--${A}-color-secondary-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
      z-index: 3;
      transition: padding-top 0.25s ease-out 0.1s, top 0.25s ease-out 0.1s, width 0.25s ease-out;
    } 
    .hide-panels #previewer {
      top: 0;
      padding-top: 50px;
      transition: padding-top 0.25s ease-in 0.2s, top 0.25s ease-in 0.2s;
    }   
    .mobile #previewer {
      background: var(--${A}-color-secondary-tr-final);
    } 
    .hide-previewer #previewer {
      width: 0;
      transition: width 0.25s ease-in 0.1s;
    }
    #previewer .page-preview {      
      transform: scaleX(1);
      transition: opacity 0.1s ease-out 0.35s, transform 0s linear 0.35s;
    }
    .hide-previewer #previewer .page-preview {
      opacity: 0;
      transform: scaleX(0);
      transition: opacity 0.1s ease-in, transform 0s linear 0.1s;
    }
  
    #viewer {
      box-sizing: border-box;
      position: absolute;
      display: flex;
      flex-direction: column;
      overflow: auto;
      left: 160px;
      right: 0;
      top: 50px;
      bottom: 0;
      padding-top: 0;
      transition: padding-top 0.25s ease-out 0.1s, top 0.25s ease-out 0.1s, left 0.25s ease-out;
    }
    #viewer.dialog-shown {
      overflow: hidden;
    }
    .mode-hand #viewer {
      cursor: grab !important;
      user-select: none !important;
    }
    .hide-panels #viewer {
      top: 0;
      padding-top: 50px;
      transition: padding-top 0.25s ease-in 0.2s, top 0.25s ease-in 0.2s;
    }      
    .hide-panels.mobile #viewer,
    .hide-panels.hide-previewer #viewer {
      top: 0;
      padding-top: 50px;
      left: 0;
      transition: padding-top 0.25s ease-in 0.2s, top 0.25s ease-in 0.2s, left 0.25s ease-in;
    }   
    .mobile #viewer,
    .hide-previewer #viewer {
      top: 50px;
      padding-top: 0px;
      left: 0;
      transition: padding-top 0.25s ease-out 0.1s, top 0.25s ease-out 0.1s, left 0.25s ease-in;
    }
    
    #annotation-overlay-container {
      position: absolute;
      top: 0; 
      right: 0;
      bottom: 0;
      left: 0; 
      margin-top: 0;
      transition: margin-top 0.25s ease-out 0.1s;
      z-index: 3;
    }
    .hide-panels #annotation-overlay-container {
      margin-top: 50px;
      transition: margin-top 0.25s ease-in 0.2s;
    }
    .mode-text-markup #annotation-overlay-container {
      pointer-events: none;
    }
    
    #annotation-overlay {
      position: absolute;
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      touch-action: none;
    }
  
    .page-container {    
      position: relative;
      display: flex;
      flex-grow: 0;
      flex-shrink: 0;
      background-color: white;
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
    }
    .page {    
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;    
      transform-origin: left top;
    }
    .page-preview {   
      cursor: pointer; 
      position: relative;
      display: flex;
      flex-grow: 0;
      flex-shrink: 0;
      margin: 0 auto;
      background-color: white;
      background-clip: content-box;
      border-style: solid;
      border-width: 10px 10px 20px 10px;
      border-color: transparent;
    }
    .page-preview:hover,
    .page-preview.current {
      border-color: var(--${A}-color-accent-final);
    }
    .page-preview::after {
      display: inline-block;
      position: absolute;
      top: calc(100% + 3px);
      width: 100%;
      text-align: center;
      font-family: sans-serif;
      font-size: 14px;
      line-height: 1;
      color: var(--${A}-color-fg-primary-final);
      content: attr(data-page-number) " ";
    }
  
    .page-canvas {
      background-color: white;
    } 
  
    .page-annotations {
      width: 0;
      height: 0;
    }
    .mode-text-markup .page-annotations,
    .mode-text .page-annotations,
    .mode-hand .page-annotations {
      pointer-events: none;
    }
    .page-annotations-controls,
    .annotation-content,
    .annotation-content-element {    
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }
    .page-annotations-controls {
      z-index: 2;
    }
    .annotation-content {
      pointer-events: none;
    }
  
    .abs-full-size-overlay {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: var(--${A}-color-secondary-tr-final);
      touch-action: none;
    }
    
    .fixed-full-size-overlay {
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: var(--${A}-color-secondary-tr-final);
    }
    
    .text-dialog {
      z-index: 9;
    }
    .text-dialog .form {
      box-sizing: border-box;
      position: absolute;
      display: flex;
      flex-direction: column;
      justify-content: stretch;
      align-items: stretch;
      flex-grow: 0;
      flex-shrink: 0;
      left: calc(50% - 160px);
      top: calc(50% - 120px);
      width: 320px;
      height: 240px;
      padding: 5px;
      background: var(--${A}-color-primary-tr-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
    }
    .text-dialog textarea {
      height: 100%;
      margin: 0 0 5px 0;
      padding: 5px;
      font-size: 14px;
      resize: none;
      outline: none;
      border: none;
      color: var(--${A}-color-fg-primary-final);
      background-color: var(--${A}-color-primary-final);
    }
    .text-dialog textarea::placeholder {
      font-size: 14px;
      font-style: italic;
      color: var(--${A}-color-fg-primary-final);
    }
    .text-dialog .buttons {
      display: flex;
      flex-direction: row;
      justify-content: flex-end;
      align-items: center;
      flex-grow: 1;
      flex-shrink: 1;
    } 
    
    .stamp-dialog {
      z-index: 9;
    }
    .stamp-dialog .form {
      position: absolute;
      display: flex;
      flex-direction: column;
      justify-content: stretch;
      align-items: stretch;
      flex-grow: 0;
      flex-shrink: 0;
      left: 50%;
      top: 50%;
      width: 100%;
      height: 100%;
      max-width: 720px;
      max-height: 720px;
      background: var(--${A}-color-primary-tr-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
      transform-origin: center;
      transform: translate(-50%, -50%)
    }
    .stamp-dialog .buttons {
      display: flex;
      flex-direction: row;
      justify-content: flex-end;
      align-items: center;
      height: 40px;
    } 
    .stamp-dialog .form-canvas-wrapper {
      position: relative;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      margin: 20px;
      flex-grow: 1;
      flex-shrink: 1;
    } 
    .stamp-dialog input {
      width: 100%;
      margin: 10px;
      padding: 5px;
      font-size: 16px;
      outline: none;
      border: none;
      color: var(--${A}-color-fg-primary-final);
      background-color: var(--${A}-color-primary-final);
    }
    .stamp-dialog input::placeholder {
      font-size: 14px;
      font-style: italic;
      color: var(--${A}-color-fg-primary-final);
    }
    .stamp-input-row {    
      display: flex;
      flex-direction: row;
      justify-content: stretch;
      align-items: center;
      height: 30px;
      margin: 10px;
    }
    .stamp-input-row p {
      user-select: none;
      margin: 0;   
      padding: 0 10px;
      font-family: sans-serif; 
      font-size: 16px;
      white-space: nowrap;
      color: var(--${A}-color-fg-secondary-final);
    }
    
    .abs-ratio-canvas {
      outline: 0;
      position: absolute;
      width: 100%;
      height: auto;
      max-height: 100%;
      border: 2px solid var(--${A}-color-fg-secondary-final);
    }
  
    .annotation-temp-copy {
      opacity: 0.2;
    }  
    .annotation-controls {
      cursor: pointer;
    }     
    .annotation-out-of-page {
      cursor: not-allowed;
    }
    .annotation-rect,
    .annotation-bbox {
      fill: none;
    }
    .mode-annotation .annotation-controls.selected {
      cursor: grab;
    } 
    .mode-annotation .annotation-controls.selected .annotation-rect {
      vector-effect: non-scaling-stroke;
      stroke: rgba(80, 80, 80, 0.5);
      stroke-dasharray: 3 3;
    }
    .mode-annotation .annotation-controls.selected .annotation-bbox {
      vector-effect: non-scaling-stroke;
      stroke: rgba(80, 80, 80, 1);
      stroke-dasharray: 3 3;
    }   
    .mode-annotation .annotation-controls.focused .annotation-bbox {
      vector-effect: non-scaling-stroke;
      stroke: rgba(255, 165, 0, 1);
      stroke-dasharray: 3 0;
    } 
    .mode-annotation .annotation-controls.selected .annotation-handle {
      stroke-width: 16;
      stroke-linecap: round;
      vector-effect: non-scaling-stroke;
      cursor: pointer;
    }
    .mode-annotation .annotation-controls.selected .annotation-handle.helper {
      stroke-width: 12;
      stroke: rgba(200, 200, 50, 0.75);
    }
    .mode-annotation .annotation-controls.selected .annotation-handle.scale {
      stroke: rgba(0, 0, 0, 0.75);
    }
    .mode-annotation .annotation-controls.selected .annotation-handle.rotation {
      stroke: rgba(50, 100, 50, 0.75);
    }
    .mode-annotation .annotation-controls.selected .annotation-handle.translation {
      stroke: rgba(100, 100, 200, 0.75);
    }
    .mode-annotation .annotation-controls.selected .annotation-rotator {
      fill: none;
      cursor: pointer;
      vector-effect: non-scaling-stroke;
    }
    .mode-annotation .annotation-controls.selected .annotation-rotator .circle {
      r: 25;
    }
    .mode-annotation .annotation-controls.selected .annotation-rotator .dashed {
      stroke: rgba(80, 80, 80, 1);
      stroke-dasharray: 3 3;
    }
  
    #context-menu {
      box-sizing: border-box;
      position: absolute;
      z-index: 5;
      min-width: 50px;
      min-height: 50px;
      max-height: 300px;
      padding: 5px;
      background: var(--${A}-color-secondary-tr-final);
      box-shadow: 0 0 10px var(--${A}-color-shadow-final);
      display: flex;
      flex-direction: column;
      justify-content: stretch;
      align-items: stretch;
      overflow-y: auto;
    }
    .context-menu-content {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-grow: 1;
      flex-shrink: 0;
    }
    .context-menu-content.row {
      flex-direction: row;
    }
    .context-menu-content.column {
      flex-direction: column;
    }
    .context-menu-color-icon {
      width: 20px;
      height: 20px;
      border-radius: 12px;
      border-width: 2px;
      border-style: solid;
      border-color: var(--${A}-color-fg-secondary-final);
    }
    .context-menu-stamp-select-button {
      box-sizing: border-box;
      cursor: pointer;
      user-select: none;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      width: 100%;
      height: 36px;
      padding: 0 5px;
      border-radius: 5px;
      font-family: sans-serif;
      font-size: 16px;
      color: var(--${A}-color-fg-primary-final); 
    }
    .context-menu-stamp-select-button:hover,
    .context-menu-stamp-select-button.on {
      background-color: var(--${A}-color-accent-final);
    }
    .context-menu-slider {
      -webkit-appearance: none;
      appearance: none;
      outline: none;
      margin: 10px;
      height: 5px;
      border-radius: 5px;
      cursor: pointer;
      background-color: var(--${A}-color-fg-secondary-final);
    }
    .context-menu-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      outline: none;
      width: 20px;
      height: 20px;
      border-radius: 10px;
      cursor: pointer;
      background-color: var(--${A}-color-accent-final);
    }
    .context-menu-slider::-moz-range-thumb {
      outline: none; 
      width: 20px;
      height: 20px;
      border-radius: 10px;
      cursor: pointer;
      background-color: var(--${A}-color-accent-final);
    }
  
    #button-open-file {
      pointer-events: auto !important;
    }
    .disabled #button-open-file img {
      filter: invert() opacity(0.7) drop-shadow(0 0 0 var(--${A}-color-fg-primary-final)) saturate(1000%);
    }
  
    .spinner {
      position: absolute;
      left: calc(50% - 30px);
      top: calc(50% - 30px);
      width: 60px;
      height: 60px;
    }
    .spinner div {   
      position: absolute; 
      width: 20px;
      height: 20px;
      margin: 5px;
      border-radius: 5px;
      animation-duration: 3s;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }
    .spinner div:nth-child(1) {
      animation-name: spinnerone;
      background-color: var(--${A}-color-accent-final);
    }
    .spinner div:nth-child(2) {
      animation-name: spinnertwo;
      background-color: var(--${A}-color-fg-primary-final);  
    }
    .spinner div:nth-child(3) {  
      animation-name: spinnerthree;
      background-color: var(--${A}-color-fg-secondary-final);  
    }
  
    @keyframes spinnerone {
      from {
        left: 0;
        top: 0;
      }
      8.3% {
        left: 0;
        top: 0;
      }
      16.7% {
        left: 0;
        top: 0;
      }
      25% { 
        left: 30px;
        top: 0px; 
      }
      33.3% {
        left: 30px;
        top: 0px;        
      }
      41.7% {
        left: 30px;
        top: 0px;        
      }
      50% {
        left: 30px;
        top: 30px;         
      }
      58.3% {
        left: 30px;
        top: 30px;       
      }
      66.7% {      
        left: 30px;
        top: 30px;   
      }
      75% {
        left: 0;
        top: 30px;
      }
      83.3% {
        left: 0;
        top: 30px;
      }
      91.7% {
        left: 0;
        top: 30px;
      }
      to {   
        left: 0;
        top: 0;   
      }
    }
    @keyframes spinnertwo {
      from {
        left: 30px;
        top: 0px;
      }
      8.3% {
        left: 30px;
        top: 0px;
      }
      16.7% {
        left: 30px;
        top: 30px;
      }
      25% { 
        left: 30px;
        top: 30px;
      }
      33.3% {
        left: 30px;
        top: 30px;
      }
      41.7% {
        left: 0;
        top: 30px;
      }
      50% {
        left: 0;
        top: 30px;
      }
      58.3% {
        left: 0;
        top: 30px;
      }
      66.7% {
        left: 0;
        top: 0;
      }
      75% {
        left: 0;
        top: 0;
      }
      83.3% {
        left: 0;
        top: 0;
      }
      91.7% {
        left: 30px;
        top: 0px;
      }
      to {
        left: 30px;
        top: 0px;
      }
    }
    @keyframes spinnerthree {
      from {
        left: 30px;
        top: 30px;
      }
      8.3% {
        left: 0;
        top: 30px;
      }
      16.7% {
        left: 0;
        top: 30px;
      }
      25% { 
        left: 0;
        top: 30px;
      }
      33.3% {
        left: 0;
        top: 0;
      }
      41.7% {
        left: 0;
        top: 0;
      }
      50% {
        left: 0;
        top: 0;
      }
      58.3% {
        left: 30px;
        top: 0; 
      }
      66.7% {
        left: 30px;
        top: 0;
      }
      75% {
        left: 30px;
        top: 0;
      }
      83.3% {
        left: 30px;
        top: 30px;
      }
      91.7% {
        left: 30px;
        top: 30px;
      }
      to {
        left: 30px;
        top: 30px; 
      }
    }
  `}class ByteUtils{static parseIntFromBytes(e){if(!e?.length)return 0;if(e.length===1)return e[0];const r=Array.from(e,a=>("0"+(a&255).toString(16)).slice(-2)).join("");return parseInt(r,16)}static int8ToBytes(e){const r=new ArrayBuffer(1);return new DataView(r).setInt8(0,e),new Uint8Array(r)}static int16ToBytes(e,r=!1){const a=new ArrayBuffer(2);return new DataView(a).setInt16(0,e,r),new Uint8Array(a)}static int32ToBytes(e,r=!1){const a=new ArrayBuffer(4);return new DataView(a).setInt32(0,e,r),new Uint8Array(a)}static int32ArrayToBytes(e,r=!1){const a=new ArrayBuffer(e.length*4),c=new DataView(a);for(let o=0;o<e.length;o++)c.setInt32(o*4,e[o],r);return new Uint8Array(a)}static bytesToInt32Array(e,r=!1){if(!e?.length)return null;const a=new ArrayBuffer(Math.ceil(e.length/4)*4),c=new DataView(a);for(let f=0;f<e.length;f++)c.setUint8(f,e[f]);const o=new Int32Array(a.byteLength/4);for(let f=0;f<o.length;f++)o[f]=c.getInt32(f*4,r);return o}static xorBytes(e,r){const a=new Uint8Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]^r;return a}static arraysEqual(e,r){if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==r[a])return!1;return!0}static findSubarrayIndex(e,r){if(e?.length&&r?.length){let a;e:for(let c=0;c<=e.length;c++){let o=!1;for(a=0;a<r.length;a++)if(c+a<e.length){if(e[c+a]!==r[a])continue e;o=!0}else{if(o)return c;break e}}}return-1}static hexStringToBytes(e){const r=new Uint8Array(e.length/2);for(let a=0,c=0;a<e.length;a+=2,c++)r[c]=parseInt(e.substr(a,2),16);return r}static getBit(e,r){return e&1<<r?1:0}static setBit(e,r){return e|1<<r}static clearBit(e,r){const a=~(1<<r);return e&a}static updateBit(e,r,a){const c=a?1:0,o=~(1<<r);return e&o|c<<r}}class ContextMenu{constructor(){this.onPointerDownOutside=e=>{if(!this._shown)return;e.composedPath()[0].closest("#context-menu")||this.hide()},this._container=document.createElement("div"),this._container.id="context-menu",this.hide(),document.addEventListener("pointerdown",this.onPointerDownOutside)}set content(e){var r;(r=this._content)===null||r===void 0||r.forEach(a=>a.remove()),e?.length?(e.forEach(a=>this._container.append(a)),this._content=e):this._content=null}get enabled(){return this._enabled}set enabled(e){this._enabled=!!e}destroy(){this.clear(),document.removeEventListener("pointerdown",this.onPointerDownOutside)}show(e,r){r.append(this._container),this._shown=!0,setTimeout(()=>{this.setContextMenuPosition(e,r),this._container.style.opacity="1"},0)}hide(){this._container.style.opacity="0",this._container.remove(),this._shown=!1}clear(){this.hide(),this.content=null}setContextMenuPosition(e,r){const a=new u(this._container.offsetWidth,this._container.offsetHeight),c=new u,o=r.getBoundingClientRect(),f=new u(e.x-o.x,e.y-o.y);f.x+a.x>o.width+o.x?c.x=f.x-a.x:c.x=f.x,f.y+a.y>o.height+o.y?c.y=f.y-a.y:c.y=f.y,this._container.style.left=c.x+r.scrollLeft+"px",this._container.style.top=c.y+r.scrollTop+"px"}}class SmoothPath{constructor(e){this._paths=[],this._positionBuffer=[],this._bufferSize=e?.bufferSize||SmoothPath._defaultBufferSize,this._id=e?.id,this._uuid=e?.uuid}get id(){return this._id}get uuid(){return this._uuid}get bufferSize(){return this._bufferSize}get paths(){return this._paths.slice()}get pathCount(){return this._paths.length}endPath(){this._currentPath&&this._currentPath.positions.length>1&&this._paths.push(this._currentPath),this._positionBuffer=null,this._currentPath=null,this._currentPathString=null}addPosition(e){this.appendPositionToBuffer(e),this.updateCurrentPath()}appendPositionToBuffer(e){const r=this._positionBuffer;r.push(e),this._positionBuffer=r.slice(Math.max(0,r.length-this._bufferSize),r.length)}getAverageBufferPosition(e){const r=this._positionBuffer.length;if(r>=this._bufferSize){let a=0,c=0,o,f,s=0;for(f=e;f<r;f++)s++,o=this._positionBuffer[f],a+=o.x,c+=o.y;return new u(a/s,c/s)}return null}updateCurrentPath(){let e=this.getAverageBufferPosition(0);if(!e)return null;this._currentPathString+=" L"+e.x+" "+e.y,this._currentPath.positions.push(e);let r="";for(let a=2;a<this._positionBuffer.length;a+=2)e=this.getAverageBufferPosition(a),r+=" L"+e.x+" "+e.y;return r}}SmoothPath._defaultBufferSize=8;class CanvasSmoothPathEditor extends SmoothPath{constructor(e,r){if(super(r),this._strokeWidth=CanvasSmoothPathEditor._defaultStrokeWidth,this._color=CanvasSmoothPathEditor._colors[0],this._paths=[],this.onContextMenu=a=>{this._contextMenu.enabled&&(a.preventDefault(),this._contextMenu.show(new u(a.clientX,a.clientY),this._container))},this.onPointerDown=a=>{if(!a.isPrimary||a.button===2)return;const{clientX:c,clientY:o}=a,[f,s]=this.convertClientCoordsToCanvas(c,o);this.newPath(new u(f,s));const g=a.target;g.addEventListener("pointermove",this.onPointerMove),g.addEventListener("pointerup",this.onPointerUp),g.addEventListener("pointerout",this.onPointerUp),g.setPointerCapture(a.pointerId)},this.onPointerMove=a=>{if(!a.isPrimary)return;const{clientX:c,clientY:o}=a,[f,s]=this.convertClientCoordsToCanvas(c,o);this.addPosition(new u(f,s)),this.refreshEditor()},this.onPointerUp=a=>{if(!a.isPrimary)return;const c=a.target;c.removeEventListener("pointermove",this.onPointerMove),c.removeEventListener("pointerup",this.onPointerUp),c.removeEventListener("pointerout",this.onPointerUp),c.releasePointerCapture(a.pointerId),this.endPath(),this.refreshEditor()},!e)throw new Error("Container is not defined");if(!r?.canvasWidth||!r.canvasHeight)throw new Error("Canvas dimensions is not defined");this._container=e,this._canvas=document.createElement("canvas"),this._canvas.classList.add("abs-ratio-canvas"),this._canvas.width=r.canvasWidth,this._canvas.height=r.canvasHeight,this._canvas.addEventListener("pointerdown",this.onPointerDown),this._contextMenu=new ContextMenu,this.fillContextMenu(),this._container.append(this._canvas),this._container.addEventListener("contextmenu",this.onContextMenu)}get canvas(){return this._canvas}get ctx(){return this._canvas.getContext("2d")}get canvasSize(){return[this._canvas.width,this._canvas.height]}set canvasSize(e){if(!e)return;const[r,a]=e;!r||!a||r===this._canvas.width&&a===this._canvas.height||(this._canvas.width=r,this._canvas.height=a,this.refreshEditor())}get paths(){return this._paths.slice()}destroy(){this._canvas.remove(),this._container.removeEventListener("contextmenu",this.onContextMenu),this._contextMenu.destroy()}getImageData(){return this.refreshEditor(),this.ctx.getImageData(0,0,this._canvas.width,this._canvas.height).data}newPath(e){const r="M"+e.x+" "+e.y,a=new Path2D(r);this._positionBuffer=[e],this._currentPath={strokeWidth:this._strokeWidth,color:this._color,path:a,positions:[new u(e.x,e.y)]},this._currentPathString=r}removePath(e){e&&(this._paths=this._paths.filter(r=>r.path!==e),this.refreshEditor())}removeLastPath(){this._paths.pop(),this.refreshEditor()}removeAllPaths(){this._paths.length=0,this.refreshEditor()}updateCurrentPath(){const e=super.updateCurrentPath();return e&&(this._currentPath.path=new Path2D(this._currentPathString+e)),e}refreshEditor(){this.drawPaths(),this.fillContextMenu()}drawPaths(){this.ctx.clearRect(0,0,this._canvas.width,this._canvas.height),(this._currentPath?[...this._paths,this._currentPath]:this._paths).forEach(e=>{const[r,a,c,o]=e.color;this.ctx.strokeStyle=`rgba(${r*255},${a*255},${c*255},${o})`,this.ctx.lineWidth=e.strokeWidth,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.stroke(e.path)})}convertClientCoordsToCanvas(e,r){const{top:a,left:c,width:o,height:f}=this._canvas.getBoundingClientRect(),s=o/this._canvas.width,g=f/this._canvas.height,m=(e-c)/s,p=(r-a)/g;return[m,p]}fillContextMenu(){const e=[this.buildColorPicker(),this.buildWidthSliderWithButtons()];this._contextMenu.content=e,this._contextMenu.enabled=!0}buildColorPicker(){const e=document.createElement("div");return e.classList.add("context-menu-content","row"),CanvasSmoothPathEditor._colors.forEach(r=>{const a=document.createElement("div");a.classList.add("panel-button"),r===this._color&&a.classList.add("on"),a.addEventListener("click",()=>{this._color=r,this.fillContextMenu()});const c=document.createElement("div");c.classList.add("context-menu-color-icon"),c.style.backgroundColor=`rgb(${r[0]*255},${r[1]*255},${r[2]*255})`,a.append(c),e.append(a)}),e}buildWidthSliderWithButtons(){const e=document.createElement("div");e.classList.add("context-menu-content","row");const r=document.createElement("div");r.classList.add("panel-button"),this.pathCount?r.addEventListener("click",()=>{this.removeLastPath()}):r.classList.add("disabled"),r.innerHTML=`<img src="${Icons.icon_back}"/>`,e.append(r);const a=document.createElement("div");a.classList.add("panel-button"),this.pathCount?a.addEventListener("click",()=>{this.removeAllPaths()}):a.classList.add("disabled"),a.innerHTML=`<img src="${Icons.icon_close}"/>`,e.append(a);const c=document.createElement("input");return c.setAttribute("type","range"),c.setAttribute("min","1"),c.setAttribute("max","32"),c.setAttribute("step","1"),c.setAttribute("value",this._strokeWidth+""),c.classList.add("context-menu-slider"),c.addEventListener("change",()=>{this._strokeWidth=c.valueAsNumber}),e.append(c),e}}CanvasSmoothPathEditor._defaultStrokeWidth=3;CanvasSmoothPathEditor._colors=[[0,0,0,1],[.804,0,0,1],[0,.804,0,1],[0,0,.804,1],[1,.5,0,1],[1,.2,1,1]];var __awaiter$1$1=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class DomUtils{static htmlToElements(e){const r=document.createElement("template");r.innerHTML=e;const a=[];return r.content.childNodes.forEach(c=>{c instanceof HTMLElement&&a.push(c)}),a}static promisify(e){return __awaiter$1$1(this,void 0,void 0,function*(){return new Promise(r=>{setTimeout(()=>{const a=e();r(a)},0)})})}static runEmptyTimeout(){return __awaiter$1$1(this,void 0,void 0,function*(){yield this.promisify(()=>{})})}static downloadFile(e,r){const a=URL.createObjectURL(e),c=document.createElement("a");c.setAttribute("download",r),c.href=a,document.body.appendChild(c),c.click(),c.remove(),setTimeout(()=>URL.revokeObjectURL(a),1e4)}static loadImageAsync(e,r=!1){return __awaiter$1$1(this,void 0,void 0,function*(){return yield new Promise((c,o)=>{const f=new Image;f.onerror=(s,g)=>{r&&URL.revokeObjectURL(e),console.log(`Error while loading image: ${g?.message||s.toString()}`),c(null)},f.onload=()=>{r&&URL.revokeObjectURL(e),c(f)},f.src=e})})}static loadFileDataAsync(e){return __awaiter$1$1(this,void 0,void 0,function*(){let r;if(e instanceof Uint8Array)r=e;else{let a;if(typeof e=="string"){const o=yield fetch(e);if(!o.ok)throw new Error(`${o.status}: ${o.statusText}`);a=yield o.blob()}else a=e;const c=yield a.arrayBuffer();r=new Uint8Array(c)}return r})}}class Spinner{constructor(){this._spinnerElement=DomUtils.htmlToElements(Spinner.spinnerHtml)[0]}show(e,r=8){this._isShown||!e||(this._spinnerElement.style.zIndex=r+"",this._spinnerElement.style.top=e.scrollTop+"px",this._spinnerElement.style.left=e.scrollLeft+"px",e.append(this._spinnerElement),this._isShown=!0)}hide(){this._spinnerElement.remove(),this._isShown=!1}}Spinner.spinnerHtml=`
  <div class="abs-full-size-overlay">
    <div class="spinner">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
  `;class CloudCurveData{static buildFromPolyline(e,r){if(!e||e.length<2)return null;if(isNaN(r)||r<=0)throw new Error(`Invalid maximal arc size ${r}`);const a=e[0].clone().truncate(2),c=[],o=new u,f=new u;let s,g,m,p,t,b,C,w,v,M;for(s=0;s<e.length-1;s++){if(m=e[s],p=e[s+1],t=u.subtract(p,m).getMagnitude(),!t)continue;f.set(t,0);const y=l.from4Vec2(o,f,m,p);for(b=Math.ceil(t/r),C=t/b,w=C/2,g=0;g<b;g++){v=g*C,M=(g+1)*C;const I=[new u(v,-w).applyMat3(y).truncate(2),new u(M,-w).applyMat3(y).truncate(2),new u(M,0).applyMat3(y).truncate(2)];c.push(I)}}return{start:a,curves:c}}static buildFromEllipse(e,r,a,c){c||(c=new l);const o=new u,f=Math.PI*(3*(e+r)-Math.sqrt((3*e+r)*(e+3*r))),s=Math.ceil(f/a/4)*4,g=Math.ceil(f/s),m=[],p=new u(o.x+e,o.y),t=new u;let b=0,C;m.push(p.clone().applyMat3(c).truncate(2));for(let v=0;v<s;v++){for(C=0;C<g;)b+=.25/180*Math.PI,t.set(e*Math.cos(b)+o.x,r*Math.sin(b)+o.y),C+=h(p.x,p.y,t.x,t.y),p.setFromVec2(t);m.push(p.clone().applyMat3(c).truncate(2))}return this.buildFromPolyline(m,a)}}class SvgSmoothPath extends SmoothPath{constructor(e){super(e),this._paths=[],this._strokeWidth=e?.strokeWidth||SvgSmoothPath._defaultStrokeWidth,this._color=e?.color||SvgSmoothPath._defaultColor,this._group=document.createElementNS("http://www.w3.org/2000/svg","g")}get strokeWidth(){return this._strokeWidth}get color(){return this._color}get group(){return this._group}get paths(){return this._paths.slice()}newPath(e){const[r,a,c,o]=this._color||[0,0,0,1],f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("fill","none"),f.setAttribute("stroke",`rgba(${r*255},${a*255},${c*255},${o})`),f.setAttribute("stroke-width",this._strokeWidth+""),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round");const s="M"+e.x+" "+e.y;f.setAttribute("d",s),this._positionBuffer=[e],this._currentPath={path:f,positions:[new u(e.x,e.y)]},this._currentPathString=s,this._group.append(f)}removePath(e){e&&(e.remove(),this._paths=this._paths.filter(r=>r.path!==e))}removeLastPath(){const e=this._paths.pop();e?.path.remove()}updateCurrentPath(){const e=super.updateCurrentPath();return e&&this._currentPath.path.setAttribute("d",this._currentPathString+e),e}}SvgSmoothPath._defaultStrokeWidth=3;SvgSmoothPath._defaultColor=[0,0,0,.8];class SvgTempPath{constructor(){this._path=document.createElementNS("http://www.w3.org/2000/svg","path")}get path(){return this._path}set(e,r,a,c,o=!1){let f="";if(c?.length>1){f+=`M${c[0].x},${c[0].y} `;for(let s=1;s<c.length;s++)f+=`L${c[s].x},${c[s].y} `;o&&(f+="Z")}this._path.classList.add("annotation-temp-copy"),this._path.setAttribute("d",f),this._path.style.fill=e,this._path.style.stroke=r,this._path.style.strokeWidth=a+""}insertAfter(e){e.after(this._path)}remove(){this._path.setAttribute("d",""),this._path.remove()}}class EventService{constructor(e){if(this._eventMap=new Map,!e)throw new Error("Container is not defined");const r=document.createElement("div");r.style.position="absolute",r.style.width="0",r.style.height="0",r.style.zIndex="-1000",e.append(r),this._element=r}get element(){return this._element}destroy(){this.removeAllListeners(),this._element.remove(),this._element=null}addListener(e,r,a){this._element&&(this._element.addEventListener(e,r,a),this._eventMap.has(e)?this._eventMap.get(e).add(r):this._eventMap.set(e,new Set().add(r)))}removeListener(e,r){this._element&&(this._element.removeEventListener(e,r),this._eventMap.has(e)&&this._eventMap.get(e).delete(r))}removeAllListenersForKey(e){this._element&&this._eventMap.has(e)&&(this._eventMap.get(e).forEach(a=>this._element.removeEventListener(e,a)),this._eventMap.delete(e))}removeAllListeners(){this._element&&(this._eventMap.forEach((e,r)=>{e.forEach(a=>this._element.removeEventListener(r,a))}),this._eventMap.clear())}getListenersByKey(e){const r=this._eventMap.get(e);return r?[...r]:[]}hasListenersForKey(e){const r=this._eventMap.get(e);return!!r?.size}dispatchEvent(e){this._element&&this.hasListenersForKey(e.type)&&this._element.dispatchEvent(e)}}class LinkedListNode{constructor(e){this.data=e}}class LinkedList{constructor(e){this._length=0,e&&this.push(e)}get head(){return this._head.data}get length(){return this._length}get tail(){return this.get(this._length-1)}push(e){const r=new LinkedListNode(e);let a;if(!this._head)this._head=r;else{for(a=this._head;a.next;)a=a.next;a.next=r}this._length++}insert(e,r){if(r<0||r>this._length-1)return null;const a=new LinkedListNode(e);let c,o=this._head,f=0;if(!r)this._head=a;else{for(;f++<r;)c=o,o=o.next;c.next=a}return a.next=o,this._length++,a.data}replace(e,r){if(r<0||r>this._length-1)return null;const a=new LinkedListNode(e);let c,o=this._head,f=0;if(!r)this._head=a;else{for(;f++<r;)c=o,o=o.next;c.next=a}return a.next=o.next,o.data}remove(e){if(e<0||e>this._length-1)return null;let r,a=this._head,c=0;if(!e)this._head=a.next;else{for(;c++<e;)r=a,a=a.next;r.next=a.next}return this._length--,a.data}clear(){this._head=null,this._length=0}get(e){if(e<0||e>this._length-1)return null;let r=this._head,a=0;for(;a++<e;)r=r.next;return r.data}pop(){return this.remove(this._length-1)}has(e,r){if(!this._length)return!1;r||(r=(o,f)=>o===f);let a=this._head,c=0;for(;c<this._length;){if(r(e,a.data))return!0;a=a.next,c++}return!1}findIndex(e,r){if(!this._length)return-1;r||(r=(o,f)=>o===f);let a=this._head,c=0;for(;c<this._length;){if(r(e,a.data))return c;a=a.next,c++}return-1}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.data,e=e.next}}class UUID{static getRandomUuid(){return v4()}}var __awaiter$1n=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};const stampImageLoaderHtml=`
  <div class="abs-full-size-overlay stamp-dialog">
    <div class="form">
      <div class="form-canvas-wrapper">
        <canvas class="abs-ratio-canvas"></canvas>
      </div>
      <div class="stamp-input-row">
        <p>Stamp name:</p>
        <input class="stamp-name-input" type="text" maxlength="128"/>
      </div>
      <div class="stamp-input-row">
        <p>Stamp description:</p>
        <input class="stamp-subject-input" type="text" maxlength="256"/>
      </div>
      <div class="stamp-input-row">
        <p>Width:</p>
        <input class="stamp-width-input" type="text" maxlength="4"/>
        <p>Height:</p>
        <input class="stamp-height-input" type="text" maxlength="4"/>
      </div>
      <div class="buttons">
        <div class="panel-button stamp-ok">
          <img src="${Icons.icon_ok}"/>
        </div>
        <div class="panel-button stamp-cancel">
          <img src="${Icons.icon_close}"/>
        </div>
      </div>
    </div>
  </div>
`,stampDesignerHtml=`
  <div class="abs-full-size-overlay stamp-dialog">
    <div class="form">
      <div class="form-canvas-wrapper">
      </div>
      <div class="stamp-input-row">
        <p>Stamp name:</p>
        <input class="stamp-name-input" type="text" maxlength="128"/>
      </div>
      <div class="stamp-input-row">
        <p>Stamp description:</p>
        <input class="stamp-subject-input" type="text" maxlength="256"/>
      </div>
      <div class="stamp-input-row">
        <p>Width:</p>
        <input class="stamp-width-input" type="text" maxlength="4"/>
        <p>Height:</p>
        <input class="stamp-height-input" type="text" maxlength="4"/>
      </div>
      <div class="buttons">
        <div class="panel-button stamp-ok">
          <img src="${Icons.icon_ok}"/>
        </div>
        <div class="panel-button stamp-cancel">
          <img src="${Icons.icon_close}"/>
        </div>
      </div>
    </div>
  </div>
`,customStampEvent="tsviewer-customstampchange";class CustomStampEvent extends CustomEvent{constructor(e){super(customStampEvent,{detail:e})}}class CustomStampService{constructor(e,r){if(this._customStampsByType=new Map,this._spinner=new Spinner,this.onFileInput=()=>{const c=this._fileInput.files;c.length!==0&&(this.openImageLoaderOverlayAsync(c[0]),this._fileInput.value=null)},!e)throw new Error("Container is not defined");if(!r)throw new Error("Event service is not defined");this._container=e,this._eventService=r;const a=document.createElement("input");a.type="file",a.accept="image/*",a.classList.add("abs-hidden"),this._fileInput=a,this._fileInput.addEventListener("change",this.onFileInput),this._container.append(this._fileInput)}destroy(){var e;this._fileInput.remove(),this._spinner.hide(),(e=this._overlay)===null||e===void 0||e.remove()}importCustomStamps(e){e?.length&&e.forEach(r=>{this._customStampsByType.set(r.type,r)})}getCustomStamps(){return[...this._customStampsByType.values()]}addCustomStamp(e){this._customStampsByType.set(e.type,e),this._eventService.dispatchEvent(new CustomStampEvent({type:"add",stamp:e}))}removeCustomStamp(e){const r=this._customStampsByType.get(e);r&&(this._customStampsByType.delete(e),this._eventService.dispatchEvent(new CustomStampEvent({type:"delete",stamp:r})))}startLoadingImage(){this._fileInput.click()}startDrawing(){this.openDesignerOverlayAsync()}openImageLoaderOverlayAsync(e){return __awaiter$1n(this,void 0,void 0,function*(){this._spinner.show(this._container,10);const r=new Promise((V,R)=>{const U=URL.createObjectURL(e),te=new Image;te.onload=()=>{URL.revokeObjectURL(U),V(te)},te.onerror=B=>{console.log(B),R()},te.src=U});let a;try{a=yield r}catch{this._spinner.hide();return}const c=a.width,o=a.height,f=a.width/a.height,s=DomUtils.htmlToElements(stampImageLoaderHtml)[0],g=s.querySelector("canvas"),m=s.querySelector(".stamp-cancel"),p=s.querySelector(".stamp-ok"),t=s.querySelector(".stamp-name-input"),b=s.querySelector(".stamp-subject-input"),C=s.querySelector(".stamp-width-input"),w=s.querySelector(".stamp-height-input");let v="Custom stamp",M="image stamp",y=64,I=+(64/f).toFixed();t.value=v,C.value=y+"",w.value=I+"",this._overlay=s,this._container.append(s),g.width=c,g.height=o;const P=g.getContext("2d");P.drawImage(a,0,0);const _=P.getImageData(0,0,a.width,a.height).data,k=()=>{!v||!I||isNaN(I)||!y||isNaN(y)?p.classList.add("disabled"):p.classList.remove("disabled")};t.addEventListener("input",()=>{v=t.value,k()}),b.addEventListener("input",()=>{M=b.value,k()}),C.addEventListener("input",()=>{var V;y=+((V=+C.value)===null||V===void 0?void 0:V.toFixed()),k()}),w.addEventListener("input",()=>{var V;I=+((V=+w.value)===null||V===void 0?void 0:V.toFixed()),k()});const D=()=>{s.remove(),this._overlay=null};m.addEventListener("click",D),p.addEventListener("click",()=>{const V=new Array(_.length);for(let U=0;U<_.length;U++)V[U]=_[U];const R={type:"/"+UUID.getRandomUuid(),name:v,subject:M,rect:[0,0,y,I],bbox:[0,0,c,o],imageData:V};this.addCustomStamp(R),D()}),this._spinner.hide()})}openDesignerOverlayAsync(){return __awaiter$1n(this,void 0,void 0,function*(){this._spinner.show(this._container,10);const e=DomUtils.htmlToElements(stampDesignerHtml)[0],r=e.querySelector(".form-canvas-wrapper"),a=e.querySelector(".stamp-cancel"),c=e.querySelector(".stamp-ok"),o=e.querySelector(".stamp-name-input"),f=e.querySelector(".stamp-subject-input"),s=e.querySelector(".stamp-width-input"),g=e.querySelector(".stamp-height-input");let m="Custom stamp",p="drawing stamp",t=64,b=64;o.value=m,s.value=t+"",g.value=b+"";const C=new CanvasSmoothPathEditor(r,{canvasWidth:t,canvasHeight:b});this._overlay=e,this._container.append(e);const w=()=>{C.canvasSize=[t,b]},v=()=>{!m||!b||isNaN(b)||!t||isNaN(t)?c.classList.add("disabled"):(w(),c.classList.remove("disabled"))};o.addEventListener("input",()=>{m=o.value,v()}),f.addEventListener("input",()=>{p=f.value,v()}),s.addEventListener("input",()=>{var y;t=+((y=+s.value)===null||y===void 0?void 0:y.toFixed()),v()}),g.addEventListener("input",()=>{var y;b=+((y=+g.value)===null||y===void 0?void 0:y.toFixed()),v()});const M=()=>{e.remove(),this._overlay=null};a.addEventListener("click",M),c.addEventListener("click",()=>{const y=C.getImageData(),I=new Array(y.length);for(let _=0;_<y.length;_++)I[_]=y[_];const P={type:"/"+UUID.getRandomUuid(),name:m,subject:p,rect:[0,0,t,b],bbox:[0,0,t,b],imageData:I};this.addCustomStamp(P),M()}),this._spinner.hide()})}}class HtmlTemplates{}HtmlTemplates.textDialogHtml=`
    <div class="abs-full-size-overlay text-dialog">
      <div class="form">
        <textarea class="text-input" maxlength="1024"></textarea>
        <div class="buttons">
          <div class="panel-button text-ok">
            <img src="${Icons.icon_ok}"/>
          </div>
          <div class="panel-button text-cancel">
            <img src="${Icons.icon_close}"/>
          </div>
        </div>
      </div>
    </div>
  `;HtmlTemplates.stampContextButtonsHtml=`
    <div class="context-menu-content row">
      <div class="panel-button stamp-load-image">
        <img src="${Icons.icon_load}"/>
      </div>
      <div class="panel-button stamp-draw-image">
        <img src="${Icons.icon_pen}"/>
      </div>
      <div class="panel-button stamp-delete disabled">
        <img src="${Icons.icon_delete}"/>
      </div>
    </div>
  `;/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(A){let e=A.length;for(;--e>=0;)A[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(A,e,r,a,c){this.static_tree=A,this.extra_bits=e,this.extra_base=r,this.elems=a,this.max_length=c,this.has_stree=A&&A.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(A,e){this.dyn_tree=A,this.max_code=0,this.stat_desc=e}const d_code=A=>A<256?_dist_code[A]:_dist_code[256+(A>>>7)],put_short=(A,e)=>{A.pending_buf[A.pending++]=e&255,A.pending_buf[A.pending++]=e>>>8&255},send_bits=(A,e,r)=>{A.bi_valid>Buf_size-r?(A.bi_buf|=e<<A.bi_valid&65535,put_short(A,A.bi_buf),A.bi_buf=e>>Buf_size-A.bi_valid,A.bi_valid+=r-Buf_size):(A.bi_buf|=e<<A.bi_valid&65535,A.bi_valid+=r)},send_code=(A,e,r)=>{send_bits(A,r[e*2],r[e*2+1])},bi_reverse=(A,e)=>{let r=0;do r|=A&1,A>>>=1,r<<=1;while(--e>0);return r>>>1},bi_flush=A=>{A.bi_valid===16?(put_short(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):A.bi_valid>=8&&(A.pending_buf[A.pending++]=A.bi_buf&255,A.bi_buf>>=8,A.bi_valid-=8)},gen_bitlen=(A,e)=>{const r=e.dyn_tree,a=e.max_code,c=e.stat_desc.static_tree,o=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,g=e.stat_desc.max_length;let m,p,t,b,C,w,v=0;for(b=0;b<=MAX_BITS$1;b++)A.bl_count[b]=0;for(r[A.heap[A.heap_max]*2+1]=0,m=A.heap_max+1;m<HEAP_SIZE$1;m++)p=A.heap[m],b=r[r[p*2+1]*2+1]+1,b>g&&(b=g,v++),r[p*2+1]=b,!(p>a)&&(A.bl_count[b]++,C=0,p>=s&&(C=f[p-s]),w=r[p*2],A.opt_len+=w*(b+C),o&&(A.static_len+=w*(c[p*2+1]+C)));if(v!==0){do{for(b=g-1;A.bl_count[b]===0;)b--;A.bl_count[b]--,A.bl_count[b+1]+=2,A.bl_count[g]--,v-=2}while(v>0);for(b=g;b!==0;b--)for(p=A.bl_count[b];p!==0;)t=A.heap[--m],!(t>a)&&(r[t*2+1]!==b&&(A.opt_len+=(b-r[t*2+1])*r[t*2],r[t*2+1]=b),p--)}},gen_codes=(A,e,r)=>{const a=new Array(MAX_BITS$1+1);let c=0,o,f;for(o=1;o<=MAX_BITS$1;o++)c=c+r[o-1]<<1,a[o]=c;for(f=0;f<=e;f++){let s=A[f*2+1];s!==0&&(A[f*2]=bi_reverse(a[s]++,s))}},tr_static_init=()=>{let A,e,r,a,c;const o=new Array(MAX_BITS$1+1);for(r=0,a=0;a<LENGTH_CODES$1-1;a++)for(base_length[a]=r,A=0;A<1<<extra_lbits[a];A++)_length_code[r++]=a;for(_length_code[r-1]=a,c=0,a=0;a<16;a++)for(base_dist[a]=c,A=0;A<1<<extra_dbits[a];A++)_dist_code[c++]=a;for(c>>=7;a<D_CODES$1;a++)for(base_dist[a]=c<<7,A=0;A<1<<extra_dbits[a]-7;A++)_dist_code[256+c++]=a;for(e=0;e<=MAX_BITS$1;e++)o[e]=0;for(A=0;A<=143;)static_ltree[A*2+1]=8,A++,o[8]++;for(;A<=255;)static_ltree[A*2+1]=9,A++,o[9]++;for(;A<=279;)static_ltree[A*2+1]=7,A++,o[7]++;for(;A<=287;)static_ltree[A*2+1]=8,A++,o[8]++;for(gen_codes(static_ltree,L_CODES$1+1,o),A=0;A<D_CODES$1;A++)static_dtree[A*2+1]=5,static_dtree[A*2]=bi_reverse(A,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=A=>{let e;for(e=0;e<L_CODES$1;e++)A.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)A.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)A.bl_tree[e*2]=0;A.dyn_ltree[END_BLOCK*2]=1,A.opt_len=A.static_len=0,A.sym_next=A.matches=0},bi_windup=A=>{A.bi_valid>8?put_short(A,A.bi_buf):A.bi_valid>0&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0},smaller=(A,e,r,a)=>{const c=e*2,o=r*2;return A[c]<A[o]||A[c]===A[o]&&a[e]<=a[r]},pqdownheap=(A,e,r)=>{const a=A.heap[r];let c=r<<1;for(;c<=A.heap_len&&(c<A.heap_len&&smaller(e,A.heap[c+1],A.heap[c],A.depth)&&c++,!smaller(e,a,A.heap[c],A.depth));)A.heap[r]=A.heap[c],r=c,c<<=1;A.heap[r]=a},compress_block=(A,e,r)=>{let a,c,o=0,f,s;if(A.sym_next!==0)do a=A.pending_buf[A.sym_buf+o++]&255,a+=(A.pending_buf[A.sym_buf+o++]&255)<<8,c=A.pending_buf[A.sym_buf+o++],a===0?send_code(A,c,e):(f=_length_code[c],send_code(A,f+LITERALS$1+1,e),s=extra_lbits[f],s!==0&&(c-=base_length[f],send_bits(A,c,s)),a--,f=d_code(a),send_code(A,f,r),s=extra_dbits[f],s!==0&&(a-=base_dist[f],send_bits(A,a,s)));while(o<A.sym_next);send_code(A,END_BLOCK,e)},build_tree=(A,e)=>{const r=e.dyn_tree,a=e.stat_desc.static_tree,c=e.stat_desc.has_stree,o=e.stat_desc.elems;let f,s,g=-1,m;for(A.heap_len=0,A.heap_max=HEAP_SIZE$1,f=0;f<o;f++)r[f*2]!==0?(A.heap[++A.heap_len]=g=f,A.depth[f]=0):r[f*2+1]=0;for(;A.heap_len<2;)m=A.heap[++A.heap_len]=g<2?++g:0,r[m*2]=1,A.depth[m]=0,A.opt_len--,c&&(A.static_len-=a[m*2+1]);for(e.max_code=g,f=A.heap_len>>1;f>=1;f--)pqdownheap(A,r,f);m=o;do f=A.heap[1],A.heap[1]=A.heap[A.heap_len--],pqdownheap(A,r,1),s=A.heap[1],A.heap[--A.heap_max]=f,A.heap[--A.heap_max]=s,r[m*2]=r[f*2]+r[s*2],A.depth[m]=(A.depth[f]>=A.depth[s]?A.depth[f]:A.depth[s])+1,r[f*2+1]=r[s*2+1]=m,A.heap[1]=m++,pqdownheap(A,r,1);while(A.heap_len>=2);A.heap[--A.heap_max]=A.heap[1],gen_bitlen(A,e),gen_codes(r,g,A.bl_count)},scan_tree=(A,e,r)=>{let a,c=-1,o,f=e[0*2+1],s=0,g=7,m=4;for(f===0&&(g=138,m=3),e[(r+1)*2+1]=65535,a=0;a<=r;a++)o=f,f=e[(a+1)*2+1],!(++s<g&&o===f)&&(s<m?A.bl_tree[o*2]+=s:o!==0?(o!==c&&A.bl_tree[o*2]++,A.bl_tree[REP_3_6*2]++):s<=10?A.bl_tree[REPZ_3_10*2]++:A.bl_tree[REPZ_11_138*2]++,s=0,c=o,f===0?(g=138,m=3):o===f?(g=6,m=3):(g=7,m=4))},send_tree=(A,e,r)=>{let a,c=-1,o,f=e[0*2+1],s=0,g=7,m=4;for(f===0&&(g=138,m=3),a=0;a<=r;a++)if(o=f,f=e[(a+1)*2+1],!(++s<g&&o===f)){if(s<m)do send_code(A,o,A.bl_tree);while(--s!==0);else o!==0?(o!==c&&(send_code(A,o,A.bl_tree),s--),send_code(A,REP_3_6,A.bl_tree),send_bits(A,s-3,2)):s<=10?(send_code(A,REPZ_3_10,A.bl_tree),send_bits(A,s-3,3)):(send_code(A,REPZ_11_138,A.bl_tree),send_bits(A,s-11,7));s=0,c=o,f===0?(g=138,m=3):o===f?(g=6,m=3):(g=7,m=4)}},build_bl_tree=A=>{let e;for(scan_tree(A,A.dyn_ltree,A.l_desc.max_code),scan_tree(A,A.dyn_dtree,A.d_desc.max_code),build_tree(A,A.bl_desc),e=BL_CODES$1-1;e>=3&&A.bl_tree[bl_order[e]*2+1]===0;e--);return A.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(A,e,r,a)=>{let c;for(send_bits(A,e-257,5),send_bits(A,r-1,5),send_bits(A,a-4,4),c=0;c<a;c++)send_bits(A,A.bl_tree[bl_order[c]*2+1],3);send_tree(A,A.dyn_ltree,e-1),send_tree(A,A.dyn_dtree,r-1)},detect_data_type=A=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&A.dyn_ltree[r*2]!==0)return Z_BINARY;if(A.dyn_ltree[9*2]!==0||A.dyn_ltree[10*2]!==0||A.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(A.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=A=>{static_init_done||(tr_static_init(),static_init_done=!0),A.l_desc=new TreeDesc(A.dyn_ltree,static_l_desc),A.d_desc=new TreeDesc(A.dyn_dtree,static_d_desc),A.bl_desc=new TreeDesc(A.bl_tree,static_bl_desc),A.bi_buf=0,A.bi_valid=0,init_block(A)},_tr_stored_block$1=(A,e,r,a)=>{send_bits(A,(STORED_BLOCK<<1)+(a?1:0),3),bi_windup(A),put_short(A,r),put_short(A,~r),r&&A.pending_buf.set(A.window.subarray(e,e+r),A.pending),A.pending+=r},_tr_align$1=A=>{send_bits(A,STATIC_TREES<<1,3),send_code(A,END_BLOCK,static_ltree),bi_flush(A)},_tr_flush_block$1=(A,e,r,a)=>{let c,o,f=0;A.level>0?(A.strm.data_type===Z_UNKNOWN$1&&(A.strm.data_type=detect_data_type(A)),build_tree(A,A.l_desc),build_tree(A,A.d_desc),f=build_bl_tree(A),c=A.opt_len+3+7>>>3,o=A.static_len+3+7>>>3,o<=c&&(c=o)):c=o=r+5,r+4<=c&&e!==-1?_tr_stored_block$1(A,e,r,a):A.strategy===Z_FIXED$1||o===c?(send_bits(A,(STATIC_TREES<<1)+(a?1:0),3),compress_block(A,static_ltree,static_dtree)):(send_bits(A,(DYN_TREES<<1)+(a?1:0),3),send_all_trees(A,A.l_desc.max_code+1,A.d_desc.max_code+1,f+1),compress_block(A,A.dyn_ltree,A.dyn_dtree)),init_block(A),a&&bi_windup(A)},_tr_tally$1=(A,e,r)=>(A.pending_buf[A.sym_buf+A.sym_next++]=e,A.pending_buf[A.sym_buf+A.sym_next++]=e>>8,A.pending_buf[A.sym_buf+A.sym_next++]=r,e===0?A.dyn_ltree[r*2]++:(A.matches++,e--,A.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,A.dyn_dtree[d_code(e)*2]++),A.sym_next===A.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(A,e,r,a)=>{let c=A&65535|0,o=A>>>16&65535|0,f=0;for(;r!==0;){f=r>2e3?2e3:r,r-=f;do c=c+e[a++]|0,o=o+c|0;while(--f);c%=65521,o%=65521}return c|o<<16|0};var adler32_1=adler32;const makeTable=()=>{let A,e=[];for(var r=0;r<256;r++){A=r;for(var a=0;a<8;a++)A=A&1?3988292384^A>>>1:A>>>1;e[r]=A}return e},crcTable=new Uint32Array(makeTable()),crc32=(A,e,r,a)=>{const c=crcTable,o=a+r;A^=-1;for(let f=a;f<o;f++)A=A>>>8^c[(A^e[f])&255];return A^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(A,e)=>(A.msg=messages[e],e),rank=A=>A*2-(A>4?9:0),zero=A=>{let e=A.length;for(;--e>=0;)A[e]=0},slide_hash=A=>{let e,r,a,c=A.w_size;e=A.hash_size,a=e;do r=A.head[--a],A.head[a]=r>=c?r-c:0;while(--e);e=c,a=e;do r=A.prev[--a],A.prev[a]=r>=c?r-c:0;while(--e)};let HASH_ZLIB=(A,e,r)=>(e<<A.hash_shift^r)&A.hash_mask,HASH=HASH_ZLIB;const flush_pending=A=>{const e=A.state;let r=e.pending;r>A.avail_out&&(r=A.avail_out),r!==0&&(A.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),A.next_out),A.next_out+=r,e.pending_out+=r,A.total_out+=r,A.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},flush_block_only=(A,e)=>{_tr_flush_block(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,e),A.block_start=A.strstart,flush_pending(A.strm)},put_byte=(A,e)=>{A.pending_buf[A.pending++]=e},putShortMSB=(A,e)=>{A.pending_buf[A.pending++]=e>>>8&255,A.pending_buf[A.pending++]=e&255},read_buf=(A,e,r,a)=>{let c=A.avail_in;return c>a&&(c=a),c===0?0:(A.avail_in-=c,e.set(A.input.subarray(A.next_in,A.next_in+c),r),A.state.wrap===1?A.adler=adler32_1(A.adler,e,c,r):A.state.wrap===2&&(A.adler=crc32_1(A.adler,e,c,r)),A.next_in+=c,A.total_in+=c,c)},longest_match=(A,e)=>{let r=A.max_chain_length,a=A.strstart,c,o,f=A.prev_length,s=A.nice_match;const g=A.strstart>A.w_size-MIN_LOOKAHEAD?A.strstart-(A.w_size-MIN_LOOKAHEAD):0,m=A.window,p=A.w_mask,t=A.prev,b=A.strstart+MAX_MATCH;let C=m[a+f-1],w=m[a+f];A.prev_length>=A.good_match&&(r>>=2),s>A.lookahead&&(s=A.lookahead);do if(c=e,!(m[c+f]!==w||m[c+f-1]!==C||m[c]!==m[a]||m[++c]!==m[a+1])){a+=2,c++;do;while(m[++a]===m[++c]&&m[++a]===m[++c]&&m[++a]===m[++c]&&m[++a]===m[++c]&&m[++a]===m[++c]&&m[++a]===m[++c]&&m[++a]===m[++c]&&m[++a]===m[++c]&&a<b);if(o=MAX_MATCH-(b-a),a=b-MAX_MATCH,o>f){if(A.match_start=e,f=o,o>=s)break;C=m[a+f-1],w=m[a+f]}}while((e=t[e&p])>g&&--r!==0);return f<=A.lookahead?f:A.lookahead},fill_window=A=>{const e=A.w_size;let r,a,c;do{if(a=A.window_size-A.lookahead-A.strstart,A.strstart>=e+(e-MIN_LOOKAHEAD)&&(A.window.set(A.window.subarray(e,e+e-a),0),A.match_start-=e,A.strstart-=e,A.block_start-=e,A.insert>A.strstart&&(A.insert=A.strstart),slide_hash(A),a+=e),A.strm.avail_in===0)break;if(r=read_buf(A.strm,A.window,A.strstart+A.lookahead,a),A.lookahead+=r,A.lookahead+A.insert>=MIN_MATCH)for(c=A.strstart-A.insert,A.ins_h=A.window[c],A.ins_h=HASH(A,A.ins_h,A.window[c+1]);A.insert&&(A.ins_h=HASH(A,A.ins_h,A.window[c+MIN_MATCH-1]),A.prev[c&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=c,c++,A.insert--,!(A.lookahead+A.insert<MIN_MATCH)););}while(A.lookahead<MIN_LOOKAHEAD&&A.strm.avail_in!==0)},deflate_stored=(A,e)=>{let r=A.pending_buf_size-5>A.w_size?A.w_size:A.pending_buf_size-5,a,c,o,f=0,s=A.strm.avail_in;do{if(a=65535,o=A.bi_valid+42>>3,A.strm.avail_out<o||(o=A.strm.avail_out-o,c=A.strstart-A.block_start,a>c+A.strm.avail_in&&(a=c+A.strm.avail_in),a>o&&(a=o),a<r&&(a===0&&e!==Z_FINISH$3||e===Z_NO_FLUSH$2||a!==c+A.strm.avail_in)))break;f=e===Z_FINISH$3&&a===c+A.strm.avail_in?1:0,_tr_stored_block(A,0,0,f),A.pending_buf[A.pending-4]=a,A.pending_buf[A.pending-3]=a>>8,A.pending_buf[A.pending-2]=~a,A.pending_buf[A.pending-1]=~a>>8,flush_pending(A.strm),c&&(c>a&&(c=a),A.strm.output.set(A.window.subarray(A.block_start,A.block_start+c),A.strm.next_out),A.strm.next_out+=c,A.strm.avail_out-=c,A.strm.total_out+=c,A.block_start+=c,a-=c),a&&(read_buf(A.strm,A.strm.output,A.strm.next_out,a),A.strm.next_out+=a,A.strm.avail_out-=a,A.strm.total_out+=a)}while(f===0);return s-=A.strm.avail_in,s&&(s>=A.w_size?(A.matches=2,A.window.set(A.strm.input.subarray(A.strm.next_in-A.w_size,A.strm.next_in),0),A.strstart=A.w_size,A.insert=A.strstart):(A.window_size-A.strstart<=s&&(A.strstart-=A.w_size,A.window.set(A.window.subarray(A.w_size,A.w_size+A.strstart),0),A.matches<2&&A.matches++,A.insert>A.strstart&&(A.insert=A.strstart)),A.window.set(A.strm.input.subarray(A.strm.next_in-s,A.strm.next_in),A.strstart),A.strstart+=s,A.insert+=s>A.w_size-A.insert?A.w_size-A.insert:s),A.block_start=A.strstart),A.high_water<A.strstart&&(A.high_water=A.strstart),f?BS_FINISH_DONE:e!==Z_NO_FLUSH$2&&e!==Z_FINISH$3&&A.strm.avail_in===0&&A.strstart===A.block_start?BS_BLOCK_DONE:(o=A.window_size-A.strstart,A.strm.avail_in>o&&A.block_start>=A.w_size&&(A.block_start-=A.w_size,A.strstart-=A.w_size,A.window.set(A.window.subarray(A.w_size,A.w_size+A.strstart),0),A.matches<2&&A.matches++,o+=A.w_size,A.insert>A.strstart&&(A.insert=A.strstart)),o>A.strm.avail_in&&(o=A.strm.avail_in),o&&(read_buf(A.strm,A.window,A.strstart,o),A.strstart+=o,A.insert+=o>A.w_size-A.insert?A.w_size-A.insert:o),A.high_water<A.strstart&&(A.high_water=A.strstart),o=A.bi_valid+42>>3,o=A.pending_buf_size-o>65535?65535:A.pending_buf_size-o,r=o>A.w_size?A.w_size:o,c=A.strstart-A.block_start,(c>=r||(c||e===Z_FINISH$3)&&e!==Z_NO_FLUSH$2&&A.strm.avail_in===0&&c<=o)&&(a=c>o?o:c,f=e===Z_FINISH$3&&A.strm.avail_in===0&&a===c?1:0,_tr_stored_block(A,A.block_start,a,f),A.block_start+=a,flush_pending(A.strm)),f?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(A,e)=>{let r,a;for(;;){if(A.lookahead<MIN_LOOKAHEAD){if(fill_window(A),A.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(A.lookahead===0)break}if(r=0,A.lookahead>=MIN_MATCH&&(A.ins_h=HASH(A,A.ins_h,A.window[A.strstart+MIN_MATCH-1]),r=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),r!==0&&A.strstart-r<=A.w_size-MIN_LOOKAHEAD&&(A.match_length=longest_match(A,r)),A.match_length>=MIN_MATCH)if(a=_tr_tally(A,A.strstart-A.match_start,A.match_length-MIN_MATCH),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=MIN_MATCH){A.match_length--;do A.strstart++,A.ins_h=HASH(A,A.ins_h,A.window[A.strstart+MIN_MATCH-1]),r=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;while(--A.match_length!==0);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=HASH(A,A.ins_h,A.window[A.strstart+1]);else a=_tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(a&&(flush_block_only(A,!1),A.strm.avail_out===0))return BS_NEED_MORE}return A.insert=A.strstart<MIN_MATCH-1?A.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(A,!0),A.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):A.sym_next&&(flush_block_only(A,!1),A.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(A,e)=>{let r,a,c;for(;;){if(A.lookahead<MIN_LOOKAHEAD){if(fill_window(A),A.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(A.lookahead===0)break}if(r=0,A.lookahead>=MIN_MATCH&&(A.ins_h=HASH(A,A.ins_h,A.window[A.strstart+MIN_MATCH-1]),r=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=MIN_MATCH-1,r!==0&&A.prev_length<A.max_lazy_match&&A.strstart-r<=A.w_size-MIN_LOOKAHEAD&&(A.match_length=longest_match(A,r),A.match_length<=5&&(A.strategy===Z_FILTERED||A.match_length===MIN_MATCH&&A.strstart-A.match_start>4096)&&(A.match_length=MIN_MATCH-1)),A.prev_length>=MIN_MATCH&&A.match_length<=A.prev_length){c=A.strstart+A.lookahead-MIN_MATCH,a=_tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-MIN_MATCH),A.lookahead-=A.prev_length-1,A.prev_length-=2;do++A.strstart<=c&&(A.ins_h=HASH(A,A.ins_h,A.window[A.strstart+MIN_MATCH-1]),r=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart);while(--A.prev_length!==0);if(A.match_available=0,A.match_length=MIN_MATCH-1,A.strstart++,a&&(flush_block_only(A,!1),A.strm.avail_out===0))return BS_NEED_MORE}else if(A.match_available){if(a=_tr_tally(A,0,A.window[A.strstart-1]),a&&flush_block_only(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return BS_NEED_MORE}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(a=_tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<MIN_MATCH-1?A.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(A,!0),A.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):A.sym_next&&(flush_block_only(A,!1),A.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(A,e)=>{let r,a,c,o;const f=A.window;for(;;){if(A.lookahead<=MAX_MATCH){if(fill_window(A),A.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=MIN_MATCH&&A.strstart>0&&(c=A.strstart-1,a=f[c],a===f[++c]&&a===f[++c]&&a===f[++c])){o=A.strstart+MAX_MATCH;do;while(a===f[++c]&&a===f[++c]&&a===f[++c]&&a===f[++c]&&a===f[++c]&&a===f[++c]&&a===f[++c]&&a===f[++c]&&c<o);A.match_length=MAX_MATCH-(o-c),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=MIN_MATCH?(r=_tr_tally(A,1,A.match_length-MIN_MATCH),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(r=_tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),r&&(flush_block_only(A,!1),A.strm.avail_out===0))return BS_NEED_MORE}return A.insert=0,e===Z_FINISH$3?(flush_block_only(A,!0),A.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):A.sym_next&&(flush_block_only(A,!1),A.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(A,e)=>{let r;for(;;){if(A.lookahead===0&&(fill_window(A),A.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(A.match_length=0,r=_tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,r&&(flush_block_only(A,!1),A.strm.avail_out===0))return BS_NEED_MORE}return A.insert=0,e===Z_FINISH$3?(flush_block_only(A,!0),A.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):A.sym_next&&(flush_block_only(A,!1),A.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(A,e,r,a,c){this.good_length=A,this.max_lazy=e,this.nice_length=r,this.max_chain=a,this.func=c}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=A=>{A.window_size=2*A.w_size,zero(A.head),A.max_lazy_match=configuration_table[A.level].max_lazy,A.good_match=configuration_table[A.level].good_length,A.nice_match=configuration_table[A.level].nice_length,A.max_chain_length=configuration_table[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=MIN_MATCH-1,A.match_available=0,A.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=A=>{if(!A)return 1;const e=A.state;return!e||e.strm!==A||e.status!==INIT_STATE&&e.status!==GZIP_STATE&&e.status!==EXTRA_STATE&&e.status!==NAME_STATE&&e.status!==COMMENT_STATE&&e.status!==HCRC_STATE&&e.status!==BUSY_STATE&&e.status!==FINISH_STATE?1:0},deflateResetKeep=A=>{if(deflateStateCheck(A))return err(A,Z_STREAM_ERROR$2);A.total_in=A.total_out=0,A.data_type=Z_UNKNOWN;const e=A.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE:e.wrap?INIT_STATE:BUSY_STATE,A.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init(e),Z_OK$3},deflateReset=A=>{const e=deflateResetKeep(A);return e===Z_OK$3&&lm_init(A.state),e},deflateSetHeader=(A,e)=>deflateStateCheck(A)||A.state.wrap!==2?Z_STREAM_ERROR$2:(A.state.gzhead=e,Z_OK$3),deflateInit2=(A,e,r,a,c,o)=>{if(!A)return Z_STREAM_ERROR$2;let f=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),a<0?(f=0,a=-a):a>15&&(f=2,a-=16),c<1||c>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||a<8||a>15||e<0||e>9||o<0||o>Z_FIXED||a===8&&f!==1)return err(A,Z_STREAM_ERROR$2);a===8&&(a=9);const s=new DeflateState;return A.state=s,s.strm=A,s.status=INIT_STATE,s.wrap=f,s.gzhead=null,s.w_bits=a,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=c+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<c+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=e,s.strategy=o,s.method=r,deflateReset(A)},deflateInit=(A,e)=>deflateInit2(A,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(A,e)=>{if(deflateStateCheck(A)||e>Z_BLOCK$1||e<0)return A?err(A,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const r=A.state;if(!A.output||A.avail_in!==0&&!A.input||r.status===FINISH_STATE&&e!==Z_FINISH$3)return err(A,A.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const a=r.last_flush;if(r.last_flush=e,r.pending!==0){if(flush_pending(A),A.avail_out===0)return r.last_flush=-1,Z_OK$3}else if(A.avail_in===0&&rank(e)<=rank(a)&&e!==Z_FINISH$3)return err(A,Z_BUF_ERROR$1);if(r.status===FINISH_STATE&&A.avail_in!==0)return err(A,Z_BUF_ERROR$1);if(r.status===INIT_STATE&&r.wrap===0&&(r.status=BUSY_STATE),r.status===INIT_STATE){let c=Z_DEFLATED$2+(r.w_bits-8<<4)<<8,o=-1;if(r.strategy>=Z_HUFFMAN_ONLY||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,c|=o<<6,r.strstart!==0&&(c|=PRESET_DICT),c+=31-c%31,putShortMSB(r,c),r.strstart!==0&&(putShortMSB(r,A.adler>>>16),putShortMSB(r,A.adler&65535)),A.adler=1,r.status=BUSY_STATE,flush_pending(A),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===GZIP_STATE){if(A.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead)put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,r.gzhead.time&255),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,r.gzhead.extra.length&255),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(A.adler=crc32_1(A.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE;else if(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE,flush_pending(A),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===EXTRA_STATE){if(r.gzhead.extra){let c=r.pending,o=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+o>r.pending_buf_size;){let s=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>c&&(A.adler=crc32_1(A.adler,r.pending_buf,r.pending-c,c)),r.gzindex+=s,flush_pending(A),r.pending!==0)return r.last_flush=-1,Z_OK$3;c=0,o-=s}let f=new Uint8Array(r.gzhead.extra);r.pending_buf.set(f.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending+=o,r.gzhead.hcrc&&r.pending>c&&(A.adler=crc32_1(A.adler,r.pending_buf,r.pending-c,c)),r.gzindex=0}r.status=NAME_STATE}if(r.status===NAME_STATE){if(r.gzhead.name){let c=r.pending,o;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>c&&(A.adler=crc32_1(A.adler,r.pending_buf,r.pending-c,c)),flush_pending(A),r.pending!==0)return r.last_flush=-1,Z_OK$3;c=0}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,put_byte(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>c&&(A.adler=crc32_1(A.adler,r.pending_buf,r.pending-c,c)),r.gzindex=0}r.status=COMMENT_STATE}if(r.status===COMMENT_STATE){if(r.gzhead.comment){let c=r.pending,o;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>c&&(A.adler=crc32_1(A.adler,r.pending_buf,r.pending-c,c)),flush_pending(A),r.pending!==0)return r.last_flush=-1,Z_OK$3;c=0}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,put_byte(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>c&&(A.adler=crc32_1(A.adler,r.pending_buf,r.pending-c,c))}r.status=HCRC_STATE}if(r.status===HCRC_STATE){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(flush_pending(A),r.pending!==0))return r.last_flush=-1,Z_OK$3;put_byte(r,A.adler&255),put_byte(r,A.adler>>8&255),A.adler=0}if(r.status=BUSY_STATE,flush_pending(A),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(A.avail_in!==0||r.lookahead!==0||e!==Z_NO_FLUSH$2&&r.status!==FINISH_STATE){let c=r.level===0?deflate_stored(r,e):r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,e):r.strategy===Z_RLE?deflate_rle(r,e):configuration_table[r.level].func(r,e);if((c===BS_FINISH_STARTED||c===BS_FINISH_DONE)&&(r.status=FINISH_STATE),c===BS_NEED_MORE||c===BS_FINISH_STARTED)return A.avail_out===0&&(r.last_flush=-1),Z_OK$3;if(c===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(r):e!==Z_BLOCK$1&&(_tr_stored_block(r,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(A),A.avail_out===0))return r.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:r.wrap<=0?Z_STREAM_END$3:(r.wrap===2?(put_byte(r,A.adler&255),put_byte(r,A.adler>>8&255),put_byte(r,A.adler>>16&255),put_byte(r,A.adler>>24&255),put_byte(r,A.total_in&255),put_byte(r,A.total_in>>8&255),put_byte(r,A.total_in>>16&255),put_byte(r,A.total_in>>24&255)):(putShortMSB(r,A.adler>>>16),putShortMSB(r,A.adler&65535)),flush_pending(A),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=A=>{if(deflateStateCheck(A))return Z_STREAM_ERROR$2;const e=A.state.status;return A.state=null,e===BUSY_STATE?err(A,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(A,e)=>{let r=e.length;if(deflateStateCheck(A))return Z_STREAM_ERROR$2;const a=A.state,c=a.wrap;if(c===2||c===1&&a.status!==INIT_STATE||a.lookahead)return Z_STREAM_ERROR$2;if(c===1&&(A.adler=adler32_1(A.adler,e,r,0)),a.wrap=0,r>=a.w_size){c===0&&(zero(a.head),a.strstart=0,a.block_start=0,a.insert=0);let g=new Uint8Array(a.w_size);g.set(e.subarray(r-a.w_size,r),0),e=g,r=a.w_size}const o=A.avail_in,f=A.next_in,s=A.input;for(A.avail_in=r,A.next_in=0,A.input=e,fill_window(a);a.lookahead>=MIN_MATCH;){let g=a.strstart,m=a.lookahead-(MIN_MATCH-1);do a.ins_h=HASH(a,a.ins_h,a.window[g+MIN_MATCH-1]),a.prev[g&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=g,g++;while(--m);a.strstart=g,a.lookahead=MIN_MATCH-1,fill_window(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=MIN_MATCH-1,a.match_available=0,A.next_in=f,A.input=s,A.avail_in=o,a.wrap=c,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(A,e)=>Object.prototype.hasOwnProperty.call(A,e);var assign=function(A){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)_has(r,a)&&(A[a]=r[a])}}return A},flattenChunks=A=>{let e=0;for(let a=0,c=A.length;a<c;a++)e+=A[a].length;const r=new Uint8Array(e);for(let a=0,c=0,o=A.length;a<o;a++){let f=A[a];r.set(f,c),c+=f.length}return r},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let A=0;A<256;A++)_utf8len[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=A=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(A);let e,r,a,c,o,f=A.length,s=0;for(c=0;c<f;c++)r=A.charCodeAt(c),(r&64512)===55296&&c+1<f&&(a=A.charCodeAt(c+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),c++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),o=0,c=0;o<s;c++)r=A.charCodeAt(c),(r&64512)===55296&&c+1<f&&(a=A.charCodeAt(c+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),c++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const buf2binstring=(A,e)=>{if(e<65534&&A.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,A.length===e?A:A.subarray(0,e));let r="";for(let a=0;a<e;a++)r+=String.fromCharCode(A[a]);return r};var buf2string=(A,e)=>{const r=e||A.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(A.subarray(0,e));let a,c;const o=new Array(r*2);for(c=0,a=0;a<r;){let f=A[a++];if(f<128){o[c++]=f;continue}let s=_utf8len[f];if(s>4){o[c++]=65533,a+=s-1;continue}for(f&=s===2?31:s===3?15:7;s>1&&a<r;)f=f<<6|A[a++]&63,s--;if(s>1){o[c++]=65533;continue}f<65536?o[c++]=f:(f-=65536,o[c++]=55296|f>>10&1023,o[c++]=56320|f&1023)}return buf2binstring(o,c)},utf8border=(A,e)=>{e=e||A.length,e>A.length&&(e=A.length);let r=e-1;for(;r>=0&&(A[r]&192)===128;)r--;return r<0||r===0?e:r+_utf8len[A[r]]>e?r:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(A){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},A||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Z_OK$2)throw new Error(messages[r]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let a;if(typeof e.dictionary=="string"?a=strings.string2buf(e.dictionary):toString$1.call(e.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(e.dictionary):a=e.dictionary,r=deflate_1$2.deflateSetDictionary(this.strm,a),r!==Z_OK$2)throw new Error(messages[r]);this._dict_set=!0}}Deflate$1.prototype.push=function(A,e){const r=this.strm,a=this.options.chunkSize;let c,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof A=="string"?r.input=strings.string2buf(A):toString$1.call(A)==="[object ArrayBuffer]"?r.input=new Uint8Array(A):r.input=A,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(o===Z_SYNC_FLUSH||o===Z_FULL_FLUSH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(c=deflate_1$2.deflate(r,o),c===Z_STREAM_END$2)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),c=deflate_1$2.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===Z_OK$2;if(r.avail_out===0){this.onData(r.output);continue}if(o>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(A){this.chunks.push(A)};Deflate$1.prototype.onEnd=function(A){A===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};function deflate$1(A,e){const r=new Deflate$1(e);if(r.push(A,!0),r.err)throw r.msg||messages[r.err];return r.result}function deflateRaw$1(A,e){return e=e||{},e.raw=!0,deflate$1(A,e)}function gzip$1(A,e){return e=e||{},e.gzip=!0,deflate$1(A,e)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function A(e,r){let a,c,o,f,s,g,m,p,t,b,C,w,v,M,y,I,P,_,k,D,V,R,U,te;const B=e.state;a=e.next_in,U=e.input,c=a+(e.avail_in-5),o=e.next_out,te=e.output,f=o-(r-e.avail_out),s=o+(e.avail_out-257),g=B.dmax,m=B.wsize,p=B.whave,t=B.wnext,b=B.window,C=B.hold,w=B.bits,v=B.lencode,M=B.distcode,y=(1<<B.lenbits)-1,I=(1<<B.distbits)-1;e:do{w<15&&(C+=U[a++]<<w,w+=8,C+=U[a++]<<w,w+=8),P=v[C&y];t:for(;;){if(_=P>>>24,C>>>=_,w-=_,_=P>>>16&255,_===0)te[o++]=P&65535;else if(_&16){k=P&65535,_&=15,_&&(w<_&&(C+=U[a++]<<w,w+=8),k+=C&(1<<_)-1,C>>>=_,w-=_),w<15&&(C+=U[a++]<<w,w+=8,C+=U[a++]<<w,w+=8),P=M[C&I];n:for(;;){if(_=P>>>24,C>>>=_,w-=_,_=P>>>16&255,_&16){if(D=P&65535,_&=15,w<_&&(C+=U[a++]<<w,w+=8,w<_&&(C+=U[a++]<<w,w+=8)),D+=C&(1<<_)-1,D>g){e.msg="invalid distance too far back",B.mode=BAD$1;break e}if(C>>>=_,w-=_,_=o-f,D>_){if(_=D-_,_>p&&B.sane){e.msg="invalid distance too far back",B.mode=BAD$1;break e}if(V=0,R=b,t===0){if(V+=m-_,_<k){k-=_;do te[o++]=b[V++];while(--_);V=o-D,R=te}}else if(t<_){if(V+=m+t-_,_-=t,_<k){k-=_;do te[o++]=b[V++];while(--_);if(V=0,t<k){_=t,k-=_;do te[o++]=b[V++];while(--_);V=o-D,R=te}}}else if(V+=t-_,_<k){k-=_;do te[o++]=b[V++];while(--_);V=o-D,R=te}for(;k>2;)te[o++]=R[V++],te[o++]=R[V++],te[o++]=R[V++],k-=3;k&&(te[o++]=R[V++],k>1&&(te[o++]=R[V++]))}else{V=o-D;do te[o++]=te[V++],te[o++]=te[V++],te[o++]=te[V++],k-=3;while(k>2);k&&(te[o++]=te[V++],k>1&&(te[o++]=te[V++]))}}else if(_&64){e.msg="invalid distance code",B.mode=BAD$1;break e}else{P=M[(P&65535)+(C&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){B.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",B.mode=BAD$1;break e}else{P=v[(P&65535)+(C&(1<<_)-1)];continue t}break}}while(a<c&&o<s);k=w>>3,a-=k,w-=k<<3,C&=(1<<w)-1,e.next_in=a,e.next_out=o,e.avail_in=a<c?5+(c-a):5-(a-c),e.avail_out=o<s?257+(s-o):257-(o-s),B.hold=C,B.bits=w};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(A,e,r,a,c,o,f,s)=>{const g=s.bits;let m=0,p=0,t=0,b=0,C=0,w=0,v=0,M=0,y=0,I=0,P,_,k,D,V,R=null,U;const te=new Uint16Array(MAXBITS+1),B=new Uint16Array(MAXBITS+1);let j=null,ie,E,L;for(m=0;m<=MAXBITS;m++)te[m]=0;for(p=0;p<a;p++)te[e[r+p]]++;for(C=g,b=MAXBITS;b>=1&&te[b]===0;b--);if(C>b&&(C=b),b===0)return c[o++]=1<<24|64<<16|0,c[o++]=1<<24|64<<16|0,s.bits=1,0;for(t=1;t<b&&te[t]===0;t++);for(C<t&&(C=t),M=1,m=1;m<=MAXBITS;m++)if(M<<=1,M-=te[m],M<0)return-1;if(M>0&&(A===CODES$1||b!==1))return-1;for(B[1]=0,m=1;m<MAXBITS;m++)B[m+1]=B[m]+te[m];for(p=0;p<a;p++)e[r+p]!==0&&(f[B[e[r+p]]++]=p);if(A===CODES$1?(R=j=f,U=20):A===LENS$1?(R=lbase,j=lext,U=257):(R=dbase,j=dext,U=0),I=0,p=0,m=t,V=o,w=C,v=0,k=-1,y=1<<C,D=y-1,A===LENS$1&&y>ENOUGH_LENS$1||A===DISTS$1&&y>ENOUGH_DISTS$1)return 1;for(;;){ie=m-v,f[p]+1<U?(E=0,L=f[p]):f[p]>=U?(E=j[f[p]-U],L=R[f[p]-U]):(E=32+64,L=0),P=1<<m-v,_=1<<w,t=_;do _-=P,c[V+(I>>v)+_]=ie<<24|E<<16|L|0;while(_!==0);for(P=1<<m-1;I&P;)P>>=1;if(P!==0?(I&=P-1,I+=P):I=0,p++,--te[m]===0){if(m===b)break;m=e[r+f[p]]}if(m>C&&(I&D)!==k){for(v===0&&(v=C),V+=t,w=m-v,M=1<<w;w+v<b&&(M-=te[w+v],!(M<=0));)w++,M<<=1;if(y+=1<<w,A===LENS$1&&y>ENOUGH_LENS$1||A===DISTS$1&&y>ENOUGH_DISTS$1)return 1;k=I&D,c[k]=C<<24|w<<16|V-o|0}}return I!==0&&(c[V+I]=m-v<<24|64<<16|0),s.bits=C,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=A=>(A>>>24&255)+(A>>>8&65280)+((A&65280)<<8)+((A&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=A=>{if(!A)return 1;const e=A.state;return!e||e.strm!==A||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=A=>{if(inflateStateCheck(A))return Z_STREAM_ERROR$1;const e=A.state;return A.total_in=A.total_out=e.total=0,A.msg="",e.wrap&&(A.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=A=>{if(inflateStateCheck(A))return Z_STREAM_ERROR$1;const e=A.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(A)},inflateReset2=(A,e)=>{let r;if(inflateStateCheck(A))return Z_STREAM_ERROR$1;const a=A.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=r,a.wbits=e,inflateReset(A))},inflateInit2=(A,e)=>{if(!A)return Z_STREAM_ERROR$1;const r=new InflateState;A.state=r,r.strm=A,r.window=null,r.mode=HEAD;const a=inflateReset2(A,e);return a!==Z_OK$1&&(A.state=null),a},inflateInit=A=>inflateInit2(A,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=A=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)A.lens[e++]=8;for(;e<256;)A.lens[e++]=9;for(;e<280;)A.lens[e++]=7;for(;e<288;)A.lens[e++]=8;for(inftrees(LENS,A.lens,0,288,lenfix,0,A.work,{bits:9}),e=0;e<32;)A.lens[e++]=5;inftrees(DISTS,A.lens,0,32,distfix,0,A.work,{bits:5}),virgin=!1}A.lencode=lenfix,A.lenbits=9,A.distcode=distfix,A.distbits=5},updatewindow=(A,e,r,a)=>{let c;const o=A.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(c=o.wsize-o.wnext,c>a&&(c=a),o.window.set(e.subarray(r-a,r-a+c),o.wnext),a-=c,a?(o.window.set(e.subarray(r-a,r),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=c,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=c))),0},inflate$2=(A,e)=>{let r,a,c,o,f,s,g,m,p,t,b,C,w,v,M=0,y,I,P,_,k,D,V,R;const U=new Uint8Array(4);let te,B;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(A)||!A.output||!A.input&&A.avail_in!==0)return Z_STREAM_ERROR$1;r=A.state,r.mode===TYPE&&(r.mode=TYPEDO),f=A.next_out,c=A.output,g=A.avail_out,o=A.next_in,a=A.input,s=A.avail_in,m=r.hold,p=r.bits,t=s,b=g,R=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;p<16;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(r.wrap&2&&m===35615){r.wbits===0&&(r.wbits=15),r.check=0,U[0]=m&255,U[1]=m>>>8&255,r.check=crc32_1(r.check,U,2,0),m=0,p=0,r.mode=FLAGS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((m&255)<<8)+(m>>8))%31){A.msg="incorrect header check",r.mode=BAD;break}if((m&15)!==Z_DEFLATED){A.msg="unknown compression method",r.mode=BAD;break}if(m>>>=4,p-=4,V=(m&15)+8,r.wbits===0&&(r.wbits=V),V>15||V>r.wbits){A.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,r.flags=0,A.adler=r.check=1,r.mode=m&512?DICTID:TYPE,m=0,p=0;break;case FLAGS:for(;p<16;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(r.flags=m,(r.flags&255)!==Z_DEFLATED){A.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){A.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=m>>8&1),r.flags&512&&r.wrap&4&&(U[0]=m&255,U[1]=m>>>8&255,r.check=crc32_1(r.check,U,2,0)),m=0,p=0,r.mode=TIME;case TIME:for(;p<32;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}r.head&&(r.head.time=m),r.flags&512&&r.wrap&4&&(U[0]=m&255,U[1]=m>>>8&255,U[2]=m>>>16&255,U[3]=m>>>24&255,r.check=crc32_1(r.check,U,4,0)),m=0,p=0,r.mode=OS;case OS:for(;p<16;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}r.head&&(r.head.xflags=m&255,r.head.os=m>>8),r.flags&512&&r.wrap&4&&(U[0]=m&255,U[1]=m>>>8&255,r.check=crc32_1(r.check,U,2,0)),m=0,p=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;p<16;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}r.length=m,r.head&&(r.head.extra_len=m),r.flags&512&&r.wrap&4&&(U[0]=m&255,U[1]=m>>>8&255,r.check=crc32_1(r.check,U,2,0)),m=0,p=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(C=r.length,C>s&&(C=s),C&&(r.head&&(V=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(o,o+C),V)),r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,a,C,o)),s-=C,o+=C,r.length-=C),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(s===0)break e;C=0;do V=a[o+C++],r.head&&V&&r.length<65536&&(r.head.name+=String.fromCharCode(V));while(V&&C<s);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,a,C,o)),s-=C,o+=C,V)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(s===0)break e;C=0;do V=a[o+C++],r.head&&V&&r.length<65536&&(r.head.comment+=String.fromCharCode(V));while(V&&C<s);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,a,C,o)),s-=C,o+=C,V)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;p<16;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(r.wrap&4&&m!==(r.check&65535)){A.msg="header crc mismatch",r.mode=BAD;break}m=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),A.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;p<32;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}A.adler=r.check=zswap32(m),m=0,p=0,r.mode=DICT;case DICT:if(r.havedict===0)return A.next_out=f,A.avail_out=g,A.next_in=o,A.avail_in=s,r.hold=m,r.bits=p,Z_NEED_DICT$1;A.adler=r.check=1,r.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(r.last){m>>>=p&7,p-=p&7,r.mode=CHECK;break}for(;p<3;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}switch(r.last=m&1,m>>>=1,p-=1,m&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,e===Z_TREES){m>>>=2,p-=2;break e}break;case 2:r.mode=TABLE;break;case 3:A.msg="invalid block type",r.mode=BAD}m>>>=2,p-=2;break;case STORED:for(m>>>=p&7,p-=p&7;p<32;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if((m&65535)!==(m>>>16^65535)){A.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=m&65535,m=0,p=0,r.mode=COPY_,e===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(C=r.length,C){if(C>s&&(C=s),C>g&&(C=g),C===0)break e;c.set(a.subarray(o,o+C),f),s-=C,o+=C,g-=C,f+=C,r.length-=C;break}r.mode=TYPE;break;case TABLE:for(;p<14;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(r.nlen=(m&31)+257,m>>>=5,p-=5,r.ndist=(m&31)+1,m>>>=5,p-=5,r.ncode=(m&15)+4,m>>>=4,p-=4,r.nlen>286||r.ndist>30){A.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;p<3;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}r.lens[j[r.have++]]=m&7,m>>>=3,p-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,te={bits:r.lenbits},R=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,te),r.lenbits=te.bits,R){A.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;M=r.lencode[m&(1<<r.lenbits)-1],y=M>>>24,I=M>>>16&255,P=M&65535,!(y<=p);){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(P<16)m>>>=y,p-=y,r.lens[r.have++]=P;else{if(P===16){for(B=y+2;p<B;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(m>>>=y,p-=y,r.have===0){A.msg="invalid bit length repeat",r.mode=BAD;break}V=r.lens[r.have-1],C=3+(m&3),m>>>=2,p-=2}else if(P===17){for(B=y+3;p<B;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}m>>>=y,p-=y,V=0,C=3+(m&7),m>>>=3,p-=3}else{for(B=y+7;p<B;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}m>>>=y,p-=y,V=0,C=11+(m&127),m>>>=7,p-=7}if(r.have+C>r.nlen+r.ndist){A.msg="invalid bit length repeat",r.mode=BAD;break}for(;C--;)r.lens[r.have++]=V}}if(r.mode===BAD)break;if(r.lens[256]===0){A.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,te={bits:r.lenbits},R=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,te),r.lenbits=te.bits,R){A.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,te={bits:r.distbits},R=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,te),r.distbits=te.bits,R){A.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,e===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(s>=6&&g>=258){A.next_out=f,A.avail_out=g,A.next_in=o,A.avail_in=s,r.hold=m,r.bits=p,inffast(A,b),f=A.next_out,c=A.output,g=A.avail_out,o=A.next_in,a=A.input,s=A.avail_in,m=r.hold,p=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;M=r.lencode[m&(1<<r.lenbits)-1],y=M>>>24,I=M>>>16&255,P=M&65535,!(y<=p);){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(I&&!(I&240)){for(_=y,k=I,D=P;M=r.lencode[D+((m&(1<<_+k)-1)>>_)],y=M>>>24,I=M>>>16&255,P=M&65535,!(_+y<=p);){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}m>>>=_,p-=_,r.back+=_}if(m>>>=y,p-=y,r.back+=y,r.length=P,I===0){r.mode=LIT;break}if(I&32){r.back=-1,r.mode=TYPE;break}if(I&64){A.msg="invalid literal/length code",r.mode=BAD;break}r.extra=I&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(B=r.extra;p<B;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;M=r.distcode[m&(1<<r.distbits)-1],y=M>>>24,I=M>>>16&255,P=M&65535,!(y<=p);){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(!(I&240)){for(_=y,k=I,D=P;M=r.distcode[D+((m&(1<<_+k)-1)>>_)],y=M>>>24,I=M>>>16&255,P=M&65535,!(_+y<=p);){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}m>>>=_,p-=_,r.back+=_}if(m>>>=y,p-=y,r.back+=y,I&64){A.msg="invalid distance code",r.mode=BAD;break}r.offset=P,r.extra=I&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(B=r.extra;p<B;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){A.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(g===0)break e;if(C=b-g,r.offset>C){if(C=r.offset-C,C>r.whave&&r.sane){A.msg="invalid distance too far back",r.mode=BAD;break}C>r.wnext?(C-=r.wnext,w=r.wsize-C):w=r.wnext-C,C>r.length&&(C=r.length),v=r.window}else v=c,w=f-r.offset,C=r.length;C>g&&(C=g),g-=C,r.length-=C;do c[f++]=v[w++];while(--C);r.length===0&&(r.mode=LEN);break;case LIT:if(g===0)break e;c[f++]=r.length,g--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;p<32;){if(s===0)break e;s--,m|=a[o++]<<p,p+=8}if(b-=g,A.total_out+=b,r.total+=b,r.wrap&4&&b&&(A.adler=r.check=r.flags?crc32_1(r.check,c,b,f-b):adler32_1(r.check,c,b,f-b)),b=g,r.wrap&4&&(r.flags?m:zswap32(m))!==r.check){A.msg="incorrect data check",r.mode=BAD;break}m=0,p=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;p<32;){if(s===0)break e;s--,m+=a[o++]<<p,p+=8}if(r.wrap&4&&m!==(r.total&4294967295)){A.msg="incorrect length check",r.mode=BAD;break}m=0,p=0}r.mode=DONE;case DONE:R=Z_STREAM_END$1;break e;case BAD:R=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return A.next_out=f,A.avail_out=g,A.next_in=o,A.avail_in=s,r.hold=m,r.bits=p,(r.wsize||b!==A.avail_out&&r.mode<BAD&&(r.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(A,A.output,A.next_out,b-A.avail_out),t-=A.avail_in,b-=A.avail_out,A.total_in+=t,A.total_out+=b,r.total+=b,r.wrap&4&&b&&(A.adler=r.check=r.flags?crc32_1(r.check,c,b,A.next_out-b):adler32_1(r.check,c,b,A.next_out-b)),A.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(t===0&&b===0||e===Z_FINISH$1)&&R===Z_OK$1&&(R=Z_BUF_ERROR),R},inflateEnd=A=>{if(inflateStateCheck(A))return Z_STREAM_ERROR$1;let e=A.state;return e.window&&(e.window=null),A.state=null,Z_OK$1},inflateGetHeader=(A,e)=>{if(inflateStateCheck(A))return Z_STREAM_ERROR$1;const r=A.state;return r.wrap&2?(r.head=e,e.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(A,e)=>{const r=e.length;let a,c,o;return inflateStateCheck(A)||(a=A.state,a.wrap!==0&&a.mode!==DICT)?Z_STREAM_ERROR$1:a.mode===DICT&&(c=1,c=adler32_1(c,e,r,0),c!==a.check)?Z_DATA_ERROR$1:(o=updatewindow(A,e,r,r),o?(a.mode=MEM,Z_MEM_ERROR$1):(a.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(A){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},A||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(A&&A.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(r!==Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),r!==Z_OK)))throw new Error(messages[r])}Inflate$1.prototype.push=function(A,e){const r=this.strm,a=this.options.chunkSize,c=this.options.dictionary;let o,f,s;if(this.ended)return!1;for(e===~~e?f=e:f=e===!0?Z_FINISH:Z_NO_FLUSH,toString.call(A)==="[object ArrayBuffer]"?r.input=new Uint8Array(A):r.input=A,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),o=inflate_1$2.inflate(r,f),o===Z_NEED_DICT&&c&&(o=inflate_1$2.inflateSetDictionary(r,c),o===Z_OK?o=inflate_1$2.inflate(r,f):o===Z_DATA_ERROR&&(o=Z_NEED_DICT));r.avail_in>0&&o===Z_STREAM_END&&r.state.wrap>0&&A[r.next_in]!==0;)inflate_1$2.inflateReset(r),o=inflate_1$2.inflate(r,f);switch(o){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(o),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||o===Z_STREAM_END))if(this.options.to==="string"){let g=strings.utf8border(r.output,r.next_out),m=r.next_out-g,p=strings.buf2string(r.output,g);r.next_out=m,r.avail_out=a-m,m&&r.output.set(r.output.subarray(g,g+m),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Z_OK&&s===0)){if(o===Z_STREAM_END)return o=inflate_1$2.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(A){this.chunks.push(A)};Inflate$1.prototype.onEnd=function(A){A===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1;var deflate_1=deflate;class Base{static create(...e){return new this(...e)}mixIn(e){return Object.assign(this,e)}clone(){const e=new this.constructor;return Object.assign(e,this),e}}class WordArray extends Base{constructor(e=[],r=e.length*4){super();let a=e;if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){const c=a.byteLength,o=[];for(let f=0;f<c;f+=1)o[f>>>2]|=a[f]<<24-f%4*8;this.words=o,this.sigBytes=c}else this.words=e,this.sigBytes=r}static random(e){const r=[],a=c=>{let o=c,f=987654321;const s=4294967295;return()=>{f=36969*(f&65535)+(f>>16)&s,o=18e3*(o&65535)+(o>>16)&s;let g=(f<<16)+o&s;return g/=4294967296,g+=.5,g*(Math.random()>.5?1:-1)}};for(let c=0,o;c<e;c+=4){const f=a((o||Math.random())*4294967296);o=f()*987654071,r.push(f()*4294967296|0)}return new WordArray(r,e)}toString(e=Hex){return e.stringify(this)}concat(e){const r=this.words,a=e.words,c=this.sigBytes,o=e.sigBytes;if(this.clamp(),c%4)for(let f=0;f<o;f+=1){const s=a[f>>>2]>>>24-f%4*8&255;r[c+f>>>2]|=s<<24-(c+f)%4*8}else for(let f=0;f<o;f+=4)r[c+f>>>2]=a[f>>>2];return this.sigBytes+=o,this}clamp(){const{words:e,sigBytes:r}=this;e[r>>>2]&=4294967295<<32-r%4*8,e.length=Math.ceil(r/4)}clone(){const e=super.clone.call(this);return e.words=this.words.slice(0),e}}const Hex={stringify(A){const{words:e,sigBytes:r}=A,a=[];for(let c=0;c<r;c+=1){const o=e[c>>>2]>>>24-c%4*8&255;a.push((o>>>4).toString(16)),a.push((o&15).toString(16))}return a.join("")},parse(A){const e=A.length,r=[];for(let a=0;a<e;a+=2)r[a>>>3]|=parseInt(A.substr(a,2),16)<<24-a%8*4;return new WordArray(r,e/2)}},Latin1={stringify(A){const{words:e,sigBytes:r}=A,a=[];for(let c=0;c<r;c+=1){const o=e[c>>>2]>>>24-c%4*8&255;a.push(String.fromCharCode(o))}return a.join("")},parse(A){const e=A.length,r=[];for(let a=0;a<e;a+=1)r[a>>>2]|=(A.charCodeAt(a)&255)<<24-a%4*8;return new WordArray(r,e)}},Utf8={stringify(A){try{return decodeURIComponent(escape(Latin1.stringify(A)))}catch{throw new Error("Malformed UTF-8 data")}},parse(A){return Latin1.parse(unescape(encodeURIComponent(A)))}};class BufferedBlockAlgorithm extends Base{constructor(){super(),this._minBufferSize=0}reset(){this._data=new WordArray,this._nDataBytes=0}_append(e){let r=e;typeof r=="string"&&(r=Utf8.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes}_process(e){let r;const{_data:a,blockSize:c}=this,o=a.words,f=a.sigBytes,s=c*4;let g=f/s;e?g=Math.ceil(g):g=Math.max((g|0)-this._minBufferSize,0);const m=g*c,p=Math.min(m*4,f);if(m){for(let t=0;t<m;t+=c)this._doProcessBlock(o,t);r=o.splice(0,m),a.sigBytes-=p}return new WordArray(r,p)}clone(){const e=super.clone.call(this);return e._data=this._data.clone(),e}}class Hasher extends BufferedBlockAlgorithm{constructor(e){super(),this.blockSize=512/32,this.cfg=Object.assign(new Base,e),this.reset()}static _createHelper(e){return(r,a)=>new e(a).finalize(r)}static _createHmacHelper(e){return(r,a)=>new HMAC(e,a).finalize(r)}reset(){super.reset.call(this),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){return e&&this._append(e),this._doFinalize()}}class HMAC extends Base{constructor(e,r){super();const a=new e;this._hasher=a;let c=r;typeof c=="string"&&(c=Utf8.parse(c));const o=a.blockSize,f=o*4;c.sigBytes>f&&(c=a.finalize(r)),c.clamp();const s=c.clone();this._oKey=s;const g=c.clone();this._iKey=g;const m=s.words,p=g.words;for(let t=0;t<o;t+=1)m[t]^=1549556828,p[t]^=909522486;s.sigBytes=f,g.sigBytes=f,this.reset()}reset(){const e=this._hasher;e.reset(),e.update(this._iKey)}update(e){return this._hasher.update(e),this}finalize(e){const r=this._hasher,a=r.finalize(e);return r.reset(),r.finalize(this._oKey.clone().concat(a))}}const X32WordArray=WordArray;class X64Word extends Base{constructor(e,r){super(),this.high=e,this.low=r}}class X64WordArray extends Base{constructor(e=[],r=e.length*8){super(),this.words=e,this.sigBytes=r}toX32(){const e=this.words,r=e.length,a=[];for(let c=0;c<r;c+=1){const o=e[c];a.push(o.high),a.push(o.low)}return X32WordArray.create(a,this.sigBytes)}clone(){const e=super.clone.call(this);e.words=this.words.slice(0);const{words:r}=e,a=r.length;for(let c=0;c<a;c+=1)r[c]=r[c].clone();return e}}const parseLoop=(A,e,r)=>{const a=[];let c=0;for(let o=0;o<e;o+=1)if(o%4){const f=r[A.charCodeAt(o-1)]<<o%4*2,s=r[A.charCodeAt(o)]>>>6-o%4*2,g=f|s;a[c>>>2]|=g<<24-c%4*8,c+=1}return WordArray.create(a,c)},Base64={stringify(A){const{words:e,sigBytes:r}=A,a=this._map;A.clamp();const c=[];for(let f=0;f<r;f+=3){const s=e[f>>>2]>>>24-f%4*8&255,g=e[f+1>>>2]>>>24-(f+1)%4*8&255,m=e[f+2>>>2]>>>24-(f+2)%4*8&255,p=s<<16|g<<8|m;for(let t=0;t<4&&f+t*.75<r;t+=1)c.push(a.charAt(p>>>6*(3-t)&63))}const o=a.charAt(64);if(o)for(;c.length%4;)c.push(o);return c.join("")},parse(A){let e=A.length;const r=this._map;let a=this._reverseMap;if(!a){this._reverseMap=[],a=this._reverseMap;for(let o=0;o<r.length;o+=1)a[r.charCodeAt(o)]=o}const c=r.charAt(64);if(c){const o=A.indexOf(c);o!==-1&&(e=o)}return parseLoop(A,e,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},T$1=[];for(let A=0;A<64;A+=1)T$1[A]=Math.abs(Math.sin(A+1))*4294967296|0;const FF=(A,e,r,a,c,o,f)=>{const s=A+(e&r|~e&a)+c+f;return(s<<o|s>>>32-o)+e},GG=(A,e,r,a,c,o,f)=>{const s=A+(e&a|r&~a)+c+f;return(s<<o|s>>>32-o)+e},HH=(A,e,r,a,c,o,f)=>{const s=A+(e^r^a)+c+f;return(s<<o|s>>>32-o)+e},II=(A,e,r,a,c,o,f)=>{const s=A+(r^(e|~a))+c+f;return(s<<o|s>>>32-o)+e};class MD5Algo extends Hasher{_doReset(){this._hash=new WordArray([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(e,r){const a=e;for(let U=0;U<16;U+=1){const te=r+U,B=e[te];a[te]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}const c=this._hash.words,o=a[r+0],f=a[r+1],s=a[r+2],g=a[r+3],m=a[r+4],p=a[r+5],t=a[r+6],b=a[r+7],C=a[r+8],w=a[r+9],v=a[r+10],M=a[r+11],y=a[r+12],I=a[r+13],P=a[r+14],_=a[r+15];let k=c[0],D=c[1],V=c[2],R=c[3];k=FF(k,D,V,R,o,7,T$1[0]),R=FF(R,k,D,V,f,12,T$1[1]),V=FF(V,R,k,D,s,17,T$1[2]),D=FF(D,V,R,k,g,22,T$1[3]),k=FF(k,D,V,R,m,7,T$1[4]),R=FF(R,k,D,V,p,12,T$1[5]),V=FF(V,R,k,D,t,17,T$1[6]),D=FF(D,V,R,k,b,22,T$1[7]),k=FF(k,D,V,R,C,7,T$1[8]),R=FF(R,k,D,V,w,12,T$1[9]),V=FF(V,R,k,D,v,17,T$1[10]),D=FF(D,V,R,k,M,22,T$1[11]),k=FF(k,D,V,R,y,7,T$1[12]),R=FF(R,k,D,V,I,12,T$1[13]),V=FF(V,R,k,D,P,17,T$1[14]),D=FF(D,V,R,k,_,22,T$1[15]),k=GG(k,D,V,R,f,5,T$1[16]),R=GG(R,k,D,V,t,9,T$1[17]),V=GG(V,R,k,D,M,14,T$1[18]),D=GG(D,V,R,k,o,20,T$1[19]),k=GG(k,D,V,R,p,5,T$1[20]),R=GG(R,k,D,V,v,9,T$1[21]),V=GG(V,R,k,D,_,14,T$1[22]),D=GG(D,V,R,k,m,20,T$1[23]),k=GG(k,D,V,R,w,5,T$1[24]),R=GG(R,k,D,V,P,9,T$1[25]),V=GG(V,R,k,D,g,14,T$1[26]),D=GG(D,V,R,k,C,20,T$1[27]),k=GG(k,D,V,R,I,5,T$1[28]),R=GG(R,k,D,V,s,9,T$1[29]),V=GG(V,R,k,D,b,14,T$1[30]),D=GG(D,V,R,k,y,20,T$1[31]),k=HH(k,D,V,R,p,4,T$1[32]),R=HH(R,k,D,V,C,11,T$1[33]),V=HH(V,R,k,D,M,16,T$1[34]),D=HH(D,V,R,k,P,23,T$1[35]),k=HH(k,D,V,R,f,4,T$1[36]),R=HH(R,k,D,V,m,11,T$1[37]),V=HH(V,R,k,D,b,16,T$1[38]),D=HH(D,V,R,k,v,23,T$1[39]),k=HH(k,D,V,R,I,4,T$1[40]),R=HH(R,k,D,V,o,11,T$1[41]),V=HH(V,R,k,D,g,16,T$1[42]),D=HH(D,V,R,k,t,23,T$1[43]),k=HH(k,D,V,R,w,4,T$1[44]),R=HH(R,k,D,V,y,11,T$1[45]),V=HH(V,R,k,D,_,16,T$1[46]),D=HH(D,V,R,k,s,23,T$1[47]),k=II(k,D,V,R,o,6,T$1[48]),R=II(R,k,D,V,b,10,T$1[49]),V=II(V,R,k,D,P,15,T$1[50]),D=II(D,V,R,k,p,21,T$1[51]),k=II(k,D,V,R,y,6,T$1[52]),R=II(R,k,D,V,g,10,T$1[53]),V=II(V,R,k,D,v,15,T$1[54]),D=II(D,V,R,k,f,21,T$1[55]),k=II(k,D,V,R,C,6,T$1[56]),R=II(R,k,D,V,_,10,T$1[57]),V=II(V,R,k,D,t,15,T$1[58]),D=II(D,V,R,k,I,21,T$1[59]),k=II(k,D,V,R,m,6,T$1[60]),R=II(R,k,D,V,M,10,T$1[61]),V=II(V,R,k,D,s,15,T$1[62]),D=II(D,V,R,k,w,21,T$1[63]),c[0]=c[0]+k|0,c[1]=c[1]+D|0,c[2]=c[2]+V|0,c[3]=c[3]+R|0}_doFinalize(){const e=this._data,r=e.words,a=this._nDataBytes*8,c=e.sigBytes*8;r[c>>>5]|=128<<24-c%32;const o=Math.floor(a/4294967296),f=a;r[(c+64>>>9<<4)+15]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,r[(c+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,e.sigBytes=(r.length+1)*4,this._process();const s=this._hash,g=s.words;for(let m=0;m<4;m+=1){const p=g[m];g[m]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}return s}clone(){const e=super.clone.call(this);return e._hash=this._hash.clone(),e}}const MD5=Hasher._createHelper(MD5Algo),HmacMD5=Hasher._createHmacHelper(MD5Algo);class EvpKDFAlgo extends Base{constructor(e){super(),this.cfg=Object.assign(new Base,{keySize:128/32,hasher:MD5Algo,iterations:1},e)}compute(e,r){let a;const{cfg:c}=this,o=c.hasher.create(),f=WordArray.create(),s=f.words,{keySize:g,iterations:m}=c;for(;s.length<g;){a&&o.update(a),a=o.update(e).finalize(r),o.reset();for(let p=1;p<m;p+=1)a=o.finalize(a),o.reset();f.concat(a)}return f.sigBytes=g*4,f}}const EvpKDF=(A,e,r)=>EvpKDFAlgo.create(r).compute(A,e);class Cipher extends BufferedBlockAlgorithm{constructor(e,r,a){super(),this.cfg=Object.assign(new Base,a),this._xformMode=e,this._key=r,this.reset()}static createEncryptor(e,r){return this.create(this._ENC_XFORM_MODE,e,r)}static createDecryptor(e,r){return this.create(this._DEC_XFORM_MODE,e,r)}static _createHelper(e){const r=a=>typeof a=="string"?PasswordBasedCipher:SerializableCipher;return{encrypt(a,c,o){return r(c).encrypt(e,a,c,o)},decrypt(a,c,o){return r(c).decrypt(e,a,c,o)}}}reset(){super.reset.call(this),this._doReset()}process(e){return this._append(e),this._process()}finalize(e){return e&&this._append(e),this._doFinalize()}}Cipher._ENC_XFORM_MODE=1;Cipher._DEC_XFORM_MODE=2;Cipher.keySize=128/32;Cipher.ivSize=128/32;class StreamCipher extends Cipher{constructor(...e){super(...e),this.blockSize=1}_doFinalize(){return this._process(!0)}}class BlockCipherMode extends Base{constructor(e,r){super(),this._cipher=e,this._iv=r}static createEncryptor(e,r){return this.Encryptor.create(e,r)}static createDecryptor(e,r){return this.Decryptor.create(e,r)}}function xorBlock(A,e,r){const a=A;let c;const o=this._iv;o?(c=o,this._iv=void 0):c=this._prevBlock;for(let f=0;f<r;f+=1)a[e+f]^=c[f]}class CBC extends BlockCipherMode{}CBC.Encryptor=class extends CBC{processBlock(A,e){const r=this._cipher,{blockSize:a}=r;xorBlock.call(this,A,e,a),r.encryptBlock(A,e),this._prevBlock=A.slice(e,e+a)}};CBC.Decryptor=class extends CBC{processBlock(A,e){const r=this._cipher,{blockSize:a}=r,c=A.slice(e,e+a);r.decryptBlock(A,e),xorBlock.call(this,A,e,a),this._prevBlock=c}};const Pkcs7={pad(A,e){const r=e*4,a=r-A.sigBytes%r,c=a<<24|a<<16|a<<8|a,o=[];for(let s=0;s<a;s+=4)o.push(c);const f=WordArray.create(o,a);A.concat(f)},unpad(A){const e=A,r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r}};class BlockCipher extends Cipher{constructor(e,r,a){super(e,r,Object.assign({mode:CBC,padding:Pkcs7},a)),this.blockSize=128/32}reset(){let e;super.reset.call(this);const{cfg:r}=this,{iv:a,mode:c}=r;this._xformMode===this.constructor._ENC_XFORM_MODE?e=c.createEncryptor:(e=c.createDecryptor,this._minBufferSize=1),this._mode=e.call(c,this,a&&a.words),this._mode.__creator=e}_doProcessBlock(e,r){this._mode.processBlock(e,r)}_doFinalize(){let e;const{padding:r}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(r.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),r.unpad(e)),e}}class CipherParams extends Base{constructor(e){super(),this.mixIn(e)}toString(e){return(e||this.formatter).stringify(this)}}const OpenSSLFormatter={stringify(A){let e;const{ciphertext:r,salt:a}=A;return a?e=WordArray.create([1398893684,1701076831]).concat(a).concat(r):e=r,e.toString(Base64)},parse(A){let e;const r=Base64.parse(A),a=r.words;return a[0]===1398893684&&a[1]===1701076831&&(e=WordArray.create(a.slice(2,4)),a.splice(0,4),r.sigBytes-=16),CipherParams.create({ciphertext:r,salt:e})}};class SerializableCipher extends Base{static encrypt(e,r,a,c){const o=Object.assign(new Base,this.cfg,c),f=e.createEncryptor(a,o),s=f.finalize(r),g=f.cfg;return CipherParams.create({ciphertext:s,key:a,iv:g.iv,algorithm:e,mode:g.mode,padding:g.padding,blockSize:f.blockSize,formatter:o.format})}static decrypt(e,r,a,c){let o=r;const f=Object.assign(new Base,this.cfg,c);return o=this._parse(o,f.format),e.createDecryptor(a,f).finalize(o.ciphertext)}static _parse(e,r){return typeof e=="string"?r.parse(e,this):e}}SerializableCipher.cfg=Object.assign(new Base,{format:OpenSSLFormatter});const OpenSSLKdf={execute(A,e,r,a){let c=a;c||(c=WordArray.random(64/8));const o=EvpKDFAlgo.create({keySize:e+r}).compute(A,c),f=WordArray.create(o.words.slice(e),r*4);return o.sigBytes=e*4,CipherParams.create({key:o,iv:f,salt:c})}};class PasswordBasedCipher extends SerializableCipher{static encrypt(e,r,a,c){const o=Object.assign(new Base,this.cfg,c),f=o.kdf.execute(a,e.keySize,e.ivSize);o.iv=f.iv;const s=SerializableCipher.encrypt.call(this,e,r,f.key,o);return s.mixIn(f),s}static decrypt(e,r,a,c){let o=r;const f=Object.assign(new Base,this.cfg,c);o=this._parse(o,f.format);const s=f.kdf.execute(a,e.keySize,e.ivSize,o.salt);return f.iv=s.iv,SerializableCipher.decrypt.call(this,e,o,s.key,f)}}PasswordBasedCipher.cfg=Object.assign(SerializableCipher.cfg,{kdf:OpenSSLKdf});const swapEndian=A=>A<<8&4278255360|A>>>8&16711935,Utf16BE={stringify(A){const{words:e,sigBytes:r}=A,a=[];for(let c=0;c<r;c+=2){const o=e[c>>>2]>>>16-c%4*8&65535;a.push(String.fromCharCode(o))}return a.join("")},parse(A){const e=A.length,r=[];for(let a=0;a<e;a+=1)r[a>>>1]|=A.charCodeAt(a)<<16-a%2*16;return WordArray.create(r,e*2)}},Utf16=Utf16BE,Utf16LE={stringify(A){const{words:e,sigBytes:r}=A,a=[];for(let c=0;c<r;c+=2){const o=swapEndian(e[c>>>2]>>>16-c%4*8&65535);a.push(String.fromCharCode(o))}return a.join("")},parse(A){const e=A.length,r=[];for(let a=0;a<e;a+=1)r[a>>>1]|=swapEndian(A.charCodeAt(a)<<16-a%2*16);return WordArray.create(r,e*2)}},W$2=[];class SHA1Algo extends Hasher{_doReset(){this._hash=new WordArray([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(e,r){const a=this._hash.words;let c=a[0],o=a[1],f=a[2],s=a[3],g=a[4];for(let m=0;m<80;m+=1){if(m<16)W$2[m]=e[r+m]|0;else{const t=W$2[m-3]^W$2[m-8]^W$2[m-14]^W$2[m-16];W$2[m]=t<<1|t>>>31}let p=(c<<5|c>>>27)+g+W$2[m];m<20?p+=(o&f|~o&s)+1518500249:m<40?p+=(o^f^s)+1859775393:m<60?p+=(o&f|o&s|f&s)-1894007588:p+=(o^f^s)-899497514,g=s,s=f,f=o<<30|o>>>2,o=c,c=p}a[0]=a[0]+c|0,a[1]=a[1]+o|0,a[2]=a[2]+f|0,a[3]=a[3]+s|0,a[4]=a[4]+g|0}_doFinalize(){const e=this._data,r=e.words,a=this._nDataBytes*8,c=e.sigBytes*8;return r[c>>>5]|=128<<24-c%32,r[(c+64>>>9<<4)+14]=Math.floor(a/4294967296),r[(c+64>>>9<<4)+15]=a,e.sigBytes=r.length*4,this._process(),this._hash}clone(){const e=super.clone.call(this);return e._hash=this._hash.clone(),e}}const SHA1=Hasher._createHelper(SHA1Algo),HmacSHA1=Hasher._createHmacHelper(SHA1Algo),H=[],K$1=[],isPrime=A=>{const e=Math.sqrt(A);for(let r=2;r<=e;r+=1)if(!(A%r))return!1;return!0},getFractionalBits=A=>(A-(A|0))*4294967296|0;let n=2,nPrime=0;for(;nPrime<64;)isPrime(n)&&(nPrime<8&&(H[nPrime]=getFractionalBits(n**(1/2))),K$1[nPrime]=getFractionalBits(n**(1/3)),nPrime+=1),n+=1;const W$1=[];class SHA256Algo extends Hasher{_doReset(){this._hash=new WordArray(H.slice(0))}_doProcessBlock(e,r){const a=this._hash.words;let c=a[0],o=a[1],f=a[2],s=a[3],g=a[4],m=a[5],p=a[6],t=a[7];for(let b=0;b<64;b+=1){if(b<16)W$1[b]=e[r+b]|0;else{const P=W$1[b-15],_=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,k=W$1[b-2],D=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;W$1[b]=_+W$1[b-7]+D+W$1[b-16]}const C=g&m^~g&p,w=c&o^c&f^o&f,v=(c<<30|c>>>2)^(c<<19|c>>>13)^(c<<10|c>>>22),M=(g<<26|g>>>6)^(g<<21|g>>>11)^(g<<7|g>>>25),y=t+M+C+K$1[b]+W$1[b],I=v+w;t=p,p=m,m=g,g=s+y|0,s=f,f=o,o=c,c=y+I|0}a[0]=a[0]+c|0,a[1]=a[1]+o|0,a[2]=a[2]+f|0,a[3]=a[3]+s|0,a[4]=a[4]+g|0,a[5]=a[5]+m|0,a[6]=a[6]+p|0,a[7]=a[7]+t|0}_doFinalize(){const e=this._data,r=e.words,a=this._nDataBytes*8,c=e.sigBytes*8;return r[c>>>5]|=128<<24-c%32,r[(c+64>>>9<<4)+14]=Math.floor(a/4294967296),r[(c+64>>>9<<4)+15]=a,e.sigBytes=r.length*4,this._process(),this._hash}clone(){const e=super.clone.call(this);return e._hash=this._hash.clone(),e}}const SHA256=Hasher._createHelper(SHA256Algo),HmacSHA256=Hasher._createHmacHelper(SHA256Algo);class SHA224Algo extends SHA256Algo{_doReset(){this._hash=new WordArray([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])}_doFinalize(){const e=super._doFinalize.call(this);return e.sigBytes-=4,e}}const SHA224=SHA256Algo._createHelper(SHA224Algo),HmacSHA224=SHA256Algo._createHmacHelper(SHA224Algo),K=[new X64Word(1116352408,3609767458),new X64Word(1899447441,602891725),new X64Word(3049323471,3964484399),new X64Word(3921009573,2173295548),new X64Word(961987163,4081628472),new X64Word(1508970993,3053834265),new X64Word(2453635748,2937671579),new X64Word(2870763221,3664609560),new X64Word(3624381080,2734883394),new X64Word(310598401,1164996542),new X64Word(607225278,1323610764),new X64Word(1426881987,3590304994),new X64Word(1925078388,4068182383),new X64Word(2162078206,991336113),new X64Word(2614888103,633803317),new X64Word(3248222580,3479774868),new X64Word(3835390401,2666613458),new X64Word(4022224774,944711139),new X64Word(264347078,2341262773),new X64Word(604807628,2007800933),new X64Word(770255983,1495990901),new X64Word(1249150122,1856431235),new X64Word(1555081692,3175218132),new X64Word(1996064986,2198950837),new X64Word(2554220882,3999719339),new X64Word(2821834349,766784016),new X64Word(2952996808,2566594879),new X64Word(3210313671,3203337956),new X64Word(3336571891,1034457026),new X64Word(3584528711,2466948901),new X64Word(113926993,3758326383),new X64Word(338241895,168717936),new X64Word(666307205,1188179964),new X64Word(773529912,1546045734),new X64Word(1294757372,1522805485),new X64Word(1396182291,2643833823),new X64Word(1695183700,2343527390),new X64Word(1986661051,1014477480),new X64Word(2177026350,1206759142),new X64Word(2456956037,344077627),new X64Word(2730485921,1290863460),new X64Word(2820302411,3158454273),new X64Word(3259730800,3505952657),new X64Word(3345764771,106217008),new X64Word(3516065817,3606008344),new X64Word(3600352804,1432725776),new X64Word(4094571909,1467031594),new X64Word(275423344,851169720),new X64Word(430227734,3100823752),new X64Word(506948616,1363258195),new X64Word(659060556,3750685593),new X64Word(883997877,3785050280),new X64Word(958139571,3318307427),new X64Word(1322822218,3812723403),new X64Word(1537002063,2003034995),new X64Word(1747873779,3602036899),new X64Word(1955562222,1575990012),new X64Word(2024104815,1125592928),new X64Word(2227730452,2716904306),new X64Word(2361852424,442776044),new X64Word(2428436474,593698344),new X64Word(2756734187,3733110249),new X64Word(3204031479,2999351573),new X64Word(3329325298,3815920427),new X64Word(3391569614,3928383900),new X64Word(3515267271,566280711),new X64Word(3940187606,3454069534),new X64Word(4118630271,4000239992),new X64Word(116418474,1914138554),new X64Word(174292421,2731055270),new X64Word(289380356,3203993006),new X64Word(460393269,320620315),new X64Word(685471733,587496836),new X64Word(852142971,1086792851),new X64Word(1017036298,365543100),new X64Word(1126000580,2618297676),new X64Word(1288033470,3409855158),new X64Word(1501505948,4234509866),new X64Word(1607167915,987167468),new X64Word(1816402316,1246189591)],W=[];for(let A=0;A<80;A+=1)W[A]=new X64Word;class SHA512Algo extends Hasher{constructor(){super(),this.blockSize=1024/32}_doReset(){this._hash=new X64WordArray([new X64Word(1779033703,4089235720),new X64Word(3144134277,2227873595),new X64Word(1013904242,4271175723),new X64Word(2773480762,1595750129),new X64Word(1359893119,2917565137),new X64Word(2600822924,725511199),new X64Word(528734635,4215389547),new X64Word(1541459225,327033209)])}_doProcessBlock(e,r){const a=this._hash.words,c=a[0],o=a[1],f=a[2],s=a[3],g=a[4],m=a[5],p=a[6],t=a[7],b=c.high;let C=c.low;const w=o.high;let v=o.low;const M=f.high;let y=f.low;const I=s.high;let P=s.low;const _=g.high;let k=g.low;const D=m.high;let V=m.low;const R=p.high;let U=p.low;const te=t.high;let B=t.low,j=b,ie=C,E=w,L=v,ee=M,J=y,Y=I,q=P,F=_,O=k,Z=D,se=V,$=R,X=U,ne=te,oe=B;for(let ue=0;ue<80;ue+=1){let fe,le;const ae=W[ue];if(ue<16)ae.high=e[r+ue*2]|0,le=ae.high,ae.low=e[r+ue*2+1]|0,fe=ae.low;else{const _e=W[ue-15],ke=_e.high,Fe=_e.low,je=(ke>>>1|Fe<<31)^(ke>>>8|Fe<<24)^ke>>>7,Le=(Fe>>>1|ke<<31)^(Fe>>>8|ke<<24)^(Fe>>>7|ke<<25),ze=W[ue-2],Re=ze.high,et=ze.low,st=(Re>>>19|et<<13)^(Re<<3|et>>>29)^Re>>>6,Qe=(et>>>19|Re<<13)^(et<<3|Re>>>29)^(et>>>6|Re<<26),ot=W[ue-7],Ne=ot.high,Me=ot.low,Pe=W[ue-16],Ue=Pe.high,Ge=Pe.low;fe=Le+Me,le=je+Ne+(fe>>>0<Le>>>0?1:0),fe+=Qe,le=le+st+(fe>>>0<Qe>>>0?1:0),fe+=Ge,le=le+Ue+(fe>>>0<Ge>>>0?1:0),ae.high=le,ae.low=fe}const de=F&Z^~F&$,re=O&se^~O&X,Q=j&E^j&ee^E&ee,ce=ie&L^ie&J^L&J,he=(j>>>28|ie<<4)^(j<<30|ie>>>2)^(j<<25|ie>>>7),ge=(ie>>>28|j<<4)^(ie<<30|j>>>2)^(ie<<25|j>>>7),pe=(F>>>14|O<<18)^(F>>>18|O<<14)^(F<<23|O>>>9),me=(O>>>14|F<<18)^(O>>>18|F<<14)^(O<<23|F>>>9),Ae=K[ue],ye=Ae.high,xe=Ae.low;let Ce=oe+me,we=ne+pe+(Ce>>>0<oe>>>0?1:0);Ce+=re,we=we+de+(Ce>>>0<re>>>0?1:0),Ce+=xe,we=we+ye+(Ce>>>0<xe>>>0?1:0),Ce+=fe,we=we+le+(Ce>>>0<fe>>>0?1:0);const ve=ge+ce,Se=he+Q+(ve>>>0<ge>>>0?1:0);ne=$,oe=X,$=Z,X=se,Z=F,se=O,O=q+Ce|0,F=Y+we+(O>>>0<q>>>0?1:0)|0,Y=ee,q=J,ee=E,J=L,E=j,L=ie,ie=Ce+ve|0,j=we+Se+(ie>>>0<Ce>>>0?1:0)|0}c.low=C+ie,C=c.low,c.high=b+j+(C>>>0<ie>>>0?1:0),o.low=v+L,v=o.low,o.high=w+E+(v>>>0<L>>>0?1:0),f.low=y+J,y=f.low,f.high=M+ee+(y>>>0<J>>>0?1:0),s.low=P+q,P=s.low,s.high=I+Y+(P>>>0<q>>>0?1:0),g.low=k+O,k=g.low,g.high=_+F+(k>>>0<O>>>0?1:0),m.low=V+se,V=m.low,m.high=D+Z+(V>>>0<se>>>0?1:0),p.low=U+X,U=p.low,p.high=R+$+(U>>>0<X>>>0?1:0),t.low=B+oe,B=t.low,t.high=te+ne+(B>>>0<oe>>>0?1:0)}_doFinalize(){const e=this._data,r=e.words,a=this._nDataBytes*8,c=e.sigBytes*8;return r[c>>>5]|=128<<24-c%32,r[(c+128>>>10<<5)+30]=Math.floor(a/4294967296),r[(c+128>>>10<<5)+31]=a,e.sigBytes=r.length*4,this._process(),this._hash.toX32()}clone(){const e=super.clone.call(this);return e._hash=this._hash.clone(),e}}const SHA512=Hasher._createHelper(SHA512Algo),HmacSHA512=Hasher._createHmacHelper(SHA512Algo);class SHA384Algo extends SHA512Algo{_doReset(){this._hash=new X64WordArray([new X64Word(3418070365,3238371032),new X64Word(1654270250,914150663),new X64Word(2438529370,812702999),new X64Word(355462360,4144912697),new X64Word(1731405415,4290775857),new X64Word(2394180231,1750603025),new X64Word(3675008525,1694076839),new X64Word(1203062813,3204075428)])}_doFinalize(){const e=super._doFinalize.call(this);return e.sigBytes-=16,e}}const SHA384=SHA512Algo._createHelper(SHA384Algo),HmacSHA384=SHA512Algo._createHmacHelper(SHA384Algo),RHO_OFFSETS=[],PI_INDEXES=[],ROUND_CONSTANTS=[];let _x=1,_y=0;for(let A=0;A<24;A+=1){RHO_OFFSETS[_x+5*_y]=(A+1)*(A+2)/2%64;const e=_y%5,r=(2*_x+3*_y)%5;_x=e,_y=r}for(let A=0;A<5;A+=1)for(let e=0;e<5;e+=1)PI_INDEXES[A+5*e]=e+(2*A+3*e)%5*5;let LFSR=1;for(let A=0;A<24;A+=1){let e=0,r=0;for(let a=0;a<7;a+=1){if(LFSR&1){const c=(1<<a)-1;c<32?r^=1<<c:e^=1<<c-32}LFSR&128?LFSR=LFSR<<1^113:LFSR<<=1}ROUND_CONSTANTS[A]=X64Word.create(e,r)}const T=[];for(let A=0;A<25;A+=1)T[A]=X64Word.create();class SHA3Algo extends Hasher{constructor(e){super(Object.assign({outputLength:512},e))}_doReset(){this._state=[];const e=this._state;for(let r=0;r<25;r+=1)e[r]=new X64Word;this.blockSize=(1600-2*this.cfg.outputLength)/32}_doProcessBlock(e,r){const a=this._state,c=this.blockSize/2;for(let o=0;o<c;o+=1){let f=e[r+2*o],s=e[r+2*o+1];f=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,s=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360;const g=a[o];g.high^=s,g.low^=f}for(let o=0;o<24;o+=1){for(let p=0;p<5;p+=1){let t=0,b=0;for(let w=0;w<5;w+=1){const v=a[p+5*w];t^=v.high,b^=v.low}const C=T[p];C.high=t,C.low=b}for(let p=0;p<5;p+=1){const t=T[(p+4)%5],b=T[(p+1)%5],C=b.high,w=b.low,v=t.high^(C<<1|w>>>31),M=t.low^(w<<1|C>>>31);for(let y=0;y<5;y+=1){const I=a[p+5*y];I.high^=v,I.low^=M}}for(let p=1;p<25;p+=1){let t,b;const C=a[p],w=C.high,v=C.low,M=RHO_OFFSETS[p];M<32?(t=w<<M|v>>>32-M,b=v<<M|w>>>32-M):(t=v<<M-32|w>>>64-M,b=w<<M-32|v>>>64-M);const y=T[PI_INDEXES[p]];y.high=t,y.low=b}const f=T[0],s=a[0];f.high=s.high,f.low=s.low;for(let p=0;p<5;p+=1)for(let t=0;t<5;t+=1){const b=p+5*t,C=a[b],w=T[b],v=T[(p+1)%5+5*t],M=T[(p+2)%5+5*t];C.high=w.high^~v.high&M.high,C.low=w.low^~v.low&M.low}const g=a[0],m=ROUND_CONSTANTS[o];g.high^=m.high,g.low^=m.low}}_doFinalize(){const e=this._data,r=e.words,a=e.sigBytes*8,c=this.blockSize*32;r[a>>>5]|=1<<24-a%32,r[(Math.ceil((a+1)/c)*c>>>5)-1]|=128,e.sigBytes=r.length*4,this._process();const o=this._state,f=this.cfg.outputLength/8,s=f/8,g=[];for(let m=0;m<s;m+=1){const p=o[m];let t=p.high,b=p.low;t=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360,b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g.push(b),g.push(t)}return new WordArray(g,f)}clone(){const e=super.clone.call(this);e._state=this._state.slice(0);const r=e._state;for(let a=0;a<25;a+=1)r[a]=r[a].clone();return e}}const SHA3=Hasher._createHelper(SHA3Algo),HmacSHA3=Hasher._createHmacHelper(SHA3Algo);/** @preserve
(c) 2012 by Cédric Mesnil. All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted
provided that the following conditions are met:

    - Redistributions of source code must retain the above copyright notice, this list of
    conditions and the following disclaimer.
    - Redistributions in binary form must reproduce the above copyright notice, this list
    of conditions and the following disclaimer in the documentation and/or other materials
    provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS
OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/const _zl=WordArray.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),_zr=WordArray.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_sl=WordArray.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_sr=WordArray.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_hl=WordArray.create([0,1518500249,1859775393,2400959708,2840853838]),_hr=WordArray.create([1352829926,1548603684,1836072691,2053994217,0]),f1=(A,e,r)=>A^e^r,f2=(A,e,r)=>A&e|~A&r,f3=(A,e,r)=>(A|~e)^r,f4=(A,e,r)=>A&r|e&~r,f5=(A,e,r)=>A^(e|~r),rotl=(A,e)=>A<<e|A>>>32-e;class RIPEMD160Algo extends Hasher{_doReset(){this._hash=WordArray.create([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(e,r){const a=e;for(let D=0;D<16;D+=1){const V=r+D,R=a[V];a[V]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}const c=this._hash.words,o=_hl.words,f=_hr.words,s=_zl.words,g=_zr.words,m=_sl.words,p=_sr.words;let t=c[0],b=c[1],C=c[2],w=c[3],v=c[4],M=c[0],y=c[1],I=c[2],P=c[3],_=c[4],k;for(let D=0;D<80;D+=1)k=t+a[r+s[D]]|0,D<16?k+=f1(b,C,w)+o[0]:D<32?k+=f2(b,C,w)+o[1]:D<48?k+=f3(b,C,w)+o[2]:D<64?k+=f4(b,C,w)+o[3]:k+=f5(b,C,w)+o[4],k|=0,k=rotl(k,m[D]),k=k+v|0,t=v,v=w,w=rotl(C,10),C=b,b=k,k=M+a[r+g[D]]|0,D<16?k+=f5(y,I,P)+f[0]:D<32?k+=f4(y,I,P)+f[1]:D<48?k+=f3(y,I,P)+f[2]:D<64?k+=f2(y,I,P)+f[3]:k+=f1(y,I,P)+f[4],k|=0,k=rotl(k,p[D]),k=k+_|0,M=_,_=P,P=rotl(I,10),I=y,y=k;k=c[1]+C+P|0,c[1]=c[2]+w+_|0,c[2]=c[3]+v+M|0,c[3]=c[4]+t+y|0,c[4]=c[0]+b+I|0,c[0]=k}_doFinalize(){const e=this._data,r=e.words,a=this._nDataBytes*8,c=e.sigBytes*8;r[c>>>5]|=128<<24-c%32,r[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,e.sigBytes=(r.length+1)*4,this._process();const o=this._hash,f=o.words;for(let s=0;s<5;s+=1){const g=f[s];f[s]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}return o}clone(){const e=super.clone.call(this);return e._hash=this._hash.clone(),e}}const RIPEMD160=Hasher._createHelper(RIPEMD160Algo),HmacRIPEMD160=Hasher._createHmacHelper(RIPEMD160Algo);class PBKDF2Algo extends Base{constructor(e){super(),this.cfg=Object.assign(new Base,{keySize:128/32,hasher:SHA1Algo,iterations:1},e)}compute(e,r){const{cfg:a}=this,c=HMAC.create(a.hasher,e),o=WordArray.create(),f=WordArray.create([1]),s=o.words,g=f.words,{keySize:m,iterations:p}=a;for(;s.length<m;){const t=c.update(r).finalize(f);c.reset();const b=t.words,C=b.length;let w=t;for(let v=1;v<p;v+=1){w=c.finalize(w),c.reset();const M=w.words;for(let y=0;y<C;y+=1)b[y]^=M[y]}o.concat(t),g[0]+=1}return o.sigBytes=m*4,o}}const PBKDF2=(A,e,r)=>PBKDF2Algo.create(r).compute(A,e),_SBOX=[],INV_SBOX=[],_SUB_MIX_0=[],_SUB_MIX_1=[],_SUB_MIX_2=[],_SUB_MIX_3=[],INV_SUB_MIX_0=[],INV_SUB_MIX_1=[],INV_SUB_MIX_2=[],INV_SUB_MIX_3=[],d=[];for(let A=0;A<256;A+=1)A<128?d[A]=A<<1:d[A]=A<<1^283;let x=0,xi=0;for(let A=0;A<256;A+=1){let e=xi^xi<<1^xi<<2^xi<<3^xi<<4;e=e>>>8^e&255^99,_SBOX[x]=e,INV_SBOX[e]=x;const r=d[x],a=d[r],c=d[a];let o=d[e]*257^e*16843008;_SUB_MIX_0[x]=o<<24|o>>>8,_SUB_MIX_1[x]=o<<16|o>>>16,_SUB_MIX_2[x]=o<<8|o>>>24,_SUB_MIX_3[x]=o,o=c*16843009^a*65537^r*257^x*16843008,INV_SUB_MIX_0[e]=o<<24|o>>>8,INV_SUB_MIX_1[e]=o<<16|o>>>16,INV_SUB_MIX_2[e]=o<<8|o>>>24,INV_SUB_MIX_3[e]=o,x?(x=r^d[d[d[c^r]]],xi^=d[d[xi]]):(xi=1,x=xi)}const RCON=[0,1,2,4,8,16,32,64,128,27,54];class AESAlgo extends BlockCipher{_doReset(){let e;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const r=this._keyPriorReset,a=r.words,c=r.sigBytes/4;this._nRounds=c+6;const f=(this._nRounds+1)*4;this._keySchedule=[];const s=this._keySchedule;for(let m=0;m<f;m+=1)m<c?s[m]=a[m]:(e=s[m-1],m%c?c>6&&m%c===4&&(e=_SBOX[e>>>24]<<24|_SBOX[e>>>16&255]<<16|_SBOX[e>>>8&255]<<8|_SBOX[e&255]):(e=e<<8|e>>>24,e=_SBOX[e>>>24]<<24|_SBOX[e>>>16&255]<<16|_SBOX[e>>>8&255]<<8|_SBOX[e&255],e^=RCON[m/c|0]<<24),s[m]=s[m-c]^e);this._invKeySchedule=[];const g=this._invKeySchedule;for(let m=0;m<f;m+=1){const p=f-m;m%4?e=s[p]:e=s[p-4],m<4||p<=4?g[m]=e:g[m]=INV_SUB_MIX_0[_SBOX[e>>>24]]^INV_SUB_MIX_1[_SBOX[e>>>16&255]]^INV_SUB_MIX_2[_SBOX[e>>>8&255]]^INV_SUB_MIX_3[_SBOX[e&255]]}}encryptBlock(e,r){this._doCryptBlock(e,r,this._keySchedule,_SUB_MIX_0,_SUB_MIX_1,_SUB_MIX_2,_SUB_MIX_3,_SBOX)}decryptBlock(e,r){const a=e;let c=a[r+1];a[r+1]=a[r+3],a[r+3]=c,this._doCryptBlock(a,r,this._invKeySchedule,INV_SUB_MIX_0,INV_SUB_MIX_1,INV_SUB_MIX_2,INV_SUB_MIX_3,INV_SBOX),c=a[r+1],a[r+1]=a[r+3],a[r+3]=c}_doCryptBlock(e,r,a,c,o,f,s,g){const m=e,p=this._nRounds;let t=m[r]^a[0],b=m[r+1]^a[1],C=m[r+2]^a[2],w=m[r+3]^a[3],v=4;for(let _=1;_<p;_+=1){const k=c[t>>>24]^o[b>>>16&255]^f[C>>>8&255]^s[w&255]^a[v];v+=1;const D=c[b>>>24]^o[C>>>16&255]^f[w>>>8&255]^s[t&255]^a[v];v+=1;const V=c[C>>>24]^o[w>>>16&255]^f[t>>>8&255]^s[b&255]^a[v];v+=1;const R=c[w>>>24]^o[t>>>16&255]^f[b>>>8&255]^s[C&255]^a[v];v+=1,t=k,b=D,C=V,w=R}const M=(g[t>>>24]<<24|g[b>>>16&255]<<16|g[C>>>8&255]<<8|g[w&255])^a[v];v+=1;const y=(g[b>>>24]<<24|g[C>>>16&255]<<16|g[w>>>8&255]<<8|g[t&255])^a[v];v+=1;const I=(g[C>>>24]<<24|g[w>>>16&255]<<16|g[t>>>8&255]<<8|g[b&255])^a[v];v+=1;const P=(g[w>>>24]<<24|g[t>>>16&255]<<16|g[b>>>8&255]<<8|g[C&255])^a[v];v+=1,m[r]=M,m[r+1]=y,m[r+2]=I,m[r+3]=P}}AESAlgo.keySize=256/32;const AES=BlockCipher._createHelper(AESAlgo),PC1=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],PC2=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],BIT_SHIFTS=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],SBOX_P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],SBOX_MASK=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];function exchangeLR(A,e){const r=(this._lBlock>>>A^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<A}function exchangeRL(A,e){const r=(this._rBlock>>>A^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<A}class DESAlgo extends BlockCipher{_doReset(){const r=this._key.words,a=[];for(let f=0;f<56;f+=1){const s=PC1[f]-1;a[f]=r[s>>>5]>>>31-s%32&1}this._subKeys=[];const c=this._subKeys;for(let f=0;f<16;f+=1){c[f]=[];const s=c[f],g=BIT_SHIFTS[f];for(let m=0;m<24;m+=1)s[m/6|0]|=a[(PC2[m]-1+g)%28]<<31-m%6,s[4+(m/6|0)]|=a[28+(PC2[m+24]-1+g)%28]<<31-m%6;s[0]=s[0]<<1|s[0]>>>31;for(let m=1;m<7;m+=1)s[m]>>>=(m-1)*4+3;s[7]=s[7]<<5|s[7]>>>27}this._invSubKeys=[];const o=this._invSubKeys;for(let f=0;f<16;f+=1)o[f]=c[15-f]}encryptBlock(e,r){this._doCryptBlock(e,r,this._subKeys)}decryptBlock(e,r){this._doCryptBlock(e,r,this._invSubKeys)}_doCryptBlock(e,r,a){const c=e;this._lBlock=e[r],this._rBlock=e[r+1],exchangeLR.call(this,4,252645135),exchangeLR.call(this,16,65535),exchangeRL.call(this,2,858993459),exchangeRL.call(this,8,16711935),exchangeLR.call(this,1,1431655765);for(let f=0;f<16;f+=1){const s=a[f],g=this._lBlock,m=this._rBlock;let p=0;for(let t=0;t<8;t+=1)p|=SBOX_P[t][((m^s[t])&SBOX_MASK[t])>>>0];this._lBlock=m,this._rBlock=g^p}const o=this._lBlock;this._lBlock=this._rBlock,this._rBlock=o,exchangeLR.call(this,1,1431655765),exchangeRL.call(this,8,16711935),exchangeRL.call(this,2,858993459),exchangeLR.call(this,16,65535),exchangeLR.call(this,4,252645135),c[r]=this._lBlock,c[r+1]=this._rBlock}}DESAlgo.keySize=64/32;DESAlgo.ivSize=64/32;DESAlgo.blockSize=64/32;const DES=BlockCipher._createHelper(DESAlgo);class TripleDESAlgo extends BlockCipher{_doReset(){const r=this._key.words;if(r.length!==2&&r.length!==4&&r.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");const a=r.slice(0,2),c=r.length<4?r.slice(0,2):r.slice(2,4),o=r.length<6?r.slice(0,2):r.slice(4,6);this._des1=DESAlgo.createEncryptor(WordArray.create(a)),this._des2=DESAlgo.createEncryptor(WordArray.create(c)),this._des3=DESAlgo.createEncryptor(WordArray.create(o))}encryptBlock(e,r){this._des1.encryptBlock(e,r),this._des2.decryptBlock(e,r),this._des3.encryptBlock(e,r)}decryptBlock(e,r){this._des3.decryptBlock(e,r),this._des2.encryptBlock(e,r),this._des1.decryptBlock(e,r)}}TripleDESAlgo.keySize=192/32;TripleDESAlgo.ivSize=64/32;TripleDESAlgo.blockSize=64/32;const TripleDES=BlockCipher._createHelper(TripleDESAlgo),S$1=[],C_$1=[],G$1=[];function nextState$1(){const A=this._X,e=this._C;for(let r=0;r<8;r+=1)C_$1[r]=e[r];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<C_$1[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<C_$1[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<C_$1[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<C_$1[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<C_$1[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<C_$1[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<C_$1[6]>>>0?1:0)|0,this._b=e[7]>>>0<C_$1[7]>>>0?1:0;for(let r=0;r<8;r+=1){const a=A[r]+e[r],c=a&65535,o=a>>>16,f=((c*c>>>17)+c*o>>>15)+o*o,s=((a&4294901760)*a|0)+((a&65535)*a|0);G$1[r]=f^s}A[0]=G$1[0]+(G$1[7]<<16|G$1[7]>>>16)+(G$1[6]<<16|G$1[6]>>>16)|0,A[1]=G$1[1]+(G$1[0]<<8|G$1[0]>>>24)+G$1[7]|0,A[2]=G$1[2]+(G$1[1]<<16|G$1[1]>>>16)+(G$1[0]<<16|G$1[0]>>>16)|0,A[3]=G$1[3]+(G$1[2]<<8|G$1[2]>>>24)+G$1[1]|0,A[4]=G$1[4]+(G$1[3]<<16|G$1[3]>>>16)+(G$1[2]<<16|G$1[2]>>>16)|0,A[5]=G$1[5]+(G$1[4]<<8|G$1[4]>>>24)+G$1[3]|0,A[6]=G$1[6]+(G$1[5]<<16|G$1[5]>>>16)+(G$1[4]<<16|G$1[4]>>>16)|0,A[7]=G$1[7]+(G$1[6]<<8|G$1[6]>>>24)+G$1[5]|0}class RabbitAlgo extends StreamCipher{constructor(...e){super(...e),this.blockSize=128/32,this.ivSize=64/32}_doReset(){const e=this._key.words,{iv:r}=this.cfg;for(let o=0;o<4;o+=1)e[o]=(e[o]<<8|e[o]>>>24)&16711935|(e[o]<<24|e[o]>>>8)&4278255360;this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16];const a=this._X;this._C=[e[2]<<16|e[2]>>>16,e[0]&4294901760|e[1]&65535,e[3]<<16|e[3]>>>16,e[1]&4294901760|e[2]&65535,e[0]<<16|e[0]>>>16,e[2]&4294901760|e[3]&65535,e[1]<<16|e[1]>>>16,e[3]&4294901760|e[0]&65535];const c=this._C;this._b=0;for(let o=0;o<4;o+=1)nextState$1.call(this);for(let o=0;o<8;o+=1)c[o]^=a[o+4&7];if(r){const o=r.words,f=o[0],s=o[1],g=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,m=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,p=g>>>16|m&4294901760,t=m<<16|g&65535;c[0]^=g,c[1]^=p,c[2]^=m,c[3]^=t,c[4]^=g,c[5]^=p,c[6]^=m,c[7]^=t;for(let b=0;b<4;b+=1)nextState$1.call(this)}}_doProcessBlock(e,r){const a=e,c=this._X;nextState$1.call(this),S$1[0]=c[0]^c[5]>>>16^c[3]<<16,S$1[1]=c[2]^c[7]>>>16^c[5]<<16,S$1[2]=c[4]^c[1]>>>16^c[7]<<16,S$1[3]=c[6]^c[3]>>>16^c[1]<<16;for(let o=0;o<4;o+=1)S$1[o]=(S$1[o]<<8|S$1[o]>>>24)&16711935|(S$1[o]<<24|S$1[o]>>>8)&4278255360,a[r+o]^=S$1[o]}}const Rabbit=StreamCipher._createHelper(RabbitAlgo),S=[],C_=[],G=[];function nextState(){const A=this._X,e=this._C;for(let r=0;r<8;r+=1)C_[r]=e[r];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<C_[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<C_[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<C_[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<C_[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<C_[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<C_[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<C_[6]>>>0?1:0)|0,this._b=e[7]>>>0<C_[7]>>>0?1:0;for(let r=0;r<8;r+=1){const a=A[r]+e[r],c=a&65535,o=a>>>16,f=((c*c>>>17)+c*o>>>15)+o*o,s=((a&4294901760)*a|0)+((a&65535)*a|0);G[r]=f^s}A[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0,A[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0,A[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0,A[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0,A[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0,A[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0,A[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0,A[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}class RabbitLegacyAlgo extends StreamCipher{constructor(...e){super(...e),this.blockSize=128/32,this.ivSize=64/32}_doReset(){const e=this._key.words,{iv:r}=this.cfg;this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16];const a=this._X;this._C=[e[2]<<16|e[2]>>>16,e[0]&4294901760|e[1]&65535,e[3]<<16|e[3]>>>16,e[1]&4294901760|e[2]&65535,e[0]<<16|e[0]>>>16,e[2]&4294901760|e[3]&65535,e[1]<<16|e[1]>>>16,e[3]&4294901760|e[0]&65535];const c=this._C;this._b=0;for(let o=0;o<4;o+=1)nextState.call(this);for(let o=0;o<8;o+=1)c[o]^=a[o+4&7];if(r){const o=r.words,f=o[0],s=o[1],g=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,m=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,p=g>>>16|m&4294901760,t=m<<16|g&65535;c[0]^=g,c[1]^=p,c[2]^=m,c[3]^=t,c[4]^=g,c[5]^=p,c[6]^=m,c[7]^=t;for(let b=0;b<4;b+=1)nextState.call(this)}}_doProcessBlock(e,r){const a=e,c=this._X;nextState.call(this),S[0]=c[0]^c[5]>>>16^c[3]<<16,S[1]=c[2]^c[7]>>>16^c[5]<<16,S[2]=c[4]^c[1]>>>16^c[7]<<16,S[3]=c[6]^c[3]>>>16^c[1]<<16;for(let o=0;o<4;o+=1)S[o]=(S[o]<<8|S[o]>>>24)&16711935|(S[o]<<24|S[o]>>>8)&4278255360,a[r+o]^=S[o]}}const RabbitLegacy=StreamCipher._createHelper(RabbitLegacyAlgo);function generateKeystreamWord(){const A=this._S;let e=this._i,r=this._j,a=0;for(let c=0;c<4;c+=1){e=(e+1)%256,r=(r+A[e])%256;const o=A[e];A[e]=A[r],A[r]=o,a|=A[(A[e]+A[r])%256]<<24-c*8}return this._i=e,this._j=r,a}class RC4Algo extends StreamCipher{_doReset(){const e=this._key,r=e.words,a=e.sigBytes;this._S=[];const c=this._S;for(let o=0;o<256;o+=1)c[o]=o;for(let o=0,f=0;o<256;o+=1){const s=o%a,g=r[s>>>2]>>>24-s%4*8&255;f=(f+c[o]+g)%256;const m=c[o];c[o]=c[f],c[f]=m}this._j=0,this._i=this._j}_doProcessBlock(e,r){const a=e;a[r]^=generateKeystreamWord.call(this)}}RC4Algo.keySize=256/32;RC4Algo.ivSize=0;const RC4=StreamCipher._createHelper(RC4Algo);class RC4DropAlgo extends RC4Algo{constructor(...e){super(...e),Object.assign(this.cfg,{drop:192})}_doReset(){super._doReset.call(this);for(let e=this.cfg.drop;e>0;e-=1)generateKeystreamWord.call(this)}}const RC4Drop=StreamCipher._createHelper(RC4DropAlgo);function generateKeystreamAndEncrypt(A,e,r,a){const c=A;let o;const f=this._iv;f?(o=f.slice(0),this._iv=void 0):o=this._prevBlock,a.encryptBlock(o,0);for(let s=0;s<r;s+=1)c[e+s]^=o[s]}class CFB extends BlockCipherMode{}CFB.Encryptor=class extends CFB{processBlock(A,e){const r=this._cipher,{blockSize:a}=r;generateKeystreamAndEncrypt.call(this,A,e,a,r),this._prevBlock=A.slice(e,e+a)}};CFB.Decryptor=class extends CFB{processBlock(A,e){const r=this._cipher,{blockSize:a}=r,c=A.slice(e,e+a);generateKeystreamAndEncrypt.call(this,A,e,a,r),this._prevBlock=c}};class CTR extends BlockCipherMode{}CTR.Encryptor=class extends CTR{processBlock(A,e){const r=A,a=this._cipher,{blockSize:c}=a,o=this._iv;let f=this._counter;o&&(this._counter=o.slice(0),f=this._counter,this._iv=void 0);const s=f.slice(0);a.encryptBlock(s,0),f[c-1]=f[c-1]+1|0;for(let g=0;g<c;g+=1)r[e+g]^=s[g]}};CTR.Decryptor=CTR.Encryptor;const incWord=A=>{let e=A;if((A>>24&255)===255){let r=A>>16&255,a=A>>8&255,c=A&255;r===255?(r=0,a===255?(a=0,c===255?c=0:c+=1):a+=1):r+=1,e=0,e+=r<<16,e+=a<<8,e+=c}else e+=1<<24;return e},incCounter=A=>{const e=A;return e[0]=incWord(e[0]),e[0]===0&&(e[1]=incWord(e[1])),e};/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */class CTRGladman extends BlockCipherMode{}CTRGladman.Encryptor=class extends CTRGladman{processBlock(A,e){const r=A,a=this._cipher,{blockSize:c}=a,o=this._iv;let f=this._counter;o&&(this._counter=o.slice(0),f=this._counter,this._iv=void 0),incCounter(f);const s=f.slice(0);a.encryptBlock(s,0);for(let g=0;g<c;g+=1)r[e+g]^=s[g]}};CTRGladman.Decryptor=CTRGladman.Encryptor;class ECB extends BlockCipherMode{}ECB.Encryptor=class extends ECB{processBlock(A,e){this._cipher.encryptBlock(A,e)}};ECB.Decryptor=class extends ECB{processBlock(A,e){this._cipher.decryptBlock(A,e)}};class OFB extends BlockCipherMode{}OFB.Encryptor=class extends OFB{processBlock(A,e){const r=A,a=this._cipher,{blockSize:c}=a,o=this._iv;let f=this._keystream;o&&(this._keystream=o.slice(0),f=this._keystream,this._iv=void 0),a.encryptBlock(f,0);for(let s=0;s<c;s+=1)r[e+s]^=f[s]}};OFB.Decryptor=OFB.Encryptor;const AnsiX923={pad(A,e){const r=A,a=r.sigBytes,c=e*4,o=c-a%c,f=a+o-1;r.clamp(),r.words[f>>>2]|=o<<24-f%4*8,r.sigBytes+=o},unpad(A){const e=A,r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r}},Iso10126={pad(A,e){const r=e*4,a=r-A.sigBytes%r;A.concat(WordArray.random(a-1)).concat(WordArray.create([a<<24],1))},unpad(A){const e=A,r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r}},ZeroPadding={pad(A,e){const r=A,a=e*4;r.clamp(),r.sigBytes+=a-(A.sigBytes%a||a)},unpad(A){const e=A,r=e.words;for(let a=e.sigBytes-1;a>=0;a-=1)if(r[a>>>2]>>>24-a%4*8&255){e.sigBytes=a+1;break}}},Iso97971={pad(A,e){A.concat(WordArray.create([2147483648],1)),ZeroPadding.pad(A,e)},unpad(A){const e=A;ZeroPadding.unpad(e),e.sigBytes-=1}},NoPadding={pad(){},unpad(){}},HexFormatter={stringify(A){return A.ciphertext.toString(Hex)},parse(A){const e=Hex.parse(A);return CipherParams.create({ciphertext:e})}},CryptoES={lib:{Base,WordArray,BufferedBlockAlgorithm,Hasher,Cipher,StreamCipher,BlockCipherMode,BlockCipher,CipherParams,SerializableCipher,PasswordBasedCipher},x64:{Word:X64Word,WordArray:X64WordArray},enc:{Hex,Latin1,Utf8,Utf16,Utf16BE,Utf16LE,Base64},algo:{HMAC,MD5:MD5Algo,SHA1:SHA1Algo,SHA224:SHA224Algo,SHA256:SHA256Algo,SHA384:SHA384Algo,SHA512:SHA512Algo,SHA3:SHA3Algo,RIPEMD160:RIPEMD160Algo,PBKDF2:PBKDF2Algo,EvpKDF:EvpKDFAlgo,AES:AESAlgo,DES:DESAlgo,TripleDES:TripleDESAlgo,Rabbit:RabbitAlgo,RabbitLegacy:RabbitLegacyAlgo,RC4:RC4Algo,RC4Drop:RC4DropAlgo},mode:{CBC,CFB,CTR,CTRGladman,ECB,OFB},pad:{Pkcs7,AnsiX923,Iso10126,Iso97971,NoPadding,ZeroPadding},format:{OpenSSL:OpenSSLFormatter,Hex:HexFormatter},kdf:{OpenSSL:OpenSSLKdf},MD5,HmacMD5,SHA1,HmacSHA1,SHA224,HmacSHA224,SHA256,HmacSHA256,SHA384,HmacSHA384,SHA512,HmacSHA512,SHA3,HmacSHA3,RIPEMD160,HmacRIPEMD160,PBKDF2,EvpKDF,AES,DES,TripleDES,Rabbit,RabbitLegacy,RC4,RC4Drop},mainHtml=`
  <div id="main-container" tabindex="0" class="hide-previewer disabled" 
    ondragstart="return false;" ondrop="return false;">
    <div id="viewer"></div>
    <div id="previewer"></div>
    <div id="top-panel"> 
      <div class="subpanel panel-item">
        <div id="toggle-previewer" class="panel-button panel-item">
          <img src="${Icons.icon_sidebar}"/>
        </div> 
      </div>
      <div id="modes" class="subpanel panel-item">
        <div id="button-mode-text" class="panel-button panel-item" title="Text Tool">
          <img src="${Icons.icon_caret}"/>
        </div> 
        <div id="button-mode-hand" class="panel-button panel-item" title="Grab Tool">
          <img src="${Icons.icon_hand}"/>
        </div> 
        <div id="button-mode-annotation" class="panel-button panel-item" title="Annotation Tool">
          <img src="${Icons.icon_popup}"/>
        </div> 
        <div class="panel-v-separator margin-s-5 panel-item"></div>
        <div id="button-open-file" class="panel-button panel-item" title="Open PDF">
          <img src="${Icons.icon_load}"/>
        </div> 
        <div id="button-save-file" class="panel-button panel-item" title="Save PDF...">
          <img src="${Icons.icon_download}"/>
        </div> 
        <div id="button-close-file" class="panel-button panel-item">
          <img src="${Icons.icon_close2}"/>
        </div> 
      </div>
    </div>
    <div id="bottom-panel">
      <div id="paginator" class="subpanel panel-item">
        <div id="paginator-prev" class="panel-button" title="Previous Page">
          <img src="${Icons.icon_arrow_up}"/>
        </div>
        <div id="paginator-next" class="panel-button" title="Next Page">
          <img src="${Icons.icon_arrow_down}"/>
        </div>
        <input id="paginator-input" type="text">
        <span>&nbsp/&nbsp</span>
        <span id="paginator-total">0</span>
      </div>
      <div class="panel-v-separator panel-item"></div>
      <div id="rotator" class="subpanel panel-item">
        <div id="rotate-counter-clockwise" class="panel-button" title="Rotate Counter-Clockwise">
          <img src="${Icons.icon_counter_clockwise}"/>
        </div>
        <div id="rotate-clockwise" class="panel-button" title="Rotate Clockwise">
          <img src="${Icons.icon_clockwise}"/>
        </div>
      </div>
      <div class="panel-v-separator panel-item"></div>
      <div id="zoomer" class="subpanel panel-item">
        <div id="zoom-out" class="panel-button" title="Zoom Out">
          <img src="${Icons.icon_minus}"/>
        </div>
        <div id="zoom-in" class="panel-button" title="Zoom In">
          <img src="${Icons.icon_plus}"/>
        </div>
        <div id="zoom-fit-viewer" class="panel-button" title="Fit to View">
          <img src="${Icons.icon_fit_viewer}"/>
        </div>
        <div id="zoom-fit-page" class="panel-button" title="Fit to Page">
          <img src="${Icons.icon_fit_page}"/>
        </div>
      </div>
    </div>
    <div id="command-panel">
      <div class="command-panel-row">
        <div id="button-command-comparison-close" 
          class="panel-button command-panel-subitem accent">
          <img src="${Icons.icon_close2}"/>
        </div>
        <div id="button-command-comparison-open" 
          class="panel-button command-panel-subitem accent">
          <img src="${Icons.icon_load}"/>
        </div>
        <div id="button-command-undo" 
          class="panel-button command-panel-subitem accent">
          <img src="${Icons.icon_back}"/>
        </div>
      </div>      
    </div>
    <div id="annotation-panel">
      <div class="annotation-panel-row">
        <div id="button-annotation-edit-text" 
          class="panel-button annotation-panel-subitem" title="Edit Annotation">
          <img src="${Icons.icon_text}"/>
        </div> 
        <div id="button-annotation-delete" 
          class="panel-button annotation-panel-subitem" title="Delete Annotation">
          <img src="${Icons.icon_close}"/>
        </div> 
        <div id="button-annotation-mode-select" 
          class="panel-button annotation-panel-item" title="Select Annotations">
          <img src="${Icons.icon_pointer}"/>
        </div> 
      </div>
      <div class="annotation-panel-row">
        <div id="button-annotation-pen-undo" 
          class="panel-button annotation-panel-subitem button-annotation-undo" title="Undo">
          <img src="${Icons.icon_back}"/>
        </div> 
        <div id="button-annotation-pen-clear" 
          class="panel-button annotation-panel-subitem button-annotation-clear" title="Clear">
          <img src="${Icons.icon_close}"/>
        </div> 
        <div id="button-annotation-pen-save" 
          class="panel-button annotation-panel-subitem button-annotation-save" title="Save">
          <img src="${Icons.icon_ok}"/>
        </div> 
        <div id="button-annotation-mode-pen" 
          class="panel-button annotation-panel-item" title="Create/Edit Lines">
          <img src="${Icons.icon_pen}"/>
        </div> 
      </div>
      <div class="annotation-panel-row">
        <div id="button-annotation-geometric-undo" 
          class="panel-button annotation-panel-subitem button-annotation-undo" title="Undo">
          <img src="${Icons.icon_back}"/>
        </div> 
        <div id="button-annotation-geometric-clear" 
          class="panel-button annotation-panel-subitem button-annotation-clear" title="Clear">
          <img src="${Icons.icon_close}"/>
        </div> 
        <div id="button-annotation-geometric-save" 
          class="panel-button annotation-panel-subitem button-annotation-save" title="Save">
          <img src="${Icons.icon_ok}"/>
        </div> 
        <div id="button-annotation-mode-geometric" 
          class="panel-button annotation-panel-item" title="Create/Edit Shapes">
          <img src="${Icons.icon_geometric}"/>
        </div>
      </div>
      <div class="annotation-panel-row">
        <div id="button-annotation-text-undo" 
          class="panel-button annotation-panel-subitem button-annotation-undo" title="Undo">
          <img src="${Icons.icon_back}"/>
        </div> 
        <div id="button-annotation-text-clear" 
          class="panel-button annotation-panel-subitem button-annotation-clear" title="Clear">
          <img src="${Icons.icon_close}"/>
        </div> 
        <div id="button-annotation-text-save" 
          class="panel-button annotation-panel-subitem button-annotation-save" title="Save">
          <img src="${Icons.icon_ok}"/>
        </div> 
        <div id="button-annotation-mode-text" 
          class="panel-button annotation-panel-item" title="Create/Edit Annotation Text">
          <img src="${Icons.icon_text2}"/>
        </div>
      </div>
    </div>

    <div id="focused-annotation-panel">
      <p id="focused-annotation-author" class="line-clamp"></p>
      <p id="focused-annotation-date" class="line-clamp"></p>
      <p id="focused-annotation-text" class="line-clamp"></p>
    </div>

    <input id="open-file-input" class="abs-hidden" type="file" accept="application/pdf">
    <input id="open-comparable-file-input" class="abs-hidden" type="file" accept="application/pdf">
  </div>
`,passwordDialogHtml=`
  <div class="abs-full-size-overlay password-dialog">
    <div class="form">
      <input class="password-input" type="password" maxlength="127"/>
      <div class="buttons">
        <div class="panel-button password-ok">
          <img src="${Icons.icon_ok}"/>
        </div>
        <div class="panel-button password-cancel">
          <img src="${Icons.icon_close}"/>
        </div>
      </div>
    </div>
  </div>
`,appName="tspdf",styles=`
<style>
  ${getCommonStyles(appName)}
  
  #bottom-panel {
    left: calc(50% - 200px);
    width: 400px;
  }
  .compact #bottom-panel {  
    left: calc(50% - 160px);  
    width: 320px;
  }

  #viewer {
    justify-content: flex-start;
  }

  #paginator-input {
    text-align: center; 
    font-size: 16px;
    width: 30px;
    height: 30px;
    margin: 2px;
    padding: 0;
    outline: none;
    border: none;
    color: var(--${appName}-color-fg-primary-final);
    background-color: var(--${appName}-color-primary-final);
  }
  #paginator-total {
    margin: 4px;
  }

  .page-container {
    margin: 10px auto;
  }  
  
  .page-text {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    margin: 0;
    padding: 0;
    overflow: hidden;
    line-height: 1;
  }
  .page-text span {
    cursor: text;
    position: absolute;
    white-space: pre;
    color: transparent;
    transform-origin: 0% 0%;
  }
  .page-text ::selection {
    background: var(--${appName}-color-text-selection-final);
  }
  .mode-hand .page-text span {
    cursor: grab;
  }
  .dummy-corner {    
    position: absolute;
    width: 0;
    height: 0;
  }
  .dummy-corner.bl {
    bottom: 0;
    left: 0;
  }
  .dummy-corner.br {
    bottom: 0;
    right: 0;
  }
  .dummy-corner.tr {
    top: 0;
    right: 0;
  }
  .dummy-corner.tl {
    top: 0;
    left: 0;
  }

  .password-dialog {
    z-index: 10;
    pointer-events: all !important;
  }
  .password-dialog .form {
    position: absolute;
    display: flex;
    flex-direction: row;
    justify-content: stretch;
    align-items: stretch;
    flex-grow: 0;
    flex-shrink: 0;
    left: calc(50% - 160px);
    top: calc(50% - 25px);
    width: 320px;
    height: 50px;
    background: var(--${appName}-color-primary-tr-final);
    box-shadow: 0 0 10px var(--${appName}-color-shadow-final);
  }
  .password-dialog input {
    width: 220px;
    margin: 10px 0 10px 10px;
    padding: 5px;
    font-size: 16px;
    outline: none;
    border: none;
    color: var(--${appName}-color-fg-primary-final);
    background-color: var(--${appName}-color-primary-final);
  }
  .password-dialog input::placeholder {
    font-size: 14px;
    font-style: italic;
    color: var(--${appName}-color-fg-primary-final);
  }
  .password-dialog .buttons {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    flex-grow: 1;
    flex-shrink: 1;
    width: 100px;
  }

  <!-- .mode-hand .page-text {
    visibility: hidden;
  }
  .mode-comparison .page-annotations,
  .mode-comparison .page-text {
    visibility: hidden;
  }
  .mode-text .page-comparison,
  .mode-hand .page-comparison,
  .mode-annotation .page-comparison {
    visibility: hidden;
  } -->
  
  #button-command-comparison-open,
  #button-command-comparison-close {
    position: absolute;
    right: 0;
    top: 0;
  }
  :not(.mode-comparison) #button-command-comparison-open,
  .comparison-loaded #button-command-comparison-open,
  :not(.comparison-loaded) #button-command-comparison-close {
    cursor: default;
    opacity: 0;
    transform: scale(0);
    transition: opacity 0.1s ease-in, transform 0s linear 0.1s;
  }
  .mode-comparison:not(.comparison-loaded) #button-command-comparison-open,
  .mode-comparison.comparison-loaded #button-command-comparison-close { 
    cursor: pointer;
    opacity: 100;
    transform: scale(1);
    transition: opacity 0.1s ease-out 0.35s, transform 0s linear 0.35s;
  }

  .page-comparison {
    width: 0;
    height: 0;
  }
  .page-comparison-areas {
    z-index: 2;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }
  .comparison-area-rect {
    stroke: red;
    stroke-width: 3px;
    fill: none;
  }
  .comparison-area-image {
    opacity: 0;
  }
  .transparent .comparison-area-image {
    opacity: 0.5;
  }
  .opaque .comparison-area-image {
    opacity: 1;
  }

</style>
`;function getNextNode(A){if(A.hasChildNodes())return A.firstChild;for(;A&&!A.nextSibling;)A=A.parentNode;return A?A.nextSibling:null}function getRangeNodes(A){let e=A.startContainer;const r=A.endContainer;if(e===r)return[e];const a=[];for(;e&&e!==r;)a.push(e=getNextNode(e));for(e=A.startContainer;e&&e!==A.commonAncestorContainer;)a.unshift(e),e=e.parentNode;return a}function getSelectionInfosFromRangeSpans(A){var e;const r=getRangeNodes(A).filter(c=>c?.nodeType===3),a=[];for(let c=0;c<r.length;c++){const o=r[c],f=o.textContent;if(!f)continue;const s=((e=o.textContent)===null||e===void 0?void 0:e.length)||0;let g=0,m=s;c===0&&(g=A.startOffset),c===r.length-1&&(m=A.endOffset);const p=f.slice(g,m);if(!p)continue;const t=o.parentElement;if(!t||t.tagName.toLowerCase()!=="span")continue;const b=t.querySelectorAll(".dummy-corner");if(b.length!==4)continue;const C=new u,w=new u,v=new u,M=new u;b.forEach(U=>{const{x:te,y:B}=U.getBoundingClientRect();U.classList.contains("bl")?C.set(te,B):U.classList.contains("br")?w.set(te,B):U.classList.contains("tr")?v.set(te,B):U.classList.contains("tl")&&M.set(te,B)});const y=g/s,I=m/s,P=u.subtract(w,C),_=u.subtract(v,M),k=u.add(C,u.multiplyByScalar(P,y)),D=u.add(C,u.multiplyByScalar(P,I)),V=u.add(M,u.multiplyByScalar(_,I)),R=u.add(M,u.multiplyByScalar(_,y));a.push({text:p,bottomLeft:k,bottomRight:D,topRight:V,topLeft:R})}return a}function getSelectionInfosFromSelection(A){const e=A.getRangeAt(0);return getSelectionInfosFromRangeSpans(e)}var __awaiter$1m=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PageTextView{constructor(e){if(this.onPointerDown=r=>{var a;this._divModeTimer&&(clearTimeout(this._divModeTimer),this._divModeTimer=null),(a=this._renderTask)===null||a===void 0||a.expandTextDivs(!0)},this.onPointerUp=r=>{this._divModeTimer=setTimeout(()=>{var a;(a=this._renderTask)===null||a===void 0||a.expandTextDivs(!1),this._divModeTimer=null},300)},!e)throw new Error("Page proxy is not defined");this._pageProxy=e,this._container=document.createElement("div"),this._container.classList.add("page-text"),this._container.addEventListener("pointerdown",this.onPointerDown),this._container.addEventListener("pointerup",this.onPointerUp)}static appendPageTextAsync(e,r,a){return __awaiter$1m(this,void 0,void 0,function*(){const c=new PageTextView(e);try{if(!(yield c.renderTextLayerAsync(a))||c._destroyed)return null}catch(o){return console.error(o),null}return r.append(c._container),c})}destroy(){this.remove(),this._container=null,this._destroyed=!0}remove(){this.destroyRenderTask(),this._container&&this._container.remove()}renderTextLayerAsync(e){return __awaiter$1m(this,void 0,void 0,function*(){this.destroyRenderTask(),this.clear();const r=this._pageProxy.getViewport({scale:e}),a=this._pageProxy.streamTextContent();this._renderTask=pdfExports.renderTextLayer({container:this._container,textContentStream:a,viewport:r,enhanceTextSelection:!1});try{yield this._renderTask.promise}catch(o){if(o.message==="TextLayer task cancelled.")return!1;throw o}return this._container.querySelectorAll("span").forEach(o=>{const f=document.createElement("span");f.classList.add("dummy-corner","bl");const s=document.createElement("span");s.classList.add("dummy-corner","br");const g=document.createElement("span");g.classList.add("dummy-corner","tr");const m=document.createElement("span");m.classList.add("dummy-corner","tl"),o.append(f,s,g,m)}),!0})}clear(){this._container.innerHTML=""}destroyRenderTask(){this._renderTask&&(this._renderTask.cancel(),this._renderTask=null)}}const maxGeneration=65535,objectTypes={UNKNOWN:0,NULL:1,BOOLEAN:2,NUMBER:3,STRING_LITERAL:4,STRING_HEX:5,NAME:6,ARRAY:7,DICTIONARY:8,STREAM:9},valueTypes={UNKNOWN:0,NULL:1,BOOLEAN:2,NUMBER:3,STRING_LITERAL:4,STRING_HEX:5,NAME:6,ARRAY:7,DICTIONARY:8,STREAM:9,REF:10,COMMENT:11},dictTypes={XREF:"/XRef",XOBJECT:"/XObject",CATALOG:"/Catalog",PAGE_TREE:"/Pages",PAGE:"/Page",ANNOTATION:"/Annot",BORDER_STYLE:"/Border",OPTIONAL_CONTENT_GROUP:"/OCG",OPTIONAL_CONTENT_MD:"/OCMD",EXTERNAL_DATA:"/ExDATA",ACTION:"/Action",MEASURE:"/Measure",DEV_EXTENSIONS:"/DeveloperExtensions",GRAPHICS_STATE:"/ExtGState",CRYPT_FILTER:"/CryptFilter",SOFT_MASK:"/Mask",GROUP:"/Group",FONT:"/Font",FONT_DESCRIPTOR:"/FontDescriptor",ENCODING:"/Encoding",EMPTY:""},xRefTypes={TABLE:0,STREAM:1,HYBRID:2},xRefEntryTypes={FREE:0,NORMAL:1,COMPRESSED:2},streamFilters={ASCII85:"/ASCII85Decode",ASCIIHEX:"/ASCIIHexDecode",CCF:"/CCITTFaxDecode",CRYPT:"/Crypt",DCT:"/DCTDecode",FLATE:"/FlateDecode",JBIG2:"/JBIG2Decode",JPX:"/JPXDecode",LZW:"/LZWDecode",RLX:"/RunLengthDecode"},flatePredictors={NONE:1,TIFF:2,PNG_NONE:10,PNG_SUB:11,PNG_UP:12,PNG_AVERAGE:13,PNG_PAETH:14,PNG_OPTIMUM:15},streamTypes={XREF:"/XRef",OBJECT_STREAM:"/ObjStm",FORM_XOBJECT:"/XObject",METADATA_STREAM:"/Metadata"},supportedFilters=new Set([streamFilters.FLATE,streamFilters.DCT,streamFilters.JBIG2,streamFilters.JPX]),cryptVersions={RC4_40:1,RC4_128:2,AES_128:4,AES_256:5},cryptRevisions={RC4_40:2,RC4_128:3,AES_128:4,AES_256:5,AES_256_V2:6},cryptMethods={NONE:"/None",RC4:"/V2",AES_128:"/AESV2",AES_256:"/AESV3"},authEvents={DOC_OPEN:"/DocOpen",EMBEDDED_OPEN:"/EFOpen"},annotationTypes={TEXT:"/Text",LINK:"/Link",FREE_TEXT:"/FreeText",LINE:"/Line",SQUARE:"/Square",CIRCLE:"/Circle",POLYGON:"/Polygon",POLYLINE:"/PolyLine",HIGHLIGHT:"/Highlight",UNDERLINE:"/Underline",SQUIGGLY:"/Squiggly",STRIKEOUT:"/StrikeOut",STAMP:"/Stamp",CARET:"/Caret",INK:"/Ink",POPUP:"/Popup",FILE_ATTACHMENT:"/FileAttachment",SOUND:"/Sound",MOVIE:"/Movie",WIDGET:"/Widget",SCREEN:"/Screen",PRINTER_MARK:"/PrinterMark",TRAPNET:"/TrapNet",WATERMARK:"/Watermark",THREED:"/3D",REDACT:"/Redact",PROJECTION:"/Projection",RICH_MEDIA:"/RichMedia"},annotationStateModelTypes={MARKED:"/Marked",REVIEW:"/Review"},annotationMarkedStates={MARKED:"/Marked",UNMARKED:"/Unmarked"},annotationReviewStates={ACCEPTED:"/Accepted",REJECTED:"/Rejected",CANCELLED:"/Cancelled",COMPLETED:"/Completed",NONE:"/None"},annotationIconTypes={COMMENT:"/Comment",KEY:"/Key",NOTE:"/Note",HELP:"/Help",NEW_PARAGRAPH:"/NewParagraph",PARAGRAPH:"/Paragraph",INSERT:"/Insert"},freeTextIntents={PLAIN_TEXT:"/FreeText",WITH_CALLOUT:"/FreeTextCallout",CLICK_TO_TYPE:"/FreeTextTypeWriter"},markupAnnotationReplyTypes={REPLY:"/R",GROUP:"/Group"},stampTypes={DRAFT:"/Draft",NOT_APPROVED:"/NotApproved",APPROVED:"/Approved",AS_IS:"/AsIs",FOR_COMMENT:"/ForComment",EXPERIMENTAL:"/Experimental",FINAL:"/Final",SOLD:"/Sold",EXPIRED:"/Expired",PUBLIC:"/ForPublicRelease",NOT_PUBLIC:"/NotForPublicRelease",DEPARTMENTAL:"/Departmental",CONFIDENTIAL:"/Confidential",SECRET:"/TopSecret"},polyIntents={CLOUD:"/PolygonCloud",POLYGON_DIMENSION:"/PolygonDimension",POLYLINE_DIMENSION:"/PolyLineDimension"},lineIntents={ARROW:"/LineArrow",DIMENSION:"/LineDimension"},lineCaptionPositions={INLINE:"/Inline",TOP:"/Top"},lineEndingTypes={SQUARE:"/Square",CIRCLE:"/Circle",DIAMOND:"/Diamond",ARROW_OPEN:"/OpenArrow",ARROW_CLOSED:"/ClosedArrow",NONE:"/None",BUTT:"/Butt",ARROW_OPEN_R:"/ROpenArrow",ARROW_CLOSED_R:"/RClosedArrow",SLASH:"/Slash"},lineCapStyles={BUTT:0,ROUND:1,SQUARE:2},lineJoinStyles={MITER:0,ROUND:1,BEVEL:2},justificationTypes={LEFT:0,CENTER:1,RIGHT:2},renderingIntents={ABSOLUTE:"/AbsoluteColorimetric",RELATIVE:"/RelativeColorimetric",SATURATION:"/Saturation",PERCEPTUAL:"/Perceptual"},blendModes={NORMAL:"/Normal",COMPATIBLE:"/Compatible",MULTIPLY:"/Multiply",SCREEN:"/Screen",OVERLAY:"/Overlay",DARKEN:"/Darken",LIGHTEN:"/Lighten",COLOR_DODGE:"/ColorDodge",COLOR_BURN:"/ColorBurn",HARD_LIGHT:"/HardLight",SOFT_LIGHT:"/SoftLight",DIFFERENCE:"/Difference",EXCLUSION:"/Exclusion"},textRenderModes={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_USE_AS_CLIP:4,STROKE_USE_AS_CLIP:5,FILL_STROKE_USE_AS_CLIP:6,USE_AS_CLIP:7},colorSpaces={GRAYSCALE:"/DeviceGray",RGB:"/DeviceRGB",CMYK:"/DeviceCMYK",SPECIAL:"/DeviceN",SPECIAL_INDEXED:"/Indexed",SPECIAL_PATTERN:"/Pattern",SPECIAL_SEPARATION:"/Separation"},softMaskTypes={ALPHA:"/Alpha",LUMINOSITY:"/Luminosity"},borderEffects={NONE:"/S",CLOUDY:"/C"},borderStyles={SOLID:"/S",DASHED:"/D",BEVELED:"/B",INSET:"/I",UNDERLINE:"/U",NONE:"/N"},groupDictTypes={TRANSPARENCY:"/Transparency"},workerSrc=`
/**the most used char codes from the ASCII set */
const codes = {
  NULL: 0,
  BACKSPACE: 8,
  HORIZONTAL_TAB: 9,
  LINE_FEED: 10,
  VERTICAL_TAB: 11,
  FORM_FEED: 12,
  CARRIAGE_RETURN: 13,
  WHITESPACE: 32,
  EXCLAMATION_MARK: 33,
  DOUBLE_QUOTE: 34,
  HASH: 35,
  DOLLAR: 36,
  PERCENT: 37,
  AMPERSAND: 38,
  QUOTE: 39,
  L_PARENTHESE: 40,
  R_PARENTHESE: 41,
  ASTERISK: 42,
  PLUS: 43,
  COMMA: 44,
  MINUS: 45,
  DOT: 46,
  SLASH: 47,
  D_0: 48,
  D_1: 49,
  D_2: 50,
  D_3: 51,
  D_4: 52,
  D_5: 53,
  D_6: 54,
  D_7: 55,
  D_8: 56,
  D_9: 57,
  COLON: 58,
  SEMICOLON: 59,
  LESS: 60,
  EQUAL: 61,
  GREATER: 62,
  QUESTION_MARK: 63,
  AT: 64,
  A: 65,
  B: 66,
  C: 67,
  D: 68,
  E: 69,
  F: 70,
  G: 71,
  H: 72,
  I: 73,
  J: 74,
  K: 75,
  L: 76,
  M: 77,
  N: 78,
  O: 79,
  P: 80,
  Q: 81,
  R: 82,
  S: 83,
  T: 84,
  U: 85,
  V: 86,
  W: 87,
  X: 88,
  Y: 89,
  Z: 90,
  L_BRACKET: 91,
  BACKSLASH: 92,
  R_BRACKET: 93,
  CARET: 94,
  UNDERSCORE: 95,
  BACKTICK: 96,
  a: 97,
  b: 98,
  c: 99,
  d: 100,
  e: 101,
  f: 102,
  g: 103,
  h: 104,
  i: 105,
  j: 106,
  k: 107,
  l: 108,
  m: 109,
  n: 110,
  o: 111,
  p: 112,
  q: 113,
  r: 114,
  s: 115,
  t: 116,
  u: 117,
  v: 118,
  w: 119,
  x: 120,
  y: 121,
  z: 122,
  L_BRACE: 123,
  VERTICAL_LINE: 124,
  R_BRACE: 125,
  TILDE: 126,
};

/**char code sequences commonly used in PDF data */
const keywordCodes = {
  NULL: [codes.n, codes.u, codes.l, codes.l],

  OBJ: [codes.o, codes.b, codes.j],
  OBJ_END: [codes.e, codes.n, codes.d, codes.o, codes.b, codes.j],

  STREAM_START: [codes.s, codes.t, codes.r, codes.e, codes.a, codes.m],
  STREAM_END: [codes.e, codes.n, codes.d,
    codes.s, codes.t, codes.r, codes.e, codes.a, codes.m],

  DICT_START: [codes.LESS, codes.LESS],
  DICT_END: [codes.GREATER, codes.GREATER],

  ARRAY_START: [codes.L_BRACKET],
  ARRAY_END: [codes.R_BRACKET],
  
  STR_LITERAL_START: [codes.L_PARENTHESE],
  STR_LITERAL_END: [codes.R_PARENTHESE],

  STR_HEX_START: [codes.LESS],
  STR_HEX_END: [codes.GREATER],

  VERSION: [codes.PERCENT, codes.P, codes.D, codes.F, codes.MINUS],

  PREV: [codes.SLASH, codes.P, codes.r, codes.e, codes.v],
  TYPE: [codes.SLASH, codes.T, codes.y, codes.p, codes.e],
  SUBTYPE: [codes.SLASH, codes.S, codes.u, codes.b, codes.t, codes.y, codes.p, codes.e],
  FORM: [codes.SLASH, codes.F, codes.o, codes.r, codes.m],
  
  XREF_TABLE: [codes.x, codes.r, codes.e, codes.f],
  XREF_STREAM: [codes.SLASH, codes.X, codes.R, codes.e, codes.f],
  XREF_HYBRID: [codes.X, codes.R, codes.e, codes.f, codes.S, codes.t, codes.m],
    
  XREF_START: [codes.s, codes.t, codes.a, codes.r, codes.t, 
    codes.x, codes.r, codes.e, codes.f],
  TRAILER: [codes.t, codes.r, codes.a, codes.i, codes.l, codes.e, codes.r],
  END_OF_FILE: [codes.PERCENT, codes.PERCENT, codes.E, codes.O, codes.F],

  END_OF_LINE: [codes.CARRIAGE_RETURN, codes.LINE_FEED],

  TRUE: [codes.t, codes.r, codes.u, codes.e],
  FALSE: [codes.f, codes.a, codes.l, codes.s, codes.e],

  CMAP_BEGIN: [codes.b, codes.e, codes.g, codes.i, codes.n,
    codes.c, codes.m, codes.a, codes.p],
  CMAP_END: [codes.e, codes.n, codes.d,
    codes.c, codes.m, codes.a, codes.p],
  CMAP_BEGIN_CODE_RANGE: [codes.b, codes.e, codes.g, codes.i, codes.n,
    codes.c, codes.o, codes.d, codes.e, codes.s, codes.p, codes.a, codes.c, codes.e,
    codes.r, codes.a, codes.n, codes.g, codes.e],
  CMAP_END_CODE_RANGE: [codes.e, codes.n, codes.d,
    codes.c, codes.o, codes.d, codes.e, codes.s, codes.p, codes.a, codes.c, codes.e,
    codes.r, codes.a, codes.n, codes.g, codes.e],
  CMAP_BEGIN_CHAR: [codes.b, codes.e, codes.g, codes.i, codes.n,
    codes.b, codes.f, codes.c, codes.h, codes.a, codes.r],
  CMAP_END_CHAR: [codes.e, codes.n, codes.d,
    codes.b, codes.f, codes.c, codes.h, codes.a, codes.r],
  CMAP_BEGIN_RANGE: [codes.b, codes.e, codes.g, codes.i, codes.n,
    codes.b, codes.f, codes.r, codes.a, codes.n, codes.g, codes.e],
  CMAP_END_RANGE: [codes.e, codes.n, codes.d,
    codes.b, codes.f, codes.r, codes.a, codes.n, codes.g, codes.e],

  AP_STREAM_TEXT_END: [codes.E, codes.T],
};

/**value types that can be found in PDF file data */
const valueTypes = {
  UNKNOWN: 0,
  NULL: 1,
  BOOLEAN: 2,
  NUMBER: 3,
  STRING_LITERAL: 4,
  STRING_HEX: 5,
  NAME: 6,
  ARRAY: 7,
  DICTIONARY: 8,
  STREAM: 9,
  REF: 10,
  COMMENT: 11,
};

//#region static collections
/**
 * Each line is terminated by an end-of-line (EOL) marker
 */
// const EOL = [
//   codes.CARRIAGE_RETURN, 
//   codes.LINE_FEED,
// ];
  
/**
 * The delimiter  characters (, ), <, >, [, ], {, }, /,  and  %  are  special.  
 * They delimit syntactic entities such as strings, arrays, names, and comments.  
 * Any of these characters terminates the entity preceding it and is not included in the entity. 
 */
const delimiterChars = new Set([
  codes.PERCENT,
  codes.L_PARENTHESE,
  codes.R_PARENTHESE,
  codes.SLASH,
  codes.LESS,
  codes.GREATER,
  codes.L_BRACKET,
  codes.R_BRACKET,
  codes.L_BRACE,
  codes.R_BRACE,
]);
  
/**
 * White-space characters separate syntactic constructs such as names and numbers from each other.  
 * All white-space characters are  equivalent, except in comments, strings, and streams. 
 * In all other contexts, PDF treats any sequence of consecutive white-space characters as one character.
 */
const spaceChars = new Set([
  codes.NULL,
  codes.HORIZONTAL_TAB,
  codes.LINE_FEED,
  codes.FORM_FEED,
  codes.CARRIAGE_RETURN,
  codes.WHITESPACE,
]);
  
const digitChars = new Set([
  codes.D_0,
  codes.D_1,
  codes.D_2,
  codes.D_3,
  codes.D_4,
  codes.D_5,
  codes.D_6,
  codes.D_7,
  codes.D_8,
  codes.D_9,
]);

const newLineChars = new Set([
  codes.CARRIAGE_RETURN,
  codes.LINE_FEED,
]);
//#endregion

//#region static check functions
/**
 * check if the char is not a space char or a delimiter char
 * @param code char code
 * @returns 
 */
function isRegularChar(code) {
  if (isNaN(code)) {
    return false;
  }
  return !delimiterChars.has(code) && !spaceChars.has(code);
}

/**
 * check if the char is a space char or a delimiter char
 * @param code char code
 * @returns 
 */
function isNotRegularChar(code) {
  if (isNaN(code)) {
    return true;
  }
  return delimiterChars.has(code) || spaceChars.has(code);
}

function isDigit(code) {
  return digitChars.has(code);
}

function isNewLineChar(code) {
  return newLineChars.has(code);
}

function isSpaceChar(code) {
  return spaceChars.has(code);
}

function isNotSpaceChar(code) {
  return !spaceChars.has(code);
}

function isDelimiterChar(code) {
  return delimiterChars.has(code);
}

function isNotDelimiterChar(code) {
  return !delimiterChars.has(code);
}
//#endregion

let _data = new Uint8Array();
let _maxIndex = 0;

const _messageQueue = [];
let _busy = false;

self.onmessage = (event) => {
  if (_busy) {
    _messageQueue.push(event);
  } else {
    _busy = true;
    processData(event.data);
  }
};

function sendResponse(response) {
  self.postMessage(response);
  if (_messageQueue.length) {
    processData(_messageQueue.shift().data);
  } else {
    _busy = false;
  }
}

function processData(data) {
  const id = data.id;
  const name = data.name;

  if (name === "data-set") {
    if (data.bytes) {      
      const dataBytesArray = new Uint8Array(data.bytes);
      if (dataBytesArray?.length) {
        _data = dataBytesArray;
        _maxIndex = dataBytesArray.length - 1;
        sendResponse({id, name, type: "success"});
        return;
      }
    }
    sendResponse({id, name, type: "error", 
      message: "data-set: byte array is null or empty"});
    return; 
  }
  
  if (name === "data-reset") {
    const buffer = _data.buffer;
    _data = new Uint8Array();
    _maxIndex = 0;
    sendResponse({id, name, type: "success", bytes: buffer}, [buffer]);
    return; 
  }

  // console.log(JSON.stringify(data));
  try {
    let result;
    switch (name) { 
    // common cases
    case "is-outside":
      result = isOutside(...data.args);
      break;
    case "is-code-at":
      result = isCodeAt(...data.args);
      break;
    case "get-value-type-at":
      result = getValueTypeAt(...data.args);
      break;
    // search cases
    case "find-subarray-index":
      result = findSubarrayIndex(...data.args);
      break;
    case "find-char-index":
      result = findCharIndex(...data.args);
      break;
    case "find-new-line-index":
      result = findNewLineIndex(...data.args);
      break;
    case "find-space-index":result = findSpaceIndex(...data.args);
      break;
    case "find-non-space-index":
      result = findNonSpaceIndex(...data.args);
      break;
    case "find-delimiter-index":
      result = findDelimiterIndex(...data.args);
      break;
    case "find-non-delimiter-index":
      result = findNonDelimiterIndex(...data.args);
      break;
    case "find-regular-index":
      result = findRegularIndex(...data.args);
      break;
    case "find-irregular-index":
      result = findIrregularIndex(...data.args);
      break;
    // getting bounds cases  
    case "get-indirect-object-bounds":
      result = getIndirectObjectBoundsAt(...data.args);
      break;
    case "get-xref-table-bounds":
      result = getXrefTableBoundsAt(...data.args);
      break;
    case "get-dict-bounds":
      result = getDictBoundsAt(...data.args);
      break;
    case "get-array-bounds":
      result = getArrayBoundsAt(...data.args);
      break;
    case "get-hex-bounds":
      result = getHexBoundsAt(...data.args);
      break;
    case "get-literal-bounds":
      result = getLiteralBoundsAt(...data.args);
      break;
    // parsing cases
    case "parse-number":
      result = parseNumberAt(...data.args);
      break;
    case "parse-name":
      result = parseNameAt(...data.args);
      break;
    case "parse-string":
      result = parseStringAt(...data.args);
      break;
    case "parse-bool":
      result = parseBoolAt(...data.args);
      break;
    case "parse-number-array":
      result = parseNumberArrayAt(...data.args);
      break;
    case "parse-name-array":
      result = parseNameArrayAt(...data.args);
      break;
    case "parse-dict-type":
      result = parseDictType(...data.args);
      break;
    case "parse-dict-subtype":
      result = parseDictSubtype(...data.args);
      break;
    case "parse-dict-property-by-name":
      result = parseDictPropertyByName(...data.args);
      break;
    // skip cases
    case "skip-empty":
      result = skipEmptyChars(...data.args);
      break;
    case "skip-to-next-name":
      result = skipToNextName(...data.args);
      break;
    // getting char/codes cases
    case "slice-char-codes":
      result = sliceCharCodes(...data.args);
      break;
    case "slice-chars":
      result = sliceChars(...data.args);
      break;
    case "get-char-code":
      result = getCharCode(...data.args);
      break;
    default:
      throw new Error("Unknown command name: " + name);
    }    
    // console.log(JSON.stringify(result));
    sendResponse({id, name, type: "success", result});
  } catch (e) {
    // console.log(JSON.stringify(e));
    sendResponse({id, name, type: "error", message: e.message});
  }
}

//#region common functions  
function isOutside(index) {
  return (index < 0 || index > _maxIndex);
}

function isCodeAt(index, code) {
  return getCharCode(index) === code;
}

function getValueTypeAt(start, skipEmpty = true)  {
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start)) {
    return null;
  }

  const arr = _data;
  const i = start;
  const charCode = arr[i];

  let tempIndex;
  switch (charCode) {
  case codes.SLASH:
    if (isRegularChar(arr[i + 1])) {
      return valueTypes.NAME;
    } 
    return valueTypes.UNKNOWN;
  case codes.L_BRACKET:
    return valueTypes.ARRAY;
  case codes.L_PARENTHESE:
    return valueTypes.STRING_LITERAL;
  case codes.LESS:
    if (codes.LESS === arr[i + 1]) {          
      return valueTypes.DICTIONARY;
    }
    return valueTypes.STRING_HEX;
  case codes.PERCENT:
    return valueTypes.COMMENT;
  case codes.D_0:
  case codes.D_1:
  case codes.D_2:
  case codes.D_3:
  case codes.D_4:
  case codes.D_5:
  case codes.D_6:
  case codes.D_7:
  case codes.D_8:
  case codes.D_9:
    tempIndex = findDelimiterIndex(true, i + 1);
    if (tempIndex !== -1) {
      const refEndIndex = findCharIndex(codes.R, false, tempIndex - 1);
      if (refEndIndex !== -1 && refEndIndex > i && !isRegularChar(arr[refEndIndex + 1])) {
        return valueTypes.REF;
      }
    }
    return valueTypes.NUMBER;
  case codes.DOT:
  case codes.MINUS:
    if (isDigit(arr[i + 1])) {          
      return valueTypes.NUMBER;
    }
    return valueTypes.UNKNOWN;
  case codes.s:
    if (arr[i + 1] === codes.t
        && arr[i + 2] === codes.r
        && arr[i + 3] === codes.e
        && arr[i + 4] === codes.a
        && arr[i + 5] === codes.m) {
      return valueTypes.STREAM;
    }
    return valueTypes.UNKNOWN;
  case codes.t:
    if (arr[i + 1] === codes.r
        && arr[i + 2] === codes.u
        && arr[i + 3] === codes.e) {
      return valueTypes.BOOLEAN;
    }
    return valueTypes.UNKNOWN;
  case codes.f:
    if (arr[i + 1] === codes.a
        && arr[i + 2] === codes.l
        && arr[i + 3] === codes.s
        && arr[i + 4] === codes.e) {
      return valueTypes.BOOLEAN;
    }
    return valueTypes.UNKNOWN;
  default:
    return valueTypes.UNKNOWN;
  }
} 
//#endregion

//#region search functions
function findSubarrayIndex(sub, options) {
  const arr = _data;
  if (!sub?.length) {
    return null;
  }

  const direction = options?.direction ?? true;
  const minIndex = Math.max(Math.min(options?.minIndex ?? 0, _maxIndex), 0);
  const maxIndex = Math.max(Math.min(options?.maxIndex ?? _maxIndex, _maxIndex), 0);
  const allowOpened = !options?.closedOnly;

  let i = direction
    ? minIndex
    : maxIndex; 

  let j; 
  if (direction) { 
    outer_loop:
    for (i; i <= maxIndex; i++) {
      for (j = 0; j < sub.length; j++) {
        if (arr[i + j] !== sub[j]) {
          continue outer_loop;
        }
      }
      if (allowOpened || !isRegularChar(arr[i + j])) {
        return {start: i, end: i + j - 1};
      }
    }
  } else {
    const subMaxIndex = sub.length - 1;
    outer_loop:
    for (i; i >= minIndex; i--) {
      for (j = 0; j < sub.length; j++) {
        if (arr[i - j] !== sub[subMaxIndex - j]) {
          continue outer_loop;
        }
      }
      if (allowOpened || !isRegularChar(arr[i - j])) {
        return {start: i - j + 1, end: i};
      }
    }
  }

  return null;
}

function findCharIndex(charCode, direction = true, start = undefined) {    

  const arr = _data;
  let i = isNaN(start)
    ? direction
      ? 0
      : _maxIndex
    : start; 

  if (direction) {        
    for (i; i <= _maxIndex; i++) {
      if (arr[i] === charCode) {
        return i;
      }
    }    
  } else {        
    for (i; i >= 0; i--) {
      if (arr[i] === charCode) {
        return i;
      }
    }
  }

  return -1; 
}

function findNewLineIndex(direction = true, start = undefined) {
  let lineBreakIndex;     

  const arr = _data;
  let i = isNaN(start)
    ? direction
      ? 0
      : _maxIndex
    : start; 
    
  if (direction) {        
    for (i; i <= _maxIndex; i++) {
      if (isNewLineChar(arr[i])) {
        lineBreakIndex = i;
        break;
      }
    }    
  } else {        
    for (i; i >= 0; i--) {
      if (isNewLineChar(arr[i])) {
        lineBreakIndex = i;
        break;
      }
    }
  }

  if (lineBreakIndex === undefined) {
    return -1;
  }

  if (direction) {  
    if (_data[lineBreakIndex] === codes.CARRIAGE_RETURN 
      && _data[lineBreakIndex + 1] === codes.LINE_FEED) {
      lineBreakIndex++;
    }  
    return Math.min(lineBreakIndex + 1, _maxIndex);
  } else {        
    if (_data[lineBreakIndex] === codes.LINE_FEED 
      && _data[lineBreakIndex - 1] === codes.CARRIAGE_RETURN) {
      lineBreakIndex--;
    }  
    return Math.max(lineBreakIndex - 1, 0);
  }
}

function findSpaceIndex(direction = true, start = undefined) {
  const arr = _data;
  let i = isNaN(start)
    ? direction
      ? 0
      : _maxIndex
    : start; 
    
  if (direction) {        
    for (i; i <= _maxIndex; i++) {
      if (isSpaceChar(arr[i])) {
        return i;
      }
    }    
  } else {        
    for (i; i >= 0; i--) {
      if (isSpaceChar(arr[i])) {
        return i;
      }
    }
  }
  
  return -1;
}

function findNonSpaceIndex(direction = true, start = undefined) {
  const arr = _data;
  let i = isNaN(start)
    ? direction
      ? 0
      : _maxIndex
    : start; 
    
  if (direction) {        
    for (i; i <= _maxIndex; i++) {
      if (isNotSpaceChar(arr[i])) {
        return i;
      }
    }    
  } else {        
    for (i; i >= 0; i--) {
      if (isNotSpaceChar(arr[i])) {
        return i;
      }
    }
  }
  
  return -1;
}

function findDelimiterIndex(direction = true, start = undefined) {
  const arr = _data;
  let i = isNaN(start)
    ? direction
      ? 0
      : _maxIndex
    : start; 
    
  if (direction) {        
    for (i; i <= _maxIndex; i++) {
      if (isDelimiterChar(arr[i])) {
        return i;
      }
    }    
  } else {        
    for (i; i >= 0; i--) {
      if (isDelimiterChar(arr[i])) {
        return i;
      }
    }
  }
  
  return -1; 
}

function findNonDelimiterIndex(direction = true, start = undefined) {    
  const arr = _data;
  let i = isNaN(start)
    ? direction
      ? 0
      : _maxIndex
    : start; 
    
  if (direction) {        
    for (i; i <= _maxIndex; i++) {
      if (isNotDelimiterChar(arr[i])) {
        return i;
      }
    }    
  } else {        
    for (i; i >= 0; i--) {
      if (isNotDelimiterChar(arr[i])) {
        return i;
      }
    }
  }
  
  return -1;
}

function findRegularIndex(direction = true, start = undefined) {
  const arr = _data;
  let i = isNaN(start)
    ? direction
      ? 0
      : _maxIndex
    : start; 
    
  if (direction) {        
    for (i; i <= _maxIndex; i++) {
      if (isRegularChar(arr[i])) {
        return i;
      }
    }    
  } else {        
    for (i; i >= 0; i--) {
      if (isRegularChar(arr[i])) {
        return i;
      }
    }
  }
  
  return -1;
}

function findIrregularIndex(direction = true, start = undefined) {  
  const arr = _data;
  let i = isNaN(start)
    ? direction
      ? 0
      : _maxIndex
    : start; 
    
  if (direction) {        
    for (i; i <= _maxIndex; i++) {
      if (isNotRegularChar(arr[i])) {
        return i;
      }
    }    
  } else {        
    for (i; i >= 0; i--) {
      if (isNotRegularChar(arr[i])) {
        return i;
      }
    }
  }
  
  return -1;
}
//#endregion

//#region get bounds functions  
function getIndirectObjectBoundsAt(start, skipEmpty = true) {   
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start)) {
    return null;
  }    

  const objStartIndex = findSubarrayIndex(keywordCodes.OBJ, 
    {minIndex: start, closedOnly: true});
  if (!objStartIndex) {
    return null;
  }      

  let contentStart = findNonSpaceIndex(true, objStartIndex.end + 1);
  if (contentStart === -1){
    return null;
  }    
  const objEndIndex = findSubarrayIndex(keywordCodes.OBJ_END, 
    {minIndex: contentStart, closedOnly: true});
  if (!objEndIndex) {
    return null;
  }
  let contentEnd = findNonSpaceIndex(false, objEndIndex.start - 1);

  if (getCharCode(contentStart) === codes.LESS
      && getCharCode(contentStart + 1) === codes.LESS
      && getCharCode(contentEnd - 1) === codes.GREATER
      && getCharCode(contentEnd) === codes.GREATER) {
    // object is dict. exclude bounds from content
    contentStart += 2;
    contentEnd -=2;
  }

  return {
    start: objStartIndex.start, 
    end: objEndIndex.end,
    contentStart,
    contentEnd,
  };
} 
  
function getXrefTableBoundsAt(start, skipEmpty = true) {   
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start) || _data[start] !== codes.x) {
    return null;
  }

  const xrefStart = findSubarrayIndex(keywordCodes.XREF_TABLE, 
    {minIndex: start});
  if (!xrefStart) {
    return null;
  }     
  const contentStart = findNonSpaceIndex(true, xrefStart.end + 1);
  if (contentStart === -1){
    return null;
  }   
  const xrefEnd = findSubarrayIndex(keywordCodes.TRAILER, 
    {minIndex: xrefStart.end + 1});
  if (!xrefEnd) {
    return null;
  } 
  const contentEnd = findNonSpaceIndex(false, xrefEnd.start - 1);

  if (contentEnd < contentStart) {
    // should be only possible in an empty xref, which is not allowed
    return null;
  }

  return {
    start: xrefStart.start, 
    end: xrefEnd.end,
    contentStart,
    contentEnd,
  };
}

function getDictBoundsAt(start, skipEmpty = true) {   
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start) 
      || _data[start] !== codes.LESS
      || _data[start + 1] !== codes.LESS) {
    return null;
  }
     
  const contentStart = findNonSpaceIndex(true, start + 2);
  if (contentStart === -1){
    return null;
  }  
    
  let dictOpened = 1;
  let dictBound = true;
  let literalOpened = 0;
  let i = contentStart;    
  let code;
  let prevCode;
  while (dictOpened) {
    prevCode = code;
    code = _data[i++];

    if (code === codes.L_PARENTHESE
        && (!literalOpened || prevCode !== codes.BACKSLASH)) {
      // increase string literal nesting
      literalOpened++;
    }

    if (code === codes.R_PARENTHESE
        && (literalOpened && prevCode !== codes.BACKSLASH)) {
      // decrease string literal nesting
      literalOpened--;
    }

    if (literalOpened) {
      // ignore 'less' and 'greater' signs while being inside a literal
      continue;
    }

    if (!dictBound) {
      if (code === codes.LESS && code === prevCode) {
        dictOpened++;
        dictBound = true;
      } else if (code === codes.GREATER && code === prevCode) {
        dictOpened--;
        dictBound = true;
      }
    } else {        
      dictBound = false;
    }
  }
  const end = i - 1;
 
  const contentEnd = findNonSpaceIndex(false, end - 2);
  if (contentEnd < contentStart) {
    // should be possible only in an empty dict
    return {
      start, 
      end,
    };
  }

  return {
    start, 
    end,
    contentStart,
    contentEnd,
  };
}
  
function getArrayBoundsAt(start, skipEmpty = true) {
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start) || _data[start] !== codes.L_BRACKET) {
    return null;
  }

  let arraysOpened = 1;
  let i = start + 1;    
  let code;
  while (arraysOpened) {
    code = _data[i++];
    if (code === codes.L_BRACKET) {
      arraysOpened++;
    } else if (code === codes.R_BRACKET) {
      arraysOpened--;
    }
  }
  const arrayEnd = i - 1;
  if (arrayEnd - start < 1) {
    return null;
  }

  return {start, end: arrayEnd};
}
      
function getHexBoundsAt(start, skipEmpty = true) {   
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start) || getCharCode(start) !== codes.LESS) {
    return null;
  }

  const end = findCharIndex(codes.GREATER, true, start + 1);
  if (end === -1) {
    return null;
  }

  return {start, end};
}  

function getLiteralBoundsAt(start, skipEmpty = true) {       
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start) || getCharCode(start) !== codes.L_PARENTHESE) {
    return null;
  }

  let i = start;
  let code;
  let escaped = false;
  let opened = 0;

  while (opened || code !== codes.R_PARENTHESE || escaped) {
    if (i > _maxIndex) {
      return null;
    }

    code = getCharCode(i++);

    if (!escaped) {
      if (code === codes.L_PARENTHESE) {
        opened += 1;
      } else if (opened && code === codes.R_PARENTHESE) {
        opened -= 1;
      }
    }
      
    if (!escaped && code === codes.BACKSLASH) {
      escaped = true;
    } else {
      escaped = false;
    }
  }

  return {start, end: i - 1};
}
//#endregion

//#region parse functions 
function parseNumberAt(start, float = false, skipEmpty = true) {
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start) || !isRegularChar(_data[start])) {
    return null;
  }

  let i = start;
  let numberStr = "";
  let value = _data[i];
  if (value === codes.MINUS) {
    numberStr += "-";
    value = _data[++i];
  } else if (value === codes.DOT) {
    numberStr += "0.";
    value = _data[++i];
  }
  while (isDigit(value)
      || (float && value === codes.DOT)) {
    numberStr += String.fromCharCode(value);
    value = _data[++i];
  }

  return numberStr 
    ? {value: +numberStr, start, end: i - 1}
    : null;
}
  
function parseNameAt(start, includeSlash = true, skipEmpty = true) {
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start) || _data[start] !== codes.SLASH) {
    return null;
  }

  let i = start + 1;
  let result = includeSlash
    ? "/"
    : "";
  let value = _data[i];
  while (isRegularChar(value)) {
    result += String.fromCharCode(value);
    value = _data[++i];
  }

  return result.length > 1 
    ? {value: result, start, end: i - 1}
    : null;
} 
  
function parseStringAt(start, skipEmpty = true) {
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }
  if (isOutside(start)) {
    return null;
  }

  let i = start;
  let result = "";
  let value = _data[i];
  while (isRegularChar(value)) {
    result += String.fromCharCode(value);
    value = _data[++i];
  }

  return result.length !== 0 
    ? {value: result, start, end: i - 1}
    : null;
} 
  
function parseBoolAt(start, skipEmpty = true)  {
  if (skipEmpty) {
    start = skipEmptyChars(start);
  }    

  if (isOutside(start)) {
    return null;
  }

  const nearestDelimiter = findDelimiterIndex(true, start);

  const isTrue = findSubarrayIndex(keywordCodes.TRUE, {
    minIndex: start, 
    maxIndex: nearestDelimiter === -1 ? _maxIndex : nearestDelimiter,
  });
  if (isTrue) {
    return {value: true, start, end: isTrue.end};
  }    
    
  const isFalse = findSubarrayIndex(keywordCodes.FALSE, {
    minIndex: start,      
    maxIndex: nearestDelimiter === -1 ? _maxIndex : nearestDelimiter,
  });
  if (isFalse) {
    return {value: false, start, end: isFalse.end};
  }

  return null;
} 
  
function parseNumberArrayAt(start, float = true, skipEmpty = true) {
  const arrayBounds = getArrayBoundsAt(start, skipEmpty);
  if (!arrayBounds) {
    return null;
  }

  const numbers = [];
  let current;
  let i = arrayBounds.start + 1;
  while(i < arrayBounds.end) {
    current = parseNumberAt(i, float, true);
    if (!current) {
      break;
    }
    numbers.push(current.value);
    i = current.end + 1;
  }

  return {value: numbers, start: arrayBounds.start, end: arrayBounds.end};
}  
  
function parseNameArrayAt(start, includeSlash = true, 
  skipEmpty = true) {
  const arrayBounds = getArrayBoundsAt(start, skipEmpty);
  if (!arrayBounds) {
    return null;
  }

  const names = [];
  let current;
  let i = arrayBounds.start + 1;
  while(i < arrayBounds.end) {
    current = parseNameAt(i, includeSlash, true);
    if (!current) {
      break;
    }
    names.push(current.value);
    i = current.end + 1;
  }

  return {value: names, start: arrayBounds.start, end: arrayBounds.end};
}  
  
function parseDictType(bounds) {
  return parseDictPropertyByName(keywordCodes.TYPE, bounds);   
} 
  
function parseDictSubtype(bounds) {
  return parseDictPropertyByName(keywordCodes.SUBTYPE, bounds);   
} 
  
function parseDictPropertyByName(propName, bounds) {
  const arr = _data;
  if (!propName?.length) {
    return null;
  }

  const minIndex = Math.max(Math.min(bounds.start ?? 0, _maxIndex), 0);
  const maxIndex = Math.max(Math.min(bounds.end ?? _maxIndex, _maxIndex), 0);

  let propNameBounds;
  let i = minIndex;
  let j;
  let code;
  let prevCode;
  let dictOpened = 0;
  let dictBound = true;
  let literalOpened = 0;
  outer_loop:
  for (i; i <= maxIndex; i++) {
    prevCode = code;
    code = arr[i];
      
    // check if literal opens
    if (code === codes.L_PARENTHESE
        && (!literalOpened || prevCode !== codes.BACKSLASH)) {
      // increase string literal nesting
      literalOpened++;
    }

    // check if literal closes
    if (code === codes.R_PARENTHESE
        && (literalOpened && prevCode !== codes.BACKSLASH)) {
      // decrease string literal nesting
      literalOpened--;
    }

    if (literalOpened) {
      // ignore all bytes while being inside a literal
      continue;
    }

    // check if dict opens or closes
    if (!dictBound) {
      if (code === codes.LESS && code === prevCode) {
        dictOpened++;
        dictBound = true;
      } else if (code === codes.GREATER && code === prevCode) {
        dictOpened--;
        dictBound = true;
      }
    } else {        
      dictBound = false;
    }

    // compare next j values to the corresponding values of the sought name
    for (j = 0; j < propName.length; j++) {
      if (arr[i + j] !== propName[j]) {
        continue outer_loop;
      }
    }

    if (dictOpened !== 1) {
      // the found property name is not inside the topmost dict
      continue;
    }

    // check if name is closed
    if (!isRegularChar(arr[i + j])) {
      propNameBounds = {start: i, end: i + j - 1};
      break;
    }
  }
    
  if (!propNameBounds) {
    // the property name is not found
    return null;
  }

  // parse the property value
  const type = parseNameAt(propNameBounds.end + 1);
  if (!type) {
    return null;
  }

  return type.value;     
} 
//#endregion 

//#region skip functions
function skipEmptyChars(start) {
  let index = findNonSpaceIndex(true, start);
  if (index === -1) {
    return -1;
  }
  if (_data[index] === codes.PERCENT) {
    // it's a comment. skip it
    const afterComment = findNewLineIndex(true, index + 1);
    if (afterComment === -1) {
      return -1;
    }
    index = findNonSpaceIndex(true, afterComment);
  }
  return index;
}

function skipToNextName(start, max) {
  start ||= 0;
  max = max 
    ? Math.min(max, _maxIndex)
    : 0;
  if (max < start) {
    return -1;
  }

  let i = start;
  while (i <= max) {      
    const value = getValueTypeAt(i, true);
    if (value) {
      let skipValueBounds;
      let parseResult;
      switch (value) {
      case valueTypes.DICTIONARY:
        skipValueBounds = getDictBoundsAt(i, false);
        break;
      case valueTypes.ARRAY:
        skipValueBounds = getArrayBoundsAt(i, false);
        break;
      case valueTypes.STRING_LITERAL:            
        skipValueBounds = getLiteralBoundsAt(i, false);
        break; 
      case valueTypes.STRING_HEX: 
        skipValueBounds = getHexBoundsAt(i, false);
        break; 
      case valueTypes.NUMBER:
        parseResult = parseNumberAt(i, true, false);
        if (parseResult) {
          skipValueBounds = parseResult;
        }
        break; 
      case valueTypes.BOOLEAN:
        parseResult = parseBoolAt(i, false);
        if (parseResult) {
          skipValueBounds = parseResult;
        }
        break;
      case valueTypes.COMMENT:
        // TODO: Add skip comment
        break;
      case valueTypes.NAME:
        return i;
      default:
        i++;
        continue;
      }   
      if (skipValueBounds) {
        i = skipValueBounds.end + 1;
        skipValueBounds = null;     
        continue;
      }
    }
    i++;
  }
  return -1;
}
//#endregion

//#region get chars/codes functions
function sliceCharCodes(start, end = undefined) {
  return _data.slice(start, (end || start) + 1);
}

function sliceChars(start, end = undefined) {
  return String.fromCharCode(..._data.slice(start, (end || start) + 1));
}

function getCharCode(index) {    
  return _data[index];
}  
//#endregion
`;var __awaiter$1l=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class BgDataParser{constructor(e){if(this._workerOnMessageHandlers=new Set,this._commandsInProgress=0,this.onWorkerMessage=r=>{for(const a of this._workerOnMessageHandlers)a(r)},this.onWorkerError=r=>{throw new Error(`Background worker error: ${r.message}`)},!e?.length)throw new Error("Data is empty");if(!BgDataParser._workerSrc)throw new Error("Worker source is not initialized");this._data=e.buffer,this._maxIndex=e.length-1}get maxIndex(){return this._maxIndex}static tryGetParser(e){try{return new BgDataParser(e)}catch(r){return console.error(r),null}}static destroy(){this._freeWorkers.clear(),this._workerPool.forEach(e=>e.terminate()),this._workerPool.length=0}static getFreeWorkerFromPoolAsync(){return __awaiter$1l(this,void 0,void 0,function*(){if(this._freeWorkers.size){const r=this._freeWorkers.values().next().value;return this._freeWorkers.delete(r),r}if(this._workerPool.length<this._maxWorkersCount){const r=new Worker(this._workerSrc);return this._workerPool.push(r),r}return yield new Promise((r,a)=>{const c=performance.now(),o=setInterval(()=>{if(this._freeWorkers.size){const f=this._freeWorkers.values().next().value;this._freeWorkers.delete(f),clearInterval(o),r(f)}performance.now()-c>this._workerTimeout&&(clearInterval(o),a("Free worker waiting timeout exceeded"))},20)})})}static returnWorkerToPool(e){this._freeWorkers.add(e)}static transferDataToWorker(e,r){return __awaiter$1l(this,void 0,void 0,function*(){const a=new Promise((c,o)=>{e.onmessage=f=>{f.data.type==="success"?c():(console.log(f),console.log(f.data),o(f))},e.onerror=f=>{console.log(f),console.log(f.message),o(f)},e.postMessage({name:"data-set",bytes:r},[r])});try{yield a}catch(c){throw console.error(c),new Error("Error while transfering parser data to worker")}})}static transferDataFromWorker(e){return __awaiter$1l(this,void 0,void 0,function*(){const r=new Promise((a,c)=>{e.onmessage=o=>{if(o.data.type==="success"){const f=o.data.bytes;a(f)}else c(o)},e.onerror=o=>c(o),e.postMessage({name:"data-reset"})});try{return yield r}catch{throw new Error("Error while transfering parser data from worker")}})}destroy(){}getSubParserAsync(e,r){return __awaiter$1l(this,void 0,void 0,function*(){const a=yield this.execCommandAsync("slice-char-codes",[e,r]);return BgDataParser.tryGetParser(a)})}isOutside(e){return e<0||e>this._maxIndex}isCodeAtAsync(e,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("is-code-at",[e,r])})}getValueTypeAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("get-value-type-at",[e,r])})}findSubarrayIndexAsync(e,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-subarray-index",[e,r])})}findCharIndexAsync(e,r=!0,a){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-char-index",[e,r,a])})}findNewLineIndexAsync(e=!0,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-new-line-index",[e,r])})}findSpaceIndexAsync(e=!0,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-space-index",[e,r])})}findNonSpaceIndexAsync(e=!0,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-non-space-index",[e,r])})}findDelimiterIndexAsync(e=!0,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-delimiter-index",[e,r])})}findNonDelimiterIndexAsync(e=!0,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-non-delimiter-index",[e,r])})}findRegularIndexAsync(e=!0,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-regular-index",[e,r])})}findIrregularIndexAsync(e=!0,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("find-irregular-index",[e,r])})}getIndirectObjectBoundsAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("get-indirect-object-bounds",[e,r])})}getXrefTableBoundsAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("get-xref-table-bounds",[e,r])})}getDictBoundsAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("get-dict-bounds",[e,r])})}getArrayBoundsAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("get-array-bounds",[e,r])})}getHexBoundsAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("get-hex-bounds",[e,r])})}getLiteralBoundsAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("get-literal-bounds",[e,r])})}parseNumberAtAsync(e,r=!1,a=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-number",[e,r,a])})}parseNameAtAsync(e,r=!0,a=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-name",[e,r,a])})}parseStringAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-string",[e,r])})}parseBoolAtAsync(e,r=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-bool",[e,r])})}parseNumberArrayAtAsync(e,r=!0,a=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-number-array",[e,r,a])})}parseNameArrayAtAsync(e,r=!0,a=!0){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-name-array",[e,r,a])})}parseDictTypeAsync(e){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-dict-type",[e])})}parseDictSubtypeAsync(e){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-dict-subtype",[e])})}parseDictPropertyByNameAsync(e,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("parse-dict-property-by-name",[e,r])})}skipEmptyAsync(e){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("skip-empty",[e])})}skipToNextNameAsync(e,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("skip-to-next-name",[e,r])})}sliceCharCodesAsync(e,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("slice-char-codes",[e,r])})}sliceCharsAsync(e,r){return __awaiter$1l(this,void 0,void 0,function*(){return yield this.execCommandAsync("slice-chars",[e,r])})}releaseWorkerAsync(e){return __awaiter$1l(this,void 0,void 0,function*(){this._workerPromise=null;const r=yield BgDataParser.transferDataFromWorker(e);this._data=r,e.onmessage=null,e.onerror=null,BgDataParser.returnWorkerToPool(e),this._prevWorkerReleasePromise=null})}getWorkerAsync(){return __awaiter$1l(this,void 0,void 0,function*(){return this._prevWorkerReleasePromise&&(yield this._prevWorkerReleasePromise),this._workerPromise||(this._workerPromise=new Promise((r,a)=>__awaiter$1l(this,void 0,void 0,function*(){const c=this._data,o=yield BgDataParser.getFreeWorkerFromPoolAsync();yield BgDataParser.transferDataToWorker(o,c),o.onmessage=this.onWorkerMessage,o.onerror=this.onWorkerError;const f=setInterval(()=>__awaiter$1l(this,void 0,void 0,function*(){this._commandsInProgress>0||this._workerOnMessageHandlers.size||(clearInterval(f),this._prevWorkerReleasePromise=this.releaseWorkerAsync(o))}),50);r(o)}))),yield this._workerPromise})}execCommandAsync(e,r=[]){return __awaiter$1l(this,void 0,void 0,function*(){this._commandsInProgress++;const a=yield this.getWorkerAsync(),c=UUID.getRandomUuid(),o=new Promise((s,g)=>{const m=p=>{p.data.id===c&&(this._workerOnMessageHandlers.delete(m),p.data.type==="error"?g(`Background worker error: ${p.data.message}`):s(p.data.result))};this._workerOnMessageHandlers.add(m)});a.postMessage({id:c,name:e,args:r});const f=yield o;return this._commandsInProgress--,f})}}BgDataParser._maxWorkersCount=navigator.hardwareConcurrency||4;BgDataParser._workerTimeout=60*1e3;BgDataParser._workerSrc=(()=>{const A=new Blob([workerSrc],{type:"text/plain;charset=utf-8;"});return URL.createObjectURL(A)})();BgDataParser._workerPool=[];BgDataParser._freeWorkers=new Set;const codes={NULL:0,BACKSPACE:8,HORIZONTAL_TAB:9,LINE_FEED:10,VERTICAL_TAB:11,FORM_FEED:12,CARRIAGE_RETURN:13,WHITESPACE:32,EXCLAMATION_MARK:33,DOUBLE_QUOTE:34,HASH:35,DOLLAR:36,PERCENT:37,AMPERSAND:38,QUOTE:39,L_PARENTHESE:40,R_PARENTHESE:41,ASTERISK:42,PLUS:43,COMMA:44,MINUS:45,DOT:46,SLASH:47,D_0:48,D_1:49,D_2:50,D_3:51,D_4:52,D_5:53,D_6:54,D_7:55,D_8:56,D_9:57,COLON:58,SEMICOLON:59,LESS:60,EQUAL:61,GREATER:62,QUESTION_MARK:63,AT:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,L_BRACKET:91,BACKSLASH:92,R_BRACKET:93,CARET:94,UNDERSCORE:95,BACKTICK:96,a:97,b:98,c:99,d:100,e:101,f:102,g:103,h:104,i:105,j:106,k:107,l:108,m:109,n:110,o:111,p:112,q:113,r:114,s:115,t:116,u:117,v:118,w:119,x:120,y:121,z:122,L_BRACE:123,VERTICAL_LINE:124,R_BRACE:125,TILDE:126},keywordCodes={NULL:[codes.n,codes.u,codes.l,codes.l],OBJ:[codes.o,codes.b,codes.j],OBJ_END:[codes.e,codes.n,codes.d,codes.o,codes.b,codes.j],STREAM_START:[codes.s,codes.t,codes.r,codes.e,codes.a,codes.m],STREAM_END:[codes.e,codes.n,codes.d,codes.s,codes.t,codes.r,codes.e,codes.a,codes.m],DICT_START:[codes.LESS,codes.LESS],DICT_END:[codes.GREATER,codes.GREATER],ARRAY_START:[codes.L_BRACKET],ARRAY_END:[codes.R_BRACKET],STR_LITERAL_START:[codes.L_PARENTHESE],STR_LITERAL_END:[codes.R_PARENTHESE],STR_HEX_START:[codes.LESS],STR_HEX_END:[codes.GREATER],VERSION:[codes.PERCENT,codes.P,codes.D,codes.F,codes.MINUS],PREV:[codes.SLASH,codes.P,codes.r,codes.e,codes.v],TYPE:[codes.SLASH,codes.T,codes.y,codes.p,codes.e],SUBTYPE:[codes.SLASH,codes.S,codes.u,codes.b,codes.t,codes.y,codes.p,codes.e],FORM:[codes.SLASH,codes.F,codes.o,codes.r,codes.m],XREF_TABLE:[codes.x,codes.r,codes.e,codes.f],XREF_STREAM:[codes.SLASH,codes.X,codes.R,codes.e,codes.f],XREF_HYBRID:[codes.X,codes.R,codes.e,codes.f,codes.S,codes.t,codes.m],XREF_START:[codes.s,codes.t,codes.a,codes.r,codes.t,codes.x,codes.r,codes.e,codes.f],TRAILER:[codes.t,codes.r,codes.a,codes.i,codes.l,codes.e,codes.r],END_OF_FILE:[codes.PERCENT,codes.PERCENT,codes.E,codes.O,codes.F],END_OF_LINE:[codes.CARRIAGE_RETURN,codes.LINE_FEED],TRUE:[codes.t,codes.r,codes.u,codes.e],FALSE:[codes.f,codes.a,codes.l,codes.s,codes.e],CMAP_BEGIN:[codes.b,codes.e,codes.g,codes.i,codes.n,codes.c,codes.m,codes.a,codes.p],CMAP_END:[codes.e,codes.n,codes.d,codes.c,codes.m,codes.a,codes.p],CMAP_BEGIN_CODE_RANGE:[codes.b,codes.e,codes.g,codes.i,codes.n,codes.c,codes.o,codes.d,codes.e,codes.s,codes.p,codes.a,codes.c,codes.e,codes.r,codes.a,codes.n,codes.g,codes.e],CMAP_END_CODE_RANGE:[codes.e,codes.n,codes.d,codes.c,codes.o,codes.d,codes.e,codes.s,codes.p,codes.a,codes.c,codes.e,codes.r,codes.a,codes.n,codes.g,codes.e],CMAP_BEGIN_CHAR:[codes.b,codes.e,codes.g,codes.i,codes.n,codes.b,codes.f,codes.c,codes.h,codes.a,codes.r],CMAP_END_CHAR:[codes.e,codes.n,codes.d,codes.b,codes.f,codes.c,codes.h,codes.a,codes.r],CMAP_BEGIN_RANGE:[codes.b,codes.e,codes.g,codes.i,codes.n,codes.b,codes.f,codes.r,codes.a,codes.n,codes.g,codes.e],CMAP_END_RANGE:[codes.e,codes.n,codes.d,codes.b,codes.f,codes.r,codes.a,codes.n,codes.g,codes.e],AP_STREAM_TEXT_END:[codes.E,codes.T]};var __awaiter$1k=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class NaiveBytePatternSearch{constructor(e){if(!e?.length)throw new Error("Pattern is empty");this._pattern=e}*run(e){const r=this._pattern;if(!e?.length||e.length<r.length)return-1;let a=!1,c=0,o=0;e:for(c;c<e.length;c++){for(o=0;o<r.length;o++)if(e[c+o]!==r[o])continue e;a=!0,yield c}if(!a)return-1}*runBackwards(e){const r=this._pattern;if(!e?.length||e.length<r.length)return-1;let a=!1,c=e.length-1,o=0;const f=r.length-1;e:for(c;c>=0;c--){for(o=0;o<r.length;o++)if(e[c-o]!==r[f-o])continue e;a=!0,yield c-o+1}if(!a)return-1}}class SyncDataParser{constructor(e){if(!e?.length)throw new Error("Data is empty");this._data=e,this._maxIndex=e.length-1}get maxIndex(){return this._maxIndex}static tryGetParser(e){try{return new SyncDataParser(e)}catch(r){return console.error(r),null}}static isRegularChar(e){return isNaN(e)?!1:!this.delimiterChars.has(e)&&!this.spaceChars.has(e)}static isNotRegularChar(e){return isNaN(e)?!0:this.delimiterChars.has(e)||this.spaceChars.has(e)}static isDigit(e){return this.digitChars.has(e)}static isNewLineChar(e){return this.newLineChars.has(e)}static isSpaceChar(e){return this.spaceChars.has(e)}static isNotSpaceChar(e){return!this.spaceChars.has(e)}static isDelimiterChar(e){return this.delimiterChars.has(e)}static isNotDelimiterChar(e){return!this.delimiterChars.has(e)}destroy(){}getSubParserAsync(e,r){return __awaiter$1k(this,void 0,void 0,function*(){return new SyncDataParser(yield this.sliceCharCodesAsync(e,r))})}isOutside(e){return e<0||e>this._maxIndex}isCodeAtAsync(e,r){return __awaiter$1k(this,void 0,void 0,function*(){return this.getCharCode(e)===r})}getValueTypeAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e))return null;const a=this._data,c=e;switch(a[c]){case codes.SLASH:return SyncDataParser.isRegularChar(a[c+1])?valueTypes.NAME:valueTypes.UNKNOWN;case codes.L_BRACKET:return valueTypes.ARRAY;case codes.L_PARENTHESE:return valueTypes.STRING_LITERAL;case codes.LESS:return codes.LESS===a[c+1]?valueTypes.DICTIONARY:valueTypes.STRING_HEX;case codes.PERCENT:return valueTypes.COMMENT;case codes.D_0:case codes.D_1:case codes.D_2:case codes.D_3:case codes.D_4:case codes.D_5:case codes.D_6:case codes.D_7:case codes.D_8:case codes.D_9:const f=yield this.findDelimiterIndexAsync(!0,c+1);if(f!==-1){const s=yield this.findCharIndexAsync(codes.R,!1,f-1);if(s!==-1&&s>c&&!SyncDataParser.isRegularChar(a[s+1]))return valueTypes.REF}return valueTypes.NUMBER;case codes.DOT:case codes.MINUS:return SyncDataParser.isDigit(a[c+1])?valueTypes.NUMBER:valueTypes.UNKNOWN;case codes.s:return a[c+1]===codes.t&&a[c+2]===codes.r&&a[c+3]===codes.e&&a[c+4]===codes.a&&a[c+5]===codes.m?valueTypes.STREAM:valueTypes.UNKNOWN;case codes.t:return a[c+1]===codes.r&&a[c+2]===codes.u&&a[c+3]===codes.e?valueTypes.BOOLEAN:valueTypes.UNKNOWN;case codes.f:return a[c+1]===codes.a&&a[c+2]===codes.l&&a[c+3]===codes.s&&a[c+4]===codes.e?valueTypes.BOOLEAN:valueTypes.UNKNOWN;default:return valueTypes.UNKNOWN}})}findSubarrayIndexAsync(e,r){var a,c,o;return __awaiter$1k(this,void 0,void 0,function*(){const f=this._data;if(!e?.length)return null;const s=(a=r?.direction)!==null&&a!==void 0?a:!0,g=Math.max(Math.min((c=r?.minIndex)!==null&&c!==void 0?c:0,this._maxIndex),0),m=Math.max(Math.min((o=r?.maxIndex)!==null&&o!==void 0?o:this._maxIndex,this._maxIndex),0),p=!r?.closedOnly,t=new NaiveBytePatternSearch(e);let b,C,w;s?w=t.run(f.subarray(g,m+1)):w=t.runBackwards(f.subarray(g,m+1));for(const v of w){if(v===-1)return null;if(b=v+g,C=b+e.length-1,p||C===m||!SyncDataParser.isRegularChar(f[C+1]))return{start:b,end:C}}return null})}findCharIndexAsync(e,r=!0,a){return __awaiter$1k(this,void 0,void 0,function*(){const c=this._data;let o=isNaN(a)?r?0:this._maxIndex:a;if(r){for(o;o<=this._maxIndex;o++)if(c[o]===e)return o}else for(o;o>=0;o--)if(c[o]===e)return o;return-1})}findNewLineIndexAsync(e=!0,r){return __awaiter$1k(this,void 0,void 0,function*(){let a;const c=this._data;let o=isNaN(r)?e?0:this._maxIndex:r;if(e){for(o;o<=this._maxIndex;o++)if(SyncDataParser.isNewLineChar(c[o])){a=o;break}}else for(o;o>=0;o--)if(SyncDataParser.isNewLineChar(c[o])){a=o;break}return a===void 0?-1:e?(this._data[a]===codes.CARRIAGE_RETURN&&this._data[a+1]===codes.LINE_FEED&&a++,Math.min(a+1,this._maxIndex)):(this._data[a]===codes.LINE_FEED&&this._data[a-1]===codes.CARRIAGE_RETURN&&a--,Math.max(a-1,0))})}findSpaceIndexAsync(e=!0,r){return __awaiter$1k(this,void 0,void 0,function*(){const a=this._data;let c=isNaN(r)?e?0:this._maxIndex:r;if(e){for(c;c<=this._maxIndex;c++)if(SyncDataParser.isSpaceChar(a[c]))return c}else for(c;c>=0;c--)if(SyncDataParser.isSpaceChar(a[c]))return c;return-1})}findNonSpaceIndexAsync(e=!0,r){return __awaiter$1k(this,void 0,void 0,function*(){const a=this._data;let c=isNaN(r)?e?0:this._maxIndex:r;if(e){for(c;c<=this._maxIndex;c++)if(SyncDataParser.isNotSpaceChar(a[c]))return c}else for(c;c>=0;c--)if(SyncDataParser.isNotSpaceChar(a[c]))return c;return-1})}findDelimiterIndexAsync(e=!0,r){return __awaiter$1k(this,void 0,void 0,function*(){const a=this._data;let c=isNaN(r)?e?0:this._maxIndex:r;if(e){for(c;c<=this._maxIndex;c++)if(SyncDataParser.isDelimiterChar(a[c]))return c}else for(c;c>=0;c--)if(SyncDataParser.isDelimiterChar(a[c]))return c;return-1})}findNonDelimiterIndexAsync(e=!0,r){return __awaiter$1k(this,void 0,void 0,function*(){const a=this._data;let c=isNaN(r)?e?0:this._maxIndex:r;if(e){for(c;c<=this._maxIndex;c++)if(SyncDataParser.isNotDelimiterChar(a[c]))return c}else for(c;c>=0;c--)if(SyncDataParser.isNotDelimiterChar(a[c]))return c;return-1})}findRegularIndexAsync(e=!0,r){return __awaiter$1k(this,void 0,void 0,function*(){const a=this._data;let c=isNaN(r)?e?0:this._maxIndex:r;if(e){for(c;c<=this._maxIndex;c++)if(SyncDataParser.isRegularChar(a[c]))return c}else for(c;c>=0;c--)if(SyncDataParser.isRegularChar(a[c]))return c;return-1})}findIrregularIndexAsync(e=!0,r){return __awaiter$1k(this,void 0,void 0,function*(){const a=this._data;let c=isNaN(r)?e?0:this._maxIndex:r;if(e){for(c;c<=this._maxIndex;c++)if(SyncDataParser.isNotRegularChar(a[c]))return c}else for(c;c>=0;c--)if(SyncDataParser.isNotRegularChar(a[c]))return c;return-1})}getIndirectObjectBoundsAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e))return null;const a=yield this.findSubarrayIndexAsync(keywordCodes.OBJ,{minIndex:e,closedOnly:!0});if(!a)return null;let c=yield this.findNonSpaceIndexAsync(!0,a.end+1);if(c===-1)return null;const o=yield this.findSubarrayIndexAsync(keywordCodes.OBJ_END,{minIndex:c,closedOnly:!0});if(!o)return null;let f=yield this.findNonSpaceIndexAsync(!1,o.start-1);return this.getCharCode(c)===codes.LESS&&this.getCharCode(c+1)===codes.LESS&&this.getCharCode(f-1)===codes.GREATER&&this.getCharCode(f)===codes.GREATER&&(c+=2,f-=2),{start:a.start,end:o.end,contentStart:c,contentEnd:f}})}getXrefTableBoundsAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e)||this._data[e]!==codes.x)return null;const a=yield this.findSubarrayIndexAsync(keywordCodes.XREF_TABLE,{minIndex:e});if(!a)return null;const c=yield this.findNonSpaceIndexAsync(!0,a.end+1);if(c===-1)return null;const o=yield this.findSubarrayIndexAsync(keywordCodes.TRAILER,{minIndex:a.end+1});if(!o)return null;const f=yield this.findNonSpaceIndexAsync(!1,o.start-1);return f<c?null:{start:a.start,end:o.end,contentStart:c,contentEnd:f}})}getDictBoundsAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e)||this._data[e]!==codes.LESS||this._data[e+1]!==codes.LESS)return null;const a=yield this.findNonSpaceIndexAsync(!0,e+2);if(a===-1)return null;let c=1,o=!0,f=0,s=a,g,m;for(;c;)m=g,g=this._data[s++],g===codes.L_PARENTHESE&&(!f||m!==codes.BACKSLASH)&&f++,g===codes.R_PARENTHESE&&f&&m!==codes.BACKSLASH&&f--,!f&&(o?o=!1:g===codes.LESS&&g===m?(c++,o=!0):g===codes.GREATER&&g===m&&(c--,o=!0));const p=s-1,t=yield this.findNonSpaceIndexAsync(!1,p-2);return t<a?{start:e,end:p}:{start:e,end:p,contentStart:a,contentEnd:t}})}getArrayBoundsAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e)||this._data[e]!==codes.L_BRACKET)return null;let a=1,c=e+1,o;for(;a;)o=this._data[c++],o===codes.L_BRACKET?a++:o===codes.R_BRACKET&&a--;const f=c-1;return f-e<1?null:{start:e,end:f}})}getHexBoundsAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e)||this.getCharCode(e)!==codes.LESS)return null;const a=yield this.findCharIndexAsync(codes.GREATER,!0,e+1);return a===-1?null:{start:e,end:a}})}getLiteralBoundsAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e)||this.getCharCode(e)!==codes.L_PARENTHESE)return null;let a=e,c,o=!1,f=0;for(;f||c!==codes.R_PARENTHESE||o;){if(a>this._maxIndex)return null;c=this.getCharCode(a++),o||(c===codes.L_PARENTHESE?f+=1:f&&c===codes.R_PARENTHESE&&(f-=1)),!o&&c===codes.BACKSLASH?o=!0:o=!1}return{start:e,end:a-1}})}parseNumberAtAsync(e,r=!1,a=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(a&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e)||!SyncDataParser.isRegularChar(this._data[e]))return null;let c=e,o="",f=this._data[c];for(f===codes.MINUS?(o+="-",f=this._data[++c]):f===codes.DOT&&(o+="0.",f=this._data[++c]);SyncDataParser.isDigit(f)||r&&f===codes.DOT;)o+=String.fromCharCode(f),f=this._data[++c];return o?{value:+o,start:e,end:c-1}:null})}parseNameAtAsync(e,r=!0,a=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(a&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e)||this._data[e]!==codes.SLASH)return null;let c=e+1,o=r?"/":"",f=this._data[c];for(;SyncDataParser.isRegularChar(f);)o+=String.fromCharCode(f),f=this._data[++c];return o.length>1?{value:o,start:e,end:c-1}:null})}parseStringAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e))return null;let a=e,c="",o=this._data[a];for(;SyncDataParser.isRegularChar(o);)c+=String.fromCharCode(o),o=this._data[++a];return c.length!==0?{value:c,start:e,end:a-1}:null})}parseBoolAtAsync(e,r=!0){return __awaiter$1k(this,void 0,void 0,function*(){if(r&&(e=yield this.skipEmptyAsync(e)),this.isOutside(e))return null;const a=yield this.findDelimiterIndexAsync(!0,e),c=yield this.findSubarrayIndexAsync(keywordCodes.TRUE,{minIndex:e,maxIndex:a===-1?this._maxIndex:a});if(c)return{value:!0,start:e,end:c.end};const o=yield this.findSubarrayIndexAsync(keywordCodes.FALSE,{minIndex:e,maxIndex:a===-1?this._maxIndex:a});return o?{value:!1,start:e,end:o.end}:null})}parseNumberArrayAtAsync(e,r=!0,a=!0){return __awaiter$1k(this,void 0,void 0,function*(){const c=yield this.getArrayBoundsAtAsync(e,a);if(!c)return null;const o=[];let f,s=c.start+1;for(;s<c.end&&(f=yield this.parseNumberAtAsync(s,r,!0),!!f);)o.push(f.value),s=f.end+1;return{value:o,start:c.start,end:c.end}})}parseNameArrayAtAsync(e,r=!0,a=!0){return __awaiter$1k(this,void 0,void 0,function*(){const c=yield this.getArrayBoundsAtAsync(e,a);if(!c)return null;const o=[];let f,s=c.start+1;for(;s<c.end&&(f=yield this.parseNameAtAsync(s,r,!0),!!f);)o.push(f.value),s=f.end+1;return{value:o,start:c.start,end:c.end}})}parseDictTypeAsync(e){return __awaiter$1k(this,void 0,void 0,function*(){return yield this.parseDictPropertyByNameAsync(keywordCodes.TYPE,e)})}parseDictSubtypeAsync(e){return __awaiter$1k(this,void 0,void 0,function*(){return yield this.parseDictPropertyByNameAsync(keywordCodes.SUBTYPE,e)})}parseDictPropertyByNameAsync(e,r){var a,c;return __awaiter$1k(this,void 0,void 0,function*(){const o=this._data;if(!e?.length)return null;const f=Math.max(Math.min((a=r.start)!==null&&a!==void 0?a:0,this._maxIndex),0),s=Math.max(Math.min((c=r.end)!==null&&c!==void 0?c:this._maxIndex,this._maxIndex),0);let g,m=f,p,t,b,C=0,w=!0,v=0;e:for(m;m<=s;m++)if(b=t,t=o[m],t===codes.L_PARENTHESE&&(!v||b!==codes.BACKSLASH)&&v++,t===codes.R_PARENTHESE&&v&&b!==codes.BACKSLASH&&v--,!v){for(w?w=!1:t===codes.LESS&&t===b?(C++,w=!0):t===codes.GREATER&&t===b&&(C--,w=!0),p=0;p<e.length;p++)if(o[m+p]!==e[p])continue e;if(C===1&&!SyncDataParser.isRegularChar(o[m+p])){g={start:m,end:m+p-1};break}}if(!g)return null;const M=yield this.parseNameAtAsync(g.end+1);return M?M.value:null})}skipEmptyAsync(e){return __awaiter$1k(this,void 0,void 0,function*(){let r=yield this.findNonSpaceIndexAsync(!0,e);if(r===-1)return-1;if(this._data[r]===codes.PERCENT){const a=yield this.findNewLineIndexAsync(!0,r+1);if(a===-1)return-1;r=yield this.findNonSpaceIndexAsync(!0,a)}return r})}skipToNextNameAsync(e,r){return __awaiter$1k(this,void 0,void 0,function*(){if(e||(e=0),r=r?Math.min(r,this._maxIndex):0,r<e)return-1;let a=e;for(;a<=r;){const c=yield this.getValueTypeAtAsync(a,!0);if(c){let o;switch(c){case valueTypes.DICTIONARY:o=yield this.getDictBoundsAtAsync(a,!1);break;case valueTypes.ARRAY:o=yield this.getArrayBoundsAtAsync(a,!1);break;case valueTypes.STRING_LITERAL:o=yield this.getLiteralBoundsAtAsync(a,!1);break;case valueTypes.STRING_HEX:o=yield this.getHexBoundsAtAsync(a,!1);break;case valueTypes.NUMBER:const f=yield this.parseNumberAtAsync(a,!0,!1);f&&(o=f);break;case valueTypes.BOOLEAN:const s=yield this.parseBoolAtAsync(a,!1);s&&(o=s);break;case valueTypes.COMMENT:break;case valueTypes.NAME:return a;default:a++;continue}if(o){a=o.end+1,o=null;continue}}a++}return-1})}sliceCharCodesAsync(e,r){return __awaiter$1k(this,void 0,void 0,function*(){return this._data.slice(e,(r||e)+1)})}sliceCharsAsync(e,r){return __awaiter$1k(this,void 0,void 0,function*(){return String.fromCharCode(...this._data.slice(e,(r||e)+1))})}getCharCode(e){return this._data[e]}}SyncDataParser.EOL=[codes.CARRIAGE_RETURN,codes.LINE_FEED];SyncDataParser.delimiterChars=new Set([codes.PERCENT,codes.L_PARENTHESE,codes.R_PARENTHESE,codes.SLASH,codes.LESS,codes.GREATER,codes.L_BRACKET,codes.R_BRACKET,codes.L_BRACE,codes.R_BRACE]);SyncDataParser.spaceChars=new Set([codes.NULL,codes.HORIZONTAL_TAB,codes.LINE_FEED,codes.FORM_FEED,codes.CARRIAGE_RETURN,codes.WHITESPACE]);SyncDataParser.digitChars=new Set([codes.D_0,codes.D_1,codes.D_2,codes.D_3,codes.D_4,codes.D_5,codes.D_6,codes.D_7,codes.D_8,codes.D_9]);SyncDataParser.newLineChars=new Set([codes.CARRIAGE_RETURN,codes.LINE_FEED]);class DataWriter{constructor(e){if(this._dataToAppend=[],!e?.length)throw new Error("Data is empty");this._encoder=new TextEncoder,this._sourceData=e.slice(0),this._pointer=e.length,this.fixEof()}get offset(){return this._pointer}getCurrentData(){const e=new Uint8Array(this._sourceData.length+this._dataToAppend.length);return e.set(this._sourceData,0),e.set(this._dataToAppend,this._sourceData.length),e}writeBytes(e){if(e?.length){for(let r=0;r<e.length;r++)this._dataToAppend.push(e[r]);this._pointer+=e.length}}writeIndirectObject(e,r){if(!e?.ref||!r)return;const a=[...this._encoder.encode(`${e.ref.id} ${e.ref.generation} `),...keywordCodes.OBJ,...keywordCodes.END_OF_LINE,...r.toArray(e),...keywordCodes.END_OF_LINE,...keywordCodes.OBJ_END,...keywordCodes.END_OF_LINE];this.writeBytes(a)}writeIndirectArray(e,r){if(!e?.ref||!r)return;const a=[...this._encoder.encode(`${e.ref.id} ${e.ref.generation} `),...keywordCodes.OBJ,...keywordCodes.END_OF_LINE,codes.L_BRACKET];for(const c of r)a.push(codes.WHITESPACE,...c.toArray(e));a.push(codes.R_BRACKET,...keywordCodes.END_OF_LINE,...keywordCodes.OBJ_END,...keywordCodes.END_OF_LINE),this.writeBytes(a)}writeEof(e){const r=[...keywordCodes.XREF_START,...keywordCodes.END_OF_LINE,...this._encoder.encode(e+""),...keywordCodes.END_OF_LINE,...keywordCodes.END_OF_FILE,...keywordCodes.END_OF_LINE];this.writeBytes(r)}fixEof(){this._sourceData[this._pointer-1]!==codes.LINE_FEED&&(this._sourceData[this._pointer-2]!==codes.CARRIAGE_RETURN?(this._dataToAppend.push(codes.CARRIAGE_RETURN,codes.LINE_FEED),this._pointer+=2):(this._dataToAppend.push(codes.LINE_FEED),this._pointer+=1))}}class XRefEntry{constructor(e,r,a,c,o,f,s){this.type=e,this.id=r,this.generation=a,this.byteOffset=c,this.nextFreeId=o,this.streamId=f,this.streamIndex=s}static isDigit(e){return this.digitChars.has(e)}static*fromTableBytes(e){let r=0,a=0;for(;r<e.length;){const c=[];let o=e[r++];for(;XRefEntry.isDigit(o);)c.push(o),o=e[r++];let f=parseInt(c.map(p=>String.fromCharCode(p)).join(""),10);const s=[];let g=e[r++];for(;XRefEntry.isDigit(g);)s.push(g),g=e[r++];const m=parseInt(s.map(p=>String.fromCharCode(p)).join(""),10);for(;!XRefEntry.isDigit(e[r]);)r++;for(a=0;a<m;a++){const p=parseInt(Array.from(e.subarray(r,r+10)).map(C=>String.fromCharCode(C)).join(""),10);r+=11;const t=parseInt(Array.from(e.subarray(r,r+5)).map(C=>String.fromCharCode(C)).join(""),10);r+=6;const b=e[r];b===codes.f?yield new XRefEntry(xRefEntryTypes.FREE,f++,t,null,p):b===codes.n&&(yield new XRefEntry(xRefEntryTypes.NORMAL,f++,t,p)),r+=3}}}static*fromStreamBytes(e,r,a){const[c,o,f]=r,s=c+o+f;if(e.length%s)throw new Error("Incorrect stream length");const g=e.length/s,m=new Array(g);if(a?.length){let v,M,y=0;for(let I=0;I<a.length;I++)if(!(I%2))v=a[I];else for(M=0;M<a[I];M++)m[y++]=v+M}else{let v=0;for(;v<g;)m[v++]=v}let p=0,t=0,b,C,w;for(;p<e.length;)switch(b=c?ByteUtils.parseIntFromBytes(e.slice(p,p+c)):1,p+=c,C=ByteUtils.parseIntFromBytes(e.slice(p,p+o)),p+=o,w=f?ByteUtils.parseIntFromBytes(e.slice(p,p+f)):null,p+=f,b){case xRefEntryTypes.FREE:yield new XRefEntry(xRefEntryTypes.FREE,m[t++],w??maxGeneration,null,C);break;case xRefEntryTypes.NORMAL:yield new XRefEntry(xRefEntryTypes.NORMAL,m[t++],w??0,C);break;case xRefEntryTypes.COMPRESSED:yield new XRefEntry(xRefEntryTypes.COMPRESSED,m[t++],0,null,null,C,w);break}}static toTableBytes(e){if(!e?.length)return null;const r=new TextEncoder,a=this.groupEntries(e);let c=new Uint8Array,o,f;for(const s of a){f=`${s[0]} ${s[1].length}\r
`,o=new Uint8Array(c.length+f.length),o.set(c),o.set(r.encode(f),c.length),c=o;for(const g of s[1]){switch(g.type){case xRefEntryTypes.FREE:f=`${g.nextFreeId.toString().padStart(10,"0")} ${g.generation.toString().padStart(5,"0")} f\r
`;break;case xRefEntryTypes.NORMAL:f=`${g.byteOffset.toString().padStart(10,"0")} ${g.generation.toString().padStart(5,"0")} n\r
`;break;default:continue}o=new Uint8Array(c.length+f.length),o.set(c),o.set(r.encode(f),c.length),c=o}}return c}static toStreamBytes(e,r=[1,4,2]){if(!e?.length)return null;if(Math.min(...r)<0)throw new Error("Negative length values are not permitted");let[a,c,o]=r;a??(a=0),c??(c=4),o??(o=0);const f=a+c+o;let s,g,m;switch(a){case 0:s=()=>new Uint8Array;break;case 1:s=ByteUtils.int8ToBytes;break;case 2:s=ByteUtils.int16ToBytes;break;default:g=y=>new Uint8Array([...new Array(a-2).fill(0),...ByteUtils.int16ToBytes(y)]);break}switch(c){case 1:g=ByteUtils.int8ToBytes;break;case 2:g=ByteUtils.int16ToBytes;break;case 3:g=y=>new Uint8Array([0,...ByteUtils.int16ToBytes(y)]);break;case 4:g=ByteUtils.int32ToBytes;break;default:g=y=>new Uint8Array([...new Array(a-4).fill(0),...ByteUtils.int32ToBytes(y)]);break}switch(o){case 0:m=()=>new Uint8Array;break;case 1:m=ByteUtils.int8ToBytes;break;case 2:m=ByteUtils.int16ToBytes;break;default:g=y=>new Uint8Array([...new Array(a-2).fill(0),...ByteUtils.int16ToBytes(y)]);break}new TextEncoder;const p=this.groupEntries(e),t=[];let b=new Uint8Array,C,w,v,M;for(const y of p){t.push(y[0],y[1].length);for(const I of y[1]){switch(I.type){case xRefEntryTypes.FREE:w=s(0),v=g(I.nextFreeId),M=m(I.generation);break;case xRefEntryTypes.NORMAL:w=s(1),v=g(I.byteOffset),M=m(I.generation);break;case xRefEntryTypes.COMPRESSED:w=s(2),v=g(I.streamId),M=m(I.streamIndex);break;default:continue}C=new Uint8Array(b.length+f),C.set(b),C.set(w,b.length),C.set(v,b.length+a),C.set(M,b.length+a+c),b=C}}return{bytes:b,index:t}}static groupEntries(e){e.sort((f,s)=>f.id-s.id);const r=[];let a,c,o;for(const f of e)f.id!==o+1?(c?.length&&r.push([a,c]),a=f.id,c=[f]):c.push(f),o=f.id;return c?.length&&r.push([a,c]),r}}XRefEntry.digitChars=new Set([codes.D_0,codes.D_1,codes.D_2,codes.D_3,codes.D_4,codes.D_5,codes.D_6,codes.D_7,codes.D_8,codes.D_9]);class ReferenceDataChange{constructor(e){this._refData=e,this._size=e.size;const r=new LinkedList;for(const a of e.freeLinkedList)r.push(Object.assign({},a));this._freeLinkedList=r,this._usedMap=new Map}get size(){return this._size}getUsedRef(e){return this._usedMap.get(e)}takeFreeRef(e,r=!1){let a;if(!r&&this._freeLinkedList.length>1){const c=this._freeLinkedList.pop();this._freeLinkedList.tail.nextFreeId=0,a={id:c.id,generation:c.generation,byteOffset:e}}else a={id:this._size++,generation:0,byteOffset:e};return this._usedMap.set(a.id,a),a}setRefFree(e){if(this._usedMap.has(e)&&(this._usedMap.delete(e),this._size>this._refData.size&&this._size===e+1&&this._size--),this._refData.isUsed(e)){const r=this._refData.getGeneration(e),a={id:e,generation:r+1,nextFreeId:0};if(this._freeLinkedList.findIndex(a,(f,s)=>f.id===s.id&&f.generation<=s.generation)!==-1)return;const o=this._freeLinkedList.tail;o.nextFreeId=e,this._freeLinkedList.push(a)}}updateUsedRef(e){if(e.compressed&&e.generation)throw new Error(`Compressed ref generation can't be greater than zero: '${e.id} ${e.generation} R'`);if(this.isFreed(e))throw new Error(`The reference is freed: '${e.id} ${e.generation} R'`);const r=this._usedMap.get(e.id);if(r)throw new Error(`Same reference has been issued twice: '${r.id} ${r.generation} R'`);if(this._refData.isUsed(e.id)){const a=this._refData.getGeneration(e.id);if(e.generation>=a)return this._usedMap.set(e.id,e),!0;throw new Error(`The reference has an old generation: '${r.id} ${r.generation} R'`)}throw new Error(`The reference is not used: '${r.id} ${r.generation} R'`)}exportEntries(){const e=[];for(const r of this._freeLinkedList)e.push(new XRefEntry(xRefEntryTypes.FREE,r.id,r.generation,null,r.nextFreeId));return this._usedMap.forEach(r=>{r.compressed?e.push(new XRefEntry(xRefEntryTypes.COMPRESSED,r.id,0,null,null,r.streamId,r.streamIndex)):e.push(new XRefEntry(xRefEntryTypes.NORMAL,r.id,r.generation,r.byteOffset))}),e}isFreed(e){return this._freeLinkedList.has(e,(r,a)=>r.id===a.id&&r.generation<a.generation)}isUsedInSource(e){return this._refData.isUsed(e)}}var __awaiter$1j=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class ObjectId{constructor(e,r){this.id=e??0,this.generation=r??0}static parseAsync(e,r,a=!0){return __awaiter$1j(this,void 0,void 0,function*(){if(a&&(r=yield e.findRegularIndexAsync(!0,r)),r<0||r>e.maxIndex)return null;const c=yield e.parseNumberAtAsync(r,!1,!1);if(!c||isNaN(c.value))return null;const o=yield e.parseNumberAtAsync(c.end+2,!1,!1);return!o||isNaN(o.value)?null:{value:new ObjectId(c.value,o.value),start:r,end:o.end}})}static parseRefAsync(e,r,a=!0){return __awaiter$1j(this,void 0,void 0,function*(){const c=yield ObjectId.parseAsync(e,r,a);if(!c)return null;const o=c.end+2,f=yield e.findSubarrayIndexAsync([codes.R],{minIndex:o,closedOnly:!0});return!f||f.start!==o?null:{value:c.value,start:c.start,end:f.end}})}static parseRefArrayAsync(e,r,a=!0){return __awaiter$1j(this,void 0,void 0,function*(){const c=yield e.getArrayBoundsAtAsync(r,a);if(!c)return null;const o=[];let f,s=c.start+1;for(;s<c.end&&(f=yield ObjectId.parseRefAsync(e,s,!0),!!f);)o.push(f.value),s=f.end+1;return{value:o,start:c.start,end:c.end}})}static fromRef(e){return new ObjectId(e.id,e.generation)}equals(e){return this.id===e.id&&this.generation===e.generation}toArray(e){return new TextEncoder().encode(`${this.id} ${this.generation} R`)}toString(){return this.id+"|"+this.generation}}var __awaiter$1i=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class DateString{constructor(e,r){this._source=e,this._date=new Date(r)}get source(){return this._source}get date(){return new Date(this._date)}static parseAsync(e,r,a=null,c=!0){return __awaiter$1i(this,void 0,void 0,function*(){if(c&&(r=yield e.skipEmptyAsync(r)),e.isOutside(r)||!(yield e.isCodeAtAsync(r,codes.L_PARENTHESE)))return null;const o=yield e.findCharIndexAsync(codes.R_PARENTHESE,!0,r);if(o===-1)return null;let f=yield e.sliceCharCodesAsync(r+1,o-1);a?.ref&&a.stringCryptor&&(f=a.stringCryptor.decrypt(f,a.ref));try{return{value:DateString.fromArray(f),start:r,end:o}}catch{return null}})}static fromDate(e){const r=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),f=String(e.getMinutes()).padStart(2,"0"),s=String(e.getSeconds()).padStart(2,"0"),g=`D:${r}${a}${c}${o}${f}${s}`;return new DateString(g,e)}static fromString(e){const r=/D:(?<Y>\d{4})(?<M>\d{2})(?<D>\d{2})(?<h>\d{2})(?<m>\d{2})(?<s>\d{2})/.exec(e),a=new Date(+r.groups.Y,+r.groups.M-1,+r.groups.D,+r.groups.h,+r.groups.m,+r.groups.s);return new DateString(e,a)}static fromArray(e){const r=new TextDecoder().decode(e);return DateString.fromString(r)}toArray(e){let r=new TextEncoder().encode(this._source);return e?.ref&&e.stringCryptor&&(r=e.stringCryptor.encrypt(r,e.ref)),new Uint8Array([...keywordCodes.STR_LITERAL_START,...r,...keywordCodes.STR_LITERAL_END])}}var __awaiter$1h=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class HexString{constructor(e,r,a){this._literal=e,this._hex=r,this._bytes=a}get literal(){return this._literal}get hex(){return this._hex.slice()}get bytes(){return this._bytes.slice()}static parseAsync(e,r,a=null,c=!0){return __awaiter$1h(this,void 0,void 0,function*(){const o=yield e.getHexBoundsAtAsync(r,c);if(!o)return null;let f=yield e.sliceCharCodesAsync(o.start+1,o.end-1);return a?.ref&&a.stringCryptor&&(f=a.stringCryptor.decrypt(f,a.ref)),{value:HexString.fromBytes(f),start:o.start,end:o.end}})}static parseArrayAsync(e,r,a=null,c=!0){return __awaiter$1h(this,void 0,void 0,function*(){const o=yield e.getArrayBoundsAtAsync(r,c);if(!o)return null;const f=[];let s,g=o.start+1;for(;g<o.end&&(s=yield HexString.parseAsync(e,g,a,c),!!s);)f.push(s.value),g=s.end+1;return{value:f,start:o.start,end:o.end}})}static fromBytes(e){const r=new TextDecoder().decode(e),a=ByteUtils.hexStringToBytes(r);return new HexString(r,a,e)}static fromHexBytes(e){let r="";e.forEach(c=>r+=c.toString(16).padStart(2,"0"));const a=new TextEncoder().encode(r);return new HexString(r,e,a)}static fromString(e){const r=ByteUtils.hexStringToBytes(e),a=new TextEncoder().encode(e);return new HexString(e,r,a)}toArray(e){return new Uint8Array([...keywordCodes.STR_HEX_START,...this._bytes,...keywordCodes.STR_HEX_END])}}var __awaiter$1g=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class LiteralString{constructor(e,r){this._literal=e,this._bytes=r}get literal(){return this._literal}get bytes(){return this._bytes.slice()}static parseAsync(e,r,a=null,c=!0){return __awaiter$1g(this,void 0,void 0,function*(){const o=yield e.getLiteralBoundsAtAsync(r,c);if(!o)return;let f=LiteralString.unescape(yield e.sliceCharCodesAsync(o.start+1,o.end-1));return a?.ref&&a.stringCryptor&&(f=a.stringCryptor.decrypt(f,a.ref)),{value:LiteralString.fromBytes(f),start:o.start,end:o.end}})}static parseArrayAsync(e,r,a=null,c=!0){return __awaiter$1g(this,void 0,void 0,function*(){const o=yield e.getArrayBoundsAtAsync(r,c);if(!o)return null;const f=[];let s,g=o.start+1;for(;g<o.end&&(s=yield LiteralString.parseAsync(e,g,a,c),!!s);)f.push(s.value),g=s.end+1;return{value:f,start:o.start,end:o.end}})}static fromBytes(e){const a=(e[0]===254&&e[1]===255?new TextDecoder("utf-16be"):new TextDecoder).decode(e);return new LiteralString(a,e)}static fromString(e){const r=[];r.push(254,255);for(let a=0;a<e.length;a++){const c=e.charCodeAt(a);r.push((c&65280)>>>8),r.push(c&255)}return new LiteralString(e,new Uint8Array(r))}static escape(e){const r=[];for(let a=0;a<e.length;a++)switch(e[a]){case codes.LINE_FEED:r.push(codes.BACKSLASH),r.push(codes.n);break;case codes.CARRIAGE_RETURN:r.push(codes.BACKSLASH),r.push(codes.r);break;case codes.HORIZONTAL_TAB:r.push(codes.BACKSLASH),r.push(codes.t);break;case codes.BACKSPACE:r.push(codes.BACKSLASH),r.push(codes.b);break;case codes.FORM_FEED:r.push(codes.BACKSLASH),r.push(codes.f);break;case codes.L_PARENTHESE:r.push(codes.BACKSLASH),r.push(codes.L_PARENTHESE);break;case codes.R_PARENTHESE:r.push(codes.BACKSLASH),r.push(codes.R_PARENTHESE);break;case codes.BACKSLASH:r.push(codes.BACKSLASH),r.push(codes.BACKSLASH);break;default:r.push(e[a]);break}return new Uint8Array(r)}static unescape(e){const r=[];let a=!1;for(let c=0;c<e.length;c++){if(a){switch(e[c]){case codes.n:r.push(codes.LINE_FEED);break;case codes.r:r.push(codes.CARRIAGE_RETURN);break;case codes.t:r.push(codes.HORIZONTAL_TAB);break;case codes.b:r.push(codes.BACKSPACE);break;case codes.f:r.push(codes.FORM_FEED);break;case codes.L_PARENTHESE:r.push(codes.L_PARENTHESE);break;case codes.R_PARENTHESE:r.push(codes.R_PARENTHESE);break;case codes.BACKSLASH:r.push(codes.BACKSLASH);break;default:r.push(e[c]);break}a=!1;continue}if(e[c]===codes.BACKSLASH){a=!0;continue}r.push(e[c])}return new Uint8Array(r)}toArray(e){const r=e?.ref&&e.stringCryptor?e.stringCryptor.encrypt(this._bytes,e.ref):this._bytes;return new Uint8Array([...keywordCodes.STR_LITERAL_START,...LiteralString.escape(r),...keywordCodes.STR_LITERAL_END])}}var __awaiter$1f=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PdfObject{constructor(){this._added=!1,this._edited=!1,this._deleted=!1,this.onChange={set:(e,r,a)=>(r[0]!=="_"&&r[0]!=="$"&&(this._edited||(this._edited=!0),this.$onChangeAction&&this.$onChangeAction()),e[r]=a,!0)}}get sourceBytes(){var e;return(e=this._sourceBytes)===null||e===void 0?void 0:e.slice()}get sourceChars(){return this._sourceBytes?String.fromCharCode(...this._sourceBytes.slice(0,this._sourceBytes.length)):""}get ref(){return this._ref}set ref(e){this._ref=e}get id(){var e;return(e=this._ref)===null||e===void 0?void 0:e.id}get generation(){var e;return(e=this._ref)===null||e===void 0?void 0:e.generation}get added(){return this._added}get edited(){return this._edited}get deleted(){return this._deleted}static getDataParserAsync(e){var r;return __awaiter$1f(this,void 0,void 0,function*(){return(r=BgDataParser.tryGetParser(e.slice()))!==null&&r!==void 0?r:SyncDataParser.tryGetParser(e)})}markAsDeleted(e=!0){this._deleted=e}initProxy(){const e=new Proxy(this,this.onChange);return this._proxy=e,e}getProxy(){return this._proxy||this}encodePrimitiveArray(e,r){r||(r=new TextEncoder);const a=[codes.L_BRACKET];return e.forEach(c=>a.push(...r.encode(" "+c))),a.push(codes.R_BRACKET),a}encodeNestedPrimitiveArray(e,r){r||(r=new TextEncoder);const a=[codes.L_BRACKET];return e.forEach(c=>{a.push(codes.L_BRACKET),c.forEach(o=>a.push(...r.encode(" "+o))),a.push(codes.R_BRACKET)}),a.push(codes.R_BRACKET),a}encodeSerializableArray(e,r){const a=[codes.L_BRACKET];return e.forEach(c=>a.push(codes.WHITESPACE,...c.toArray(r))),a.push(codes.R_BRACKET),a}parseRefPropAsync(e,r,a){return __awaiter$1f(this,void 0,void 0,function*(){const c=yield ObjectId.parseRefAsync(r,a);return this.setParsedProp(e,c)})}parseRefArrayPropAsync(e,r,a){return __awaiter$1f(this,void 0,void 0,function*(){const c=yield ObjectId.parseRefArrayAsync(r,a);return this.setParsedProp(e,c)})}parseBoolPropAsync(e,r,a){return __awaiter$1f(this,void 0,void 0,function*(){const c=yield r.parseBoolAtAsync(a);return this.setParsedProp(e,c)})}parseNamePropAsync(e,r,a,c=!0){return __awaiter$1f(this,void 0,void 0,function*(){const o=yield r.parseNameAtAsync(a,c);return this.setParsedProp(e,o)})}parseNameArrayPropAsync(e,r,a,c=!0){return __awaiter$1f(this,void 0,void 0,function*(){const o=yield r.parseNameArrayAtAsync(a,c);return this.setParsedProp(e,o)})}parseNumberPropAsync(e,r,a,c=!0){return __awaiter$1f(this,void 0,void 0,function*(){const o=yield r.parseNumberAtAsync(a,c);return this.setParsedProp(e,o)})}parseNumberArrayPropAsync(e,r,a,c=!0){return __awaiter$1f(this,void 0,void 0,function*(){const o=yield r.parseNumberArrayAtAsync(a,c);return this.setParsedProp(e,o)})}parseDatePropAsync(e,r,a,c){return __awaiter$1f(this,void 0,void 0,function*(){const o=yield DateString.parseAsync(r,a,c);return this.setParsedProp(e,o)})}parseLiteralPropAsync(e,r,a,c){return __awaiter$1f(this,void 0,void 0,function*(){const o=yield LiteralString.parseAsync(r,a,c);return this.setParsedProp(e,o)})}parseHexPropAsync(e,r,a,c){return __awaiter$1f(this,void 0,void 0,function*(){const o=yield HexString.parseAsync(r,a,c);return this.setParsedProp(e,o)})}setParsedProp(e,r){if(!r)throw new Error(`Can't parse ${e} property value`);return this[e.slice(1)]=r.value,r.end+1}}var __awaiter$1e=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PdfDict extends PdfObject{constructor(e){super(),this.Type=e}get streamId(){return this._streamId}toArray(e){const r=new TextEncoder,a=[...keywordCodes.DICT_START];return this.Type&&a.push(...keywordCodes.TYPE,...r.encode(this.Type)),a.push(...keywordCodes.DICT_END),new Uint8Array(a)}parsePropsAsync(e){var r;return __awaiter$1e(this,void 0,void 0,function*(){if(!e)throw new Error("Parse info is empty");const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;this._ref=(r=e.cryptInfo)===null||r===void 0?void 0:r.ref,this._streamId=e.streamId,this._sourceBytes=yield a.sliceCharCodesAsync(o,f);let s=yield a.skipToNextNameAsync(o,f-1);if(s===-1)throw new Error("Dict is empty (has no properties)");let g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Type":const p=yield a.parseNameAtAsync(s);if(p){if(this.Type&&this.Type!==p.value)throw new Error(`Ivalid dict type: '${p.value}' instead of '${this.Type}'`);return}throw new Error("Can't parse /Type property value");default:s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$1d=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class DecodeParamsDict extends PdfDict{constructor(){super(dictTypes.EMPTY),this._intPropMap=new Map,this._boolPropMap=new Map,this._namePropMap=new Map,this._refPropMap=new Map}static parseAsync(e){return __awaiter$1d(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new DecodeParamsDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}static parseArrayAsync(e,r,a=null,c=!0){return __awaiter$1d(this,void 0,void 0,function*(){const o=yield e.getArrayBoundsAtAsync(r,c);if(!o)return null;const f=[];let s,g=o.start+1;for(;g<o.end;){const m=yield e.getDictBoundsAtAsync(g);if(s=yield DecodeParamsDict.parseAsync({parser:e,bounds:m,cryptInfo:a}),!s)break;f.push(s.value),g=s.end+1}return{value:f,start:o.start,end:o.end}})}getIntProp(e){return this._intPropMap.get(e)}getBoolProp(e){return this._boolPropMap.get(e)}getNameProp(e){return this._namePropMap.get(e)}getRefProp(e){return this._refPropMap.get(e)}setIntProp(e,r){return this._intPropMap.set(e,r)}setBoolProp(e,r){return this._boolPropMap.set(e,r)}setNameProp(e,r){return this._namePropMap.set(e,r)}setRefProp(e,r){return this._refPropMap.set(e,r)}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this._intPropMap.forEach((f,s)=>c.push(...a.encode(s),...a.encode(" "+f))),this._boolPropMap.forEach((f,s)=>c.push(...a.encode(s),...a.encode(" "+f))),this._namePropMap.forEach((f,s)=>c.push(...a.encode(s),...a.encode(f))),this._refPropMap.forEach((f,s)=>c.push(...a.encode(s),...f.toArray(e)));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$1d(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;){switch(s=m.end+1,g=m.value,yield a.getValueTypeAtAsync(s)){case valueTypes.NUMBER:const t=yield a.parseNumberAtAsync(s,!1);if(t){this._intPropMap.set(g,t.value),s=t.end+1;continue}break;case valueTypes.BOOLEAN:const b=yield a.parseBoolAtAsync(s);if(b){this._boolPropMap.set(g,b.value),s=b.end+1;continue}break;case valueTypes.NAME:const C=yield a.parseNameAtAsync(s);if(C){this._namePropMap.set(g,C.value),s=C.end+1;continue}break;case valueTypes.REF:const w=yield ObjectId.parseRefAsync(a,s);if(w){this._refPropMap.set(g,w.value),s=w.end+1;continue}break}s=yield a.skipToNextNameAsync(s,f-1)}})}}class DecodedStream{constructor(e){this._minBufferLength=512,this._bufferLength=0,this._current=0,this._ended=!1,this._sourceStream=e}get length(){return this._buffer.length}ensureBuffer(e){const r=this._buffer;if(r&&e<=r.byteLength)return r;let a=this._minBufferLength;for(;a<e;)a*=2;const c=new Uint8Array(a);return r&&c.set(r),this._buffer=c}takeByte(){const e=this._current;for(;this._bufferLength<=e;){if(this._ended)return-1;this._readBlock()}return this._buffer[this._current++]}takeBytes(e){let r;const a=this._current;if(e){for(this.ensureBuffer(a+e),r=a+e;!this._ended&&this._bufferLength<r;)this._readBlock();r>this._bufferLength&&(r=this._bufferLength)}else{for(;!this._ended;)this._readBlock();r=this._bufferLength}return this._current=r,this._buffer.subarray(a,r)}takeUint16(){const e=this.takeByte(),r=this.takeByte();return e===-1||r===-1?-1:(e<<8)+r}takeInt32(){const e=this.takeByte(),r=this.takeByte(),a=this.takeByte(),c=this.takeByte();return(e<<24)+(r<<16)+(a<<8)+c}peekByte(){const e=this.takeByte();return e!==-1&&this._current--,e}peekBytes(e){const r=this.takeBytes(e);return this._current-=r.length,r}skip(e){this._current+=e||1}reset(){this._current=0}}class FlateStream extends DecodedStream{constructor(e){super(e),this._codeSize=0,this._codeBuf=0;const r=e.takeByte(),a=e.takeByte();if(r===-1||a===-1)throw new Error(`Invalid header in flate stream: ${r}, ${a}`);if((r&15)!==8)throw new Error(`Unknown compression method in flate stream: ${r}, ${a}`);if(((r<<8)+a)%31!==0)throw new Error(`Bad FCHECK in flate stream: ${r}, ${a}`);if(a&32)throw new Error(`FDICT bit set in flate stream: ${r}, ${a}`);this._codeSize=0,this._codeBuf=0}_readBlock(){let e,r;const a=this._sourceStream;let c=this.getBits(3);if(c&1&&(this._ended=!0),c>>=1,c===0){let m;if((m=a.takeByte())===-1)throw new Error("Bad block header in flate stream");let p=m;if((m=a.takeByte())===-1)throw new Error("Bad block header in flate stream");if(p|=m<<8,(m=a.takeByte())===-1)throw new Error("Bad block header in flate stream");let t=m;if((m=a.takeByte())===-1)throw new Error("Bad block header in flate stream");if(t|=m<<8,t!==(~p&65535)&&(p!==0||t!==0))throw new Error("Bad uncompressed block length in flate stream");this._codeBuf=0,this._codeSize=0;const b=this._bufferLength,C=b+p;if(e=this.ensureBuffer(C),this._bufferLength=C,p===0)a.peekByte()===-1&&(this._ended=!0);else{const w=a.takeBytes(p);e.set(w,b),w.length<p&&(this._ended=!0)}return}let o,f;if(c===1)o=FlateStream.fixedLitCodeTab,f=FlateStream.fixedDistCodeTab;else if(c===2){const m=this.getBits(5)+257,p=this.getBits(5)+1,t=this.getBits(4)+4,b=new Uint8Array(FlateStream.codeLenCodeMap.length);let C;for(C=0;C<t;C++)b[FlateStream.codeLenCodeMap[C]]=this.getBits(3);const w=this.generateHuffmanTable(b);r=0,C=0;const v=m+p,M=new Uint8Array(v);let y,I,P;for(;C<v;){const _=this.getCode(w);if(_===16)y=2,I=3,P=r;else if(_===17)y=3,I=3,P=r=0;else if(_===18)y=7,I=11,P=r=0;else{M[C++]=r=_;continue}let k=this.getBits(y)+I;for(;k-- >0;)M[C++]=P}o=this.generateHuffmanTable(M.subarray(0,m)),f=this.generateHuffmanTable(M.subarray(m,v))}else throw new Error("Unknown block type in flate stream");e=this._buffer;let s=e?e.length:0,g=this._bufferLength;for(;;){let m=this.getCode(o);if(m<256){g+1>=s&&(e=this.ensureBuffer(g+1),s=e.length),e[g++]=m;continue}if(m===256){this._bufferLength=g;return}m-=257,m=FlateStream.lengthDecode[m];let p=m>>16;p>0&&(p=this.getBits(p)),r=(m&65535)+p,m=this.getCode(f),m=FlateStream.distDecode[m],p=m>>16,p>0&&(p=this.getBits(p));const t=(m&65535)+p;g+r>=s&&(e=this.ensureBuffer(g+r),s=e.length);for(let b=0;b<r;++b,++g)e[g]=e[g-t]}}getBits(e){const r=this._sourceStream;let a=this._codeSize,c=this._codeBuf,o;for(;a<e;){if((o=r.takeByte())===-1)throw new Error("Bad encoding in flate stream");c|=o<<a,a+=8}return o=c&(1<<e)-1,this._codeBuf=c>>e,this._codeSize=a-=e,o}getCode(e){const r=this._sourceStream,[a,c]=e;let o=this._codeSize,f=this._codeBuf,s;for(;o<c&&(s=r.takeByte())!==-1;)f|=s<<o,o+=8;const g=a[f&(1<<c)-1],m=g>>16,p=g&65535;if(m<1||o<m)throw new Error("Bad encoding in flate stream");return this._codeBuf=f>>m,this._codeSize=o-m,p}generateHuffmanTable(e){const r=e.length;let a=0,c;for(c=0;c<r;c++)e[c]>a&&(a=e[c]);const o=1<<a,f=new Int32Array(o);for(let s=1,g=0,m=2;s<=a;s++,g<<=1,m<<=1)for(let p=0;p<r;p++)if(e[p]===s){let t=0,b=g;for(c=0;c<s;c++)t=t<<1|b&1,b>>=1;for(c=t;c<o;c+=m)f[c]=s<<16|p;g++}return[f,a]}}FlateStream.codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);FlateStream.lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]);FlateStream.distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]);FlateStream.fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9];FlateStream.fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class Stream{constructor(e,r=0,a){if(a&&a<0)throw new Error("Stream length can't be negative");this._bytes=e instanceof Uint8Array?e:new Uint8Array(e),this._start=r,this._current=r,this._end=r+a||e.length}get length(){return this._end-this._start}takeByte(){return this._current>=this._end?-1:this._bytes[this._current++]}takeBytes(e){const r=this._bytes,a=this._current,c=this._end;if(e){let o=a+e;return o>c&&(o=c),this._current=o,r.subarray(a,o)}else return r.subarray(a,c)}takeUint16(){const e=this.takeByte(),r=this.takeByte();return e===-1||r===-1?-1:(e<<8)+r}takeInt32(){const e=this.takeByte(),r=this.takeByte(),a=this.takeByte(),c=this.takeByte();return(e<<24)+(r<<16)+(a<<8)+c}peekByte(){const e=this.takeByte();return e!==-1&&this._current--,e}peekBytes(e){const r=this.takeBytes(e);return this._current-=r.length,r}getByte(e){return this._bytes[e]}getByteRange(e,r){return this._bytes.subarray(Math.max(e,0),Math.min(r,this._end))}skip(e){this._current+=e||1}reset(){this._current=this._start}}class FlateDecoder{static Decode(e,r=flatePredictors.NONE,a=1,c=1,o=8){const f=new Stream(e,0,e.length),g=new FlateStream(f).takeBytes(null);switch(r){case flatePredictors.NONE:return g;case flatePredictors.PNG_NONE:case flatePredictors.PNG_SUB:case flatePredictors.PNG_UP:case flatePredictors.PNG_AVERAGE:case flatePredictors.PNG_PAETH:case flatePredictors.PNG_OPTIMUM:return FlateDecoder.removePngFilter(g,a,c,o);case flatePredictors.TIFF:throw new Error("Unsupported filter predictor")}}static Encode(e,r=flatePredictors.PNG_UP,a=5,c=1,o=8){let f;switch(r){case flatePredictors.NONE:f=e;break;case flatePredictors.PNG_NONE:case flatePredictors.PNG_SUB:case flatePredictors.PNG_UP:case flatePredictors.PNG_AVERAGE:case flatePredictors.PNG_PAETH:case flatePredictors.PNG_OPTIMUM:f=FlateDecoder.applyPngFilter(e,r,a,c,o);break;case flatePredictors.TIFF:throw new Error("Unsupported filter predictor")}return deflate_1(f)}static removePngFilter(e,r,a,c){const o=Math.ceil(a*c/8),f=r*o,s=f+1;if(e.length%s)throw new Error(`Data length doesn't match filter columns: ${e.length} % ${s}`);const g=new Uint8Array(e.length/s*f),m=new Array(f).fill(0),p=new Array(f).fill(0),t=_=>_-o<0?0:p[_-o],b=_=>m[_],C=_=>_-o<0?0:m[_-o];let w=0,v=0,M=0,y=0,I=0,P=0;for(let _=0;_<e.length;_++)if(_%s===0){if(I=e[_],w=0,_)for(M=0;M<f;M++)m[M]=g[y+M];y=v}else{switch(p[w]=e[_],I){case 0:P=p[w];break;case 1:P=(p[w]+t(w))%256;break;case 2:P=(p[w]+b(w))%256;break;case 3:P=(p[w]+Math.floor((b(w)+t(w))/2))%256;break;case 4:P=(p[w]+this.paethPredictor(t(w),b(w),C(w)))%256;break}g[v++]=P,w++}return g}static applyPngFilter(e,r=12,a=5,c=1,o=8){let f;switch(r){case flatePredictors.PNG_NONE:f=0;break;case flatePredictors.PNG_SUB:f=1;break;case flatePredictors.PNG_UP:f=2;break;case flatePredictors.PNG_AVERAGE:f=3;break;case flatePredictors.PNG_PAETH:f=4;break;default:throw new Error("Invalid PNG filter type")}const s=Math.ceil(c*o/8),g=a*s,m=g+1,t=Math.ceil(e.length/g)*m,b=new Uint8Array(t),C=new Array(g).fill(0),w=new Array(g).fill(0),v=V=>V-s<0?0:w[V-s],M=V=>C[V],y=V=>V-s<0?0:C[V-s];let I=0,P=0,_=0,k=0,D=0;for(let V=0;V<t;V++)if(V%m===0){if(I=0,V)for(_=0;_<g;_++)C[_]=e[k+_];k=P,b[V]=f}else{switch(w[I]=e[P++]||0,f){case 0:D=w[I];break;case 1:D=(w[I]-v(I))%256;break;case 2:D=(w[I]-M(I))%256;break;case 3:D=(w[I]-Math.floor((M(I)+v(I))/2))%256;break;case 4:D=(w[I]-this.paethPredictor(v(I),M(I),y(I)))%256;break}b[V]=D,I++}return b}static paethPredictor(e,r,a){const c=e+r-a,o=Math.abs(c-e),f=Math.abs(c-r),s=Math.abs(c-a);return o<=f&&o<=s?e:f<=s?r:a}}var __awaiter$1c=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PdfStream extends PdfObject{constructor(e){super(),this.Type=e}get streamData(){return this._streamData}set streamData(e){this.setStreamData(e),this._edited=!0}get decodedStreamData(){return this._decodedStreamData||this.decodeStreamData(),this._decodedStreamData}get decodedStreamDataChars(){return new TextDecoder().decode(this.decodedStreamData)}getStreamDataParserAsync(){return __awaiter$1c(this,void 0,void 0,function*(){return yield PdfStream.getDataParserAsync(this.decodedStreamData)})}toArray(e){const r=e?.ref&&e.streamCryptor?e.streamCryptor.encrypt(this.streamData,e.ref):this.streamData,a=new TextEncoder,c=[...keywordCodes.DICT_START];c.push(...a.encode("/Length "),...a.encode(" "+r.length)),this.Type&&c.push(...keywordCodes.TYPE,...a.encode(this.Type)),this.Filter&&c.push(...a.encode("/Filter "),...a.encode(this.Filter)),this.DecodeParms&&c.push(...a.encode("/DecodeParms "),...this.DecodeParms.toArray(e)),c.push(...keywordCodes.DICT_END,...keywordCodes.END_OF_LINE,...keywordCodes.STREAM_START,...keywordCodes.END_OF_LINE);for(let o=0;o<r.length;o++)c.push(r[o]);return c.push(...keywordCodes.END_OF_LINE,...keywordCodes.STREAM_END),new Uint8Array(c)}setTextStreamData(e){const a=new TextEncoder().encode(e);this.streamData=a}parsePropsAsync(e){var r,a;return __awaiter$1c(this,void 0,void 0,function*(){if(!e)throw new Error("Parse info is empty");const{parser:c,bounds:o}=e,f=o.contentStart||o.start,s=o.contentEnd||o.end;this._ref=(r=e.cryptInfo)===null||r===void 0?void 0:r.ref,this._sourceBytes=yield c.sliceCharCodesAsync(f,s);const g=yield c.findSubarrayIndexAsync(keywordCodes.STREAM_END,{direction:!1,minIndex:f,maxIndex:s,closedOnly:!0});if(!g)throw new Error("Object is not a stream");const m=yield c.findSubarrayIndexAsync(keywordCodes.STREAM_START,{direction:!1,minIndex:f,maxIndex:g.start-1,closedOnly:!0});if(!m)throw new Error("Stream start is out of the data bounds");const p=yield c.getDictBoundsAtAsync(f);let t=yield c.skipToNextNameAsync(p.contentStart,p.contentEnd);if(t===-1)throw new Error("Dict is empty (has no properties)");let b,C;for(;C=yield c.parseNameAtAsync(t),C;)switch(t=C.end+1,b=C.value,b){case"/Type":const I=yield c.parseNameAtAsync(t);if(I){if(this.Type&&this.Type!==I.value)throw new Error(`Ivalid dict type: '${I.value}' instead of '${this.Type}'`);t=I.end+1}else throw new Error("Can't parse /Type property value");break;case"/Length":case"/DL":t=yield this.parseNumberPropAsync(b,c,t,!1);break;case"/Filter":const P=yield c.getValueTypeAtAsync(t);if(P===valueTypes.NAME){const k=yield c.parseNameAtAsync(t);if(k&&supportedFilters.has(k.value)){this.Filter=k.value,t=k.end+1;break}else throw new Error(`Unsupported /Filter property value: ${k.value}`)}else if(P===valueTypes.ARRAY){const k=yield c.parseNameArrayAtAsync(t);if(k){const D=k.value;if(D.length===1&&supportedFilters.has(D[0])){this.Filter=D[0],t=k.end+1;break}else throw new Error(`Unsupported /Filter property value: ${D.toString()}`)}}throw new Error(`Unsupported /Filter property value type: ${P}`);case"/DecodeParms":const _=yield c.getValueTypeAtAsync(t);if(_===valueTypes.DICTIONARY){const k=yield c.getDictBoundsAtAsync(t);if(k){const D=yield DecodeParamsDict.parseAsync({parser:c,bounds:k,cryptInfo:e.cryptInfo});if(D){this.DecodeParms=D.value,t=k.end+1;break}}throw new Error("Can't parse /DecodeParms property value")}else if(_===valueTypes.ARRAY){const k=yield DecodeParamsDict.parseArrayAsync(c,t,e.cryptInfo);if(k){const D=k.value;if(D.length===1){this.DecodeParms=D[0],t=k.end+1;break}}throw new Error("Can't parse /DecodeParms property value")}throw new Error(`Unsupported /DecodeParms property value type: ${_}`);default:t=yield c.skipToNextNameAsync(t,p.contentEnd);break}const w=yield c.findNewLineIndexAsync(!0,m.end+1),v=yield c.findNewLineIndexAsync(!1,g.start-1),M=yield c.sliceCharCodesAsync(w,v),y=!((a=e.cryptInfo)===null||a===void 0)&&a.ref&&e.cryptInfo.streamCryptor?e.cryptInfo.streamCryptor.decrypt(M,e.cryptInfo.ref):M;this._streamData=y})}setStreamData(e){if(!e?.length)throw new Error("Can't set emprty stream data");let r;if(this.DecodeParms)r=this.DecodeParms;else{let c,o=10;for(;;){if(e.length%o===0){c=o;break}o--}r=new DecodeParamsDict,r.setIntProp("/Predictor",flatePredictors.PNG_UP),r.setIntProp("/Columns",c),this.DecodeParms=r}const a=FlateDecoder.Encode(e,r?.getIntProp("/Predictor")||flatePredictors.NONE,r?.getIntProp("/Columns")||1,r?.getIntProp("/Colors")||1,r?.getIntProp("/BitsPerComponent")||8);this._streamData=a,this.Length=a.length,this.DL=e.length,this._decodedStreamData=e}decodeStreamData(){let e;switch(this.Filter){case streamFilters.FLATE:if(this.DecodeParms){const r=this.DecodeParms;e=FlateDecoder.Decode(this._streamData,r.getIntProp("/Predictor")||flatePredictors.NONE,r.getIntProp("/Columns")||1,r.getIntProp("/Colors")||1,r.getIntProp("/BitsPerComponent")||8)}else e=FlateDecoder.Decode(this._streamData);break;default:e=new Uint8Array(this._streamData);break}this._decodedStreamData=e}}var __awaiter$1b=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TrailerStream extends PdfStream{constructor(){super(streamTypes.XREF)}static parseAsync(e){return __awaiter$1b(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new TrailerStream;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Size&&c.push(...a.encode("/Size "),...a.encode(" "+this.Size)),this.Prev&&c.push(...a.encode("/Prev "),...a.encode(" "+this.Prev)),this.Root&&c.push(...a.encode("/Root "),...this.Root.toArray(e)),this.Encrypt&&c.push(...a.encode("/Encrypt "),...this.Encrypt.toArray(e)),this.Info&&c.push(...a.encode("/Info "),...this.Info.toArray(e)),this.ID&&c.push(...a.encode("/ID "),...this.encodeSerializableArray(this.ID,e)),this.Index&&c.push(...a.encode("/Index "),...this.encodePrimitiveArray(this.Index,a)),this.W&&c.push(...a.encode("/W "),...this.encodePrimitiveArray(this.W,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});var a;return __awaiter$1b(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:c,bounds:o}=e,f=o.contentStart||o.start,s=yield c.getDictBoundsAtAsync(f);let g=yield c.skipToNextNameAsync(s.contentStart,s.contentEnd),m,p;for(;p=yield c.parseNameAtAsync(g),p;)switch(g=p.end+1,m=p.value,m){case"/Size":case"/Prev":g=yield this.parseNumberPropAsync(m,c,g,!1);break;case"/Root":case"/Info":g=yield this.parseRefPropAsync(m,c,g);break;case"/Encrypt":const t=yield c.getValueTypeAtAsync(g);if(t===valueTypes.REF){const w=yield ObjectId.parseRefAsync(c,g);if(w){this.Encrypt=w.value,g=w.end+1;break}else throw new Error("Can't parse /Encrypt property value")}throw new Error(`Unsupported /Encrypt property value type: ${t}`);case"/ID":const b=yield HexString.parseArrayAsync(c,g);if(b&&b.value[0]&&b.value[1]){this.ID=[b.value[0],b.value[1]],g=b.end+1;break}const C=yield LiteralString.parseArrayAsync(c,g);if(C&&C.value[0]&&C.value[1]){this.ID=[HexString.fromHexBytes(C.value[0].bytes),HexString.fromHexBytes(C.value[1].bytes)],g=C.end+1;break}throw new Error("Can't parse /ID property value");case"/Index":case"/W":g=yield this.parseNumberArrayPropAsync(m,c,g,!1);break;default:g=yield c.skipToNextNameAsync(g,s.contentEnd);break}if(!this.W||!this.Size||!this.Root||this.Encrypt&&!this.ID)throw new Error("Not all required properties parsed");!((a=this.Index)===null||a===void 0)&&a.length||(this.Index=[0,this.Size])})}}class XRef{constructor(e){this._type=e}get type(){return this._type}get offset(){return this._offset}}var __awaiter$1a=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class XRefStream extends XRef{constructor(e,r){super(xRefTypes.STREAM),this._trailerStream=e,this._offset=r}get prev(){var e;return(e=this._trailerStream)===null||e===void 0?void 0:e.Prev}get size(){var e;return(e=this._trailerStream)===null||e===void 0?void 0:e.Size}get root(){var e;return(e=this._trailerStream)===null||e===void 0?void 0:e.Root}get info(){var e;return(e=this._trailerStream)===null||e===void 0?void 0:e.Info}get encrypt(){var e;return(e=this._trailerStream)===null||e===void 0?void 0:e.Encrypt}get id(){var e;return(e=this._trailerStream)===null||e===void 0?void 0:e.ID}static createFrom(e,r,a){if(!r?.length||!e)return null;const c=Math.max(...r.map(f=>f.id))+2,o=Math.max(c,e.size);return XRefStream.create(r,o,a,e.root,e.offset,e.info,e.encrypt,e.id)}static create(e,r,a,c,o,f,s,g){if(!e?.length||!r||!a||!c)return null;const m=new TrailerStream;m.Size=r,m.Root=c,m.Prev=o,m.Info=f,m.Encrypt=s,m.ID=g;const p=[1,4,2],t=p[0]+p[1]+p[2],b=new DecodeParamsDict;b.setIntProp("/Predictor",flatePredictors.PNG_UP),b.setIntProp("/Columns",t),b.setIntProp("/Colors",1),b.setIntProp("/BitsPerComponent",8);const C=XRefEntry.toStreamBytes(e,p),w=new XRefStream(m,a);return w._trailerStream.Filter=streamFilters.FLATE,w._trailerStream.DecodeParms=b,w._trailerStream.W=p,w._trailerStream.Index=C.index,w._trailerStream.streamData=C.bytes,w}static parseAsync(e,r){return __awaiter$1a(this,void 0,void 0,function*(){if(!e)return null;const a=yield TrailerStream.parseAsync(e);return a?{value:new XRefStream(a.value,r),start:null,end:null}:null})}createUpdate(e,r){return XRefStream.createFrom(this,e,r)}getEntries(){return this._trailerStream?XRefEntry.fromStreamBytes(this._trailerStream.decodedStreamData,this._trailerStream.W,this._trailerStream.Index):[]}toArray(e){return this._trailerStream.toArray(e)}}var __awaiter$19=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TextStream extends PdfStream{constructor(e=null){super(e)}static parseAsync(e){return __awaiter$19(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new TextStream;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}getText(){return null}toArray(e){return super.toArray(e)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$19(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e)})}}var __awaiter$18=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class IndexedColorSpaceArray{constructor(e,r,a){switch(e){case colorSpaces.GRAYSCALE:this.componentsNumber=1;break;case colorSpaces.RGB:this.componentsNumber=3;break;case colorSpaces.CMYK:this.componentsNumber=4;break;default:throw new Error(`Unsupported base color space for indexed color space: ${e}`)}if(this.baseColorSpace=e,a.length!==this.componentsNumber*(r+1))throw new Error(`Invalid lookup array length: ${a.length}`);this.highestValue=r,this.lookupArray=a}static parseAsync(e,r=!0){return __awaiter$18(this,void 0,void 0,function*(){const{parser:a,bounds:c,cryptInfo:o}=e;let f;r&&(f=yield a.findNonSpaceIndexAsync(!0,c.start));const s=f;if(f<0||f>a.maxIndex||!(yield a.isCodeAtAsync(s,codes.L_BRACKET)))return console.log("Color space array start not found"),null;f++;const g=yield a.parseNameAtAsync(f);if(!g||g.value!=="/Indexed")return console.log("Array is not representing an indexed color space"),null;f=g.end+1;const m=yield a.parseNameAtAsync(f);if(!m)return console.log("Can't parse base color space name of the indexed color space"),null;f=m.end+2;const p=yield a.parseNumberAtAsync(f);if(!p||isNaN(p.value))return console.log("Can't parse the highest value of the indexed color space"),null;f=p.end+1;let t;const b=yield a.getValueTypeAtAsync(f);if(b===valueTypes.REF)try{const C=yield ObjectId.parseRefAsync(a,f),w=yield e.parseInfoGetterAsync(C.value.id);t=(yield TextStream.parseAsync(w)).value.decodedStreamData,f=C.end+1}catch(C){throw new Error(`Can't parse indexed color array lookup ref: ${C.message}`)}else if(b===valueTypes.STRING_HEX){const C=yield HexString.parseAsync(a,f,o);if(C)t=C.value.hex,f=C.end+1;else throw new Error("Can't parse indexed color array lookup hex string")}try{return{value:new IndexedColorSpaceArray(m.value,p.value,t),start:s,end:f-1}}catch(C){return console.log(C.message),null}})}toArray(e){const r=new TextEncoder,a=[];return a.push(codes.L_BRACKET,...r.encode("/Indexed "),...r.encode(this.baseColorSpace+" "),...r.encode(this.highestValue+" "),...HexString.fromHexBytes(this.lookupArray).toArray(e),codes.R_BRACKET),new Uint8Array(a)}getColor(e){switch(this.baseColorSpace){case colorSpaces.GRAYSCALE:const r=this.lookupArray[e];return[r,r,r];case colorSpaces.RGB:return[this.lookupArray[e*3],this.lookupArray[e*3+1],this.lookupArray[e*3+2]];case colorSpaces.CMYK:const a=this.lookupArray[e*4]/255,c=this.lookupArray[e*4+1]/255,o=this.lookupArray[e*4+2]/255,f=this.lookupArray[e*4+3]/255;return[255*(1-a)*(1-f),255*(1-c)*(1-f),255*(1-o)*(1-f)]}}}var __awaiter$17=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class ImageStream extends PdfStream{constructor(){super(streamTypes.FORM_XOBJECT),this.Subtype="/Image",this.ImageMask=!1,this.Interpolate=!1,this.SMaskInData=0}get sMask(){return this._sMask}set sMask(e){this._sMask=e}static parseAsync(e){return __awaiter$17(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new ImageStream;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Subtype&&c.push(...a.encode("/Subtype "),...a.encode(this.Subtype)),this.Width&&c.push(...a.encode("/Width "),...a.encode(" "+this.Width)),this.Height&&c.push(...a.encode("/Height "),...a.encode(" "+this.Height)),this.ColorSpace&&(this._indexedColorSpace?c.push(...a.encode("/ColorSpace "),...this._indexedColorSpace.toArray(e)):c.push(...a.encode("/ColorSpace "),...a.encode(this.ColorSpace))),this.BitsPerComponent&&c.push(...a.encode("/BitsPerComponent "),...a.encode(" "+this.BitsPerComponent)),c.push(...a.encode("/ImageMask "),...a.encode(" "+!!this.ImageMask)),this.Mask&&c.push(...a.encode("/Mask "),...this.encodePrimitiveArray(this.Mask,a)),this.Decode&&c.push(...a.encode("/Decode "),...this.encodePrimitiveArray(this.Decode,a)),c.push(...a.encode("/Interpolate "),...a.encode(" "+!!this.Interpolate)),this.SMask&&c.push(...a.encode("/SMask "),...this.SMask.toArray(e)),this.SMaskInData&&c.push(...a.encode("/SMaskInData "),...a.encode(" "+this.SMaskInData)),this.Matte&&c.push(...a.encode("/Matte "),...this.encodePrimitiveArray(this.Matte,a)),this.StructParent&&c.push(...a.encode("/StructParent "),...a.encode(" "+this.StructParent)),this.Metadata&&c.push(...a.encode("/Metadata "),...this.Metadata.toArray(e));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}getImageUrlAsync(){return __awaiter$17(this,void 0,void 0,function*(){if(this._imageUrl&&URL.revokeObjectURL(this._imageUrl),this.Filter===streamFilters.DCT||this.Filter===streamFilters.JBIG2||this.Filter===streamFilters.JPX){const e=new Blob([this.decodedStreamData],{type:"application/octet-binary"}),r=URL.createObjectURL(e);return this._imageUrl=r,r}if(this.Filter===streamFilters.FLATE){const e=this.Width*this.Height;let r;if(this.sMask){if(r=this.sMask.decodedStreamData,r.length!==e)throw new Error(`Invalid alpha mask data length: ${r.length} (must be ${e})`)}else r=new Uint8Array(e).fill(255);const a=new Uint8ClampedArray(e*4),c=this.getRgbColors();let o,f;for(let p=0;p<e;p++)o=p*4,f=p*3,a[o]=c[f],a[o+1]=c[f+1],a[o+2]=c[f+2],a[o+3]=r[p];const s=new ImageData(a,this.Width,this.Height),m=yield new Promise((p,t)=>{const b=document.createElement("canvas");b.width=this.Width,b.height=this.Height,b.getContext("2d").putImageData(s,0,0),b.toBlob(C=>{const w=URL.createObjectURL(C);p(w)})});return this._imageUrl=m,m}throw new Error(`Unsupported image filter type: ${this.Filter}`)})}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$17(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=yield a.getDictBoundsAtAsync(o);let s=yield a.skipToNextNameAsync(f.contentStart,f.contentEnd),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Subtype":const p=yield a.parseNameAtAsync(s);if(p){if(this.Subtype&&this.Subtype!==p.value)throw new Error(`Invalid dict subtype: '${p.value}' instead of '${this.Subtype}'`);s=p.end+1}else throw new Error("Can't parse /Subtype property value");break;case"/Width":case"/Height":case"/BitsPerComponent":case"/SMaskInData":case"/StructParent":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/Decode":s=yield this.parseNumberArrayPropAsync(g,a,s,!1);break;case"/Matte":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;case"/Interpolate":s=yield this.parseBoolPropAsync(g,a,s);break;case"/SMask":case"/Metadata":s=yield this.parseRefPropAsync(g,a,s);break;case"/ColorSpace":const t=yield a.getValueTypeAtAsync(s);if(t===valueTypes.NAME){const w=yield a.parseNameAtAsync(s);if(w){this.ColorSpace=w.value,s=w.end+1;break}throw new Error("Can't parse /ColorSpace name")}else if(t===valueTypes.ARRAY){const w=yield a.getArrayBoundsAtAsync(s);if(w){const v=yield IndexedColorSpaceArray.parseAsync({parser:a,bounds:w,cryptInfo:e.cryptInfo,parseInfoGetterAsync:e.parseInfoGetterAsync});if(v){this.ColorSpace=colorSpaces.SPECIAL_INDEXED,this._indexedColorSpace=v.value,s=w.end+1;break}throw new Error("Can't parse /ColorSpace object:"+a.sliceCharsAsync(w.start,w.end))}throw new Error("Can't parse /ColorSpace value array")}else if(t===valueTypes.REF){const w=yield ObjectId.parseRefAsync(a,s);if(w){const v=yield e.parseInfoGetterAsync(w.value.id);if(v){const M=yield IndexedColorSpaceArray.parseAsync(v);if(M){this.ColorSpace=colorSpaces.SPECIAL_INDEXED,this._indexedColorSpace=M.value,s=w.end+1;break}throw new Error("Can't parse /ColorSpace object:"+(yield v.parser.sliceCharsAsync(v.bounds.start,v.bounds.end)))}}throw new Error("Can't parse /ColorSpace ref")}throw new Error(`Unsupported /ColorSpace property value type: ${t}`);case"/ImageMask":const b=yield a.parseBoolAtAsync(s,!1);if(b)this.ImageMask=b.value,s=b.end+1,this.ImageMask&&(this.BitsPerComponent=1);else throw new Error("Can't parse /ImageMask property value");break;case"/Mask":const C=yield a.getValueTypeAtAsync(s);if(C===valueTypes.REF){const w=yield ObjectId.parseRefAsync(a,s);if(!w)throw new Error("Can't parse /Mask value reference: failed to parse ref");const v=yield e.parseInfoGetterAsync(w.value.id);if(!v)throw new Error("Can't parse /Mask value reference: failed to get image parse info");const M=yield ImageStream.parseAsync(v);if(!M)throw new Error("Can't parse /Mask value reference: failed to parse image stream");const y=yield M.value.getStreamDataParserAsync(),I=[];let P=0,_;for(;P<=y.maxIndex&&(_=yield y.parseNumberAtAsync(P,!0,!0),!!_);)I.push(_.value),P=_.end+1;if(!I.length)throw new Error("Can't parse /Mask value reference: failed to parse decoded image data");this.Mask=I,s=w.end+1;break}else if(C===valueTypes.ARRAY){const w=yield a.parseNumberArrayAtAsync(s,!1);if(w){this.Mask=w.value,s=w.end+1;break}throw new Error("Can't parse /Mask property value")}throw new Error(`Unsupported /Mask property value type: ${C}`);case"/OC":case"/Intent":case"/Alternates":case"/ID":case"/OPI":default:s=yield a.skipToNextNameAsync(s,f.contentEnd);break}if(!this.Width&&!this.Height)throw new Error("Not all required properties parsed");if(this.ImageMask&&(this.BitsPerComponent!==1||this.ColorSpace))throw new Error("Mutually exclusive properties found");if(!this.Decode&&!(this.Filter===streamFilters.JPX&&!this.ImageMask))switch(this.ColorSpace){case colorSpaces.GRAYSCALE:this.Decode=[0,1];break;case colorSpaces.RGB:this.Decode=[0,1,0,1,0,1];break;case colorSpaces.CMYK:this.Decode=[0,1,0,1,0,1,0,1];break;case colorSpaces.SPECIAL_INDEXED:this.Decode=[0,Math.pow(2,this.BitsPerComponent||1)-1];break;default:this.Decode=[0,1];break}if(this.DecodeParms||(this.DecodeParms=new DecodeParamsDict),this.DecodeParms.getIntProp("/BitsPerComponent")||this.DecodeParms.setIntProp("/BitsPerComponent",this.BitsPerComponent),this.DecodeParms.getIntProp("/Columns")||this.DecodeParms.setIntProp("/Columns",this.Width),!this.DecodeParms.getIntProp("/Colors"))switch(this.ColorSpace){case colorSpaces.GRAYSCALE:case colorSpaces.SPECIAL_INDEXED:this.DecodeParms.setIntProp("/Colors",1);break;case colorSpaces.RGB:this.DecodeParms.setIntProp("/Colors",3);break;case colorSpaces.CMYK:this.DecodeParms.setIntProp("/Colors",4);break;default:this.DecodeParms.setIntProp("/Colors",1);break}if(this.SMask){const p=yield e.parseInfoGetterAsync(this.SMask.id);if(!p)throw new Error(`Can't get parse info for ref: ${this.SMask.id} ${this.sMask.generation} R`);const t=yield ImageStream.parseAsync(p);if(!t)throw new Error(`Can't parse SMask: ${this.SMask.id} ${this.sMask.generation} R`);this._sMask=t.value}})}getRgbColor(e){var r;const a=this.decodedStreamData;switch(this.ColorSpace){case colorSpaces.GRAYSCALE:const c=a[e];return[c,c,c];case colorSpaces.RGB:return[a[e*3],a[e*3+1],a[e*3+2]];case colorSpaces.CMYK:const o=a[e*4]/255,f=a[e*4+1]/255,s=a[e*4+2]/255,g=a[e*4+3]/255;return[255*(1-o)*(1-g),255*(1-f)*(1-g),255*(1-s)*(1-g)];case colorSpaces.SPECIAL_INDEXED:return((r=this._indexedColorSpace)===null||r===void 0?void 0:r.getColor(e))||[0,0,0]}}getRgbColors(){var e;const r=this.decodedStreamData,a=this.Width*this.Height,c=a*3,o=new Uint8ClampedArray(c);let f,s,g;switch(this.ColorSpace){case colorSpaces.GRAYSCALE:let m;for(f=0;f<a;f++)m=r[f],s=f*3,o[s]=m,o[s+1]=m,o[s+2]=m;break;case colorSpaces.RGB:for(f=0;f<c;f++)o[f]=r[f];break;case colorSpaces.CMYK:let p,t,b,C;for(f=0;f<a;f++)s=f*3,g=f*4,p=r[g]/255,t=r[g+1]/255,b=r[g+2]/255,C=r[g+3]/255,o[s]=255*(1-p)*(1-C),o[s+1]=255*(1-t)*(1-C),o[s+2]=255*(1-b)*(1-C);break;case colorSpaces.SPECIAL_INDEXED:let w,v,M;for(f=0;f<a;f++)[w,v,M]=((e=this._indexedColorSpace)===null||e===void 0?void 0:e.getColor(f))||[0,0,0],s=f*3,o[s]=w,o[s+1]=v,o[s+2]=M;break}return o}}var __awaiter$16=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class ObjectMapDict extends PdfDict{constructor(){super(null),this._objectIdMap=new Map,this._dictParserMap=new Map}static parseAsync(e){return __awaiter$16(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new ObjectMapDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}getObjectId(e){return this._objectIdMap.get(e)}*getObjectIds(){for(const e of this._objectIdMap)yield e}getDictParser(e){return this._dictParserMap.get(e)}*getDictParsers(){for(const e of this._dictParserMap)yield e}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this._objectIdMap.forEach((f,s)=>{c.push(...a.encode(s+" "),...f.toArray(e))});const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$16(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){default:const p=yield a.getValueTypeAtAsync(s);if(p===valueTypes.REF){const t=yield ObjectId.parseRefAsync(a,s);if(t){this._objectIdMap.set(g,t.value),s=t.end+1;break}}else if(p===valueTypes.DICTIONARY){const t=yield a.getDictBoundsAtAsync(s);if(t){const b={parser:yield PdfDict.getDataParserAsync(yield a.sliceCharCodesAsync(t.start,t.end)),bounds:{start:0,end:t.end-t.start,contentStart:t.contentStart-t.start,contentEnd:t.contentEnd-t.start},cryptInfo:e.cryptInfo};this._dictParserMap.set(g,b),s=t.end+1;break}}s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$15=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class UnicodeCmapStream extends PdfStream{constructor(e=null){super(e),this._codeRanges=[],this._map=new Map}static parseAsync(e){return __awaiter$15(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new UnicodeCmapStream;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){return super.toArray(e)}hexBytesToUtfString(e){let r="";e:for(let a=0;a<e.length;a++)for(let c=1;a+c<=e.length&&c<=4;c++){const o=e.subarray(a,a+c);if(this.isInsideAnyRange(o)){r+=this._map.get(ByteUtils.parseIntFromBytes(o))||"";continue e}}return r}isInsideAnyRange(e){e:for(const r of this._codeRanges)if(e.length===r.length){for(let a=0;a<r.length;a++)if(e[a]<r.start[a]||e[a]>r.end[a])continue e;return!0}return!1}parseCodeRangesAsync(e){var r,a;return __awaiter$15(this,void 0,void 0,function*(){let c=0;const o=(r=yield e.findSubarrayIndexAsync(keywordCodes.CMAP_BEGIN_CODE_RANGE,{closedOnly:!0}))===null||r===void 0?void 0:r.end;if(!o)return;c=o+1;const f=(a=yield e.findSubarrayIndexAsync(keywordCodes.CMAP_END_CODE_RANGE,{closedOnly:!0,minIndex:c}))===null||a===void 0?void 0:a.start;for(;c<f-1;){const s=yield HexString.parseAsync(e,c);c=s.end+1;const g=yield HexString.parseAsync(e,c);c=g.end+1,this._codeRanges.push({length:s.value.hex.length,start:s.value.hex,end:g.value.hex})}})}parseCharMapAsync(e,r){var a,c;return __awaiter$15(this,void 0,void 0,function*(){let o=0;for(;;){const f=(a=yield e.findSubarrayIndexAsync(keywordCodes.CMAP_BEGIN_CHAR,{closedOnly:!0,minIndex:o}))===null||a===void 0?void 0:a.end;if(!f)break;o=f+1;const s=(c=yield e.findSubarrayIndexAsync(keywordCodes.CMAP_END_CHAR,{closedOnly:!0,minIndex:o}))===null||c===void 0?void 0:c.start;for(;o<s-1;){const g=yield HexString.parseAsync(e,o);o=g.end+1;const m=yield HexString.parseAsync(e,o);o=m.end+1,this._map.set(ByteUtils.parseIntFromBytes(g.value.hex),r.decode(m.value.hex))}}})}parseCharRangesMapAsync(e,r){var a,c;return __awaiter$15(this,void 0,void 0,function*(){let o=0;for(;;){const f=(a=yield e.findSubarrayIndexAsync(keywordCodes.CMAP_BEGIN_RANGE,{closedOnly:!0,minIndex:o}))===null||a===void 0?void 0:a.end;if(!f)break;o=f+1;const s=(c=yield e.findSubarrayIndexAsync(keywordCodes.CMAP_END_RANGE,{closedOnly:!0,minIndex:o}))===null||c===void 0?void 0:c.start;for(;o<s-1;){const g=yield HexString.parseAsync(e,o);o=g.end+1;const m=yield HexString.parseAsync(e,o);o=m.end+1;let p=ByteUtils.parseIntFromBytes(g.value.hex);if((yield e.getValueTypeAtAsync(o,!0))===valueTypes.ARRAY){const b=yield HexString.parseArrayAsync(e,o);o=b.end+1;for(const C of b.value)this._map.set(p++,r.decode(C.hex))}else{const b=yield HexString.parseAsync(e,o);o=b.end+1;let C=ByteUtils.parseIntFromBytes(b.value.hex);for(;p<=ByteUtils.parseIntFromBytes(m.value.hex);){const w=(C++).toString(16),M=(w.length%2?"0":"")+w;this._map.set(p++,r.decode(ByteUtils.hexStringToBytes(M)))}}}}})}fillMapAsync(){return __awaiter$15(this,void 0,void 0,function*(){this._codeRanges.length=0,this._map.clear();const e=yield this.getStreamDataParserAsync(),r=new TextDecoder("utf-16be");yield this.parseCodeRangesAsync(e),yield this.parseCharMapAsync(e,r),yield this.parseCharRangesMapAsync(e,r)})}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$15(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e),yield this.fillMapAsync()})}}const pdfCharCodesByName={A:{name:"A",char:"A",stdCode:65,macCode:65,winCode:65,pdfCode:65,utfCode:65},AE:{name:"AE",char:"Æ",stdCode:225,macCode:174,winCode:198,pdfCode:198,utfCode:198},Aacute:{name:"Aacute",char:"Á",stdCode:null,macCode:231,winCode:193,pdfCode:193,utfCode:193},Acircumflex:{name:"Acircumflex",char:"Â",stdCode:null,macCode:229,winCode:194,pdfCode:194,utfCode:194},Adieresis:{name:"Adieresis",char:"Ä",stdCode:null,macCode:128,winCode:196,pdfCode:196,utfCode:196},Agrave:{name:"Agrave",char:"À",stdCode:null,macCode:203,winCode:192,pdfCode:192,utfCode:192},Aring:{name:"Aring",char:"Å",stdCode:null,macCode:129,winCode:197,pdfCode:197,utfCode:197},Atilde:{name:"Atilde",char:"Ã",stdCode:null,macCode:204,winCode:195,pdfCode:195,utfCode:195},B:{name:"B",char:"B",stdCode:66,macCode:66,winCode:66,pdfCode:66,utfCode:66},C:{name:"C",char:"C",stdCode:67,macCode:67,winCode:67,pdfCode:67,utfCode:67},Ccedilla:{name:"Ccedilla",char:"Ç",stdCode:null,macCode:130,winCode:199,pdfCode:199,utfCode:199},D:{name:"D",char:"D",stdCode:68,macCode:68,winCode:68,pdfCode:68,utfCode:68},E:{name:"E",char:"E",stdCode:69,macCode:69,winCode:69,pdfCode:69,utfCode:69},Eacute:{name:"Eacute",char:"É",stdCode:null,macCode:131,winCode:201,pdfCode:201,utfCode:201},Ecircumflex:{name:"Ecircumflex",char:"Ê",stdCode:null,macCode:230,winCode:202,pdfCode:202,utfCode:202},Edieresis:{name:"Edieresis",char:"Ë",stdCode:null,macCode:232,winCode:203,pdfCode:203,utfCode:203},Egrave:{name:"Egrave",char:"È",stdCode:null,macCode:233,winCode:200,pdfCode:200,utfCode:200},Eth:{name:"Eth",char:"Ð",stdCode:null,macCode:null,winCode:208,pdfCode:208,utfCode:208},Euro:{name:"Euro",char:"€",stdCode:null,macCode:null,winCode:128,pdfCode:160,utfCode:8364},F:{name:"F",char:"F",stdCode:70,macCode:70,winCode:70,pdfCode:70,utfCode:70},G:{name:"G",char:"G",stdCode:71,macCode:71,winCode:71,pdfCode:71,utfCode:71},H:{name:"H",char:"H",stdCode:72,macCode:72,winCode:72,pdfCode:72,utfCode:72},I:{name:"I",char:"I",stdCode:73,macCode:73,winCode:73,pdfCode:73,utfCode:73},Iacute:{name:"Iacute",char:"Í",stdCode:null,macCode:234,winCode:205,pdfCode:205,utfCode:205},Icircumflex:{name:"Icircumflex",char:"Î",stdCode:null,macCode:235,winCode:206,pdfCode:206,utfCode:206},Idieresis:{name:"Idieresis",char:"Ï",stdCode:null,macCode:236,winCode:207,pdfCode:207,utfCode:207},Igrave:{name:"Igrave",char:"Ì",stdCode:null,macCode:237,winCode:204,pdfCode:204,utfCode:204},J:{name:"J",char:"J",stdCode:74,macCode:74,winCode:74,pdfCode:74,utfCode:74},K:{name:"K",char:"K",stdCode:75,macCode:75,winCode:75,pdfCode:75,utfCode:75},L:{name:"L",char:"L",stdCode:76,macCode:76,winCode:76,pdfCode:76,utfCode:76},Lslash:{name:"Lslash",char:"Ł",stdCode:232,macCode:null,winCode:null,pdfCode:149,utfCode:321},M:{name:"M",char:"M",stdCode:77,macCode:77,winCode:77,pdfCode:77,utfCode:77},N:{name:"N",char:"N",stdCode:78,macCode:78,winCode:78,pdfCode:78,utfCode:78},Ntilde:{name:"Ntilde",char:"Ñ",stdCode:null,macCode:132,winCode:209,pdfCode:209,utfCode:209},O:{name:"O",char:"O",stdCode:79,macCode:79,winCode:79,pdfCode:79,utfCode:79},OE:{name:"OE",char:"OE",stdCode:234,macCode:206,winCode:140,pdfCode:150,utfCode:338},Oacute:{name:"Oacute",char:"Ó",stdCode:null,macCode:238,winCode:211,pdfCode:211,utfCode:211},Ocircumflex:{name:"Ocircumflex",char:"Ô",stdCode:null,macCode:239,winCode:212,pdfCode:212,utfCode:212},Odieresis:{name:"Odieresis",char:"Ö",stdCode:null,macCode:133,winCode:214,pdfCode:214,utfCode:214},Ograve:{name:"Ograve",char:"Ò",stdCode:null,macCode:241,winCode:210,pdfCode:210,utfCode:210},Oslash:{name:"Oslash",char:"Ø",stdCode:233,macCode:175,winCode:216,pdfCode:216,utfCode:216},Otilde:{name:"Otilde",char:"Õ",stdCode:null,macCode:205,winCode:213,pdfCode:213,utfCode:213},P:{name:"P",char:"P",stdCode:80,macCode:80,winCode:80,pdfCode:80,utfCode:80},Q:{name:"Q",char:"Q",stdCode:81,macCode:81,winCode:81,pdfCode:81,utfCode:81},R:{name:"R",char:"R",stdCode:82,macCode:82,winCode:82,pdfCode:82,utfCode:82},S:{name:"S",char:"S",stdCode:83,macCode:83,winCode:83,pdfCode:83,utfCode:83},Scaron:{name:"Scaron",char:"Š",stdCode:null,macCode:null,winCode:138,pdfCode:151,utfCode:352},T:{name:"T",char:"T",stdCode:84,macCode:84,winCode:84,pdfCode:84,utfCode:84},Thorn:{name:"Thorn",char:"Þ",stdCode:null,macCode:null,winCode:222,pdfCode:222,utfCode:222},U:{name:"U",char:"U",stdCode:85,macCode:85,winCode:85,pdfCode:85,utfCode:85},Uacute:{name:"Uacute",char:"Ú",stdCode:null,macCode:242,winCode:218,pdfCode:218,utfCode:218},Ucircumflex:{name:"Ucircumflex",char:"Û",stdCode:null,macCode:243,winCode:219,pdfCode:219,utfCode:219},Udieresis:{name:"Udieresis",char:"Ü",stdCode:null,macCode:134,winCode:220,pdfCode:220,utfCode:220},Ugrave:{name:"Ugrave",char:"Ù",stdCode:null,macCode:244,winCode:217,pdfCode:217,utfCode:217},V:{name:"V",char:"V",stdCode:86,macCode:86,winCode:86,pdfCode:86,utfCode:86},W:{name:"W",char:"W",stdCode:87,macCode:87,winCode:87,pdfCode:87,utfCode:87},X:{name:"X",char:"X",stdCode:88,macCode:88,winCode:88,pdfCode:88,utfCode:88},Y:{name:"Y",char:"Y",stdCode:89,macCode:89,winCode:89,pdfCode:89,utfCode:89},Yacute:{name:"Yacute",char:"Ý",stdCode:null,macCode:null,winCode:221,pdfCode:221,utfCode:221},Ydieresis:{name:"Ydieresis",char:"Ÿ",stdCode:null,macCode:217,winCode:159,pdfCode:152,utfCode:376},Z:{name:"Z",char:"Z",stdCode:90,macCode:90,winCode:90,pdfCode:90,utfCode:90},Zcaron:{name:"Zcaron",char:"Ž",stdCode:null,macCode:null,winCode:142,pdfCode:153,utfCode:381},a:{name:"a",char:"a",stdCode:97,macCode:97,winCode:97,pdfCode:97,utfCode:97},aacute:{name:"aacute",char:"á",stdCode:null,macCode:135,winCode:225,pdfCode:225,utfCode:225},acircumflex:{name:"acircumflex",char:"â",stdCode:null,macCode:137,winCode:226,pdfCode:226,utfCode:226},acute:{name:"acute",char:"´",stdCode:194,macCode:171,winCode:180,pdfCode:180,utfCode:180},adieresis:{name:"adieresis",char:"ä",stdCode:null,macCode:138,winCode:228,pdfCode:228,utfCode:228},ae:{name:"ae",char:"æ",stdCode:241,macCode:190,winCode:230,pdfCode:230,utfCode:230},agrave:{name:"agrave",char:"à",stdCode:null,macCode:136,winCode:224,pdfCode:224,utfCode:224},ampersand:{name:"ampersand",char:"&",stdCode:38,macCode:38,winCode:38,pdfCode:38,utfCode:38},aring:{name:"aring",char:"å",stdCode:null,macCode:140,winCode:229,pdfCode:229,utfCode:229},asciicircum:{name:"asciicircum",char:"^",stdCode:94,macCode:94,winCode:94,pdfCode:94,utfCode:94},asciitilde:{name:"asciitilde",char:"~",stdCode:126,macCode:126,winCode:126,pdfCode:126,utfCode:126},asterisk:{name:"asterisk",char:"*",stdCode:42,macCode:42,winCode:42,pdfCode:42,utfCode:42},at:{name:"at",char:"@",stdCode:64,macCode:64,winCode:64,pdfCode:64,utfCode:64},atilde:{name:"atilde",char:"ã",stdCode:null,macCode:139,winCode:227,pdfCode:227,utfCode:227},b:{name:"b",char:"b",stdCode:98,macCode:98,winCode:98,pdfCode:98,utfCode:98},backslash:{name:"backslash",char:'"',stdCode:92,macCode:92,winCode:92,pdfCode:92,utfCode:92},bar:{name:"bar",char:"|",stdCode:124,macCode:124,winCode:124,pdfCode:124,utfCode:124},braceleft:{name:"braceleft",char:"{",stdCode:123,macCode:123,winCode:123,pdfCode:123,utfCode:123},braceright:{name:"braceright",char:"}",stdCode:125,macCode:125,winCode:125,pdfCode:125,utfCode:125},bracketleft:{name:"bracketleft",char:"[",stdCode:91,macCode:91,winCode:91,pdfCode:91,utfCode:91},bracketright:{name:"bracketright",char:"]",stdCode:93,macCode:93,winCode:93,pdfCode:93,utfCode:93},breve:{name:"breve",char:"˘",stdCode:198,macCode:249,winCode:null,pdfCode:24,utfCode:728},brokenbar:{name:"brokenbar",char:"¦",stdCode:null,macCode:null,winCode:166,pdfCode:166,utfCode:166},bullet:{name:"bullet",char:"•",stdCode:183,macCode:165,winCode:149,pdfCode:128,utfCode:8226},c:{name:"c",char:"c",stdCode:99,macCode:99,winCode:99,pdfCode:99,utfCode:99},caron:{name:"caron",char:"ˇ",stdCode:207,macCode:255,winCode:null,pdfCode:25,utfCode:711},ccedilla:{name:"ccedilla",char:"ç",stdCode:null,macCode:141,winCode:231,pdfCode:231,utfCode:231},cedilla:{name:"cedilla",char:"¸",stdCode:203,macCode:252,winCode:184,pdfCode:184,utfCode:184},cent:{name:"cent",char:"¢",stdCode:162,macCode:162,winCode:162,pdfCode:162,utfCode:162},circumflex:{name:"circumflex",char:"ˆ",stdCode:195,macCode:246,winCode:136,pdfCode:26,utfCode:710},colon:{name:"colon",char:":",stdCode:58,macCode:58,winCode:58,pdfCode:58,utfCode:58},comma:{name:"comma",char:",",stdCode:44,macCode:44,winCode:44,pdfCode:44,utfCode:44},copyright:{name:"copyright",char:"©",stdCode:null,macCode:169,winCode:169,pdfCode:169,utfCode:169},currency1:{name:"currency1",char:"¤",stdCode:168,macCode:219,winCode:164,pdfCode:164,utfCode:164},d:{name:"d",char:"d",stdCode:100,macCode:100,winCode:100,pdfCode:100,utfCode:100},dagger:{name:"dagger",char:"†",stdCode:178,macCode:160,winCode:134,pdfCode:129,utfCode:8224},daggerdbl:{name:"daggerdbl",char:"‡",stdCode:179,macCode:224,winCode:135,pdfCode:130,utfCode:8225},degree:{name:"degree",char:"°",stdCode:null,macCode:161,winCode:176,pdfCode:176,utfCode:176},dieresis:{name:"dieresis",char:"¨",stdCode:200,macCode:172,winCode:168,pdfCode:168,utfCode:168},divide:{name:"divide",char:"÷",stdCode:null,macCode:214,winCode:247,pdfCode:247,utfCode:247},dollar:{name:"dollar",char:"$",stdCode:36,macCode:36,winCode:36,pdfCode:36,utfCode:36},dotaccent:{name:"dotaccent",char:"˙",stdCode:199,macCode:250,winCode:null,pdfCode:27,utfCode:729},dotlessi:{name:"dotlessi",char:"ı",stdCode:245,macCode:245,winCode:null,pdfCode:154,utfCode:305},e:{name:"e",char:"e",stdCode:101,macCode:101,winCode:101,pdfCode:101,utfCode:101},eacute:{name:"eacute",char:"é",stdCode:null,macCode:142,winCode:233,pdfCode:233,utfCode:233},ecircumflex:{name:"ecircumflex",char:"ê",stdCode:null,macCode:144,winCode:234,pdfCode:234,utfCode:234},edieresis:{name:"edieresis",char:"ë",stdCode:null,macCode:145,winCode:235,pdfCode:235,utfCode:235},egrave:{name:"egrave",char:"è",stdCode:null,macCode:143,winCode:232,pdfCode:232,utfCode:232},eight:{name:"eight",char:"8",stdCode:56,macCode:56,winCode:56,pdfCode:56,utfCode:56},ellipsis:{name:"ellipsis",char:"…",stdCode:188,macCode:201,winCode:133,pdfCode:131,utfCode:8230},emdash:{name:"emdash",char:"—",stdCode:208,macCode:209,winCode:151,pdfCode:132,utfCode:8212},endash:{name:"endash",char:"–",stdCode:177,macCode:208,winCode:150,pdfCode:133,utfCode:8211},equal:{name:"equal",char:"=",stdCode:61,macCode:61,winCode:61,pdfCode:61,utfCode:61},eth:{name:"eth",char:"ð",stdCode:null,macCode:null,winCode:240,pdfCode:240,utfCode:240},exclam:{name:"exclam",char:"!",stdCode:33,macCode:33,winCode:33,pdfCode:33,utfCode:33},exclamdown:{name:"exclamdown",char:"¡",stdCode:161,macCode:193,winCode:161,pdfCode:161,utfCode:161},f:{name:"f",char:"f",stdCode:102,macCode:102,winCode:102,pdfCode:102,utfCode:102},fi:{name:"fi",char:"fi",stdCode:174,macCode:222,winCode:null,pdfCode:147,utfCode:64257},five:{name:"five",char:"5",stdCode:53,macCode:53,winCode:53,pdfCode:53,utfCode:53},fl:{name:"fl",char:"fl",stdCode:175,macCode:223,winCode:null,pdfCode:148,utfCode:64258},florin:{name:"florin",char:"ƒ",stdCode:166,macCode:196,winCode:131,pdfCode:134,utfCode:402},four:{name:"four",char:"4",stdCode:52,macCode:52,winCode:52,pdfCode:52,utfCode:52},fraction:{name:"fraction",char:"⁄",stdCode:164,macCode:218,winCode:null,pdfCode:135,utfCode:8260},g:{name:"g",char:"g",stdCode:103,macCode:103,winCode:103,pdfCode:103,utfCode:103},germandbls:{name:"germandbls",char:"ß",stdCode:251,macCode:167,winCode:223,pdfCode:223,utfCode:223},grave:{name:"grave",char:"`",stdCode:193,macCode:96,winCode:96,pdfCode:96,utfCode:96},greater:{name:"greater",char:">",stdCode:62,macCode:62,winCode:62,pdfCode:62,utfCode:62},guillemotleft:{name:"guillemotleft",char:"«",stdCode:171,macCode:199,winCode:171,pdfCode:171,utfCode:171},guillemotright:{name:"guillemotright",char:"»",stdCode:187,macCode:200,winCode:187,pdfCode:187,utfCode:187},guilsinglleft:{name:"guilsinglleft",char:"‹",stdCode:172,macCode:220,winCode:139,pdfCode:136,utfCode:8249},guilsinglright:{name:"guilsinglright",char:"›",stdCode:173,macCode:221,winCode:155,pdfCode:137,utfCode:8250},h:{name:"h",char:"h",stdCode:104,macCode:104,winCode:104,pdfCode:104,utfCode:104},hungarumlaut:{name:"hungarumlaut",char:"˝",stdCode:205,macCode:253,winCode:null,pdfCode:28,utfCode:733},hyphen:{name:"hyphen",char:"-",stdCode:45,macCode:45,winCode:45,pdfCode:45,utfCode:45},i:{name:"i",char:"i",stdCode:105,macCode:105,winCode:105,pdfCode:105,utfCode:105},iacute:{name:"iacute",char:"í",stdCode:null,macCode:146,winCode:237,pdfCode:237,utfCode:237},icircumflex:{name:"icircumflex",char:"î",stdCode:null,macCode:148,winCode:238,pdfCode:238,utfCode:238},idieresis:{name:"idieresis",char:"ï",stdCode:null,macCode:149,winCode:239,pdfCode:239,utfCode:239},igrave:{name:"igrave",char:"ì",stdCode:null,macCode:147,winCode:236,pdfCode:236,utfCode:236},j:{name:"j",char:"j",stdCode:106,macCode:106,winCode:106,pdfCode:106,utfCode:106},k:{name:"k",char:"k",stdCode:107,macCode:107,winCode:107,pdfCode:107,utfCode:107},l:{name:"l",char:"l",stdCode:108,macCode:108,winCode:108,pdfCode:108,utfCode:108},less:{name:"less",char:"<",stdCode:60,macCode:60,winCode:60,pdfCode:60,utfCode:60},logicalnot:{name:"logicalnot",char:"¬",stdCode:null,macCode:194,winCode:172,pdfCode:172,utfCode:172},lslash:{name:"lslash",char:"ł",stdCode:248,macCode:null,winCode:null,pdfCode:155,utfCode:322},m:{name:"m",char:"m",stdCode:109,macCode:109,winCode:109,pdfCode:109,utfCode:109},macron:{name:"macron",char:"¯",stdCode:197,macCode:248,winCode:175,pdfCode:175,utfCode:175},minus:{name:"minus",char:"−",stdCode:null,macCode:null,winCode:null,pdfCode:138,utfCode:8722},mu:{name:"mu",char:"μ",stdCode:null,macCode:181,winCode:181,pdfCode:181,utfCode:181},multiply:{name:"multiply",char:"×",stdCode:null,macCode:null,winCode:215,pdfCode:215,utfCode:215},n:{name:"n",char:"n",stdCode:110,macCode:110,winCode:110,pdfCode:110,utfCode:110},nine:{name:"nine",char:"9",stdCode:57,macCode:57,winCode:57,pdfCode:57,utfCode:57},ntilde:{name:"ntilde",char:"ñ",stdCode:null,macCode:150,winCode:241,pdfCode:241,utfCode:241},numbersign:{name:"numbersign",char:"#",stdCode:35,macCode:35,winCode:35,pdfCode:35,utfCode:35},o:{name:"o",char:"o",stdCode:111,macCode:111,winCode:111,pdfCode:111,utfCode:111},oacute:{name:"oacute",char:"ó",stdCode:null,macCode:151,winCode:243,pdfCode:243,utfCode:243},ocircumflex:{name:"ocircumflex",char:"ô",stdCode:null,macCode:153,winCode:244,pdfCode:244,utfCode:244},odieresis:{name:"odieresis",char:"ö",stdCode:null,macCode:154,winCode:246,pdfCode:246,utfCode:246},oe:{name:"oe",char:"oe",stdCode:250,macCode:207,winCode:156,pdfCode:156,utfCode:339},ogonek:{name:"ogonek",char:"˛",stdCode:206,macCode:254,winCode:null,pdfCode:29,utfCode:731},ograve:{name:"ograve",char:"ò",stdCode:null,macCode:152,winCode:242,pdfCode:242,utfCode:242},one:{name:"one",char:"1",stdCode:49,macCode:49,winCode:49,pdfCode:49,utfCode:49},onehalf:{name:"onehalf",char:"½",stdCode:null,macCode:null,winCode:189,pdfCode:189,utfCode:189},onequarter:{name:"onequarter",char:"¼",stdCode:null,macCode:null,winCode:188,pdfCode:188,utfCode:188},onesuperior:{name:"onesuperior",char:"¹",stdCode:null,macCode:null,winCode:185,pdfCode:185,utfCode:185},ordfeminine:{name:"ordfeminine",char:"ª",stdCode:227,macCode:187,winCode:170,pdfCode:170,utfCode:170},ordmasculine:{name:"ordmasculine",char:"º",stdCode:235,macCode:188,winCode:186,pdfCode:186,utfCode:186},oslash:{name:"oslash",char:"ø",stdCode:249,macCode:191,winCode:248,pdfCode:248,utfCode:248},otilde:{name:"otilde",char:"õ",stdCode:null,macCode:155,winCode:245,pdfCode:245,utfCode:245},p:{name:"p",char:"p",stdCode:112,macCode:112,winCode:112,pdfCode:112,utfCode:112},paragraph:{name:"paragraph",char:"¶",stdCode:182,macCode:166,winCode:182,pdfCode:182,utfCode:182},parenleft:{name:"parenleft",char:"(",stdCode:40,macCode:40,winCode:40,pdfCode:40,utfCode:40},parenright:{name:"parenright",char:")",stdCode:41,macCode:41,winCode:41,pdfCode:41,utfCode:41},percent:{name:"percent",char:"%",stdCode:37,macCode:37,winCode:37,pdfCode:37,utfCode:37},period:{name:"period",char:".",stdCode:46,macCode:46,winCode:46,pdfCode:46,utfCode:46},periodcentered:{name:"periodcentered",char:"·",stdCode:180,macCode:225,winCode:183,pdfCode:183,utfCode:183},perthousand:{name:"perthousand",char:"‰",stdCode:189,macCode:228,winCode:137,pdfCode:139,utfCode:8240},plus:{name:"plus",char:"+",stdCode:43,macCode:43,winCode:43,pdfCode:43,utfCode:43},plusminus:{name:"plusminus",char:"±",stdCode:null,macCode:177,winCode:177,pdfCode:177,utfCode:177},q:{name:"q",char:"q",stdCode:113,macCode:113,winCode:113,pdfCode:113,utfCode:113},question:{name:"question",char:"?",stdCode:63,macCode:63,winCode:63,pdfCode:63,utfCode:63},questiondown:{name:"questiondown",char:"¿",stdCode:191,macCode:192,winCode:191,pdfCode:191,utfCode:191},quotedbl:{name:"quotedbl",char:'"',stdCode:34,macCode:34,winCode:34,pdfCode:34,utfCode:34},quotedblbase:{name:"quotedblbase",char:"„",stdCode:185,macCode:227,winCode:132,pdfCode:140,utfCode:8222},quotedblleft:{name:"quotedblleft",char:"“",stdCode:170,macCode:210,winCode:147,pdfCode:141,utfCode:8220},quotedblright:{name:"quotedblright",char:"”",stdCode:186,macCode:211,winCode:148,pdfCode:142,utfCode:8221},quoteleft:{name:"quoteleft",char:"‘",stdCode:96,macCode:212,winCode:145,pdfCode:143,utfCode:8216},quoteright:{name:"quoteright",char:"’",stdCode:39,macCode:213,winCode:146,pdfCode:144,utfCode:8217},quotesinglbase:{name:"quotesinglbase",char:"‚",stdCode:184,macCode:226,winCode:130,pdfCode:145,utfCode:8218},quotesingle:{name:"quotesingle",char:"'",stdCode:169,macCode:39,winCode:39,pdfCode:39,utfCode:39},r:{name:"r",char:"r",stdCode:114,macCode:114,winCode:114,pdfCode:114,utfCode:114},registered:{name:"registered",char:"®",stdCode:null,macCode:168,winCode:174,pdfCode:174,utfCode:174},ring:{name:"ring",char:"°",stdCode:202,macCode:251,winCode:null,pdfCode:30,utfCode:730},s:{name:"s",char:"s",stdCode:115,macCode:115,winCode:115,pdfCode:115,utfCode:115},scaron:{name:"scaron",char:"š",stdCode:null,macCode:null,winCode:154,pdfCode:157,utfCode:353},section:{name:"section",char:"§",stdCode:167,macCode:164,winCode:167,pdfCode:167,utfCode:167},semicolon:{name:"semicolon",char:";",stdCode:59,macCode:59,winCode:59,pdfCode:59,utfCode:59},seven:{name:"seven",char:"7",stdCode:55,macCode:55,winCode:55,pdfCode:55,utfCode:55},six:{name:"six",char:"6",stdCode:54,macCode:54,winCode:54,pdfCode:54,utfCode:54},slash:{name:"slash",char:"/",stdCode:47,macCode:47,winCode:47,pdfCode:47,utfCode:47},sterling:{name:"sterling",char:"£",stdCode:163,macCode:163,winCode:163,pdfCode:163,utfCode:163},t:{name:"t",char:"t",stdCode:116,macCode:116,winCode:116,pdfCode:116,utfCode:116},thorn:{name:"thorn",char:"þ",stdCode:null,macCode:null,winCode:254,pdfCode:254,utfCode:254},three:{name:"three",char:"3",stdCode:51,macCode:51,winCode:51,pdfCode:51,utfCode:51},threequarters:{name:"threequarters",char:"¾",stdCode:null,macCode:null,winCode:190,pdfCode:190,utfCode:190},threesuperior:{name:"threesuperior",char:"³",stdCode:null,macCode:null,winCode:179,pdfCode:179,utfCode:179},tilde:{name:"tilde",char:"˜",stdCode:196,macCode:247,winCode:152,pdfCode:31,utfCode:732},trademark:{name:"trademark",char:"™",stdCode:null,macCode:170,winCode:153,pdfCode:146,utfCode:8482},two:{name:"two",char:"2",stdCode:50,macCode:50,winCode:50,pdfCode:50,utfCode:50},twosuperior:{name:"twosuperior",char:"²",stdCode:null,macCode:null,winCode:178,pdfCode:178,utfCode:178},u:{name:"u",char:"u",stdCode:117,macCode:117,winCode:117,pdfCode:117,utfCode:117},uacute:{name:"uacute",char:"ú",stdCode:null,macCode:156,winCode:250,pdfCode:250,utfCode:250},ucircumflex:{name:"ucircumflex",char:"û",stdCode:null,macCode:158,winCode:251,pdfCode:251,utfCode:251},udieresis:{name:"udieresis",char:"ü",stdCode:null,macCode:159,winCode:252,pdfCode:252,utfCode:252},ugrave:{name:"ugrave",char:"ù",stdCode:null,macCode:157,winCode:249,pdfCode:249,utfCode:249},underscore:{name:"underscore",char:"_",stdCode:95,macCode:95,winCode:95,pdfCode:95,utfCode:95},v:{name:"v",char:"v",stdCode:118,macCode:118,winCode:118,pdfCode:118,utfCode:118},w:{name:"w",char:"w",stdCode:119,macCode:119,winCode:119,pdfCode:119,utfCode:119},x:{name:"x",char:"x",stdCode:120,macCode:120,winCode:120,pdfCode:120,utfCode:120},y:{name:"y",char:"y",stdCode:121,macCode:121,winCode:121,pdfCode:121,utfCode:121},yacute:{name:"yacute",char:"ý",stdCode:null,macCode:null,winCode:253,pdfCode:253,utfCode:253},ydieresis:{name:"ydieresis",char:"ÿ",stdCode:null,macCode:216,winCode:255,pdfCode:255,utfCode:255},yen:{name:"yen",char:"¥",stdCode:165,macCode:180,winCode:165,pdfCode:165,utfCode:165},z:{name:"z",char:"z",stdCode:122,macCode:122,winCode:122,pdfCode:122,utfCode:122},zcaron:{name:"zcaron",char:"ž",stdCode:null,macCode:null,winCode:158,pdfCode:158,utfCode:382},zero:{name:"zero",char:"0",stdCode:48,macCode:48,winCode:48,pdfCode:48,utfCode:48},Djecyrillic:{name:"Djecyrillic",char:"Ђ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1026},afii10051:{name:"afii10051",char:"Ђ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1026},Gjecyrillic:{name:"Gjecyrillic",char:"Ѓ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1027},afii10052:{name:"afii10052",char:"Ѓ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1027},Ljecyrillic:{name:"Ljecyrillic",char:"Љ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1033},afii10058:{name:"afii10058",char:"Љ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1033},Njecyrillic:{name:"Njecyrillic",char:"Њ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1034},afii10059:{name:"afii10059",char:"Њ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1034},Kjecyrillic:{name:"Kjecyrillic",char:"Ќ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1036},afii10061:{name:"afii10061",char:"Ќ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1036},Tshecyrillic:{name:"Tshecyrillic",char:"Ћ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1035},afii10060:{name:"afii10060",char:"Ћ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1035},Dzhecyrillic:{name:"Dzhecyrillic",char:"Џ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1039},afii10145:{name:"afii10145",char:"Џ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1039},afii10100:{name:"afii10100",char:"ѓ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1107},gjecyrillic:{name:"gjecyrillic",char:"ѓ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1107},afii10099:{name:"afii10099",char:"ђ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1106},djecyrillic:{name:"djecyrillic",char:"ђ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1106},afii10106:{name:"afii10106",char:"љ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1113},ljecyrillic:{name:"ljecyrillic",char:"љ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1113},afii10107:{name:"afii10107",char:"њ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1114},njecyrillic:{name:"njecyrillic",char:"њ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1114},afii10109:{name:"afii10109",char:"ќ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1116},kjecyrillic:{name:"kjecyrillic",char:"ќ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1116},afii10108:{name:"afii10108",char:"ћ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1115},tshecyrillic:{name:"tshecyrillic",char:"ћ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1115},afii10193:{name:"afii10193",char:"џ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1119},dzhecyrillic:{name:"dzhecyrillic",char:"џ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1119},Ushortcyrillic:{name:"Ushortcyrillic",char:"Ў",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1038},afii10062:{name:"afii10062",char:"Ў",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1038},afii10110:{name:"afii10110",char:"ў",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1118},ushortcyrillic:{name:"ushortcyrillic",char:"ў",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1118},Jecyrillic:{name:"Jecyrillic",char:"Ј",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1032},afii10057:{name:"afii10057",char:"Ј",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1032},Gheupturncyrillic:{name:"Gheupturncyrillic",char:"Ґ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1168},afii10050:{name:"afii10050",char:"Ґ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1168},Iocyrillic:{name:"Iocyrillic",char:"Ё",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1025},afii10023:{name:"afii10023",char:"Ё",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1025},Ecyrillic:{name:"Ecyrillic",char:"Є",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1028},afii10053:{name:"afii10053",char:"Є",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1028},Yicyrillic:{name:"Yicyrillic",char:"Ї",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1031},afii10056:{name:"afii10056",char:"Ї",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1031},Icyrillic:{name:"Icyrillic",char:"І",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1030},afii10055:{name:"afii10055",char:"І",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1030},afii10103:{name:"afii10103",char:"і",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1110},icyrillic:{name:"icyrillic",char:"і",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1110},afii10098:{name:"afii10098",char:"ґ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1169},gheupturncyrillic:{name:"gheupturncyrillic",char:"ґ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1169},afii10071:{name:"afii10071",char:"ё",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1105},iocyrillic:{name:"iocyrillic",char:"ё",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1105},afii10101:{name:"afii10101",char:"є",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1108},ecyrillic:{name:"ecyrillic",char:"є",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1108},afii10105:{name:"afii10105",char:"ј",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1112},jecyrillic:{name:"jecyrillic",char:"ј",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1112},Dzecyrillic:{name:"Dzecyrillic",char:"Ѕ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1029},afii10054:{name:"afii10054",char:"Ѕ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1029},afii10102:{name:"afii10102",char:"ѕ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1109},dzecyrillic:{name:"dzecyrillic",char:"ѕ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1109},afii10104:{name:"afii10104",char:"ї",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1111},yicyrillic:{name:"yicyrillic",char:"ї",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1111},Acyrillic:{name:"Acyrillic",char:"А",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1040},afii10017:{name:"afii10017",char:"А",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1040},Becyrillic:{name:"Becyrillic",char:"Б",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1041},afii10018:{name:"afii10018",char:"Б",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1041},Vecyrillic:{name:"Vecyrillic",char:"В",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1042},afii10019:{name:"afii10019",char:"В",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1042},Gecyrillic:{name:"Gecyrillic",char:"Г",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1043},afii10020:{name:"afii10020",char:"Г",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1043},Decyrillic:{name:"Decyrillic",char:"Д",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1044},afii10021:{name:"afii10021",char:"Д",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1044},Iecyrillic:{name:"Iecyrillic",char:"Е",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1045},afii10022:{name:"afii10022",char:"Е",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1045},Zhecyrillic:{name:"Zhecyrillic",char:"Ж",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1046},afii10024:{name:"afii10024",char:"Ж",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1046},Zecyrillic:{name:"Zecyrillic",char:"З",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1047},afii10025:{name:"afii10025",char:"З",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1047},Iicyrillic:{name:"Iicyrillic",char:"И",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1048},afii10026:{name:"afii10026",char:"И",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1048},Iishortcyrillic:{name:"Iishortcyrillic",char:"Й",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1049},afii10027:{name:"afii10027",char:"Й",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1049},Kacyrillic:{name:"Kacyrillic",char:"К",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1050},afii10028:{name:"afii10028",char:"К",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1050},Elcyrillic:{name:"Elcyrillic",char:"Л",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1051},afii10029:{name:"afii10029",char:"Л",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1051},Emcyrillic:{name:"Emcyrillic",char:"М",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1052},afii10030:{name:"afii10030",char:"М",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1052},Encyrillic:{name:"Encyrillic",char:"Н",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1053},afii10031:{name:"afii10031",char:"Н",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1053},Ocyrillic:{name:"Ocyrillic",char:"О",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1054},afii10032:{name:"afii10032",char:"О",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1054},Pecyrillic:{name:"Pecyrillic",char:"П",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1055},afii10033:{name:"afii10033",char:"П",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1055},Ercyrillic:{name:"Ercyrillic",char:"Р",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1056},afii10034:{name:"afii10034",char:"Р",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1056},Escyrillic:{name:"Escyrillic",char:"С",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1057},afii10035:{name:"afii10035",char:"С",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1057},Tecyrillic:{name:"Tecyrillic",char:"Т",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1058},afii10036:{name:"afii10036",char:"Т",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1058},Ucyrillic:{name:"Ucyrillic",char:"У",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1059},afii10037:{name:"afii10037",char:"У",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1059},Efcyrillic:{name:"Efcyrillic",char:"Ф",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1060},afii10038:{name:"afii10038",char:"Ф",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1060},Khacyrillic:{name:"Khacyrillic",char:"Х",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1061},afii10039:{name:"afii10039",char:"Х",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1061},Tsecyrillic:{name:"Tsecyrillic",char:"Ц",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1062},afii10040:{name:"afii10040",char:"Ц",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1062},Checyrillic:{name:"Checyrillic",char:"Ч",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1063},afii10041:{name:"afii10041",char:"Ч",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1063},Shacyrillic:{name:"Shacyrillic",char:"Ш",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1064},afii10042:{name:"afii10042",char:"Ш",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1064},Shchacyrillic:{name:"Shchacyrillic",char:"Щ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1065},afii10043:{name:"afii10043",char:"Щ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1065},Hardsigncyrillic:{name:"Hardsigncyrillic",char:"Ъ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1066},afii10044:{name:"afii10044",char:"Ъ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1066},Yericyrillic:{name:"Yericyrillic",char:"Ы",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1067},afii10045:{name:"afii10045",char:"Ы",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1067},Softsigncyrillic:{name:"Softsigncyrillic",char:"Ь",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1068},afii10046:{name:"afii10046",char:"Ь",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1068},Ereversedcyrillic:{name:"Ereversedcyrillic",char:"Э",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1069},afii10047:{name:"afii10047",char:"Э",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1069},IUcyrillic:{name:"IUcyrillic",char:"Ю",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1070},afii10048:{name:"afii10048",char:"Ю",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1070},IAcyrillic:{name:"IAcyrillic",char:"Я",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1071},afii10049:{name:"afii10049",char:"Я",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1071},afii10065:{name:"afii10065",char:"а",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1072},acyrillic:{name:"acyrillic",char:"а",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1072},afii10066:{name:"afii10066",char:"б",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1073},becyrillic:{name:"becyrillic",char:"б",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1073},afii10067:{name:"afii10067",char:"в",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1074},vecyrillic:{name:"vecyrillic",char:"в",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1074},afii10068:{name:"afii10068",char:"г",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1075},gecyrillic:{name:"gecyrillic",char:"г",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1075},afii10069:{name:"afii10069",char:"д",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1076},decyrillic:{name:"decyrillic",char:"д",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1076},afii10070:{name:"afii10070",char:"е",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1077},iecyrillic:{name:"iecyrillic",char:"е",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1077},afii10072:{name:"afii10072",char:"ж",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1078},zhecyrillic:{name:"zhecyrillic",char:"ж",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1078},afii10073:{name:"afii10073",char:"з",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1079},zecyrillic:{name:"zecyrillic",char:"з",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1079},afii10074:{name:"afii10074",char:"и",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1080},iicyrillic:{name:"iicyrillic",char:"и",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1080},afii10075:{name:"afii10075",char:"й",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1081},iishortcyrillic:{name:"iishortcyrillic",char:"й",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1081},afii10076:{name:"afii10076",char:"к",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1082},kacyrillic:{name:"kacyrillic",char:"к",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1082},afii10077:{name:"afii10077",char:"л",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1083},elcyrillic:{name:"elcyrillic",char:"л",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1083},afii10078:{name:"afii10078",char:"м",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1084},emcyrillic:{name:"emcyrillic",char:"м",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1084},afii10079:{name:"afii10079",char:"н",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1085},encyrillic:{name:"encyrillic",char:"н",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1085},afii10080:{name:"afii10080",char:"о",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1086},ocyrillic:{name:"ocyrillic",char:"о",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1086},afii10081:{name:"afii10081",char:"п",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1087},pecyrillic:{name:"pecyrillic",char:"п",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1087},afii10082:{name:"afii10082",char:"р",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1088},ercyrillic:{name:"ercyrillic",char:"р",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1088},afii10083:{name:"afii10083",char:"с",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1089},escyrillic:{name:"escyrillic",char:"с",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1089},afii10084:{name:"afii10084",char:"т",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1090},tecyrillic:{name:"tecyrillic",char:"т",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1090},afii10085:{name:"afii10085",char:"у",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1091},ucyrillic:{name:"ucyrillic",char:"у",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1091},afii10086:{name:"afii10086",char:"ф",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1092},efcyrillic:{name:"efcyrillic",char:"ф",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1092},afii10087:{name:"afii10087",char:"х",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1093},khacyrillic:{name:"khacyrillic",char:"х",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1093},afii10088:{name:"afii10088",char:"ц",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1094},tsecyrillic:{name:"tsecyrillic",char:"ц",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1094},afii10089:{name:"afii10089",char:"ч",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1095},checyrillic:{name:"checyrillic",char:"ч",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1095},afii10090:{name:"afii10090",char:"ш",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1096},shacyrillic:{name:"shacyrillic",char:"ш",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1096},afii10091:{name:"afii10091",char:"щ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1097},shchacyrillic:{name:"shchacyrillic",char:"щ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1097},afii10092:{name:"afii10092",char:"ъ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1098},hardsigncyrillic:{name:"hardsigncyrillic",char:"ъ",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1098},afii10093:{name:"afii10093",char:"ы",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1099},yericyrillic:{name:"yericyrillic",char:"ы",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1099},afii10094:{name:"afii10094",char:"ь",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1100},softsigncyrillic:{name:"softsigncyrillic",char:"ь",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1100},afii10095:{name:"afii10095",char:"э",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1101},ereversedcyrillic:{name:"ereversedcyrillic",char:"э",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1101},afii10096:{name:"afii10096",char:"ю",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1102},iucyrillic:{name:"iucyrillic",char:"ю",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1102},afii10097:{name:"afii10097",char:"я",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1103},iacyrillic:{name:"iacyrillic",char:"я",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:1103},afii61352:{name:"afii61352",char:"№",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:8470},numero:{name:"numero",char:"№",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:8470},nbspace:{name:"nbspace",char:"",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:160},currency:{name:"currency",char:"¤",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:164},sfthyphen:{name:"sfthyphen",char:"",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:173},middot:{name:"middot",char:"·",stdCode:null,macCode:null,winCode:null,pdfCode:null,utfCode:183},".notdef":{name:".notdef",char:" ",stdCode:32,macCode:32,winCode:32,pdfCode:32,utfCode:32},space:{name:"space",char:" ",stdCode:32,macCode:32,winCode:32,pdfCode:32,utfCode:32}};function getCharCodesMapByCode(A){const e=new Map;let r;switch(A){case"StandardEncoding":r="stdCode";break;case"WinAnsiEncoding":r="winCode";break;case"MacRomanEncoding":r="macCode";break;case"PDFDocEncoding":r="pdfCode";break;case"Utf-16":r="utfCode";break;default:return console.log(`Unsupported encoding: '${A}'`),e}for(const[,a]of Object.entries(pdfCharCodesByName))a[r]&&e.set(a[r],a);return e}var __awaiter$14=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class EncodingDict extends PdfDict{constructor(){super(dictTypes.ENCODING)}get charMap(){return this._charMap||this.refreshCharMaps(),this._charMap}get codeMap(){return this._codeMap||this.refreshCharMaps(),this._codeMap}static parseAsync(e){return __awaiter$14(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new EncodingDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.BaseEncoding&&c.push(...a.encode("/BaseEncoding "),...a.encode(" "+this.BaseEncoding)),this.Differences&&c.push(...a.encode("/Differences "),...this.encodePrimitiveArray(this.Differences,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$14(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/BaseEncoding":s=yield this.parseNamePropAsync(g,a,s);break;case"/Differences":const p=yield a.getValueTypeAtAsync(s,!0);if(p===valueTypes.ARRAY){this.Differences=[];const t=yield a.getArrayBoundsAtAsync(s);let b=t.start+1;for(;b<t.end-1&&b!==-1;){const C=yield a.getValueTypeAtAsync(b,!0);switch(C){case valueTypes.NAME:const w=yield a.parseNameAtAsync(b,!0);this.Differences.push(w.value),b=w.end+1;break;case valueTypes.NUMBER:const v=yield a.parseNumberAtAsync(b,!0);this.Differences.push(v.value),b=v.end+1;break;default:throw new Error(`Invalid differences array value type: ${C}`)}}s=t.end+1}else throw new Error(`Invalid differences value type: ${p}`);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}refreshCharMaps(){if(this.Differences){if(typeof this.Differences[0]!="number")throw new Error("First element of encoding difference array must be a number");let e;const r=getCharCodesMapByCode(this.BaseEncoding.substring(1));for(const a of this.Differences){if(typeof a=="number"){e=a;continue}const c=pdfCharCodesByName[a.substring(1)];c&&r.set(e++,c)}this._charMap=new Map,this._codeMap=new Map,r.forEach((a,c)=>{this.charMap.set(c,a.char),this._codeMap.set(a.char,c)})}}}var __awaiter$13=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class FontDescriptorDict extends PdfDict{constructor(){super(dictTypes.FONT_DESCRIPTOR),this.StemH=0,this.Leading=0,this.AvgWidth=0,this.MaxWidth=0,this.MissingWidth=0,this.XHeight=0}static parseAsync(e){return __awaiter$13(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new FontDescriptorDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.FontName&&c.push(...a.encode("/FontName "),...a.encode(" "+this.FontName)),this.FontFamily&&c.push(...a.encode("/FontFamily "),...this.FontFamily.toArray(e)),this.FontStretch&&c.push(...a.encode("/FontStretch "),...a.encode(" "+this.FontStretch)),this.FontWeight&&c.push(...a.encode("/FontWeight "),...a.encode(" "+this.FontWeight)),this.Flags&&c.push(...a.encode("/Flags "),...a.encode(" "+this.Flags)),this.FontBBox&&c.push(...a.encode("/FontBBox "),...this.encodePrimitiveArray(this.FontBBox,a)),(this.ItalicAngle||this.ItalicAngle===0)&&c.push(...a.encode("/ItalicAngle "),...a.encode(" "+this.ItalicAngle)),this.Ascent&&c.push(...a.encode("/Ascent "),...a.encode(" "+this.Ascent)),this.Descent&&c.push(...a.encode("/Descent "),...a.encode(" "+this.Descent)),this.CapHeight&&c.push(...a.encode("/CapHeight "),...a.encode(" "+this.CapHeight)),this.StemV&&c.push(...a.encode("/StemV "),...a.encode(" "+this.StemV)),this.StemH&&c.push(...a.encode("/StemV "),...a.encode(" "+this.StemH)),this.Leading&&c.push(...a.encode("/Leading "),...a.encode(" "+this.Leading)),this.AvgWidth&&c.push(...a.encode("/AvgWidth "),...a.encode(" "+this.AvgWidth)),this.MaxWidth&&c.push(...a.encode("/MaxWidth "),...a.encode(" "+this.MaxWidth)),this.MissingWidth&&c.push(...a.encode("/MissingWidth "),...a.encode(" "+this.MissingWidth)),this.XHeight&&c.push(...a.encode("/XHeight "),...a.encode(" "+this.XHeight)),this.CharSet&&c.push(...a.encode("/CharSet "),...this.CharSet.toArray(e)),this.FontFile&&c.push(...a.encode("/FontFile "),...this.FontFile.toArray(e)),this.FontFile2&&c.push(...a.encode("/FontFile2 "),...this.FontFile2.toArray(e)),this.FontFile3&&c.push(...a.encode("/FontFile3 "),...this.FontFile3.toArray(e));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$13(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/FontName":case"/FontStretch":s=yield this.parseNamePropAsync(g,a,s);break;case"/FontFile":case"/FontFile2":case"/FontFile3":s=yield this.parseRefPropAsync(g,a,s);break;case"/Flags":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/FontWeight":case"/ItalicAngle":case"/Ascent":case"/Descent":case"/Leading":case"/CapHeight":case"/XHeight":case"/StemV":case"/StemH":case"/AvgWidth":case"/MaxWidth":case"/MissingWidth":s=yield this.parseNumberPropAsync(g,a,s,!0);break;case"/FontBBox":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;case"/CharSet":case"/FontFamily":const p=yield a.getValueTypeAtAsync(s);if(p===valueTypes.STRING_HEX)s=yield this.parseHexPropAsync(g,a,s);else if(p===valueTypes.STRING_LITERAL)s=yield this.parseLiteralPropAsync(g,a,s);else throw new Error(`Unsupported '${g}' property value type: '${p}'`);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.FontName||!this.Flags&&this.Flags!==0||!this.ItalicAngle&&this.ItalicAngle!==0)throw new Error("Not all required properties parsed")})}}var __awaiter$12=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};const cyrillicEncodingDifferences=[128,"/Djecyrillic","/Gjecyrillic","/quotesinglbase","/afii10100","/quotedblbase","/ellipsis","/dagger","/daggerdbl","/Euro","/perthousand","/Ljecyrillic","/guilsinglleft","/Njecyrillic","/Kjecyrillic","/Tshecyrillic","/Dzhecyrillic","/afii10099","/quoteleft","/quoteright","/quotedblleft","/quotedblright","/bullet","/endash","/emdash","/.notdef","/trademark","/afii10106","/guilsinglright","/afii10107","/afii10109","/afii10108","/afii10193","/nbspace","/Ushortcyrillic","/afii10110","/Jecyrillic","/currency","/Gheupturncyrillic","/brokenbar","/section","/Iocyrillic","/copyright","/Ecyrillic","/guillemotleft","/logicalnot","/sfthyphen","/registered","/Yicyrillic","/degree","/plusminus","/Icyrillic","/afii10103","/afii10098","/mu","/paragraph","/middot","/afii10071","/afii61352","/afii10101","/guillemotright","/afii10105","/Dzecyrillic","/afii10102","/afii10104","/Acyrillic","/Becyrillic","/Vecyrillic","/Gecyrillic","/Decyrillic","/Iecyrillic","/Zhecyrillic","/Zecyrillic","/Iicyrillic","/Iishortcyrillic","/Kacyrillic","/Elcyrillic","/Emcyrillic","/Encyrillic","/Ocyrillic","/Pecyrillic","/Ercyrillic","/Escyrillic","/Tecyrillic","/Ucyrillic","/Efcyrillic","/Khacyrillic","/Tsecyrillic","/Checyrillic","/Shacyrillic","/Shchacyrillic","/Hardsigncyrillic","/Yericyrillic","/Softsigncyrillic","/Ereversedcyrillic","/IUcyrillic","/IAcyrillic","/acyrillic","/afii10066","/afii10067","/afii10068","/afii10069","/afii10070","/afii10072","/afii10073","/afii10074","/afii10075","/afii10076","/afii10077","/afii10078","/afii10079","/afii10080","/afii10081","/afii10082","/afii10083","/afii10084","/afii10085","/afii10086","/afii10087","/afii10088","/afii10089","/afii10090","/afii10091","/afii10092","/afii10093","/afii10094","/afii10095","/afii10096","/afii10097"];class FontDict extends PdfDict{constructor(){super(dictTypes.FONT)}get name(){return this._name}get encoding(){return this._encoding}set encoding(e){this._encoding=e,this.Encoding=e.ref?new ObjectId(e.ref.id,e.ref.generation):null}get encodingValue(){var e;return!this.Encoding&&(!((e=this._encoding)===null||e===void 0)&&e.ref)&&(this.Encoding=new ObjectId(this._encoding.ref.id,this._encoding.ref.generation)),this.Encoding}get descriptor(){return this._descriptor}set descriptor(e){this._descriptor=e,this.FontDescriptor=e.ref?new ObjectId(e.ref.id,e.ref.generation):null}get descriptorValue(){var e;return!this.FontDescriptor&&(!((e=this._descriptor)===null||e===void 0)&&e.ref)&&(this.FontDescriptor=new ObjectId(this._descriptor.ref.id,this._descriptor.ref.generation)),this.FontDescriptor}get toUtfCmap(){return this._toUtfCmap}get isMonospace(){var e;if(!this._descriptor)return!1;const r=(e=this._descriptor)===null||e===void 0?void 0:e.Flags;return!!ByteUtils.getBit(r,0)}get isSerif(){var e;if(!this._descriptor)return!1;const r=(e=this._descriptor)===null||e===void 0?void 0:e.Flags;return!!ByteUtils.getBit(r,1)}get isScript(){var e;if(!this._descriptor)return!1;const r=(e=this._descriptor)===null||e===void 0?void 0:e.Flags;return!!ByteUtils.getBit(r,3)}get isItalic(){var e;if(!this._descriptor)return!1;const r=(e=this._descriptor)===null||e===void 0?void 0:e.Flags;return!!ByteUtils.getBit(r,6)}static newFontMap(){const e=new Map,r=new EncodingDict;return r.BaseEncoding="/WinAnsiEncoding",r.Differences=cyrillicEncodingDifferences.slice(),e.set("arial",FontDict.createArialFont(r)),e.set("calibri",FontDict.createCalibriFont(r)),e.set("cambria",FontDict.createCambriaFont(r)),e.set("courier",FontDict.createCourierFont(r)),e.set("tnr",FontDict.createTnrFont(r)),e.set("verdana",FontDict.createVerdanaFont(r)),e}static parseAsync(e){return __awaiter$12(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new FontDict;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}static createArialFont(e){const r=new FontDescriptorDict;r.FontName="/ArialMT",r.Flags=32,r.ItalicAngle=0,r.Ascent=905,r.Descent=-211,r.FontBBox=[-664,-324,2e3,1039],r.CapHeight=716,r.StemV=0;const a=new FontDict;return a.encoding=e,a.descriptor=r,a.Subtype="/TrueType",a.BaseFont="/ArialMT",a.FirstChar=32,a.LastChar=255,a.Widths=[277,277,354,556,556,889,666,190,333,333,389,583,277,333,277,277,556,556,556,556,556,556,556,556,556,556,277,277,583,583,583,556,925,666,666,722,722,666,610,777,722,277,500,666,556,833,722,777,666,777,722,666,610,722,666,943,666,666,610,277,277,277,469,556,333,556,556,500,556,556,277,556,556,222,222,500,222,833,556,556,556,556,333,500,277,556,500,722,500,500,500,333,259,333,583,750,864,541,222,364,333,1e3,556,556,556,1e3,1014,333,893,582,854,718,556,222,222,333,333,350,556,1e3,750,1e3,906,333,812,437,556,552,277,635,500,500,556,488,259,556,666,736,718,556,583,333,736,277,399,548,277,222,411,576,537,333,556,953,510,556,222,666,500,277,666,656,666,541,677,666,923,604,718,718,582,656,833,722,777,718,666,722,610,635,760,666,739,666,916,937,791,885,656,718,879,722,556,572,531,364,583,556,668,458,558,558,437,583,687,552,556,541,556,500,458,500,822,500,572,520,802,822,625,718,520,510,750,541],a._name="/tspdfFarial",a}static createCalibriFont(e){const r=new FontDescriptorDict;r.FontName="/Calibri",r.Flags=32,r.ItalicAngle=0,r.Ascent=750,r.Descent=-250,r.FontBBox=[-502,-312,1240,1026],r.CapHeight=631,r.StemV=0;const a=new FontDict;return a.encoding=e,a.descriptor=r,a.Subtype="/TrueType",a.BaseFont="/Calibri",a.FirstChar=32,a.LastChar=255,a.Widths=[226,325,400,498,506,714,682,220,303,303,498,498,249,306,252,386,506,506,506,506,506,506,506,506,506,506,267,267,498,498,498,463,894,578,543,533,615,488,459,630,623,251,318,519,420,854,645,662,516,672,542,459,487,641,567,889,519,487,468,306,386,306,498,498,291,479,525,422,525,497,305,470,525,229,239,454,229,798,525,527,525,525,348,391,334,525,451,714,433,452,395,314,460,314,498,506,624,429,249,345,418,690,498,498,506,967,872,338,876,542,618,619,540,249,249,418,418,498,498,905,0,705,750,338,769,463,532,524,226,527,452,318,498,432,498,498,488,834,547,512,498,306,506,251,338,498,251,229,354,549,585,252,497,890,443,512,239,459,391,229,578,537,543,429,644,488,800,473,641,641,542,610,854,623,662,621,516,533,487,527,697,519,638,555,868,889,614,761,531,547,878,555,479,532,479,345,558,497,688,422,540,540,463,510,676,534,527,520,525,422,387,452,624,433,541,468,728,749,536,666,469,442,721,474],a._name="/tspdfFcalibri",a}static createCambriaFont(e){const r=new FontDescriptorDict;r.FontName="/Cambria",r.Flags=32,r.ItalicAngle=0,r.Ascent=950,r.Descent=-222,r.FontBBox=[-1474,-2463,2867,3116],r.CapHeight=666,r.StemV=0;const a=new FontDict;return a.encoding=e,a.descriptor=r,a.Subtype="/TrueType",a.BaseFont="/Cambria",a.FirstChar=32,a.LastChar=255,a.Widths=[220,285,393,619,505,889,687,236,381,381,427,553,205,332,205,490,553,553,553,553,553,553,553,553,553,553,263,263,553,553,553,422,885,623,611,562,661,575,536,610,686,324,306,629,536,815,680,653,567,653,621,496,592,647,603,921,571,570,537,350,490,350,553,370,284,488,547,440,554,487,302,494,551,277,266,524,271,832,558,530,556,546,413,429,338,552,503,774,483,503,454,387,316,387,712,658,738,534,205,446,360,751,516,516,628,1160,935,302,932,649,752,666,538,221,221,375,375,443,500,1e3,0,679,763,302,797,540,551,566,220,600,503,306,543,501,316,500,575,850,569,487,553,332,850,324,375,553,324,277,416,543,587,282,487,927,470,487,266,496,429,277,623,599,611,534,654,575,922,542,691,691,649,677,815,686,653,674,567,562,592,600,778,571,671,625,926,926,731,850,597,573,920,630,488,541,522,446,558,487,713,458,589,589,540,559,672,588,530,566,556,440,511,503,685,483,569,530,800,800,617,748,514,470,767,530],a._name="/tspdfFcambria",a}static createCourierFont(e){const r=new FontDescriptorDict;r.FontName="/CourierNewPSMT",r.Flags=32,r.ItalicAngle=0,r.Ascent=832,r.Descent=-300,r.FontBBox=[-121,-679,622,1020],r.CapHeight=571,r.StemV=0;const a=new FontDict;return a.encoding=e,a.descriptor=r,a.Subtype="/TrueType",a.BaseFont="/CourierNewPSMT",a.FirstChar=32,a.LastChar=255,a.Widths=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],a._name="/tspdfFcourier",a}static createTnrFont(e){const r=new FontDescriptorDict;r.FontName="/TimesNewRomanPSMT",r.Flags=32,r.ItalicAngle=0,r.Ascent=891,r.Descent=-216,r.FontBBox=[-568,-306,2045,1039],r.CapHeight=662,r.StemV=0;const a=new FontDict;return a.encoding=e,a.descriptor=r,a.Subtype="/TrueType",a.BaseFont="/TimesNewRomanPSMT",a.FirstChar=32,a.LastChar=255,a.Widths=[250,333,408,500,500,833,777,180,333,333,500,563,250,333,250,277,500,500,500,500,500,500,500,500,500,500,277,277,563,563,563,443,920,722,666,666,722,610,556,722,722,333,389,722,610,889,722,722,556,722,666,556,610,722,722,943,722,722,610,333,277,333,469,500,333,443,500,443,500,443,333,500,500,277,277,500,277,777,500,500,500,500,333,389,277,500,500,722,500,500,443,479,200,479,541,777,751,578,333,410,443,1e3,500,500,500,1e3,872,333,872,666,741,722,482,333,333,443,443,350,500,1e3,777,979,727,333,723,485,500,535,250,708,500,389,500,450,200,500,610,759,660,500,563,333,759,333,399,548,333,277,351,576,453,333,443,954,429,500,277,556,389,277,722,574,666,578,682,610,895,500,722,722,666,678,889,722,722,722,556,666,610,708,790,722,722,649,953,953,706,872,574,660,973,666,443,508,472,410,508,443,690,395,535,535,485,499,632,535,500,535,500,443,437,500,647,500,535,502,770,770,517,671,456,429,747,459],a._name="/tspdfFtnr",a}static createVerdanaFont(e){const r=new FontDescriptorDict;r.FontName="/Verdana",r.Flags=32,r.ItalicAngle=0,r.Ascent=1005,r.Descent=-209,r.FontBBox=[-559,-303,1522,1050],r.CapHeight=727,r.StemV=0;const a=new FontDict;return a.encoding=e,a.descriptor=r,a.Subtype="/TrueType",a.BaseFont="/Verdana",a.FirstChar=32,a.LastChar=255,a.Widths=[351,393,458,818,635,931,726,268,454,454,635,818,363,454,363,454,635,635,635,635,635,635,635,635,635,635,454,454,818,818,818,545,1e3,683,685,698,770,632,574,775,751,420,454,692,556,842,748,787,603,787,695,683,616,731,683,988,685,615,685,454,454,454,818,635,635,600,623,520,623,595,351,623,632,274,344,591,274,972,632,606,623,623,426,520,394,632,591,818,591,591,525,634,454,634,818,1e3,792,566,268,471,458,818,635,635,635,1374,1071,454,966,692,817,751,632,268,268,458,458,545,635,1e3,1e3,976,914,454,914,591,632,637,351,615,591,454,635,566,454,635,632,1e3,700,644,818,454,1e3,420,541,818,420,274,471,641,635,363,595,993,546,644,344,683,520,274,683,685,685,566,745,632,973,615,750,750,692,734,842,751,787,751,603,698,616,615,818,685,761,711,835,904,783,920,680,701,881,706,600,614,594,471,621,595,797,524,640,640,591,620,696,637,606,637,623,534,496,591,840,591,644,605,875,887,640,794,570,546,838,599],a._name="/tspdfFverdana",a}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Subtype&&c.push(...a.encode("/Subtype "),...a.encode(" "+this.Subtype)),this.BaseFont&&c.push(...a.encode("/BaseFont "),...a.encode(" "+this.BaseFont)),this.ToUnicode&&c.push(...a.encode("/G "),...this.ToUnicode.toArray(e)),this.FirstChar&&c.push(...a.encode("/FirstChar "),...a.encode(" "+this.FirstChar)),this.LastChar&&c.push(...a.encode("/LastChar "),...a.encode(" "+this.LastChar)),this.Widths&&(this.Widths instanceof ObjectId?c.push(...a.encode("/Widths "),...this.Widths.toArray(e)):c.push(...a.encode("/Widths "),...this.encodePrimitiveArray(this.Widths,a))),(this.Encoding||this.encodingValue)&&(this.Encoding instanceof ObjectId?c.push(...a.encode("/Encoding "),...this.Encoding.toArray(e)):c.push(...a.encode("/Encoding "),...a.encode(" "+this.Encoding))),this.descriptorValue&&c.push(...a.encode("/FontDescriptor "),...this.descriptorValue.toArray(e)),this.Resources&&c.push(...a.encode("/Resources "),...this.Resources),this.CharProcs&&c.push(...a.encode("/CharProcs "),...this.CharProcs),this.FontBBox&&c.push(...a.encode("/FontBBox "),...this.encodePrimitiveArray(this.FontBBox,a)),this.FontMatrix&&c.push(...a.encode("/FontMatrix "),...this.encodePrimitiveArray(this.FontMatrix,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}decodeText(e){var r;if(this.toUtfCmap)return this.toUtfCmap.hexBytesToUtfString(e);if(!((r=this.encoding)===null||r===void 0)&&r.charMap){const o=this.encoding.charMap;let f="";return e.forEach(s=>{var g;return f+=(g=o.get(s))!==null&&g!==void 0?g:" "}),f}return(e[0]===254&&e[1]===255?new TextDecoder("utf-16be"):new TextDecoder).decode(e)||""}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$12(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Subtype":const p=yield a.parseNameAtAsync(s,!0);if(p){this.Subtype=p.value,s=p.end+1;break}throw new Error("Can't parse /Subtype property value");case"/BaseFont":s=yield this.parseNamePropAsync(g,a,s);break;case"/Encoding":const t=yield a.getValueTypeAtAsync(s);if(t===valueTypes.NAME)s=yield this.parseNamePropAsync(g,a,s);else if(t===valueTypes.REF)s=yield this.parseRefPropAsync(g,a,s);else throw new Error(`Unsupported '${g}' property value type: '${t}'`);break;case"/ToUnicode":s=yield this.parseRefPropAsync(g,a,s);break;case"/FirstChar":case"/LastChar":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/FontBBox":case"/FontMatrix":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;case"/Widths":const b=yield a.getValueTypeAtAsync(s);if(b===valueTypes.ARRAY)s=yield this.parseNumberArrayPropAsync(g,a,s,!0);else if(b===valueTypes.REF)s=yield this.parseRefPropAsync(g,a,s);else throw new Error(`Unsupported '${g}' property value type: '${t}'`);break;case"/FontDescriptor":s=yield this.parseRefPropAsync(g,a,s);break;case"/Resources":case"/CharProcs":const C=yield a.getValueTypeAtAsync(s);if(C===valueTypes.REF){const w=yield ObjectId.parseRefAsync(a,s);if(w&&e.parseInfoGetterAsync){this[g.slice(1)]=yield a.sliceCharCodesAsync(w.start,w.end),s=w.end+1;break}throw new Error(`Can't parse ${g} value reference`)}else if(C===valueTypes.DICTIONARY){const w=yield a.getDictBoundsAtAsync(s);if(w){this[g.slice(1)]=yield a.sliceCharCodesAsync(w.start,w.end),s=w.end+1;break}throw new Error(`Can't parse ${g} dictionary bounds`)}throw new Error(`Unsupported ${g} property value type: ${C}`);default:s=yield a.skipToNextNameAsync(s,f-1);break}if(this.Encoding&&this.Encoding instanceof ObjectId){const p=yield e.parseInfoGetterAsync(this.Encoding.id),t=yield EncodingDict.parseAsync(p);this._encoding=t?.value}if(this.ToUnicode){const p=yield e.parseInfoGetterAsync(this.ToUnicode.id),t=yield UnicodeCmapStream.parseAsync(p);this._toUtfCmap=t?.value}if(this.FontDescriptor){const p=yield e.parseInfoGetterAsync(this.FontDescriptor.id),t=yield FontDescriptorDict.parseAsync(p);this._descriptor=t?.value}if(this.Subtype!=="/Type1"&&this.Subtype!=="/Type3"&&this.Subtype!=="/TrueType"&&!(this.Subtype==="/Type0"&&this._toUtfCmap))throw new Error(`Font type is not supported: ${this.Subtype}`);if(this.Subtype==="/Type3"&&(!this.FontBBox||!this.FontMatrix||!this.Encoding||!this.FirstChar||!this.LastChar||!this.Widths||!this.CharProcs))throw new Error("Not all required properties parsed")})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$11=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class SoftMaskDict extends PdfDict{constructor(){super(dictTypes.SOFT_MASK),this.TR="/Identity"}static parseAsync(e){return __awaiter$11(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new SoftMaskDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.S&&c.push(...a.encode("/S "),...a.encode(this.S)),this.G&&c.push(...a.encode("/G "),...this.G.toArray(e)),this.BC&&c.push(...a.encode("/BC "),...this.encodePrimitiveArray(this.BC,a)),this.TR&&c.push(...a.encode("/TR "),...a.encode(" "+this.TR));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$11(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/S":const p=yield a.parseNameAtAsync(s,!0);if(p&&Object.values(softMaskTypes).includes(p.value))this.S=p.value,s=p.end+1;else throw new Error("Can't parse /S property value");break;case"/G":s=yield this.parseRefPropAsync(g,a,s);break;case"/BC":s=yield this.parseNumberArrayPropAsync(g,a,s);break;case"/TR":default:s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$10=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class GraphicsStateDict extends PdfDict{constructor(){super(dictTypes.GRAPHICS_STATE)}static parseAsync(e){return __awaiter$10(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new GraphicsStateDict;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.LW&&c.push(...a.encode("/LW "),...a.encode(" "+this.LW)),this.LC&&c.push(...a.encode("/LC "),...a.encode(" "+this.LC)),this.LJ&&c.push(...a.encode("/LJ "),...a.encode(" "+this.LJ)),this.ML&&c.push(...a.encode("/ML "),...a.encode(" "+this.ML)),this.D&&c.push(...a.encode("/D "),codes.L_BRACKET,codes.L_BRACKET,...a.encode(""+this.D[0][0]),...a.encode(" "+this.D[0][1]),codes.R_BRACKET,...a.encode(" "+this.D[1]),codes.R_BRACKET),this.RI&&c.push(...a.encode("/RI "),...a.encode(this.RI)),this.OP&&c.push(...a.encode("/OP "),...a.encode(" "+this.OP)),this.op&&c.push(...a.encode("/op "),...a.encode(" "+this.op)),this.OPM&&c.push(...a.encode("/OPM "),...a.encode(" "+this.OPM)),this.Font&&c.push(...a.encode("/Font "),codes.L_BRACKET,...this.Font[0].toArray(e),...a.encode(" "+this.Font[1]),codes.R_BRACKET),this.FL&&c.push(...a.encode("/FL "),...a.encode(" "+this.FL)),this.SM&&c.push(...a.encode("/SM "),...a.encode(" "+this.SM)),this.SA&&c.push(...a.encode("/SA "),...a.encode(" "+this.SA)),this.BM&&c.push(...a.encode("/BM "),...a.encode(this.BM)),this.SMask&&(this.SMask instanceof SoftMaskDict?c.push(...a.encode("/SMask "),...this.SMask.toArray(e)):c.push(...a.encode("/SMask "),...a.encode(this.SMask))),this.CA&&c.push(...a.encode("/CA "),...a.encode(" "+this.CA)),this.ca&&c.push(...a.encode("/ca "),...a.encode(" "+this.ca)),this.AIS&&c.push(...a.encode("/AIS "),...a.encode(" "+this.AIS)),this.TK&&c.push(...a.encode("/TK "),...a.encode(" "+this.TK));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toParams(){const e={};if(isNaN(this.LW)||(e.strokeWidth=this.LW),!isNaN(this.LC))switch(this.LC){case lineCapStyles.BUTT:e.strokeLineCap="butt";break;case lineCapStyles.ROUND:e.strokeLineCap="round";break;case lineCapStyles.SQUARE:e.strokeLineCap="square";break}if(!isNaN(this.LJ))switch(this.LJ){case lineJoinStyles.BEVEL:e.strokeLineJoin="bevel";break;case lineJoinStyles.ROUND:e.strokeLineJoin="round";break;case lineJoinStyles.MITER:e.strokeLineJoin="miter";break}if(this.ML&&(e.strokeMiterLimit=this.ML),this.D&&(e.strokeDashArray=`${this.D[0][0]} ${this.D[0][1]}`,e.strokeDashOffset=this.D[1]),this.Font,this.BM)switch(this.BM){case"/Normal":e.mixBlendMode="normal";break;case"/Multiply":e.mixBlendMode="multiply";break;case"/Screen":e.mixBlendMode="screen";break;case"/Overlay":e.mixBlendMode="overlay";break;case"/Darken":e.mixBlendMode="darken";break;case"/Lighten":e.mixBlendMode="lighten";break;case"/ColorDodge":e.mixBlendMode="color-dodge";break;case"/ColorBurn":e.mixBlendMode="color-burn";break;case"/HardLight":e.mixBlendMode="hard-light";break;case"/SoftLight":e.mixBlendMode="soft-light";break;case"/Difference":e.mixBlendMode="difference";break;case"/Exclusion":e.mixBlendMode="exclusion";break;default:throw new Error(`Unsupported blend mode: ${this.BM}`)}return this.SMask,this.CA&&(e.strokeAlpha=this.CA),this.ca&&(e.fillAlpha=this.ca),this.AIS,e}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$10(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/LC":const p=yield a.parseNumberAtAsync(s,!0);if(p&&Object.values(lineCapStyles).includes(p.value))this.LC=p.value,s=p.end+1;else throw new Error("Can't parse /LC property value");break;case"/OPM":const t=yield a.parseNumberAtAsync(s,!0);if(t&&[0,1].includes(t.value))this.OPM=t.value,s=t.end+1;else throw new Error("Can't parse /OPM property value");break;case"/LJ":const b=yield a.parseNumberAtAsync(s,!0);if(b&&Object.values(lineJoinStyles).includes(b.value))this.LJ=b.value,s=b.end+1;else throw new Error("Can't parse /LJ property value");break;case"/RI":const C=yield a.parseNameAtAsync(s,!0);if(C&&Object.values(renderingIntents).includes(C.value))this.RI=C.value,s=C.end+1;else throw new Error("Can't parse /RI property value");break;case"/BM":const w=yield a.parseNameAtAsync(s,!0);if(w&&Object.values(blendModes).includes(w.value))this.BM=w.value,s=w.end+1;else throw new Error("Can't parse /BM property value");break;case"/SMask":const v=yield a.getValueTypeAtAsync(s);if(v===valueTypes.NAME){const I=yield a.parseNameAtAsync(s);if(I){this.SMask=I.value,s=I.end+1;break}throw new Error("Can't parse /SMask property name")}else if(v===valueTypes.DICTIONARY){const I=yield a.getDictBoundsAtAsync(s);if(I){const P=yield SoftMaskDict.parseAsync({parser:a,bounds:I});if(P){this.SMask=P.value,s=P.end+1;break}}throw new Error("Can't parse /SMask value dictionary")}throw new Error(`Unsupported /SMask property value type: ${v}`);case"/Font":const M=yield a.getValueTypeAtAsync(s);if(M===valueTypes.ARRAY){const I=yield a.getArrayBoundsAtAsync(s);if(I){const P=yield ObjectId.parseAsync(a,I.start+1);if(P){const _=yield a.parseNumberAtAsync(P.end+1);if(_){this.Font=[P.value,_.value],s=I.end+1;break}}}}else throw new Error(`Unsupported /Font property value type: ${M}`);throw new Error("Can't parse /Font property value");case"/D":const y=yield a.getValueTypeAtAsync(s);if(y===valueTypes.ARRAY){const I=yield a.getArrayBoundsAtAsync(s);if(I){const P=yield a.parseNumberArrayAtAsync(I.start+1);if(P){const _=yield a.parseNumberAtAsync(P.end+1);if(_){this.D=[[P.value[0],P.value[1]],_.value],s=I.end+1;break}}}}else throw new Error(`Unsupported /D property value type: ${y}`);throw new Error("Can't parse /D property value");case"/OP":case"/op":case"/SA":case"/AIS":case"/TK":s=yield this.parseBoolPropAsync(g,a,s);break;case"/LW":case"/ML":case"/FL":case"/SM":case"/CA":case"/ca":s=yield this.parseNumberPropAsync(g,a,s);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$$=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class ResourceDict extends PdfDict{constructor(e){super(null),this._gsMap=new Map,this._fontsMap=new Map,this._xObjectsMap=new Map,this._streamParsers=e}static parseAsync(e,r){return __awaiter$$(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const a=new ResourceDict(r);return yield a.parsePropsAsync(e),{value:a.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(a){return console.log(a.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];if(this._gsMap.size){c.push(...a.encode("/ExtGState ")),c.push(...keywordCodes.DICT_START);for(const[f,s]of this._gsMap)c.push(...a.encode(f.slice(10)),codes.WHITESPACE),s.ref?c.push(...ObjectId.fromRef(s.ref).toArray(e)):c.push(...s.toArray(e));c.push(...keywordCodes.DICT_END)}if(this._fontsMap.size){c.push(...a.encode("/Font ")),c.push(...keywordCodes.DICT_START);for(const[f,s]of this._fontsMap)c.push(...a.encode(f.slice(5)),codes.WHITESPACE),s.ref?c.push(...ObjectId.fromRef(s.ref).toArray(e)):c.push(...s.toArray(e));c.push(...keywordCodes.DICT_END)}if(this._xObjectsMap.size){c.push(...a.encode("/XObject "),...keywordCodes.DICT_START);for(const[f,s]of this._xObjectsMap){const g=s.ref;if(!g)throw new Error("XObject has no reference");c.push(...a.encode(f.slice(8)),codes.WHITESPACE),c.push(...ObjectId.fromRef(g).toArray(e))}c.push(...keywordCodes.DICT_END)}this.ColorSpace&&c.push(...a.encode("/ColorSpace "),...this.ColorSpace.toArray(e)),this.Pattern&&c.push(...a.encode("/Pattern "),...this.Pattern.toArray(e)),this.Shading&&c.push(...a.encode("/Shading "),...this.Shading.toArray(e)),this.Properties&&c.push(...a.encode("/Properties "),...this.Properties.toArray(e)),this.ProcSet&&c.push(...a.encode("/ProcSet "),...this.encodePrimitiveArray(this.ProcSet,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}getGraphicsState(e){return this._gsMap.get(e)}*getGraphicsStates(){for(const e of this._gsMap)yield e}setGraphicsState(e,r){this._gsMap.set(`/ExtGState${e}`,r),this._edited=!0}getFont(e){return this._fontsMap.get("/Font"+e)}*getFonts(){for(const e of this._fontsMap)yield e}setFont(e,r){this._fontsMap.set(`/Font${e}`,r),this._edited=!0}getXObject(e){return this._xObjectsMap.get(e)}*getXObjects(){for(const e of this._xObjectsMap)yield e}setXObject(e,r){this._xObjectsMap.set(`/XObject${e}`,r),this._edited=!0}fillMapsAsync(e,r){return __awaiter$$(this,void 0,void 0,function*(){if(this._gsMap.clear(),this._fontsMap.clear(),this._xObjectsMap.clear(),this.ExtGState){for(const[a,c]of this.ExtGState.getObjectIds()){const o=yield e(c.id);if(!o)continue;const f=yield GraphicsStateDict.parseAsync(o);f&&this._gsMap.set(`/ExtGState${a}`,f.value)}for(const[a,c]of this.ExtGState.getDictParsers()){const o=yield GraphicsStateDict.parseAsync(c);o&&this._gsMap.set(`/ExtGState${a}`,o.value)}}if(this.XObject&&this._streamParsers)for(const[a,c]of this.XObject.getObjectIds()){const o=yield e(c.id);if(!o)continue;const f=(yield o.parser.findSubarrayIndexAsync(keywordCodes.FORM,{direction:!0,minIndex:o.bounds.start,maxIndex:o.bounds.end}))?yield this._streamParsers.xform(o):yield this._streamParsers.image(o);f&&this._xObjectsMap.set(`/XObject${a}`,f.value)}if(this.Font)for(const[a,c]of this.Font.getObjectIds()){const o=yield e(c.id);if(!o)continue;const f=yield FontDict.parseAsync(o);f&&this._fontsMap.set(`/Font${a}`,f.value)}})}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$$(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/ExtGState":case"/ColorSpace":case"/Pattern":case"/Shading":case"/XObject":case"/Font":case"/Properties":const p=yield a.getValueTypeAtAsync(s);if(p===valueTypes.REF){const t=yield ObjectId.parseRefAsync(a,s);if(t&&e.parseInfoGetterAsync){const b=yield e.parseInfoGetterAsync(t.value.id);if(b){const C=yield ObjectMapDict.parseAsync(b);if(C){this[g.slice(1)]=C.value,s=C.end+1;break}}}throw new Error(`Can't parse ${g} value reference`)}else if(p===valueTypes.DICTIONARY){const t=yield a.getDictBoundsAtAsync(s);if(t){const b=yield ObjectMapDict.parseAsync({parser:a,bounds:t});if(b){this[g.slice(1)]=b.value,s=t.end+1;break}else throw new Error(`Can't parse ${g} value dictionary`)}throw new Error(`Can't parse ${g} dictionary bounds`)}throw new Error(`Unsupported /Resources property value type: ${p}`);case"/ProcSet":s=yield this.parseNameArrayPropAsync(g,a,s);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}e.parseInfoGetterAsync&&(yield this.fillMapsAsync(e.parseInfoGetterAsync,e.cryptInfo))})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$_=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class MeasureDict extends PdfDict{constructor(){super(dictTypes.MEASURE),this.Subtype="/RL"}static parseAsync(e){return __awaiter$_(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new MeasureDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Subtype&&c.push(...a.encode("/Subtype "),...a.encode(this.Subtype));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$_(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Subtype":const p=yield a.parseNameAtAsync(s);if(p){if(this.Subtype&&this.Subtype!==p.value)throw new Error(`Invalid dict subtype: '${p.value}' instead of '${this.Subtype}'`);s=p.end+1}else throw new Error("Can't parse /Subtype property value");break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$Z=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class GroupDict extends PdfDict{constructor(){super(dictTypes.GROUP),this.S="/Transparency"}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.S&&c.push(...a.encode("/S "),...a.encode(this.S));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$Z(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/S":const p=yield a.parseNameAtAsync(s,!0);if(p)if(Object.values(groupDictTypes).includes(p.value))this.S=p.value,s=p.end+1;else throw new Error(`Invalid dict subtype: '${p.value}'`);else throw new Error("Can't parse /S property value");break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$Y=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TransparencyGroupDict extends GroupDict{constructor(){super(),this.I=!1,this.K=!1}static parseAsync(e){return __awaiter$Y(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new TransparencyGroupDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.CS&&c.push(...a.encode("/CS "),...a.encode(this.CS)),this.I&&c.push(...a.encode("/I "),...a.encode(" "+this.I)),this.K&&c.push(...a.encode("/K "),...a.encode(" "+this.K));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$Y(this,void 0,void 0,function*(){if(yield r.parsePropsAsync.call(this,e),this.S!=="/Transparency")throw new Error("Not a transparency dict");const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/CS":const p=yield a.getValueTypeAtAsync(s);if(p===valueTypes.NAME){const t=yield a.parseNameAtAsync(s);if(t){this.CS=t.value,s=t.end+1;break}throw new Error("Can't parse /CS property name")}else if(p===valueTypes.ARRAY){const t=yield a.getArrayBoundsAtAsync(s);if(t){s=t.end+1;break}throw new Error("Can't parse /CS value dictionary")}throw new Error(`Unsupported /CS property value type: ${p}`);case"/I":case"/K":s=yield this.parseBoolPropAsync(g,a,s);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$X=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class XFormStream extends PdfStream{constructor(){super(streamTypes.FORM_XOBJECT),this.Subtype="/Form",this.FormType=1,this.Matrix=[1,0,0,1,0,0]}get matrix(){const e=new l;if(this.Matrix){const[r,a,c,o,f,s]=this.Matrix;e.set(r,a,0,c,o,0,f,s,1)}return e}set matrix(e){e&&(this.Matrix=[...e.toFloatShortArray()])}get bBox(){return{ll:new u(this.BBox[0],this.BBox[1]),lr:new u(this.BBox[2],this.BBox[1]),ur:new u(this.BBox[2],this.BBox[3]),ul:new u(this.BBox[0],this.BBox[3])}}get transformedBBox(){const e=new l;if(this.Matrix){const[f,s,g,m,p,t]=this.Matrix;e.set(f,s,0,g,m,0,p,t,1)}const r=new u(this.BBox[0],this.BBox[1]),a=new u(this.BBox[2],this.BBox[1]),c=new u(this.BBox[2],this.BBox[3]),o=new u(this.BBox[0],this.BBox[3]);return{ll:u.applyMat3(r,e),lr:u.applyMat3(a,e),ur:u.applyMat3(c,e),ul:u.applyMat3(o,e)}}get edited(){return this._edited||this.Resources.edited}static parseAsync(e){return __awaiter$X(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new XFormStream;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Subtype&&c.push(...a.encode("/Subtype "),...a.encode(this.Subtype)),this.FormType&&c.push(...a.encode("/FormType "),...a.encode(" "+this.FormType)),this.BBox&&c.push(...a.encode("/BBox "),...this.encodePrimitiveArray(this.BBox,a)),this.Matrix&&c.push(...a.encode("/Matrix "),...this.encodePrimitiveArray(this.Matrix,a)),this.Resources&&c.push(...a.encode("/Resources "),...this.Resources.toArray(e)),this.Metadata&&c.push(...a.encode("/Metadata "),...this.Metadata.toArray(e)),this.LastModified&&c.push(...a.encode("/LastModified "),...this.LastModified.toArray(e)),this.StructParent&&c.push(...a.encode("/StructParent "),...a.encode(" "+this.StructParent)),this.StructParents&&c.push(...a.encode("/StructParents "),...a.encode(" "+this.StructParents)),this.Measure&&c.push(...a.encode("/Measure "),...this.Measure.toArray(e)),this.Group&&c.push(...a.encode("/Group "),...this.Group.toArray(e));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$X(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=yield a.getDictBoundsAtAsync(o);let s=yield a.skipToNextNameAsync(f.contentStart,f.contentEnd),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Subtype":const p=yield a.parseNameAtAsync(s);if(p){if(this.Subtype&&this.Subtype!==p.value)throw new Error(`Invalid dict subtype: '${p.value}' instead of '${this.Subtype}'`);s=p.end+1}else throw new Error("Can't parse /Subtype property value");break;case"/FormType":const t=yield a.parseNumberAtAsync(s,!1);if(t){if(t.value!==1)throw new Error(`Ivalid form type: '${t.value}' instead of '1'`);s=t.end+1}else throw new Error("Can't parse /FormType property value");break;case"/BBox":case"/Matrix":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;case"/LastModified":s=yield this.parseDatePropAsync(g,a,s,e.cryptInfo);break;case"/Metadata":s=yield this.parseRefPropAsync(g,a,s);break;case"/StructParent":case"/StructParents":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/Resources":const b=yield a.getValueTypeAtAsync(s);if(b===valueTypes.REF){const v=yield ObjectId.parseRefAsync(a,s);if(v&&e.parseInfoGetterAsync){const M=yield e.parseInfoGetterAsync(v.value.id);if(M){const y=yield ResourceDict.parseAsync(M,{xform:XFormStream.parseAsync,image:ImageStream.parseAsync});if(y){this.Resources=y.value,s=y.end+1;break}}}throw new Error("Can't parse /Resources value reference")}else if(b===valueTypes.DICTIONARY){const v=yield a.getDictBoundsAtAsync(s);if(v){if(v.contentStart){const M=yield ResourceDict.parseAsync({parser:a,bounds:v,parseInfoGetterAsync:e.parseInfoGetterAsync},{xform:XFormStream.parseAsync,image:ImageStream.parseAsync});if(M)this.Resources=M.value;else throw new Error("Can't parse /Resources value dictionary")}s=v.end+1;break}throw new Error("Can't parse /Resources dictionary bounds")}throw new Error(`Unsupported /Resources property value type: ${b}`);case"/Measure":const C=yield a.getValueTypeAtAsync(s);if(C===valueTypes.REF){const v=yield ObjectId.parseRefAsync(a,s);if(v&&e.parseInfoGetterAsync){const M=yield e.parseInfoGetterAsync(v.value.id);if(M){const y=yield MeasureDict.parseAsync(M);if(y){this.Measure=y.value,s=y.end+1;break}}}throw new Error("Can't parse /Measure value reference")}else if(C===valueTypes.DICTIONARY){const v=yield a.getDictBoundsAtAsync(s);if(v){const M=yield MeasureDict.parseAsync({parser:a,bounds:v,cryptInfo:e.cryptInfo});if(M){this.Measure=M.value,s=M.end+1;break}}throw new Error("Can't parse /Measure value dictionary")}throw new Error(`Unsupported /Measure property value type: ${C}`);case"/Group":const w=yield a.getValueTypeAtAsync(s);if(w===valueTypes.REF){const v=yield ObjectId.parseRefAsync(a,s);if(v&&e.parseInfoGetterAsync){const M=yield e.parseInfoGetterAsync(v.value.id);if(M){const y=yield TransparencyGroupDict.parseAsync(M);if(y){this.Group=y.value,s=y.end+1;break}}}throw new Error("Can't parse /Group value reference")}else if(w===valueTypes.DICTIONARY){const v=yield a.getDictBoundsAtAsync(s);if(v){const M=yield TransparencyGroupDict.parseAsync({parser:a,bounds:v,cryptInfo:e.cryptInfo});if(M){this.Group=M.value,s=M.end+1;break}}throw new Error("Can't parse /Group value dictionary")}throw new Error(`Unsupported /Group property value type: ${w}`);case"/OC":case"/OPI":default:s=yield a.skipToNextNameAsync(s,f.contentEnd);break}if(!this.BBox)throw new Error("Not all required properties parsed")})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$W=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TextData{static buildAsync(e,r){return __awaiter$W(this,void 0,void 0,function*(){let a;if(e){const c=document.createElement("p");c.style.color="black",c.style.fontSize=r.fontSize+"px",c.style.fontFamily="arial",c.style.fontWeight="normal",c.style.fontStyle="normal",c.style.lineHeight="normal",c.style.overflowWrap="normal",c.style.textAlign=r.textAlign,c.style.textDecoration="none",c.style.verticalAlign="top",c.style.whiteSpace="pre-wrap",c.style.wordBreak="normal",c.style.position="fixed",c.style.left="0",c.style.top="0",c.style.margin="0",c.style.padding="0",c.style.maxWidth=r.maxWidth.toFixed()+"px",c.style.visibility="hidden",c.style.transform="scale(0.1)",c.style.transformOrigin="top left",document.body.append(c);const o=e.split(/([- \n\r])/u),f=[];let s="",g=0;for(let y=0;y<o.length;y++){const I=o[y];c.textContent+=I,yield DomUtils.runEmptyTimeout();const P=c.offsetHeight;g||(g=P),P>g?(f.push(s),s=I,g=P):s+=I}f.push(s),c.innerHTML="";const m=[];for(const y of f){const I=document.createElement("span");I.style.position="relative",I.textContent=y,m.push(I),c.append(I)}yield DomUtils.runEmptyTimeout();const p=c.offsetWidth,t=c.offsetHeight;let b;switch(r.pivotPoint){case"top-left":b=new u(0,t);break;case"bottom-margin":b=new u(p/2,r.strokeWidth);break;case"center":default:b=new u(p/2,t/2);break}const C=[];for(let y=0;y<f.length;y++){const I=m[y],P=I.offsetLeft,_=I.offsetTop,k=I.offsetWidth,D=I.offsetHeight,V=new u(P,t-(_+D)),R=new u(P+k,t-_),U=[V.x,V.y,R.x,R.y],te=u.subtract(V,b),B=u.subtract(R,b),j=[te.x,te.y,B.x,B.y];C.push({text:f[y],rect:U,relativeRect:j})}const w=[0,0,p,t],v=[0-b.x,0-b.y,p-b.x,t-b.y],M={width:p,height:t,rect:w,relativeRect:v,lines:C};c.remove(),a=M}else a=null;return a})}}const SELECTION_STROKE_WIDTH=20,BEZIER_CONSTANT=.551915,LINE_END_MULTIPLIER=3,LINE_END_MIN_SIZE=10;function buildSquigglyLine(A,e,r){if(!A||!e)return null;if(isNaN(r)||r<=0)throw new Error(`Invalid maximal squiggle size ${r}`);const a=u.subtract(A,e).getMagnitude();if(!a)return null;const c=[A.clone()],o=new u,f=new u(a,0),s=l.from4Vec2(o,f,A,e),g=Math.ceil(a/r),m=a/g,p=m/2;for(let t=0;t<g;t++)c.push(new u(t*m+p,-p).applyMat3(s).truncate(2),new u((t+1)*m,0).applyMat3(s).truncate(2));return c}function calcPdfBBoxToRectMatrices(A,e,r){const a=new l;if(r){const[w,v,M,y,I,P]=r;a.set(w,v,0,M,y,0,I,P,1)}const c=new u(A[0],A[1]),o=new u(A[2],A[1]),f=new u(A[2],A[3]),s=new u(A[0],A[3]),{min:g,max:m}=u.minMax(u.applyMat3(c,a),u.applyMat3(o,a),u.applyMat3(f,a),u.applyMat3(s,a)),p=new u(e[0],e[1]),t=new u(e[2],e[3]),b=l.from4Vec2(g,m,p,t),C=l.fromMat3(a).multiply(b);return{matAP:a,matA:b,matAA:C}}class TextState{constructor(e){Object.assign(this,TextState.defaultParams,e)}clone(e){const r=new TextState(this);return e?Object.assign(r,e):r}setWordSpacing(e){this.wordSpacing=e?e+"px":"normal"}setLetterSpacing(e){this.letterSpacing=e?e+"px":"normal"}setScale(e){this.horizontalScale=e?e/100:1}setLeading(e){e?(this.leading=e,this.lineHeight=Math.abs(this.leading)+"px"):(this.leading=parseInt(this.fontSize,10)*-1.2,this.lineHeight="1")}setFontSize(e){this.fontSize=(e||12)+"px"}setVerticalAlign(e){this.verticalAlign=e?e/10+"em":"0"}moveAlongPx(e){const r=e,a=new l().set(1,0,0,0,1,0,r,0,1);this.matrix=a.multiply(this.matrix)}moveAlongPdfUnits(e){const r=-e/1e3*parseInt(this.fontSize,10),a=new l().set(1,0,0,0,1,0,r,0,1);this.matrix=a.multiply(this.matrix)}nextLine(e,r){e??(e=0),r??(r=this.leading||parseInt(this.fontSize,10)*-1.2);const a=new l().set(1,0,0,0,1,0,e,r,1);this.lineMatrix=a.multiply(this.lineMatrix),this.matrix=this.lineMatrix.clone()}}TextState.defaultParams={matrix:new l,lineMatrix:new l,leading:12*-1.2,renderMode:textRenderModes.FILL,fontFamily:"helvetica, arial, sans-serif",fontSize:"10px",lineHeight:"1",letterSpacing:"normal",wordSpacing:"normal",horizontalScale:1,verticalAlign:"0",knockOut:!0};class GraphicsState{constructor(e){var r,a,c,o;Object.assign(this,GraphicsState.defaultParams,e),this.matrix=(r=this.matrix)===null||r===void 0?void 0:r.clone(),this.textState=(a=this.textState)===null||a===void 0?void 0:a.clone(),this.strokeColor=(c=this.strokeColor)===null||c===void 0?void 0:c.clone(),this.fillColor=(o=this.fillColor)===null||o===void 0?void 0:o.clone()}get stroke(){const{x:e,y:r,z:a}=this.strokeColor,c=this.strokeAlpha;return`rgba(${e},${r},${a},${c})`}get fill(){const{x:e,y:r,z:a}=this.fillColor,c=this.fillAlpha;return`rgba(${e},${r},${a},${c})`}clone(e){const r=new GraphicsState(this);return e?Object.assign(r,e):r}setColor(e,...r){let a,c,o;switch(r.length){case 1:a=c=o=r[0]*255;break;case 3:a=r[0]*255,c=r[1]*255,o=r[2]*255;break;case 4:const[f,s,g,m]=r;a=255*(1-f)*(1-m),c=255*(1-s)*(1-m),o=255*(1-g)*(1-m);break}e==="stroke"?this.strokeColor.set(a,c,o):this.fillColor.set(a,c,o)}}GraphicsState.defaultParams={matrix:new l,textState:new TextState,strokeColorSpace:"rgb",strokeAlpha:1,strokeColor:new z,fillColorSpace:"rgb",fillAlpha:1,fillColor:new z,strokeWidth:1,strokeMiterLimit:10,strokeLineCap:"square",strokeLineJoin:"miter"};var __awaiter$V=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class AppearanceStreamRenderer{constructor(e,r,a){if(this._clipPaths=[],this._selectionCopies=[],this._graphicsStates=[],!e)throw new Error("Stream is not defined");this._stream=e,this._objectName=a;const{matAA:c}=calcPdfBBoxToRectMatrices(e.BBox,r,e.Matrix),[o,f,s,g]=e.BBox,m=new u(o,f).applyMat3(c),p=new u(s,f).applyMat3(c),t=new u(s,g).applyMat3(c),b=new u(o,g).applyMat3(c),C=document.createElementNS("http://www.w3.org/2000/svg","clipPath");C.id=`clip0_${a}`,C.innerHTML=`<path d="M${m.x},${m.y} L${p.x},${p.y} L${t.x},${t.y} L${b.x},${b.y} z"/>`,this._clipPaths.push(C),this._graphicsStates.push(new GraphicsState({matrix:c,clipPath:C}))}get state(){return this._graphicsStates[this._graphicsStates.length-1]}static parseNextCommandAsync(e,r){return __awaiter$V(this,void 0,void 0,function*(){const a=[];let c;e:for(;!c;){const o=yield e.getValueTypeAtAsync(r,!0);switch(o){case valueTypes.NUMBER:const f=yield e.parseNumberAtAsync(r,!0);a.push(f.value),r=f.end+1;break;case valueTypes.NAME:const s=yield e.parseNameAtAsync(r,!0);a.push(s.value),r=s.end+1;break;case valueTypes.ARRAY:const g=yield e.getArrayBoundsAtAsync(r);let m=g.start+1;for(;m<g.end-1&&m!==-1;){const C=yield e.getValueTypeAtAsync(m,!0);switch(C){case valueTypes.STRING_LITERAL:const w=yield LiteralString.parseAsync(e,m);a.push(w.value.bytes),m=w.end+1;break;case valueTypes.NUMBER:const v=yield e.parseNumberAtAsync(m,!0);a.push(v.value),m=v.end+1;break;default:console.log(`Unsupported value type in AP stream parameter array: ${C}`),m=yield e.findDelimiterIndexAsync(!0,m+1);break}}r=g.end+1;break;case valueTypes.STRING_LITERAL:const p=yield LiteralString.parseAsync(e,r);a.push(p.value.literal),r=p.end+1;break;case valueTypes.STRING_HEX:const t=yield HexString.parseAsync(e,r);a.push(t.value.hex),r=t.end+1;break;case valueTypes.UNKNOWN:const b=yield e.parseStringAtAsync(r);c=b.value,r=b.end+1;break e;default:throw new Error(`Invalid appearance stream value type: ${o}`)}}return{nextIndex:r,parameters:a,operator:c}})}renderAsync(){return __awaiter$V(this,void 0,void 0,function*(){return this.reset(),{elements:yield this.drawStreamAsync(this._stream),clipPaths:this._clipPaths.slice(),pickHelpers:this._selectionCopies.slice()}})}reset(){this._graphicsStates.length=1,this._clipPaths.length=1,this._selectionCopies.length=0}pushState(e){const a=this._graphicsStates[this._graphicsStates.length-1].clone(e);this._graphicsStates.push(a)}popState(){return this._graphicsStates.length===1?null:this._graphicsStates.pop()}pushClipPath(e,r){const a=this._clipPaths.length-1,c=document.createElementNS("http://www.w3.org/2000/svg","clipPath");c.setAttribute("clip-rule",r?"nonzero":"evenodd"),c.setAttribute("clip-path",`url(#${this._clipPaths[a]})`),c.id=`clip${a+1}_${this._objectName}`,c.append(e),this._clipPaths.push(c),this.state.clipPath=c}tryApplyingStateOperator(e,r){switch(e){case"q":this.pushState();break;case"Q":this.popState();break;case"gs":const a=this._stream.Resources.getGraphicsState(`/ExtGState${r[0]}`);if(!a)throw new Error("External state specified in appearance stream not found");const c=a.toParams();Object.assign(this.state,c);break;case"cm":const[o,f,s,g,m,p]=r,t=new l().set(o,f,0,s,g,0,m,p,1);this.state.matrix=t.multiply(this.state.matrix);break;case"w":this.state.strokeWidth=+r[0]||1;break;case"J":switch(r[0]){case lineCapStyles.ROUND:this.state.strokeLineCap="round";break;case lineCapStyles.SQUARE:this.state.strokeLineCap="square";break;case lineCapStyles.BUTT:default:this.state.strokeLineCap="butt";break}break;case"j":switch(r[0]){case lineJoinStyles.BEVEL:this.state.strokeLineJoin="bevel";break;case lineJoinStyles.ROUND:this.state.strokeLineJoin="round";break;case lineJoinStyles.MITER:default:this.state.strokeLineJoin="miter";break}break;case"M":this.state.strokeMiterLimit=+r[0]||10;break;case"d":let b=3,C=0,w=0;r.length===3?(b=+r[0],C=+r[1],w=+r[2]):r.length===2?(b=+r[0],w=+r[1]):r.length===1&&(w=+r[0]),this.state.strokeDashArray=`${b} ${C}`,this.state.strokeDashOffset=w;break;case"CS":switch(r[0]){case colorSpaces.GRAYSCALE:this.state.strokeColorSpace="grayscale";break;case colorSpaces.RGB:this.state.strokeColorSpace="rgb";break;case colorSpaces.CMYK:this.state.strokeColorSpace="cmyk";break;default:throw new Error("Unsupported color space in appearance stream")}break;case"cs":switch(r[0]){case colorSpaces.GRAYSCALE:this.state.fillColorSpace="grayscale";break;case colorSpaces.RGB:this.state.fillColorSpace="rgb";break;case colorSpaces.CMYK:this.state.fillColorSpace="cmyk";break;default:throw new Error("Unsupported color space in appearance stream")}break;case"G":this.state.strokeColorSpace="grayscale",this.state.setColor("stroke",...r);break;case"g":this.state.fillColorSpace="grayscale",this.state.setColor("fill",...r);break;case"RG":this.state.strokeColorSpace="rgb",this.state.setColor("stroke",...r);break;case"rg":this.state.fillColorSpace="rgb",this.state.setColor("fill",...r);break;case"K":this.state.strokeColorSpace="cmyk",this.state.setColor("stroke",...r);break;case"k":this.state.fillColorSpace="cmyk",this.state.setColor("fill",...r);break;case"SC":this.state.setColor("stroke",...r);break;case"cs":this.state.setColor("fill",...r);break;case"ri":case"i":break;case"Tc":this.state.textState.setLetterSpacing(+r[0]);break;case"Tw":this.state.textState.setWordSpacing(+r[0]);break;case"Tz":this.state.textState.setScale(+r[0]);break;case"TL":this.state.textState.setLeading(+r[0]);break;case"Tf":this.state.textState.customFontName=r[0]||"",this.state.textState.setFontSize(+r[1]);break;case"Tr":switch(r[0]){case 0:default:this.state.textState.renderMode=textRenderModes.FILL;break;case 1:this.state.textState.renderMode=textRenderModes.STROKE;break;case 2:this.state.textState.renderMode=textRenderModes.FILL_STROKE;break;case 3:this.state.textState.renderMode=textRenderModes.INVISIBLE;break;case 4:this.state.textState.renderMode=textRenderModes.FILL_USE_AS_CLIP;break;case 5:this.state.textState.renderMode=textRenderModes.STROKE_USE_AS_CLIP;break;case 6:this.state.textState.renderMode=textRenderModes.FILL_STROKE_USE_AS_CLIP;break;case 7:this.state.textState.renderMode=textRenderModes.USE_AS_CLIP;break}break;case"Ts":this.state.textState.setVerticalAlign(+r[0]);break;case"Td":if(r.length>1){const[v,M]=r;this.state.textState.nextLine(v,M)}break;case"TD":if(r.length>1){const[v,M]=r;this.state.textState.setLeading(-M),this.state.textState.nextLine(v,M)}break;case"Tm":if(r.length>5){const[v,M,y,I,P,_]=r,k=new l().set(v,M,0,y,I,0,P,_,1);this.state.textState.matrix=k,this.state.textState.lineMatrix=k.clone()}break;case"T*":this.state.textState.nextLine();break;default:return!1}return!0}setTextStateFont(e){var r;const a=this.state.textState;if(!e){a.fontFamily="arial, sans-serif";return}let c;e.isMonospace?c="courier, monospace":e.isScript?c="cursive":e.isSerif?c="times new roman, serif":c="arial, sans-serif";const o=(r=e.BaseFont)===null||r===void 0?void 0:r.substring(1).toLowerCase();if(!o){a.fontFamily=c;return}o.includes("times")?a.fontFamily="times new roman, serif":o.includes("arial")?a.fontFamily="arial, sans-serif":o.includes("courier")?a.fontFamily="courier new, monospace":a.fontFamily=`${o}, ${c}`}decodeTextParam(e,r){return e instanceof Uint8Array?r.decodeText(e):e+""}createSvgElement(){return document.createElementNS("http://www.w3.org/2000/svg","g")}drawPath(e,r,a,c=!1,o=!1){c&&e[e.length-1]!=="Z"&&(e+=" Z");const f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("transform",`matrix(${this.state.matrix.toFloatShortArray().join(" ")})`),f.setAttribute("d",e),a?(f.setAttribute("fill",this.state.fill),f.setAttribute("fill-rule",o?"evenodd":"nonzero")):f.setAttribute("fill","none"),r?(f.setAttribute("stroke",this.state.stroke),f.setAttribute("stroke-width",this.state.strokeWidth+""),f.setAttribute("stroke-miterlimit",this.state.strokeMiterLimit+""),f.setAttribute("stroke-linecap",this.state.strokeLineCap),f.setAttribute("stroke-linejoin",this.state.strokeLineJoin),this.state.strokeDashArray&&f.setAttribute("stroke-dasharray",this.state.strokeDashArray),this.state.strokeDashOffset&&f.setAttribute("stroke-dashoffset",this.state.strokeDashOffset+"")):f.setAttribute("stroke","none");const s=this.createSvgElement();s.setAttribute("clip-path",`url(#${this._clipPaths[this._clipPaths.length-1].id})`),s.append(f);const g=this.createSvgElement();g.classList.add("annotation-pick-helper");const m=f.cloneNode(!0),p=!r||this.state.strokeWidth<SELECTION_STROKE_WIDTH?SELECTION_STROKE_WIDTH:this.state.strokeWidth;return m.setAttribute("stroke-width",p+""),m.setAttribute("stroke","transparent"),m.setAttribute("fill",a?"transparent":"none"),g.append(m),this._selectionCopies.push(m),{element:s,blendMode:this.state.mixBlendMode||"normal"}}drawImageAsync(e){return __awaiter$V(this,void 0,void 0,function*(){const r=yield e.getImageUrlAsync();if(!r)throw new Error("Can't get image url from external image stream");const a=document.createElementNS("http://www.w3.org/2000/svg","image");a.onerror=m=>{console.log(`Loading external image stream failed: ${m}`)},a.setAttribute("href",r),a.setAttribute("width",e.Width+""),a.setAttribute("height",e.Height+"");const o=new l().applyTranslation(-e.Width/2,-e.Height/2).applyScaling(1,-1).applyTranslation(e.Width/2,e.Height/2).applyScaling(1/e.Width,1/e.Height).multiply(this.state.matrix).toFloatShortArray().join(" ");a.setAttribute("transform",`matrix(${o})`);const f=this.createSvgElement();f.setAttribute("clip-path",`url(#${this._clipPaths[this._clipPaths.length-1].id})`),f.append(a);const s=this.createSvgElement();s.classList.add("annotation-pick-helper");const g=document.createElementNS("http://www.w3.org/2000/svg","rect");return g.setAttribute("width",e.Width+""),g.setAttribute("height",e.Height+""),g.setAttribute("fill","transparent"),g.setAttribute("transform",`matrix(${o})`),s.append(g),this._selectionCopies.push(g),f})}drawTextAsync(e,r){return __awaiter$V(this,void 0,void 0,function*(){const a=this.state.textState,c=r.getFont(a.customFontName),o=this.decodeTextParam(e,c);if(this.setTextStateFont(c),!o)return console.log(`Can't decode the stream text parameter: '${e}'`),null;const f=document.createElementNS("http://www.w3.org/2000/svg","text");f.setAttribute("transform",`matrix(${new l().applyScaling(1,-1).applyScaling(a.horizontalScale,1).multiply(l.multiply(a.matrix,this.state.matrix)).toFloatShortArray().join(" ")})`),f.setAttribute("x","0"),f.setAttribute("y","0"),f.textContent=o,f.style.fontFamily=a.fontFamily,f.style.fontSize=a.fontSize,f.style.lineHeight=a.lineHeight,f.style.letterSpacing=a.letterSpacing,f.style.wordSpacing=a.wordSpacing,f.style.verticalAlign=a.verticalAlign,f.style.whiteSpace="pre",f.style.userSelect="none";let s,g,m;switch(a.renderMode){case textRenderModes.FILL:default:s=this.state.fill;break;case textRenderModes.STROKE:g=!0;break;case textRenderModes.FILL_STROKE:s=this.state.fill,g=!0;break;case textRenderModes.INVISIBLE:break;case textRenderModes.FILL_USE_AS_CLIP:s=this.state.fill,m=!0;break;case textRenderModes.STROKE_USE_AS_CLIP:g=!0,m=!0;break;case textRenderModes.FILL_STROKE_USE_AS_CLIP:s=this.state.fill,g=!0,m=!0;break;case textRenderModes.USE_AS_CLIP:s="transparent",m=!0;break}f.style.fill=s||"none",g?(f.style.stroke=this.state.stroke,f.style.strokeWidth=this.state.strokeWidth+"",f.style.strokeMiterlimit=this.state.strokeMiterLimit+"",f.style.strokeLinecap=this.state.strokeLineCap,f.style.strokeLinejoin=this.state.strokeLineJoin,this.state.strokeDashArray&&(f.style.strokeDasharray=this.state.strokeDashArray),this.state.strokeDashOffset&&(f.style.strokeDashoffset=this.state.strokeDashOffset+"")):f.style.stroke="none",m&&this.pushClipPath(f.cloneNode(),!0),yield new Promise((C,w)=>{const v=document.createElementNS("http://www.w3.org/2000/svg","svg");v.classList.add("annotation-content-element"),v.setAttribute("viewBox","0 0 100 100"),v.style.width="100px",v.style.height="100px",v.style.zIndex="-99",v.style.position="fixed",v.style.left="0",v.style.top="0",v.append(f),document.body.append(v),setTimeout(()=>{const M=f.getBBox().width;this.state.textState.moveAlongPx(M),f.remove(),v.remove(),C(!0)},0)});const p=this.createSvgElement();p.classList.add("annotation-pick-helper");const t=f.cloneNode(!0),b=!g||this.state.strokeWidth<SELECTION_STROKE_WIDTH?SELECTION_STROKE_WIDTH:this.state.strokeWidth;return t.style.strokeWidth=b+"",t.style.stroke="transparent",t.style.fill=s?"transparent":"none",p.append(t),this._selectionCopies.push(t),{element:f,blendMode:this.state.mixBlendMode||"normal"}})}drawTextGroupAsync(e,r){return __awaiter$V(this,void 0,void 0,function*(){const a=[],c=this.state.textState;let o=0;for(;o!==-1;){const{nextIndex:f,parameters:s,operator:g}=yield AppearanceStreamRenderer.parseNextCommandAsync(e,o);switch(o=yield e.skipEmptyAsync(f),g){case"Tj":a.push(yield this.drawTextAsync(s[0],r));break;case"'":c.nextLine(),a.push(yield this.drawTextAsync(s[0],r));break;case'"':const[m,p,t]=s;c.setWordSpacing(+m),c.setLetterSpacing(+p),c.nextLine(),a.push(yield this.drawTextAsync(t,r));break;case"TJ":for(const C of s)C instanceof Uint8Array?a.push(yield this.drawTextAsync(C,r)):typeof C=="number"&&+C.toFixed(0)&&c.moveAlongPdfUnits(C);break;default:if(!this.tryApplyingStateOperator(g,s))throw new Error(`Unsupported appearance stream operator: ${g}`)}}return a.filter(f=>f)})}drawStreamAsync(e){return __awaiter$V(this,void 0,void 0,function*(){const r=yield e.getStreamDataParserAsync(),a=[],c=new u;let o,f="",s=0;for(;s!==-1;){const{nextIndex:g,parameters:m,operator:p}=yield AppearanceStreamRenderer.parseNextCommandAsync(r,s);switch(s=yield r.skipEmptyAsync(g+1),p){case"m":const t=new u(+m[0],+m[1]);f+=` M ${t.x} ${t.y}`,c.setFromVec2(t);break;case"l":const b=new u(+m[0],+m[1]);f+=` L ${b.x} ${b.y}`,c.setFromVec2(b);break;case"re":const C=new u(+m[0],+m[1]),w=new u(+m[2],+m[3]).add(C);f+=` M ${C.x} ${C.y} L ${w.x} ${C.y} L ${w.x} ${w.y} L ${C.x} ${w.y} L ${C.x} ${C.y}`,c.setFromVec2(C);break;case"c":const v=new u(+m[0],+m[1]),M=new u(+m[2],+m[3]),y=new u(+m[4],+m[5]);f+=` C ${v.x} ${v.y}, ${M.x} ${M.y}, ${y.x} ${y.y}`,c.setFromVec2(y);break;case"v":const I=new u(+m[0],+m[1]),P=new u(+m[2],+m[3]);f+=` C ${c.x} ${c.y}, ${I.x} ${I.y}, ${P.x} ${P.y}`,c.setFromVec2(P);break;case"y":const _=new u(+m[0],+m[1]),k=new u(+m[2],+m[3]);f+=` C ${_.x} ${_.y}, ${k.x} ${k.y}, ${k.x} ${k.y}`,c.setFromVec2(k);break;case"h":f+=" Z";break;case"S":a.push(this.drawPath(f,!0,!1)),f="";break;case"s":a.push(this.drawPath(f,!0,!1,!0)),f="";break;case"F":case"f":a.push(this.drawPath(f,!1,!0,!0)),f="";break;case"F*":case"f*":a.push(this.drawPath(f,!1,!0,!0,!0)),f="";break;case"B":a.push(this.drawPath(f,!0,!0,!1,!1)),f="";break;case"B*":a.push(this.drawPath(f,!0,!0,!1,!0)),f="";break;case"b":a.push(this.drawPath(f,!0,!0,!0,!1)),f="";break;case"b*":a.push(this.drawPath(f,!0,!0,!0,!0)),f="";break;case"n":if(o==="W"||o==="W*"){f[f.length-1]!=="Z"&&(f+=" Z");const U=document.createElementNS("http://www.w3.org/2000/svg","path");U.setAttribute("d",f),this.pushClipPath(U,o==="W")}f="";break;case"W":break;case"W*":break;case"BT":const D=yield r.findSubarrayIndexAsync(keywordCodes.AP_STREAM_TEXT_END,{closedOnly:!0,minIndex:s});if(D){const U=yield r.getSubParserAsync(s,D.start-1),te=yield this.drawTextGroupAsync(U,e.Resources);a.push(...te),s=yield r.skipEmptyAsync(D.end+1);break}throw new Error("Can't find the appearance stream text object end");case"Do":const V=e.Resources.getXObject(`/XObject${m[0]}`);if(!V)throw new Error(`External object not found in the appearance stream resources: ${m[0]}`);if(V instanceof XFormStream){const[U,te,B,j,ie,E]=V.Matrix,L=new l().set(U,te,0,B,j,0,ie,E,1);this.pushState(),this.state.matrix=L.multiply(this.state.matrix);const ee=yield this.drawStreamAsync(V);a.push(...ee),this.popState()}else if(V instanceof ImageStream){const U=yield this.drawImageAsync(V);a.push({element:U,blendMode:this.state.mixBlendMode||"normal"})}else throw new Error(`Unsupported appearance stream external object: ${m[0]}`);break;default:if(!this.tryApplyingStateOperator(p,m))throw new Error(`Unsupported appearance stream operator: ${p}`)}o=p}return a})}}var __awaiter$U=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class BorderStyleDict extends PdfDict{constructor(){super(dictTypes.BORDER_STYLE),this.W=1,this.S=borderStyles.SOLID,this.D=[3,0]}static parseAsync(e){return __awaiter$U(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new BorderStyleDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.W&&c.push(...a.encode("/W "),...a.encode(" "+this.W)),this.S&&c.push(...a.encode("/S "),...a.encode(this.S)),this.D&&c.push(...a.encode("/D "),...this.encodePrimitiveArray(this.D,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});var a,c;return __awaiter$U(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:o,bounds:f}=e,s=f.contentStart||f.start,g=f.contentEnd||f.end;let m=yield o.skipToNextNameAsync(s,g-1),p,t;for(;t=yield o.parseNameAtAsync(m),t;)switch(m=t.end+1,p=t.value,p){case"/W":m=yield this.parseNumberPropAsync(p,o,m,!0);break;case"/S":const b=yield o.parseNameAtAsync(m,!0);if(b&&Object.values(borderStyles).includes(b.value))this.S=b.value,m=b.end+1;else throw new Error("Can't parse /S property value");break;case"/D":const C=yield o.parseNumberArrayAtAsync(m,!0);if(C)this.D=[(a=C.value[0])!==null&&a!==void 0?a:3,(c=C.value[1])!==null&&c!==void 0?c:0],m=C.end+1;else throw new Error("Can't parse /D property value");break;default:m=yield o.skipToNextNameAsync(m,g-1);break}})}}var __awaiter$T=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class AppearanceDict extends PdfDict{constructor(){super(null),this._streamsMap=new Map}static parseAsync(e){return __awaiter$T(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new AppearanceDict;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}getStream(e){return this._streamsMap.get(e)}*getStreams(){for(const e of this._streamsMap)yield e[1]}setStream(e,r){this._streamsMap.set(e,r),this._edited=!0}clearStreams(){this._streamsMap.clear(),this._edited=!0}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[],o=this._streamsMap.get("/N");o?(c.push(...a.encode("/N ")),c.push(...ObjectId.fromRef(o.ref).toArray(e))):this.N&&(c.push(...a.encode("/N ")),this.N instanceof ObjectMapDict?c.push(...this.N.toArray(e)):c.push(...this.N.toArray(e)));const f=this._streamsMap.get("/R");f?(c.push(...a.encode("/R ")),c.push(...ObjectId.fromRef(f.ref).toArray(e))):this.R&&(c.push(...a.encode("/R ")),this.R instanceof ObjectMapDict?c.push(...this.R.toArray(e)):c.push(...this.R.toArray(e)));const s=this._streamsMap.get("/D");s?(c.push(...a.encode("/D ")),c.push(...ObjectId.fromRef(s.ref).toArray(e))):this.D&&(c.push(...a.encode("/D ")),this.D instanceof ObjectMapDict?c.push(...this.D.toArray(e)):c.push(...this.D.toArray(e)));const g=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(g)}fillStreamsMapAsync(e){return __awaiter$T(this,void 0,void 0,function*(){this._streamsMap.clear();for(const r of["N","R","D"])if(this[r])if(this[r]instanceof ObjectId){const a=yield e(this[r].id);if(!a)continue;const c=yield XFormStream.parseAsync(a);if(!c)continue;c&&this._streamsMap.set(`/${r}`,c.value)}else for(const[a,c]of this[r].getProps()){const o=yield e(c.id);if(!o)continue;const f=yield XFormStream.parseAsync(o);f&&this._streamsMap.set(`/${r}${a}`,f.value)}})}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$T(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/N":const p=yield a.getValueTypeAtAsync(s);if(p===valueTypes.REF){const C=yield ObjectId.parseRefAsync(a,s);if(C){this.N=C.value,s=C.end+1;break}}else if(p===valueTypes.DICTIONARY){const C=yield a.getDictBoundsAtAsync(s);if(C){const w=yield ObjectMapDict.parseAsync({parser:a,bounds:C});if(w){this.N=w.value,s=w.end+1;break}}}else throw new Error(`Unsupported /N property value type: ${p}`);throw new Error("Can't parse /N property value");case"/R":const t=yield a.getValueTypeAtAsync(s);if(t===valueTypes.REF){const C=yield ObjectId.parseRefAsync(a,s);if(C){this.R=C.value,s=C.end+1;break}}else if(t===valueTypes.DICTIONARY){const C=yield a.getDictBoundsAtAsync(s);if(C){const w=yield ObjectMapDict.parseAsync({parser:a,bounds:C});if(w){this.R=w.value,s=w.end+1;break}}}else throw new Error(`Unsupported /R property value type: ${t}`);throw new Error("Can't parse /R property value");case"/D":const b=yield a.getValueTypeAtAsync(s);if(b===valueTypes.REF){const C=yield ObjectId.parseRefAsync(a,s);if(C){this.D=C.value,s=C.end+1;break}}else if(b===valueTypes.DICTIONARY){const C=yield a.getDictBoundsAtAsync(s);if(C){const w=yield ObjectMapDict.parseAsync({parser:a,bounds:C});if(w){this.D=w.value,s=w.end+1;break}}}else throw new Error(`Unsupported /D property value type: ${b}`);throw new Error("Can't parse /D property value");default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.N)throw new Error("Not all required properties parsed");e.parseInfoGetterAsync&&(yield this.fillStreamsMapAsync(e.parseInfoGetterAsync))})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$S=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class BorderEffectDict extends PdfDict{constructor(){super(null),this.S=borderEffects.NONE,this.L=0}static parseAsync(e){return __awaiter$S(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new BorderEffectDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.S&&c.push(...a.encode("/S "),...a.encode(this.S)),this.L&&c.push(...a.encode("/L "),...a.encode(" "+this.L));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$S(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/S":const p=yield a.parseNameAtAsync(s,!0);if(p&&Object.values(borderEffects).includes(p.value))this.S=p.value,s=p.end+1;else throw new Error("Can't parse /S property value");break;case"/L":s=yield this.parseNumberPropAsync(g,a,s,!0);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$R=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class BorderArray{constructor(e,r,a,c,o){this.hCornerR=e??0,this.vCornerR=r??0,this.width=a??1,this.dash=c??3,this.gap=o??0}static parseAsync(e,r,a=!0){return __awaiter$R(this,void 0,void 0,function*(){if(a&&(r=yield e.findNonSpaceIndexAsync(!0,r)),r<0||r>e.maxIndex||!(yield e.isCodeAtAsync(r,codes.L_BRACKET)))return null;const c=yield e.parseNumberAtAsync(r+1);if(!c||isNaN(c.value))return null;const o=yield e.parseNumberAtAsync(c.end+2);if(!o||isNaN(o.value))return null;const f=yield e.parseNumberAtAsync(o.end+2);if(!f||isNaN(f.value))return null;const s=yield e.findNonSpaceIndexAsync(!0,f.end+1);if(s){if(yield e.isCodeAtAsync(s,codes.R_BRACKET))return{value:new BorderArray(c.value,o.value,f.value),start:r,end:s};if(yield e.isCodeAtAsync(s,codes.L_BRACKET)){const g=yield e.parseNumberAtAsync(s+1);if(!g||isNaN(g.value))return null;const m=yield e.parseNumberAtAsync(g.end+2);if(!m||isNaN(m.value))return null;const p=yield e.findNonSpaceIndexAsync(!0,m.end+1);if(!p||!(yield e.isCodeAtAsync(p,codes.R_BRACKET)))return null;const t=yield e.findNonSpaceIndexAsync(!0,p+1);return!t||!(yield e.isCodeAtAsync(t,codes.R_BRACKET))?null:{value:new BorderArray(c.value,o.value,f.value,g.value,m.value),start:r,end:t}}}else return null;return null})}toArray(e){const r=this.dash&&this.gap?`[${this.hCornerR} ${this.vCornerR} ${this.width}]`:`[${this.hCornerR} ${this.vCornerR} ${this.width} [${this.dash} ${this.gap}]]`;return new TextEncoder().encode(r)}}var __awaiter$Q=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class AnnotationDict extends PdfDict{constructor(e){super(dictTypes.ANNOTATION),this.F=4,this.Border=new BorderArray(0,0,1),this._currentAngle=0,this._tempTransformationMatrix=new l,this._tempStartPoint=new u,this._tempVecX=new u,this._tempVecY=new u,this._svgId=UUID.getRandomUuid(),this.onSvgPointerEnter=r=>{this.$onPointerEnterAction&&this.$onPointerEnterAction(r)},this.onSvgPointerLeave=r=>{this.$onPointerLeaveAction&&this.$onPointerLeaveAction(r)},this.onSvgPointerDown=r=>{this.$pageId&&(this.$onPointerDownAction&&this.$onPointerDownAction(r),this.onTranslationPointerDown(r))},this.onTranslationPointerDown=r=>{if(!this.$translationEnabled||!r.isPrimary)return;const a=r.target;a.setPointerCapture(r.pointerId),a.addEventListener("pointerup",this.onTranslationPointerUp),a.addEventListener("pointerout",this.onTranslationPointerUp),this._moved=!1,this._transformationTimer=setTimeout(()=>{this._transformationTimer=null,this._renderedControls.after(this._svgContentCopy),this._tempStartPoint.setFromVec2(this.convertClientCoordsToPage(r.clientX,r.clientY)),a.addEventListener("pointermove",this.onTranslationPointerMove)},200)},this.onTranslationPointerMove=r=>{if(!r.isPrimary)return;const a=this.convertClientCoordsToPage(r.clientX,r.clientY);this._tempTransformationMatrix.reset().applyTranslation(a.x-this._tempStartPoint.x,a.y-this._tempStartPoint.y),this._svgContentCopy.setAttribute("transform",`matrix(${this._tempTransformationMatrix.toFloatShortArray().join(" ")})`),this._moved=!0},this.onTranslationPointerUp=r=>{if(!r.isPrimary)return;const a=r.target;a.removeEventListener("pointermove",this.onTranslationPointerMove),a.removeEventListener("pointerup",this.onTranslationPointerUp),a.removeEventListener("pointerout",this.onTranslationPointerUp),a.releasePointerCapture(r.pointerId),this.applyTempTransformAsync()},this.onRotationHandlePointerDown=r=>{if(!r.isPrimary)return;const a=r.target;a.setPointerCapture(r.pointerId),a.addEventListener("pointerup",this.onRotationHandlePointerUp),a.addEventListener("pointerout",this.onRotationHandlePointerUp),this._moved=!1,this._transformationTimer=setTimeout(()=>{this._transformationTimer=null,this._renderedControls.after(this._svgContentCopy),a.addEventListener("pointermove",this.onRotationHandlePointerMove)},200),r.stopPropagation()},this.onRotationHandlePointerMove=r=>{if(!r.isPrimary)return;const a=(this.Rect[0]+this.Rect[2])/2,c=(this.Rect[1]+this.Rect[3])/2,o=this.convertPageCoordsToClient(a,c),f=this.getCurrentRotation(),s=Math.atan2(r.clientY-o.y,r.clientX-o.x)+Math.PI/2-f;this._currentAngle=s,this._tempTransformationMatrix.reset().applyTranslation(-a,-c).applyRotation(s).applyTranslation(a,c),this._svgContentCopy.setAttribute("transform",`matrix(${this._tempTransformationMatrix.toFloatShortArray().join(" ")})`),this._moved=!0},this.onRotationHandlePointerUp=r=>{if(!r.isPrimary)return;const a=r.target;a.removeEventListener("pointermove",this.onRotationHandlePointerMove),a.removeEventListener("pointerup",this.onRotationHandlePointerUp),a.removeEventListener("pointerout",this.onRotationHandlePointerUp),a.releasePointerCapture(r.pointerId),this.applyTempTransformAsync()},this.onScaleHandlePointerDown=r=>{if(!r.isPrimary)return;const a=r.target;a.setPointerCapture(r.pointerId),a.addEventListener("pointerup",this.onScaleHandlePointerUp),a.addEventListener("pointerout",this.onScaleHandlePointerUp);const{ll:c,lr:o,ur:f,ul:s}=this.getLocalBB(),g=a.dataset.handleName;switch(g){case"ll":this._tempStartPoint.setFromVec2(f),this._tempVecX.setFromVec2(s).subtract(f),this._tempVecY.setFromVec2(o).subtract(f);break;case"lr":this._tempStartPoint.setFromVec2(s),this._tempVecX.setFromVec2(f).subtract(s),this._tempVecY.setFromVec2(c).subtract(s);break;case"ur":this._tempStartPoint.setFromVec2(c),this._tempVecX.setFromVec2(o).subtract(c),this._tempVecY.setFromVec2(s).subtract(c);break;case"ul":this._tempStartPoint.setFromVec2(o),this._tempVecX.setFromVec2(c).subtract(o),this._tempVecY.setFromVec2(f).subtract(o);break;default:throw new Error(`Invalid handle name: ${g}`)}this._tempX=this._tempVecX.getMagnitude(),this._tempY=this._tempVecY.getMagnitude(),this._moved=!1,this._transformationTimer=setTimeout(()=>{this._transformationTimer=null,this._renderedControls.after(this._svgContentCopy),a.addEventListener("pointermove",this.onScaleHandlePointerMove)},200),r.stopPropagation()},this.onScaleHandlePointerMove=r=>{if(!r.isPrimary)return;const a=this.convertClientCoordsToPage(r.clientX,r.clientY).subtract(this._tempStartPoint),c=a.getMagnitude(),f=Math.abs(a.dotProduct(this._tempVecX))/c/this._tempX*c,s=Math.sqrt(c*c-f*f),g=f/this._tempX,m=s/this._tempY,p=(this.Rect[0]+this.Rect[2])/2,t=(this.Rect[1]+this.Rect[3])/2,b=this.getCurrentRotation();this._tempTransformationMatrix.reset().applyTranslation(-p,-t).applyRotation(-b).applyScaling(g,m).applyRotation(b).applyTranslation(p,t);const C=this._tempStartPoint.clone().subtract(this._tempStartPoint.clone().applyMat3(this._tempTransformationMatrix));this._tempTransformationMatrix.applyTranslation(C.x,C.y),this._svgContentCopy.setAttribute("transform",`matrix(${this._tempTransformationMatrix.toFloatShortArray().join(" ")})`),this._moved=!0},this.onScaleHandlePointerUp=r=>{if(!r.isPrimary)return;const a=r.target;a.removeEventListener("pointermove",this.onScaleHandlePointerMove),a.removeEventListener("pointerup",this.onScaleHandlePointerUp),a.removeEventListener("pointerout",this.onScaleHandlePointerUp),a.releasePointerCapture(r.pointerId),this.applyTempTransformAsync()},this.Subtype=e}get apStream(){var e;if(!this._apStream){const r=(e=this.AP)===null||e===void 0?void 0:e.getStreams();r&&(this._apStream=[...r][0])}return this._apStream}set apStream(e){this._apStream=e,this._edited=!0}get lastRenderResult(){return!this._renderedControls||!this._renderedContent?null:{controls:this._renderedControls,content:this._renderedContent}}get strokeWidth(){var e,r,a,c;return(c=(r=(e=this.BS)===null||e===void 0?void 0:e.W)!==null&&r!==void 0?r:(a=this.Border)===null||a===void 0?void 0:a.width)!==null&&c!==void 0?c:1}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];if(this.Subtype&&c.push(...a.encode("/Subtype "),...a.encode(this.Subtype)),this.Rect&&c.push(...a.encode("/Rect "),...this.encodePrimitiveArray(this.Rect,a)),this.Contents&&c.push(...a.encode("/Contents "),...this.Contents.toArray(e)),this.P&&c.push(...a.encode("/P "),...this.P.toArray(e)),this.NM&&c.push(...a.encode("/NM "),...this.NM.toArray(e)),this.M&&c.push(...a.encode("/M "),...this.M.toArray(e)),this.F&&c.push(...a.encode("/F "),...a.encode(" "+this.F)),this.AS&&c.push(...a.encode("/AS "),...a.encode(this.AS)),this.Border&&c.push(...a.encode("/Border "),...this.Border.toArray(e)),this.BS&&c.push(...a.encode("/BS "),...this.BS.toArray(e)),this.BE&&c.push(...a.encode("/BE "),...this.BE.toArray(e)),this.C&&c.push(...a.encode("/C "),...this.encodePrimitiveArray(this.C,a)),this.StructParent&&c.push(...a.encode("/StructParent "),...a.encode(" "+this.StructParent)),this.apStream){this.AP||(this.AP=new AppearanceDict);const f=this.apStream.ref;if(!f)throw new Error("Appearance stream has no reference");this.AP.N=ObjectId.fromRef(f),this.AP.R=null,this.AP.D=null,this.AP.clearStreams(),this.AP.setStream("/N",this.apStream),c.push(...a.encode("/AP "),...this.AP.toArray(e))}const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}renderAsync(e){return __awaiter$Q(this,void 0,void 0,function*(){if(!e)throw new Error("Can't render the annotation: view box is not defined");return this._pageInfo=e,this._renderedControls||(this._renderedControls=this.renderControls()),yield new Promise((r,a)=>{setTimeout(()=>__awaiter$Q(this,void 0,void 0,function*(){yield this.updateRenderAsync(),r()}),0)}),this.lastRenderResult})}renderApStreamAsync(){return __awaiter$Q(this,void 0,void 0,function*(){const e=this.apStream;if(e)try{return yield new AppearanceStreamRenderer(e,this.Rect,this.$name).renderAsync()}catch(r){console.log(`Annotation stream render error: ${r.message}`)}return null})}moveToAsync(e){return __awaiter$Q(this,void 0,void 0,function*(){const r=this.Rect[2]-this.Rect[0],a=this.Rect[3]-this.Rect[1],c=e.x-r/2,o=e.y-a/2,f=l.buildTranslate(c,o);yield this.applyCommonTransformAsync(f)})}rotateByAsync(e,r){return __awaiter$Q(this,void 0,void 0,function*(){if(!r){const[c,o,f,s]=this.Rect;r=new u((c+f)/2,(o+s)/2)}const a=new l().applyTranslation(-r.x,-r.y).applyRotation(e).applyTranslation(r.x,r.y);yield this.applyCommonTransformAsync(a)})}toDto(){var e,r,a,c,o;return{annotationType:this.Type,uuid:this.$name,pageId:this.$pageId,dateCreated:((r=(e=this.CreationDate)===null||e===void 0?void 0:e.date)===null||r===void 0?void 0:r.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(a=this.T)===null||a===void 0?void 0:a.literal,textContent:(c=this.Contents)===null||c===void 0?void 0:c.literal,rect:this.Rect,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix}}setTextContentAsync(e,r=!0){var a;return __awaiter$Q(this,void 0,void 0,function*(){const c=this.getProxy(),o=(a=c.Contents)===null||a===void 0?void 0:a.literal;if(!e)c.Contents=null;else{const f=LiteralString.fromString(e);c.Contents=f}c.M=DateString.fromDate(new Date),c.$onEditAction&&c.$onEditAction(r?()=>__awaiter$Q(this,void 0,void 0,function*(){yield c.setTextContentAsync(o,!1)}):void 0)})}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});var a;return __awaiter$Q(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:c,bounds:o}=e,f=o.contentStart||o.start,s=o.contentEnd||o.end;let g=yield c.skipToNextNameAsync(f,s-1),m,p;for(;p=yield c.parseNameAtAsync(g),p;)switch(g=p.end+1,m=p.value,m){case"/Subtype":const t=yield c.parseNameAtAsync(g);if(t){if(this.Subtype&&this.Subtype!==t.value)throw new Error(`Invalid dict subtype: '${t.value}' instead of '${this.Subtype}'`);g=t.end+1}else throw new Error("Can't parse /Subtype property value");break;case"/Rect":g=yield this.parseNumberArrayPropAsync(m,c,g,!0);break;case"/P":g=yield this.parseRefPropAsync(m,c,g);break;case"/Contents":case"/NM":const b=yield c.getValueTypeAtAsync(g);b===valueTypes.STRING_LITERAL?g=yield this.parseLiteralPropAsync(m,c,g,e.cryptInfo):b===valueTypes.STRING_HEX?g=yield this.parseHexPropAsync(m,c,g,e.cryptInfo):g=yield c.skipToNextNameAsync(g,s-1);break;case"/M":const C=yield DateString.parseAsync(c,g,e.cryptInfo);if(C){this.M=C.value,g=C.end+1;break}else{const I=yield LiteralString.parseAsync(c,g,e.cryptInfo);if(I){this.M=I.value,g=I.end+1;break}}throw new Error("Can't parse /M property value");case"/C":g=yield this.parseNumberArrayPropAsync(m,c,g,!0);break;case"/F":case"/StructParent":g=yield this.parseNumberPropAsync(m,c,g,!1);break;case"/Border":const w=yield BorderArray.parseAsync(c,g);if(w)this.Border=w.value,g=w.end+1;else throw new Error("Can't parse /Border property value");break;case"/BS":const v=yield c.getValueTypeAtAsync(g);if(v===valueTypes.REF){const I=yield ObjectId.parseRefAsync(c,g);if(I&&e.parseInfoGetterAsync){const P=yield e.parseInfoGetterAsync(I.value.id);if(P){const _=yield BorderStyleDict.parseAsync(P);if(_){this.BS=_.value,g=_.end+1;break}}}throw new Error("Can't parse /BS value reference")}else if(v===valueTypes.DICTIONARY){const I=yield c.getDictBoundsAtAsync(g);if(I){const P=yield BorderStyleDict.parseAsync({parser:c,bounds:I});if(P){this.BS=P.value,g=P.end+1;break}}throw new Error("Can't parse /BS value dictionary")}throw new Error(`Unsupported /BS property value type: ${v}`);case"/BE":const M=yield c.getValueTypeAtAsync(g);if(M===valueTypes.REF){const I=yield ObjectId.parseRefAsync(c,g);if(I&&e.parseInfoGetterAsync){const P=yield e.parseInfoGetterAsync(I.value.id);if(P){const _=yield BorderEffectDict.parseAsync(P);if(_){this.BE=_.value,g=_.end+1;break}}}throw new Error("Can't parse /BE value reference")}else if(M===valueTypes.DICTIONARY){const I=yield c.getDictBoundsAtAsync(g);if(I){const P=yield BorderEffectDict.parseAsync({parser:c,bounds:I});if(P){this.BE=P.value,g=P.end+1;break}}throw new Error("Can't parse /BE value dictionary")}throw new Error(`Unsupported /BE property value type: ${M}`);case"/AP":const y=yield c.getValueTypeAtAsync(g);if(y===valueTypes.REF){const I=yield ObjectId.parseRefAsync(c,g);if(I&&e.parseInfoGetterAsync){const P=yield e.parseInfoGetterAsync(I.value.id);if(P){const _=yield AppearanceDict.parseAsync(P);if(_){this.AP=_.value,g=_.end+1;break}}}throw new Error("Can't parse /AP value reference")}else if(y===valueTypes.DICTIONARY){const I=yield c.getDictBoundsAtAsync(g);if(I){const P=yield AppearanceDict.parseAsync({parser:c,bounds:I,parseInfoGetterAsync:e.parseInfoGetterAsync});if(P){this.AP=P.value,g=P.end+1;break}}throw new Error("Can't parse /AP value dictionary")}throw new Error(`Unsupported /AP property value type: ${y}`);case"/AS":g=yield this.parseNamePropAsync(m,c,g);break;case"/OC":default:g=yield c.skipToNextNameAsync(g,s-1);break}if(!this.Subtype||!this.Rect)throw new Error("Not all required properties parsed");this.$name=((a=this.NM)===null||a===void 0?void 0:a.literal)||UUID.getRandomUuid()})}getColorString(){var e;let r;if(!(!((e=this.C)===null||e===void 0)&&e.length))r="0 G 0 g";else if(this.C.length<3){const a=this.C[0];r=`${a} G ${a} g`}else if(this.C.length===3){const[a,c,o]=this.C;r=`${a} ${c} ${o} RG ${a} ${c} ${o} rg`}else{const[a,c,o,f]=this.C;r=`${a} ${c} ${o} ${f} K ${a} ${c} ${o} ${f} k`}return r}getCurrentRotation(){var e;const r=(e=this.apStream)===null||e===void 0?void 0:e.matrix;if(!r)return 0;const{r:a}=r.getTRS();return a}getLocalBB(){let e,r,a,c;if(this._bBox)return this._bBox;if(this.apStream){const{ll:o,lr:f,ur:s,ul:g}=this.apStream.transformedBBox,{min:m,max:p}=u.minMax(o,f,s,g),t=new u(this.Rect[0],this.Rect[1]),b=new u(this.Rect[2],this.Rect[3]),C=l.from4Vec2(m,p,t,b,!0);e=o.applyMat3(C),r=f.applyMat3(C),a=s.applyMat3(C),c=g.applyMat3(C)}else this.Rect?(e=new u(this.Rect[0],this.Rect[1]),r=new u(this.Rect[2],this.Rect[1]),a=new u(this.Rect[2],this.Rect[3]),c=new u(this.Rect[0],this.Rect[3])):(e=new u,r=new u,a=new u,c=new u);return this._bBox={ll:e,lr:r,ur:a,ul:c},this._bBox}convertClientCoordsToPage(e,r){if(!this._pageInfo)throw new Error("Can't get exact page coords without page info");const a=this._pageInfo.scale,c=this._pageInfo.rotation,[o,f]=this.Rect,{x:s,y:g,width:m,height:p}=this._renderedBox.getBoundingClientRect(),t=new u,b=new u;switch(c){case 0:t.set(s-o*a,g+p+f*a),b.set((e-t.x)/a,(t.y-r)/a);break;case 90:t.set(s-f*a,g-o*a),b.set((r-t.y)/a,(e-t.x)/a);break;case 180:t.set(s+m+o*a,g-f*a),b.set((t.x-e)/a,(r-t.y)/a);break;case 270:t.set(s+m+f*a,g+p+o*a),b.set((t.y-r)/a,(t.x-e)/a);break;default:throw new Error(`Invalid page rotation value: ${c}`)}return b}convertPageCoordsToClient(e,r){if(!this._pageInfo)throw new Error("Can't get exact page coords without page info");const a=this._pageInfo.scale,c=this._pageInfo.rotation,[o,f]=this.Rect,{x:s,y:g,width:m,height:p}=this._renderedBox.getBoundingClientRect(),t=new u,b=new u;switch(c){case 0:t.set(s-o*a,g+p+f*a),b.set(e*a+t.x,t.y-r*a);break;case 90:t.set(s-f*a,g-o*a),b.set(r*a+t.x,e*a+t.y);break;case 180:t.set(s+m+o*a,g-f*a),b.set(t.x-e*a,r*a+t.y);break;case 270:t.set(s+m+f*a,g+p+o*a),b.set(t.x-r*a,t.y-e*a);break;default:throw new Error(`Invalid page rotation value: ${c}`)}return b}applyRectTransform(e){const r=this.getLocalBB();r.ll.applyMat3(e),r.lr.applyMat3(e),r.ur.applyMat3(e),r.ul.applyMat3(e);const{min:a,max:c}=u.minMax(r.ll,r.lr,r.ur,r.ul);this.Rect=[a.x,a.y,c.x,c.y]}applyCommonTransformAsync(e,r=!0){return __awaiter$Q(this,void 0,void 0,function*(){const a=this.getProxy();a.applyRectTransform(e);const c=a.apStream;if(c){const o=l.multiply(c.matrix,e);a.apStream.matrix=o}if(a.M=DateString.fromDate(new Date),a.$onEditAction){const o=l.invert(e);a.$onEditAction(r?()=>__awaiter$Q(this,void 0,void 0,function*(){yield a.applyCommonTransformAsync(o,!1),yield a.updateRenderAsync()}):void 0)}})}applyTempTransformAsync(){return __awaiter$Q(this,void 0,void 0,function*(){if(this._transformationTimer){clearTimeout(this._transformationTimer),this._transformationTimer=null;return}this._transformationPromise&&(yield this._transformationPromise),this._transformationPromise=new Promise(e=>__awaiter$Q(this,void 0,void 0,function*(){this._svgContentCopy.remove(),this._svgContentCopy.setAttribute("transform","matrix(1 0 0 1 0 0)"),this._moved&&(yield this.applyCommonTransformAsync(this._tempTransformationMatrix),yield this.updateRenderAsync()),this._tempTransformationMatrix.reset(),e()})),yield this._transformationPromise})}renderAppearance(){return null}renderRect(){const e=document.createElementNS("http://www.w3.org/2000/svg","rect");return e.classList.add("annotation-rect"),e.setAttribute("data-annotation-name",this.$name),e.setAttribute("x",this.Rect[0]+""),e.setAttribute("y",this.Rect[1]+""),e.setAttribute("width",this.Rect[2]-this.Rect[0]+""),e.setAttribute("height",this.Rect[3]-this.Rect[1]+""),e}renderBox(){const{ll:e,lr:r,ur:a,ul:c}=this.getLocalBB(),o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.classList.add("annotation-bbox"),o.setAttribute("data-annotation-name",this.$name),o.setAttribute("d",`M ${e.x} ${e.y} L ${r.x} ${r.y} L ${a.x} ${a.y} L ${c.x} ${c.y} Z`),o}renderControls(){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.classList.add("annotation-controls"),e.setAttribute("data-annotation-name",this.$name),e.addEventListener("pointerdown",this.onSvgPointerDown),e.addEventListener("pointerenter",this.onSvgPointerEnter),e.addEventListener("pointerleave",this.onSvgPointerLeave),e}buildRenderedContentStructure(e){var r;const a=document.createElement("div");a.id=this._svgId,a.classList.add("annotation-content"),a.setAttribute("data-annotation-name",this.$name);const{width:c,height:o}=this._pageInfo;if(!((r=e.clipPaths)===null||r===void 0)&&r.length){const f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.append(...e.clipPaths),f.setAttribute("viewBox",`0 0 ${c} ${o}`),f.setAttribute("transform","scale(1, -1)"),a.append(f)}return e.elements.forEach(f=>{const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.classList.add("annotation-content-element"),s.setAttribute("viewBox",`0 0 ${c} ${o}`),s.setAttribute("transform","scale(1, -1)"),s.style.mixBlendMode=f.blendMode,s.append(f.element),a.append(s)}),a}buildRenderContentCopy(e){const r=document.createElementNS("http://www.w3.org/2000/svg","g");return e.elements.forEach(a=>{r.append(a.element.cloneNode(!0))}),r.classList.add("annotation-temp-copy"),r}renderScaleHandles(){const e=this.getLocalBB(),r=[];return["ll","lr","ur","ul"].forEach(a=>{const c=document.createElementNS("http://www.w3.org/2000/svg","line");c.classList.add("annotation-handle","scale"),c.setAttribute("data-handle-name",a),c.setAttribute("x1",e[a].x+""),c.setAttribute("y1",e[a].y+""),c.setAttribute("x2",e[a].x+""),c.setAttribute("y2",e[a].y+.1+""),c.addEventListener("pointerdown",this.onScaleHandlePointerDown),r.push(c)}),r}renderRotationHandle(){const e=(this.Rect[0]+this.Rect[2])/2,r=(this.Rect[1]+this.Rect[3])/2,a=this.getCurrentRotation(),c=document.createElementNS("http://www.w3.org/2000/svg","g");c.classList.add("annotation-rotator"),c.setAttribute("data-handle-name","center");const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.classList.add("circle","dashed"),o.setAttribute("cx",e+""),o.setAttribute("cy",r+"");const f=new l().applyTranslation(-e,-r+35).applyRotation(a).applyTranslation(e,r),s=new u(e,r).applyMat3(f),g=document.createElementNS("http://www.w3.org/2000/svg","line");g.classList.add("dashed"),g.setAttribute("x1",e+""),g.setAttribute("y1",r+""),g.setAttribute("x2",s.x+""),g.setAttribute("y2",s.y+"");const m=document.createElementNS("http://www.w3.org/2000/svg","line");return m.classList.add("annotation-handle","rotation"),m.setAttribute("data-handle-name","center"),m.setAttribute("x1",s.x+""),m.setAttribute("y1",s.y+""),m.setAttribute("x2",s.x+""),m.setAttribute("y2",s.y+.1+""),m.addEventListener("pointerdown",this.onRotationHandlePointerDown),c.append(o,g,m),c}renderHandles(){return[...this.renderScaleHandles(),this.renderRotationHandle()]}updateRenderAsync(){var e;return __awaiter$Q(this,void 0,void 0,function*(){if(!this._renderedControls)return;this._renderedControls.innerHTML="";const r=this.renderAppearance()||(yield this.renderApStreamAsync());if(!r||!(!((e=r.elements)===null||e===void 0)&&e.length))return this._renderedBox=null,this._svgContentCopy=null,null;const a=this.buildRenderedContentStructure(r);this._renderedContent=a;const c=this.renderRect(),o=this.renderBox(),f=this.renderHandles();this._renderedBox=o,this._renderedControls.append(c,o,...r.pickHelpers,...f);const s=this.buildRenderContentCopy(r);this._svgContentCopy=s,this.$onRenderUpdatedAction&&this.$onRenderUpdatedAction()})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$P=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class MarkupAnnotation extends AnnotationDict{constructor(e){super(e),this.RT=markupAnnotationReplyTypes.REPLY}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.T&&c.push(...a.encode("/T "),...this.T.toArray(e)),this.Popup&&c.push(...a.encode("/Popup "),...this.Popup.toArray(e)),this.RC&&c.push(...a.encode("/RC "),...this.RC.toArray(e)),this.CA&&c.push(...a.encode("/CA "),...a.encode(" "+this.CA)),this.CreationDate&&c.push(...a.encode("/CreationDate "),...this.CreationDate.toArray(e)),this.Subj&&c.push(...a.encode("/Subj "),...this.Subj.toArray(e)),this.IRT&&c.push(...a.encode("/IRT "),...this.IRT.toArray(e)),this.RT&&c.push(...a.encode("/RT "),...a.encode(this.RT));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$P(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/T":case"/Subj":s=yield this.parseLiteralPropAsync(g,a,s,e.cryptInfo);break;case"/Popup":case"/IRT":s=yield this.parseRefPropAsync(g,a,s);break;case"/RC":const p=yield a.getValueTypeAtAsync(s);if(p===valueTypes.REF){const b=yield ObjectId.parseRefAsync(a,s);if(b&&e.parseInfoGetterAsync){const C=yield e.parseInfoGetterAsync(b.value.id);if(C){const w=C.type||C.parser.getValueTypeAtAsync(C.bounds.contentStart);if(w===valueTypes.STRING_LITERAL){const v=yield LiteralString.parseAsync(C.parser,C.bounds.contentStart);if(v){this.RC=v.value,s=b.end+1;break}}else if(w===valueTypes.DICTIONARY){const v=yield TextStream.parseAsync(C);if(v){const M=v.value.getText();this.RC=LiteralString.fromString(M),s=b.end+1;break}}else throw new Error(`Unsupported /RC property value type: ${w}`)}}throw new Error("Can't parse /RC value reference")}else if(p===valueTypes.STRING_LITERAL){const b=yield LiteralString.parseAsync(a,s,e.cryptInfo);if(b){this.RC=b.value,s=b.end+1;break}throw new Error("Can't parse /RC property value")}throw new Error(`Unsupported /RC property value type: ${p}`);case"/CA":s=yield this.parseNumberPropAsync(g,a,s,!0);break;case"/CreationDate":s=yield this.parseDatePropAsync(g,a,s,e.cryptInfo);break;case"/RT":const t=yield a.parseNameAtAsync(s,!0);if(t&&Object.values(markupAnnotationReplyTypes).includes(t.value))this.RT=t.value,s=t.end+1;else throw new Error("Can't parse /RT property value");break;case"/ExData":break;default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.Subtype||!this.Rect)throw new Error("Not all required properties parsed")})}getColorRect(){let e=0,r=0,a=0,c=1;if(this.C){if(this.C.length===1)e=r=a=this.C[0];else if(this.C.length===3)[e,r,a]=this.C;else if(this.C.length===4){const[f,s,g,m]=this.C;e=(1-f)*(1-m),r=(1-s)*(1-m),a=(1-g)*(1-m)}}return isNaN(this.CA)||(c=this.CA),[e,r,a,c]}updateTextDataAsync(e){var r;return __awaiter$P(this,void 0,void 0,function*(){const a=(r=this.Contents)===null||r===void 0?void 0:r.literal,c=yield TextData.buildAsync(a,e);return this._textData=c,this._textData})}getLineEndingStreamPart(e,r,a,c){const o=Math.max(a*LINE_END_MULTIPLIER,LINE_END_MIN_SIZE);let f="";switch(r){case lineEndingTypes.ARROW_OPEN:return c==="left"?(f+=`
${e.x+o} ${e.y+o/2} m`,f+=`
${e.x} ${e.y} l`,f+=`
${e.x+o} ${e.y-o/2} l`):(f+=`
${e.x-o} ${e.y+o/2} m`,f+=`
${e.x} ${e.y} l`,f+=`
${e.x-o} ${e.y-o/2} l`),f+=`
S`,f;case lineEndingTypes.ARROW_OPEN_R:return c==="left"?(f+=`
${e.x} ${e.y+o/2} m`,f+=`
${e.x+o} ${e.y} l`,f+=`
${e.x} ${e.y-o/2} l`):(f+=`
${e.x} ${e.y+o/2} m`,f+=`
${e.x-o} ${e.y} l`,f+=`
${e.x} ${e.y-o/2} l`),f+=`
S`,f;case lineEndingTypes.ARROW_CLOSED:return c==="left"?(f+=`
${e.x+o} ${e.y+o/2} m`,f+=`
${e.x} ${e.y} l`,f+=`
${e.x+o} ${e.y-o/2} l`):(f+=`
${e.x-o} ${e.y+o/2} m`,f+=`
${e.x} ${e.y} l`,f+=`
${e.x-o} ${e.y-o/2} l`),f+=`
s`,f;case lineEndingTypes.ARROW_CLOSED_R:return c==="left"?(f+=`
${e.x+o} ${e.y} m`,f+=`
${e.x} ${e.y+o/2} l`,f+=`
${e.x} ${e.y-o/2} l`):(f+=`
${e.x-o} ${e.y} m`,f+=`
${e.x} ${e.y-o/2} l`,f+=`
${e.x} ${e.y+o/2} l`),f+=`
s`,f;case lineEndingTypes.BUTT:return f+=`
${e.x} ${e.y+o/2} m`,f+=`
${e.x} ${e.y-o/2} l`,f+=`
S`,f;case lineEndingTypes.SLASH:return f+=`
${e.x+o/2} ${e.y+o/2} m`,f+=`
${e.x-o/2} ${e.y-o/2} l`,f+=`
S`,f;case lineEndingTypes.DIAMOND:return f+=`
${e.x} ${e.y+o/2} m`,f+=`
${e.x+o/2} ${e.y} l`,f+=`
${e.x} ${e.y-o/2} l`,f+=`
${e.x-o/2} ${e.y} l`,f+=`
s`,f;case lineEndingTypes.SQUARE:return f+=`
${e.x-o/2} ${e.y+o/2} m`,f+=`
${e.x+o/2} ${e.y+o/2} l`,f+=`
${e.x+o/2} ${e.y-o/2} l`,f+=`
${e.x-o/2} ${e.y-o/2} l`,f+=`
s`,f;case lineEndingTypes.CIRCLE:const s=BEZIER_CONSTANT,g=o/2,m=s*g,p=e.x-g,t=e.y-g,b=e.x+g,C=e.y+g;return f+=`
${e.x} ${C} m`,f+=`
${e.x+m} ${C} ${b} ${e.y+m} ${b} ${e.y} c`,f+=`
${b} ${e.y-m} ${e.x+m} ${t} ${e.x} ${t} c`,f+=`
${e.x-m} ${t} ${p} ${e.y-m} ${p} ${e.y} c`,f+=`
${p} ${e.y+m} ${e.x-m} ${C} ${e.x} ${C} c`,f+=`
S`,f;case lineEndingTypes.NONE:default:return""}}}class DataUpdater{constructor(e,r,a,c){this._writtenIds=new Set,this.writeImageXObject=o=>{const f=o.sMask;if(this.isNew(f)){const s=this.writeIndirectObject(f);o.SMask=ObjectId.fromRef(s)}else f.edited&&this.writeUpdatedIndirectObject(f);return this.isNew(o)?this.writeIndirectObject(o):o.edited?this.writeUpdatedIndirectObject(o):{id:o.id,generation:o.generation,byteOffset:this._refData.getOffset(o.id)}},this._lastXref=r,this._refData=a,this._changeData=new ReferenceDataChange(a),this._writer=new DataWriter(e),this._stringCryptor=c?.stringCryptor,this._streamCryptor=c?.streamCryptor}getDataWithUpdatedAnnotations(e){for(const{page:a,supportedAnnotations:c,allAnnotationIds:o}of e)if(c?.length){for(const f of c)if(f.deleted){if(!f.ref)continue;const s=o.findIndex(g=>g.id===f.id);o.splice(s,1),this._changeData.setRefFree(f.id),f instanceof MarkupAnnotation&&f.Popup&&this._changeData.setRefFree(f.Popup.id)}else if(!f.ref||f.edited){const s=f.apStream;if(s&&this.writeFormXObject(s),this.isNew(f)){const g=this.writeIndirectObject(f);o.push(ObjectId.fromRef(g))}else this.writeUpdatedIndirectObject(f)}if(a.Annots instanceof ObjectId&&this._changeData.isUsedInSource(a.Annots.id)){const f={id:a.Annots.id,generation:a.Annots.generation,byteOffset:this._writer.offset},s={ref:f,streamCryptor:this._streamCryptor,stringCryptor:this._stringCryptor};this._changeData.updateUsedRef(f),this._writer.writeIndirectArray(s,o)}else{const f=this._changeData.takeFreeRef(this._writer.offset,!0),s={ref:f,streamCryptor:this._streamCryptor,stringCryptor:this._stringCryptor};this._writer.writeIndirectArray(s,o),a.Annots=ObjectId.fromRef(f)}this.writeUpdatedIndirectObject(a)}return this.writeXref(),this._writer.getCurrentData()}isNew(e){return!e.ref||!this._changeData.isUsedInSource(e.id)}writeIndirectObject(e){if(this._writtenIds.has(e.id))return this._changeData.getUsedRef(e.id);const r=this._changeData.takeFreeRef(this._writer.offset,!0),a={ref:r,streamCryptor:this._streamCryptor,stringCryptor:this._stringCryptor};return this._writer.writeIndirectObject(a,e),e.ref=r,this._writtenIds.add(r.id),r}writeUpdatedIndirectObject(e){const r={id:e.id,generation:e.generation,byteOffset:this._writer.offset},a={ref:r,streamCryptor:this._streamCryptor,stringCryptor:this._stringCryptor};return this._changeData.updateUsedRef(r),this._writer.writeIndirectObject(a,e),r}writeFormXObject(e){const r=e.Resources;return r&&r.edited&&([...r.getXObjects()].forEach(([a,c])=>{c instanceof ImageStream?this.writeImageXObject(c):c instanceof XFormStream&&this.writeFormXObject(c)}),[...r.getFonts()].forEach(([a,c])=>{c.encoding&&this.isNew(c.encoding)&&this.writeIndirectObject(c.encoding),c.descriptor&&this.isNew(c.descriptor)&&this.writeIndirectObject(c.descriptor),this.isNew(c)?this.writeIndirectObject(c):c.edited&&this.writeUpdatedIndirectObject(c)})),this.isNew(e)?this.writeIndirectObject(e):e.edited?this.writeUpdatedIndirectObject(e):{id:e.id,generation:e.generation,byteOffset:this._refData.getOffset(e.id)}}writeXref(){const e=this._writer.offset,r=this._changeData.exportEntries(),a=this._lastXref.createUpdate(r,e);if(this._lastXref instanceof XRefStream){const c=this._changeData.takeFreeRef(e,!0);this._writer.writeIndirectObject({ref:c},a)}else this._writer.writeBytes(a.toArray());return this._writer.writeEof(e),e}}function bytesToWordArray(A){return CryptoES.lib.WordArray.create(A)}function wordArrayToBytes(A){return ByteUtils.int32ArrayToBytes(A.words).slice(0,A.sigBytes)}function md5(A){return A instanceof Uint8Array&&(A=bytesToWordArray(A)),CryptoES.MD5(A)}function rc4(A,e){return A instanceof Uint8Array&&(A=bytesToWordArray(A)),e instanceof Uint8Array&&(e=bytesToWordArray(e)),CryptoES.RC4.encrypt(A,e).ciphertext}function aes(A,e,r=!1){if(A instanceof Uint8Array&&(A=bytesToWordArray(A)),e instanceof Uint8Array&&(e=bytesToWordArray(e)),r){const a=CryptoES.lib.WordArray.create(A.words.slice(0,4));return CryptoES.algo.AES.createDecryptor(e,{mode:CryptoES.mode.CBC,iv:a,padding:CryptoES.pad.Pkcs7}).finalize(A)}else{const a=CryptoES.lib.WordArray.random(16);return CryptoES.algo.AES.createEncryptor(e,{mode:CryptoES.mode.CBC,iv:a,padding:CryptoES.pad.Pkcs7}).finalize(A)}}const AESV2_KEY_PADDING=[115,65,108,84];class AESV2DataCryptor{constructor(e){if(!e)throw new Error("Empty key");if(e.length!==16)throw new Error(`Invalid key length: ${e.length} (shall be 16)`);this._n=e.length,this._key=e,this._tempKey=new Uint8Array(e.length+9)}encrypt(e,r){return this.run(e,r.id,r.generation)}decrypt(e,r){return this.run(e,r.id,r.generation,!0)}run(e,r,a,c=!1){const o=ByteUtils.int32ToBytes(r,!0),f=ByteUtils.int32ToBytes(a,!0);this._tempKey.set(this._key,0),this._tempKey.set(o.subarray(0,3),this._n),this._tempKey.set(f.subarray(0,2),this._n+3),this._tempKey.set(AESV2_KEY_PADDING,this._n+5);const s=wordArrayToBytes(md5(this._tempKey)),g=Math.min(this._n+5,16),m=s.slice(0,g),p=wordArrayToBytes(aes(e,m,c));return c?p.slice(16):p}}class AESV3DataCryptor{constructor(e){if(!e)throw new Error("Empty key");if(e.length!==32)throw new Error(`Invalid key length: ${e.length} (shall be 32)`);this._n=e.length,this._key=e}encrypt(e,r){return this.run(e,r.id,r.generation)}decrypt(e,r){return this.run(e,r.id,r.generation,!0)}run(e,r,a,c=!1){const o=wordArrayToBytes(aes(e,this._key,c));return c?o.slice(16):o}}class IdentityDataCryptor{constructor(){}encrypt(e,r){return e}decrypt(e,r){return e}}class RC4DataCryptor{constructor(e){if(!e)throw new Error("Empty key");if(e.length<5||e.length>16)throw new Error(`Invalid key length: ${e.length} (shall be a multiple of 8 in the range from 40 to 128)`);this._n=e.length,this._key=e,this._tempKey=new Uint8Array(e.length+5)}encrypt(e,r){const a=ByteUtils.int32ToBytes(r.id,!0),c=ByteUtils.int32ToBytes(r.generation,!0);this._tempKey.set(this._key,0),this._tempKey.set(a.slice(0,3),this._n),this._tempKey.set(c.slice(0,2),this._n+3);const o=wordArrayToBytes(md5(this._tempKey)),f=Math.min(this._n+5,16),s=o.slice(0,f);return wordArrayToBytes(rc4(e,s))}decrypt(e,r){return this.encrypt(e,r)}}const PASSWORD_32_PADDING=[40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122];class DataCryptHandler{constructor(e,r){const{filter:a,version:c,revision:o,permissions:f,encryptMetadata:s,keyLength:g,stringKeyLength:m,streamKeyLength:p,stringMethod:t,streamMethod:b,oPasswordHash:C,uPasswordHash:w,oEncPasswordHash:v,uEncPasswordHash:M,perms:y}=e;if(a!=="/Standard")throw new Error(`Unsupported filter name: ${a}`);if(![1,2,4,5].includes(c))throw new Error(`Unsupported algorithm version: ${c}`);if(![2,3,4,5,6].includes(o))throw new Error(`Unsupported algorithm revision: ${o}`);if(isNaN(f))throw new Error("Permissions not provided");if(!C||!w)throw new Error("Password hash not provided");this._filter=a,this._version=c,this._revision=o,this._permissions=f,this._keyLength=g,this._encryptMetadata=s,this._stringKeyLength=m,this._streamKeyLength=p,this._stringMethod=t,this._streamMethod=b,this._oPasswordHash=C,this._uPasswordHash=w,this._oEncPasswordHash=v,this._uEncPasswordHash=M,this._perms=y,this._fileId=r}authenticate(e){const r=this._version,a=this._stringMethod,c=this._streamMethod;let o=!1;if(this.authOwnerPassword(e))o=!0;else if(!this.authUserPassword(e))return null;const s=this._lastEncryptionKey;switch(r){case 1:const g=new RC4DataCryptor(s);return{owner:o,stringCryptor:g,streamCryptor:g};case 2:const m=new RC4DataCryptor(s);return{owner:o,stringCryptor:m,streamCryptor:m};case 4:let p;if(!a||a===cryptMethods.NONE)p=new IdentityDataCryptor;else if(a===cryptMethods.RC4)p=new RC4DataCryptor(s);else if(a===cryptMethods.AES_128)p=new AESV2DataCryptor(s);else throw new Error(`Invalid crypt method: ${a}`);let t;if(!c||c===cryptMethods.NONE)t=new IdentityDataCryptor;else if(c===cryptMethods.RC4)t=new RC4DataCryptor(s);else if(c===cryptMethods.AES_128)t=new AESV2DataCryptor(s);else throw new Error(`Invalid crypt method: ${c}`);return{owner:o,stringCryptor:p,streamCryptor:t};case 5:let b;if(!a||a===cryptMethods.NONE)p=new IdentityDataCryptor;else if(a===cryptMethods.AES_256)p=new AESV3DataCryptor(s);else throw new Error(`Invalid crypt method: ${a}`);let C;if(!c||c===cryptMethods.NONE)t=new IdentityDataCryptor;else if(c===cryptMethods.AES_256)t=new AESV3DataCryptor(s);else throw new Error(`Invalid crypt method: ${c}`);return{owner:o,stringCryptor:b,streamCryptor:C}}}padPassword32(e){if(!e)return new Uint8Array(PASSWORD_32_PADDING);const r=new TextEncoder().encode(e),a=new Uint8Array(32);return a.set(r.slice(0,32)),r.length<32&&a.set(PASSWORD_32_PADDING.slice(0,32-r.length),r.length),a}computeEncryptionKey(e){if([2,3,4].includes(this._revision)){const r=this.padPassword32(e),a=ByteUtils.int32ToBytes(this._permissions,!0),c=this._revision>=4&&!this._encryptMetadata?new Uint8Array([255,255,255,255]):new Uint8Array(0),o=new Uint8Array([...r,...this._oPasswordHash,...a,...this._fileId,...c]);let f=wordArrayToBytes(md5(o));const s=this._keyLength>>3;if(this._revision>=3)for(let m=0;m<50;m++)f=wordArrayToBytes(md5(f.slice(0,s)));const g=f.slice(0,s);return this._lastEncryptionKey=g,g}else{if(this._revision===5)throw new Error("Not implemented yet");if(this._revision===6)throw new Error("Not implemented yet")}}computeOHashEncryptionKey_R2R3R4(e){const r=this.padPassword32(e);let a=md5(r);if(this._revision>=3)for(let f=0;f<50;f++)a=md5(a);const c=wordArrayToBytes(a),o=this._keyLength>>3;return c.slice(0,o)}computeOHash_R2R3R4(e,r){const a=this.computeOHashEncryptionKey_R2R3R4(e||r),c=this.padPassword32(r);let o=rc4(c,a);if(this._revision>=3)for(let f=1;f<20;f++)o=rc4(o,ByteUtils.xorBytes(a,f));return wordArrayToBytes(o)}computeUHash_R2(e){const r=this.computeEncryptionKey(e),a=new Uint8Array(PASSWORD_32_PADDING);return wordArrayToBytes(rc4(a,r))}computeUHash_R3R4(e){const r=this.computeEncryptionKey(e),a=new Uint8Array([...PASSWORD_32_PADDING,...this._fileId]);let c=md5(a);c=rc4(c,r);for(let o=1;o<20;o++)c=rc4(c,ByteUtils.xorBytes(r,o));return wordArrayToBytes(c)}authOwnerPassword(e){if([2,3,4].includes(this._revision)){const r=this.computeOHashEncryptionKey_R2R3R4(e);let a;if(this._revision===2)a=wordArrayToBytes(rc4(this._oPasswordHash,r));else{let f=bytesToWordArray(this._oPasswordHash);for(let s=19;s>=0;s--)f=rc4(f,ByteUtils.xorBytes(r,s));a=wordArrayToBytes(f)}const c=ByteUtils.findSubarrayIndex(a,new Uint8Array(PASSWORD_32_PADDING)),o=new TextDecoder().decode(c===-1?a:a.subarray(0,c));return this.authUserPassword(o)}else{if(this._revision===5)throw new Error("Not implemented yet");if(this._revision===6)throw new Error("Not implemented yet")}}authUserPassword(e){let r;if(this._revision===2)return r=this.computeUHash_R2(e),ByteUtils.arraysEqual(this._uPasswordHash,r);if(this._revision===3||this._revision===4)return r=this.computeUHash_R3R4(e),ByteUtils.arraysEqual(this._uPasswordHash.subarray(0,16),r);if(this._revision===5)throw new Error("Not implemented yet");if(this._revision===6)throw new Error("Not implemented yet")}}var __awaiter$O=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class ObjectStream extends PdfStream{constructor(){super(streamTypes.OBJECT_STREAM)}static parseAsync(e){return __awaiter$O(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new ObjectStream;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}getObjectDataAsync(e){return __awaiter$O(this,void 0,void 0,function*(){if(!this._streamData||!this.N||!this.First)return null;const r=yield this.getStreamDataParserAsync(),a=new Map;let c,o,f,s=0;for(let C=0;C<this.N;C++)c=yield r.parseNumberAtAsync(s,!1,!1),o=c.value,s=c.end+2,c=yield r.parseNumberAtAsync(s,!1,!1),f=c.value,s=c.end+2,a.set(o,f);if(!a.has(e))return null;const g=this.First+a.get(e),m=yield r.getValueTypeAtAsync(g);if(m===null)return;let p,t;switch(m){case objectTypes.DICTIONARY:p=yield r.getDictBoundsAtAsync(g,!1);break;case objectTypes.ARRAY:p=yield r.getArrayBoundsAtAsync(g,!1);break;case objectTypes.STRING_LITERAL:const C=yield LiteralString.parseAsync(r,g);C&&(p={start:C.start,end:C.end},t=C);break;case objectTypes.STRING_HEX:const w=yield HexString.parseAsync(r,g);w&&(p={start:w.start,end:w.end},t=w);break;case objectTypes.NUMBER:const v=yield r.parseNumberAtAsync(g);v&&(p={start:v.start,end:v.end},t=v);break}if(!p)return null;const b=yield r.sliceCharCodesAsync(p.start,p.end);if(!b.length)throw new Error("Object byte array is empty");return{parser:yield PdfStream.getDataParserAsync(b),bounds:{start:0,end:b.length-1,contentStart:p.contentStart?p.contentStart-p.start:void 0,contentEnd:p.contentEnd?b.length-1-(p.end-p.contentEnd):void 0},type:m,value:t,cryptInfo:{ref:{id:e,generation:0}},streamId:this.id}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.N&&c.push(...a.encode("/N "),...a.encode(" "+this.N)),this.First&&c.push(...a.encode("/First "),...a.encode(" "+this.First)),this.Extends&&c.push(...a.encode("/Extends "),...this.Extends.toArray(e));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$O(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=yield a.getDictBoundsAtAsync(o);let s=yield a.skipToNextNameAsync(f.contentStart,f.contentEnd),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/N":case"/First":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/Extends":s=yield this.parseRefPropAsync(g,a,s);break;default:s=yield a.skipToNextNameAsync(s,f.contentEnd);break}})}}var __awaiter$N=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class CryptFilterDict extends PdfDict{constructor(){super(dictTypes.CRYPT_FILTER),this.CFM=cryptMethods.NONE,this.AuthEvent=authEvents.DOC_OPEN,this.Length=40,this.EncryptMetadata=!0}static parseAsync(e){return __awaiter$N(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new CryptFilterDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.CFM&&c.push(...a.encode("/CFM "),...a.encode(this.CFM)),this.AuthEvent&&c.push(...a.encode("/AuthEvent "),...a.encode(this.AuthEvent)),this.Length&&c.push(...a.encode("/Length "),...a.encode(" "+this.Length)),this.EncryptMetadata&&c.push(...a.encode("/EncryptMetadata "),...a.encode(" "+this.EncryptMetadata)),this.Recipients&&(this.Recipients instanceof HexString?c.push(...a.encode("/Recipients "),...this.Recipients.toArray(e)):c.push(...a.encode("/Recipients "),...this.encodeSerializableArray(this.Recipients,e)));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$N(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/CFM":const p=yield a.parseNameAtAsync(s,!0);if(p&&Object.values(cryptMethods).includes(p.value))this.CFM=p.value,s=p.end+1;else throw new Error("Can't parse /CFM property value");break;case"/AuthEvent":const t=yield a.parseNameAtAsync(s,!0);if(t&&Object.values(authEvents).includes(t.value))this.AuthEvent=t.value,s=t.end+1;else throw new Error("Can't parse /AuthEvent property value");break;case"/Length":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/EncryptMetadata":s=yield this.parseBoolPropAsync(g,a,s);break;case"/Recipients":const b=yield a.getValueTypeAtAsync(s);if(b===valueTypes.STRING_HEX){const C=yield HexString.parseAsync(a,s,e.cryptInfo);if(C){this.Recipients=C.value,s=C.end+1;break}else throw new Error("Can't parse /Recipients property value")}else if(b===valueTypes.ARRAY){const C=yield HexString.parseArrayAsync(a,s);if(C){this.Recipients=C.value,s=C.end+1;break}else throw new Error("Can't parse /Recipients property value")}throw new Error(`Unsupported /Filter property value type: ${b}`);default:s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$M=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class CryptMapDict extends PdfDict{constructor(){super(null),this._filtersMap=new Map}static parseAsync(e){return __awaiter$M(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new CryptMapDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}getProp(e){return this._filtersMap.get(e)}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this._filtersMap.size&&this._filtersMap.forEach((f,s)=>c.push(...a.encode(s),...f.toArray(e)));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$M(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){default:if((yield a.getValueTypeAtAsync(s))===valueTypes.DICTIONARY){const t=yield a.getDictBoundsAtAsync(s);if(t){const b=yield CryptFilterDict.parseAsync({parser:a,bounds:t});if(b){this._filtersMap.set(g,b.value),s=b.end+1;break}}}s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$L=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class EncryptionDict extends PdfDict{constructor(){super(dictTypes.EMPTY),this.Filter="/Standard",this.Length=40,this.StmF="/Identity",this.StrF="/Identity",this.EncryptMetadata=!0}static parseAsync(e){return __awaiter$L(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new EncryptionDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Filter&&c.push(...a.encode("/Filter "),...a.encode(this.Filter)),this.SubFilter&&c.push(...a.encode("/SubFilter "),...a.encode(this.SubFilter)),this.V&&c.push(...a.encode("/V "),...a.encode(" "+this.V)),this.Length&&c.push(...a.encode("/Length "),...a.encode(" "+this.Length)),this.CF&&c.push(...a.encode("/CF "),...this.CF.toArray(e)),this.StmF&&c.push(...a.encode("/StmF "),...a.encode(this.StmF)),this.StrF&&c.push(...a.encode("/StrF "),...a.encode(this.StrF)),this.EFF&&c.push(...a.encode("/EFF "),...a.encode(this.EFF)),this.R&&c.push(...a.encode("/R "),...a.encode(" "+this.R)),this.O&&c.push(...a.encode("/O "),...this.O.toArray(e)),this.U&&c.push(...a.encode("/U "),...this.U.toArray(e)),this.OE&&c.push(...a.encode("/OE "),...this.OE.toArray(e)),this.UE&&c.push(...a.encode("/UE "),...this.UE.toArray(e)),this.P&&c.push(...a.encode("/P "),...a.encode(" "+this.P)),this.Perms&&c.push(...a.encode("/Perms "),...this.Perms.toArray(e)),this.U&&c.push(...a.encode("/U "),...this.U.toArray(e)),this.EncryptMetadata&&c.push(...a.encode("/EncryptMetadata "),...a.encode(" "+this.EncryptMetadata)),this.Recipients&&(this.Recipients instanceof HexString?c.push(...a.encode("/Recipients "),...this.Recipients.toArray(e)):c.push(...a.encode("/Recipients "),...this.encodeSerializableArray(this.Recipients,e)));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toCryptOptions(){var e,r,a,c,o,f,s,g,m;return this.V?{filter:this.Filter,version:this.V,revision:this.R,permissions:this.P,keyLength:this.Length,encryptMetadata:this.EncryptMetadata,stringKeyLength:(e=this.stringFilter)===null||e===void 0?void 0:e.Length,streamKeyLength:(r=this.streamFilter)===null||r===void 0?void 0:r.Length,stringMethod:(a=this.stringFilter)===null||a===void 0?void 0:a.CFM,streamMethod:(c=this.streamFilter)===null||c===void 0?void 0:c.CFM,oPasswordHash:(o=this.O)===null||o===void 0?void 0:o.bytes,uPasswordHash:(f=this.U)===null||f===void 0?void 0:f.bytes,oEncPasswordHash:(s=this.OE)===null||s===void 0?void 0:s.bytes,uEncPasswordHash:(g=this.UE)===null||g===void 0?void 0:g.bytes,perms:(m=this.Perms)===null||m===void 0?void 0:m.bytes}:null}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});var a,c;return __awaiter$L(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:o,bounds:f}=e,s=f.contentStart||f.start,g=f.contentEnd||f.end;let m=yield o.skipToNextNameAsync(s,g-1),p,t;for(;t=yield o.parseNameAtAsync(m),t;)switch(m=t.end+1,p=t.value,p){case"/Filter":case"/SubFilter":case"/StmF":case"/StrF":case"/EFF":m=yield this.parseNamePropAsync(p,o,m);break;case"/V":const b=yield o.parseNumberAtAsync(m,!1);if(b&&Object.values(cryptVersions).includes(b.value))this.V=b.value,m=b.end+1;else throw new Error("Can't parse /V property value");break;case"/R":const C=yield o.parseNumberAtAsync(m,!1);if(C&&Object.values(cryptRevisions).includes(C.value))this.R=C.value,m=C.end+1;else throw new Error("Can't parse /R property value");break;case"/Length":case"/P":m=yield this.parseNumberPropAsync(p,o,m,!1);break;case"/O":case"/U":case"/OE":case"/UE":case"/Perms":m=yield this.parseLiteralPropAsync(p,o,m,e.cryptInfo);break;case"/EncryptMetadata":m=yield this.parseBoolPropAsync(p,o,m);break;case"/CF":const w=yield o.getDictBoundsAtAsync(m);if(f){const M=yield CryptMapDict.parseAsync({parser:o,bounds:w});M&&(this.CF=M.value,m=M.end+1)}else throw new Error("Can't parse /CF property value");break;case"/Recipients":const v=yield o.getValueTypeAtAsync(m);if(v===valueTypes.STRING_HEX){const M=yield HexString.parseAsync(o,m,e.cryptInfo);if(M){this.Recipients=M.value,m=M.end+1;break}else throw new Error("Can't parse /Recipients property value")}else if(v===valueTypes.ARRAY){const M=yield HexString.parseArrayAsync(o,m);if(M){this.Recipients=M.value,m=M.end+1;break}else throw new Error("Can't parse /Recipients property value")}throw new Error(`Unsupported /Filter property value type: ${v}`);default:m=yield o.skipToNextNameAsync(m,g-1);break}if(!this.Filter)throw new Error("Not all required properties parsed");if(this.Filter==="/Standard"&&(!this.R||!this.O||!this.U||isNaN(this.P)||this.V===5&&(this.R<5||!this.OE||!this.UE||!this.Perms)))throw new Error("Not all required properties parsed");if((this.SubFilter==="adbe.pkcs7.s3"||this.SubFilter==="adbe.pkcs7.s4")&&!this.Recipients)throw new Error("Not all required properties parsed");this.StrF!=="/Identity"&&(this.stringFilter=(a=this.CF)===null||a===void 0?void 0:a.getProp(this.StrF)),this.StmF!=="/Identity"&&(this.streamFilter=(c=this.CF)===null||c===void 0?void 0:c.getProp(this.StmF))})}}var __awaiter$K=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TrailerDict extends PdfDict{constructor(){super(dictTypes.EMPTY)}static parseAsync(e){return __awaiter$K(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new TrailerDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Size&&c.push(...a.encode("/Size "),...a.encode(" "+this.Size)),this.Prev&&c.push(...a.encode("/Prev "),...a.encode(" "+this.Prev)),this.Root&&c.push(...a.encode("/Root "),...this.Root.toArray(e)),this.Encrypt&&c.push(...a.encode("/Encrypt "),...this.Encrypt.toArray(e)),this.Info&&c.push(...a.encode("/Info "),...this.Info.toArray(e)),this.ID&&c.push(...a.encode("/ID "),...this.encodeSerializableArray(this.ID,e));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$K(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Size":case"/Prev":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/Root":case"/Info":s=yield this.parseRefPropAsync(g,a,s);break;case"/Encrypt":const p=yield a.getValueTypeAtAsync(s);if(p===valueTypes.REF){const C=yield ObjectId.parseRefAsync(a,s);if(C){this.Encrypt=C.value,s=C.end+1;break}else throw new Error("Can't parse /Encrypt property value")}throw new Error(`Unsupported /Encrypt property value type: ${p}`);case"/ID":const t=yield HexString.parseArrayAsync(a,s);if(t&&t.value[0]&&t.value[1]){this.ID=[t.value[0],t.value[1]],s=t.end+1;break}const b=yield LiteralString.parseArrayAsync(a,s);if(b&&b.value[0]&&b.value[1]){this.ID=[HexString.fromHexBytes(b.value[0].bytes),HexString.fromHexBytes(b.value[1].bytes)],s=b.end+1;break}throw new Error("Can't parse /ID property value");default:s=yield a.skipToNextNameAsync(s,f-1);break}if(this.Root||console.log("Trailer 'Root' property is missing. Look like the file is linearized, which is not oficially supported atm!"),!this.Size)throw new Error("Not all required properties parsed: Size is missing");if(this.Encrypt&&!this.ID)throw new Error("Not all required properties parsed: ID is missing while Encryption is used")})}}var __awaiter$J=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class XRefTable extends XRef{constructor(e,r,a){super(xRefTypes.TABLE),this._table=e,this._trailerDict=r,this._offset=a}get prev(){var e;return(e=this._trailerDict)===null||e===void 0?void 0:e.Prev}get size(){var e;return(e=this._trailerDict)===null||e===void 0?void 0:e.Size}get root(){var e;return(e=this._trailerDict)===null||e===void 0?void 0:e.Root}get info(){var e;return(e=this._trailerDict)===null||e===void 0?void 0:e.Root}get encrypt(){var e;return(e=this._trailerDict)===null||e===void 0?void 0:e.Encrypt}get id(){var e;return(e=this._trailerDict)===null||e===void 0?void 0:e.ID}static createFrom(e,r,a){if(!r?.length||!e)return null;const c=Math.max(...r.map(f=>f.id))+1,o=Math.max(c,e.size);return XRefTable.create(r,o,a,e.root,e.offset,e.info,e.encrypt,e.id)}static create(e,r,a,c,o,f,s,g){if(!e?.length||!r||!a||!c)return null;const m=new TrailerDict;m.Size=r,m.Prev=o,m.Root=c,m.Info=f,m.Encrypt=s,m.ID=g;const p=XRefEntry.toTableBytes(e);return new XRefTable(p,m,a)}static parseAsync(e,r,a){return __awaiter$J(this,void 0,void 0,function*(){if(!e||isNaN(r))return null;const c=yield e.getXrefTableBoundsAtAsync(r);if(!c)return null;const o=yield e.getDictBoundsAtAsync(c.end+1);if(!o)return null;const f=yield e.sliceCharCodesAsync(c.contentStart,c.contentEnd),s=yield TrailerDict.parseAsync({parser:e,bounds:o});return s?{value:new XRefTable(f,s.value,a),start:null,end:null}:null})}createUpdate(e,r){return XRefTable.createFrom(this,e,r)}getEntries(){return this._table.length?XRefEntry.fromTableBytes(this._table):[]}toArray(e){const r=this._trailerDict.toArray(e),a=[...keywordCodes.XREF_TABLE,...keywordCodes.END_OF_LINE,...this._table,...keywordCodes.TRAILER,...keywordCodes.END_OF_LINE,...r,...keywordCodes.END_OF_LINE];return new Uint8Array(a)}}var __awaiter$I=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class XrefParser{constructor(e){if(!e)throw new Error("Parser is not defined");this._dataParser=e}getPdfVersionAsync(){var e;return __awaiter$I(this,void 0,void 0,function*(){const r=yield this._dataParser.findSubarrayIndexAsync(keywordCodes.VERSION);if(!r)return null;const a=(e=yield this._dataParser.parseNumberAtAsync(r.end+1,!0))===null||e===void 0?void 0:e.value;return a?a.toFixed(1):null})}getLastXrefIndexAsync(){return __awaiter$I(this,void 0,void 0,function*(){const e=yield this._dataParser.findSubarrayIndexAsync(keywordCodes.XREF_START,{maxIndex:this._dataParser.maxIndex,direction:!1});if(!e)return null;const r=this._dataParser.parseNumberAtAsync(e.end+1);return r||null})}parseXrefAsync(e,r){return __awaiter$I(this,void 0,void 0,function*(){if(!e)return null;const a=e,c=yield this._dataParser.findSubarrayIndexAsync(keywordCodes.XREF_TABLE,{minIndex:e,closedOnly:!0});if(c&&c.start===e){const g=yield this._dataParser.findSubarrayIndexAsync(keywordCodes.XREF_HYBRID,{minIndex:e,maxIndex:r,closedOnly:!0});if(g){const m=yield this._dataParser.parseNumberAtAsync(g.end+1);if(!m)return null;e=m.value}else{const m=yield XRefTable.parseAsync(this._dataParser,e,a);return m?.value}}const o=yield ObjectId.parseAsync(this._dataParser,e,!1);if(!o)return null;const f=yield this._dataParser.getIndirectObjectBoundsAtAsync(o.end+1);if(!f)return null;const s=yield XRefStream.parseAsync({parser:this._dataParser,bounds:f},a);return s?.value})}parseAllXrefsAsync(e){return __awaiter$I(this,void 0,void 0,function*(){const r=[];let a=this._dataParser.maxIndex,c;for(;e&&(c=yield this.parseXrefAsync(e,a),c);)r.push(c),a=e,e=c.prev;return r})}}class ReferenceData{constructor(e){var r;const a=[],c=[],o=[];let f=0;e.forEach(v=>{for(const M of v.getEntries()){switch(M.type){case xRefEntryTypes.FREE:a.push(M);break;case xRefEntryTypes.NORMAL:c.push(M);break;case xRefEntryTypes.COMPRESSED:o.push(M);break;default:continue}M.id>f&&(f=M.id)}}),this.size=f+1;const s={id:0,generation:maxGeneration,nextFreeId:0},g=new LinkedList(s),m=new Map,p=new Map;let t=!1;for(const v of a){if(!t&&v.id===0){t=!0,s.nextFreeId=v.nextFreeId;continue}const M=p.get(v.id);(!M||M.generation<v.generation)&&p.set(v.id,{id:v.id,generation:v.generation,nextFreeId:v.nextFreeId})}let b=s.nextFreeId,C;for(;b;)C=p.get(b),p.delete(b),g.push(C),b=C.nextFreeId;[...p].forEach(v=>{const M=v[1];M.generation===maxGeneration&&M.nextFreeId===0&&m.set(M.id,M)}),this.freeLinkedList=g,this.freeOutsideListMap=m;const w=new Map;for(const v of c){if(this.isFreed(v))continue;const M=w.get(v.id);M&&M.generation>=v.generation||w.set(v.id,{id:v.id,generation:v.generation,byteOffset:v.byteOffset})}for(const v of o){if(this.isFreed(v)||w.get(v.id))continue;const y=(r=w.get(v.streamId))===null||r===void 0?void 0:r.byteOffset;y&&w.set(v.id,{id:v.id,generation:v.generation,byteOffset:y,compressed:!0,streamId:v.streamId,streamIndex:v.streamIndex})}this.usedMap=w}getOffset(e){var r;return(r=this.usedMap.get(e))===null||r===void 0?void 0:r.byteOffset}getGeneration(e){var r;return(r=this.usedMap.get(e))===null||r===void 0?void 0:r.generation}isFreed(e){return this.freeOutsideListMap.has(e.id)||this.freeLinkedList.has(e,(r,a)=>r.id===a.id&&r.generation<a.generation)}isUsed(e){return this.usedMap.has(e)}}var __awaiter$H=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class CatalogDict extends PdfDict{constructor(){super(dictTypes.CATALOG)}static parseAsync(e){return __awaiter$H(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new CatalogDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Version&&c.push(...a.encode("/Version "),...a.encode(this.Version)),this.Pages&&c.push(...a.encode("/Pages "),...this.Pages.toArray(e)),this.Lang&&c.push(...a.encode("/Lang "),...this.Lang.toArray(e));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$H(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Version":s=yield this.parseNamePropAsync(g,a,s);break;case"/Pages":s=yield this.parseRefPropAsync(g,a,s);break;case"/Lang":s=yield this.parseLiteralPropAsync(g,a,s,e.cryptInfo);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.Pages)throw new Error("Not all required properties parsed")})}}var __awaiter$G=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PageDict extends PdfDict{constructor(){super(dictTypes.PAGE),this.Rotate=0}static parseAsync(e){return __awaiter$G(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new PageDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Parent&&c.push(...a.encode("/Parent "),...this.Parent.toArray(e)),this.LastModified&&c.push(...a.encode("/LastModified "),...this.LastModified.toArray(e)),this.Resources&&c.push(...a.encode("/Resources "),...this.Resources),this.MediaBox&&c.push(...a.encode("/MediaBox "),...this.encodePrimitiveArray(this.MediaBox,a)),this.CropBox&&c.push(...a.encode("/CropBox "),...this.encodePrimitiveArray(this.CropBox,a)),this.BleedBox&&c.push(...a.encode("/BleedBox "),...this.encodePrimitiveArray(this.BleedBox,a)),this.TrimBox&&c.push(...a.encode("/TrimBox "),...this.encodePrimitiveArray(this.TrimBox,a)),this.ArtBox&&c.push(...a.encode("/ArtBox "),...this.encodePrimitiveArray(this.ArtBox,a)),this.Contents&&(this.Contents instanceof ObjectId?c.push(...a.encode("/Contents "),...this.Contents.toArray(e)):c.push(...a.encode("/Contents "),...this.encodeSerializableArray(this.Contents,e))),this.Rotate&&c.push(...a.encode("/Rotate "),...a.encode(" "+this.Rotate)),this.Thumb&&c.push(...a.encode("/Thumb "),...this.Thumb.toArray(e)),this.B&&(this.B instanceof ObjectId?c.push(...a.encode("/B "),...this.B.toArray(e)):c.push(...a.encode("/B "),...this.encodeSerializableArray(this.B,e))),this.Dur&&c.push(...a.encode("/Dur "),...a.encode(" "+this.Dur)),this.Annots&&(this.Annots instanceof ObjectId?c.push(...a.encode("/Annots "),...this.Annots.toArray(e)):c.push(...a.encode("/Annots "),...this.encodeSerializableArray(this.Annots,e))),this.Metadata&&c.push(...a.encode("/Metadata "),...this.Metadata.toArray(e)),this.StructParent&&c.push(...a.encode("/StructParent "),...a.encode(" "+this.StructParent)),this.ID&&c.push(...a.encode("/ID "),...this.ID.toArray(e)),this.PZ&&c.push(...a.encode("/PZ "),...a.encode(" "+this.PZ)),this.Tabs&&c.push(...a.encode("/Tabs "),...a.encode(this.Tabs)),this.TemplateInstantiated&&c.push(...a.encode("/TemplateInstantiated "),...a.encode(this.TemplateInstantiated)),this.UserUnit&&c.push(...a.encode("/UserUnit "),...a.encode(" "+this.UserUnit));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$G(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Parent":case"/Thumb":case"/Metadata":s=yield this.parseRefPropAsync(g,a,s);break;case"/LastModified":s=yield this.parseDatePropAsync(g,a,s,e.cryptInfo);break;case"/Resources":const p=yield a.getValueTypeAtAsync(s);if(p===valueTypes.REF){const C=yield ObjectId.parseRefAsync(a,s);if(C&&e.parseInfoGetterAsync){this.Resources=yield a.sliceCharCodesAsync(C.start,C.end),s=C.end+1;break}throw new Error("Can't parse /Resources value reference")}else if(p===valueTypes.DICTIONARY){const C=yield a.getDictBoundsAtAsync(s);if(C){this.Resources=yield a.sliceCharCodesAsync(C.start,C.end),s=C.end+1;break}throw new Error("Can't parse /Resources dictionary bounds")}throw new Error(`Unsupported /Resources property value type: ${p}`);case"/MediaBox":case"/CropBox":case"/BleedBox":case"/TrimBox":case"/ArtBox":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;case"/Contents":case"/B":case"/Annots":const t=yield a.getValueTypeAtAsync(s);if(t===valueTypes.REF){const C=yield ObjectId.parseRefAsync(a,s);if(C){this[g.slice(1)]=C.value,s=C.end+1;break}}else if(t===valueTypes.ARRAY){const C=yield ObjectId.parseRefArrayAsync(a,s);if(C){this[g.slice(1)]=C.value,s=C.end+1;break}}throw new Error(`Unsupported ${g} property value type: ${t}`);case"/Rotate":case"/Dur":case"/StructParent":case"/PZ":case"/UserUnit":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/ID":const b=yield a.getValueTypeAtAsync(s);if(b===valueTypes.REF){const C=yield ObjectId.parseRefAsync(a,s);if(C&&C&&e.parseInfoGetterAsync){const w=yield e.parseInfoGetterAsync(C.value.id);if(w){const v=yield HexString.parseAsync(w.parser,w.bounds.start,w.cryptInfo);if(v){this.ID=v.value,s=C.end+1;break}}}throw new Error("Can't parse /ID property value")}else if(b===valueTypes.STRING_HEX){const C=yield HexString.parseAsync(a,s,e.cryptInfo);if(C){this.ID=C.value,s=C.end+1;break}}throw new Error(`Unsupported /ID property value type: ${b}`);case"/Tabs":case"/TemplateInstantiated":s=yield this.parseNamePropAsync(g,a,s);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.Parent)throw new Error("Not all required properties parsed")})}}var __awaiter$F=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PageTreeDict extends PdfDict{constructor(){super(dictTypes.PAGE_TREE),this.Rotate=0}static parseAsync(e){return __awaiter$F(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new PageTreeDict;return yield r.parsePropsAsync(e),{value:r,start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Parent&&c.push(...a.encode("/Parent "),...this.Parent.toArray(e)),this.Kids&&c.push(...a.encode("/Kids "),...this.encodeSerializableArray(this.Kids,e)),this.Count&&c.push(...a.encode("/Count "),...a.encode(" "+this.Count)),this.MediaBox&&c.push(...a.encode("/MediaBox "),...this.encodePrimitiveArray(this.MediaBox,a)),this.Rotate&&c.push(...a.encode("/Rotate "),...a.encode(" "+this.Rotate));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$F(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Parent":s=yield this.parseRefPropAsync(g,a,s);break;case"/Kids":s=yield this.parseRefArrayPropAsync(g,a,s);break;case"/Count":case"/Rotate":s=yield this.parseNumberPropAsync(g,a,s,!1);break;case"/MediaBox":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.Kids||isNaN(this.Count))throw new Error("Not all required properties parsed")})}}const standardStampColors={redColor:[.804,0,0],greenColor:[0,.804,0],blueColor:[0,0,.804]},standardStampBBox=[0,0,440,120],standardStampRect=[0,0,220,60],standardStampForms={DRAFT:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  150 61 m
  150.047 65.947 149.114 70.413 147.2 74.4 c
  145.287 78.333 142.853 81.373 139.9 83.52 c
  137.68 85.127 135.24 86.263 132.58 86.93 c
  129.92 87.593 126.763 87.957 123.11 88.02 c
  106.91 88.29 l
  106.401 35.19 l
  123.001 34.912 l
  126.734 34.85 129.961 35.165 132.681 35.857 c
  135.394 36.524 137.681 37.507 139.541 38.807 c
  142.721 40.994 145.234 43.974 147.081 47.747 c
  148.941 51.5 149.898 55.934 149.951 61.047 c
  h
  137.8 61.097 m
  137.767 57.597 137.183 54.621 136.05 52.167 c
  134.937 49.687 133.183 47.764 130.79 46.397 c
  129.57 45.731 128.323 45.287 127.05 45.067 c
  125.797 44.827 123.897 44.728 121.35 44.77 c
  118.36 44.82 l
  118.678 78.12 l
  121.668 78.07 l
  124.481 78.023 126.541 77.846 127.848 77.538 c
  129.161 77.207 130.438 76.637 131.678 75.828 c
  133.818 74.362 135.381 72.432 136.368 70.038 c
  137.348 67.618 137.821 64.648 137.788 61.128 c
  f
  185 50 m
  184.987 48.667 184.74 47.53 184.259 46.59 c
  183.778 45.643 182.961 44.907 181.809 44.38 c
  181.002 44.013 180.066 43.802 178.999 43.749 c
  177.932 43.672 176.689 43.645 175.269 43.669 c
  170.989 43.74 l
  171.126 58.04 l
  174.756 57.979 l
  176.643 57.948 178.223 57.814 179.496 57.579 c
  180.769 57.344 181.833 56.837 182.686 56.059 c
  183.499 55.306 184.086 54.486 184.446 53.599 c
  184.827 52.686 185.011 51.483 184.996 49.989 c
  h
  203.8 86.6 m
  189.4 86.841 l
  176.7 67.541 l
  171.25 67.632 l
  171.437 87.132 l
  159.637 87.329 l
  159.128 34.229 l
  178.928 33.897 l
  181.635 33.852 183.965 33.991 185.918 34.315 c
  187.871 34.639 189.705 35.382 191.418 36.545 c
  193.151 37.705 194.531 39.228 195.558 41.115 c
  196.605 42.975 197.141 45.335 197.168 48.195 c
  197.206 52.122 196.446 55.335 194.888 57.835 c
  193.355 60.335 191.138 62.432 188.238 64.125 c
  f
  251 85.8 m
  238.8 86.004 l
  235.53 75.304 l
  218.53 75.588 l
  215.46 86.388 l
  203.56 86.587 l
  219.96 33.187 l
  233.56 32.959 l
  h
  232.6 65.6 m
  226.78 46.6 l
  221.33 65.8 l
  f
  290 42.3 m
  268.9 42.653 l
  268.995 52.543 l
  288.495 52.216 l
  288.593 62.516 l
  269.093 62.843 l
  269.31 85.543 l
  257.51 85.74 l
  257.001 32.64 l
  289.801 32.091 l
  f
  334 41.5 m
  319.7 41.739 l
  320.11 84.639 l
  308.31 84.837 l
  307.9 41.937 l
  293.6 42.176 l
  293.502 31.876 l
  333.902 31.199 l
  f
  `,APPROVED:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  88.9 86.4 m
  78 86.585 l
  75.08 76.895 l
  59.88 77.153 l
  57.14 86.933 l
  46.54 87.114 l
  61.24 38.714 l
  73.34 38.508 l
  h
  72.4 68.1 m
  67.21 50.9 l
  62.35 68.3 l
  f
  128 52.8 m
  128.02 54.953 127.72 57.073 127.098 59.16 c
  126.477 61.22 125.577 62.96 124.398 64.38 c
  122.785 66.307 120.975 67.77 118.968 68.77 c
  116.981 69.777 114.495 70.303 111.508 70.35 c
  104.938 70.462 l
  105.086 86.162 l
  94.586 86.341 l
  94.132 38.141 l
  111.532 37.846 l
  114.132 37.802 116.322 38.034 118.102 38.543 c
  119.902 39.03 121.492 39.79 122.872 40.823 c
  124.532 42.07 125.802 43.676 126.682 45.643 c
  127.582 47.61 128.045 49.986 128.072 52.773 c
  h
  117.1 53.276 m
  117.087 51.916 116.765 50.756 116.133 49.796 c
  115.501 48.816 114.771 48.139 113.943 47.766 c
  112.836 47.267 111.763 47.005 110.723 46.98 c
  109.676 46.933 108.283 46.924 106.543 46.954 c
  104.733 46.985 l
  104.869 61.385 l
  107.889 61.333 l
  109.682 61.303 111.156 61.149 112.309 60.87 c
  113.476 60.592 114.449 60.058 115.229 59.27 c
  115.902 58.57 116.379 57.744 116.659 56.79 c
  116.961 55.817 117.106 54.64 117.093 53.26 c
  f
  170 52.1 m
  170.02 54.253 169.72 56.373 169.098 58.46 c
  168.477 60.52 167.577 62.26 166.398 63.68 c
  164.785 65.607 162.975 67.07 160.968 68.07 c
  158.981 69.077 156.495 69.603 153.508 69.65 c
  146.938 69.762 l
  147.086 85.462 l
  136.586 85.641 l
  136.132 37.441 l
  153.532 37.146 l
  156.132 37.102 158.322 37.334 160.102 37.843 c
  161.902 38.33 163.492 39.09 164.872 40.123 c
  166.532 41.37 167.802 42.976 168.682 44.943 c
  169.582 46.91 170.045 49.286 170.072 52.073 c
  h
  159.1 52.576 m
  159.087 51.216 158.765 50.056 158.133 49.096 c
  157.501 48.116 156.771 47.439 155.943 47.066 c
  154.836 46.567 153.763 46.305 152.723 46.28 c
  151.676 46.233 150.283 46.224 148.543 46.254 c
  146.733 46.285 l
  146.869 60.685 l
  149.889 60.633 l
  151.682 60.603 153.156 60.449 154.309 60.17 c
  155.476 59.892 156.449 59.358 157.229 58.57 c
  157.902 57.87 158.379 57.044 158.659 56.09 c
  158.961 55.117 159.106 53.94 159.093 52.56 c
  f
  200 51.1 m
  199.989 49.893 199.768 48.863 199.339 48.01 c
  198.91 47.157 198.18 46.49 197.149 46.01 c
  196.429 45.677 195.592 45.487 194.639 45.438 c
  193.686 45.368 192.576 45.344 191.309 45.365 c
  187.489 45.43 l
  187.611 58.43 l
  190.851 58.375 l
  192.538 58.346 193.948 58.225 195.081 58.012 c
  196.214 57.799 197.161 57.342 197.921 56.642 c
  198.648 55.962 199.171 55.219 199.491 54.412 c
  199.831 53.585 199.995 52.492 199.982 51.132 c
  h
  216.8 84.2 m
  203.9 84.419 l
  192.6 66.919 l
  187.74 67.002 l
  187.906 84.702 l
  177.406 84.88 l
  176.952 36.68 l
  194.652 36.379 l
  197.072 36.338 199.152 36.464 200.892 36.758 c
  202.632 37.052 204.269 37.725 205.802 38.778 c
  207.349 39.831 208.579 41.211 209.492 42.918 c
  210.425 44.604 210.902 46.741 210.922 49.328 c
  210.956 52.888 210.279 55.801 208.892 58.068 c
  207.519 60.334 205.539 62.234 202.952 63.768 c
  f
  261 59.4 m
  261.073 67.067 259.263 73.2 255.57 77.8 c
  251.877 82.373 246.743 84.713 240.17 84.82 c
  233.597 84.932 228.43 82.765 224.67 78.32 c
  220.89 73.853 218.963 67.787 218.89 60.12 c
  218.817 52.387 220.627 46.253 224.32 41.72 c
  228.013 37.147 233.147 34.807 239.72 34.7 c
  246.273 34.589 251.44 36.755 255.22 41.2 c
  259.013 45.62 260.947 51.687 261.02 59.4 c
  h
  247.1 71.8 m
  248.113 70.313 248.857 68.577 249.33 66.59 c
  249.805 64.577 250.03 62.223 250.005 59.53 c
  249.978 56.643 249.671 54.19 249.084 52.17 c
  248.497 50.15 247.741 48.523 246.814 47.29 c
  245.867 46.01 244.777 45.09 243.544 44.53 c
  242.331 43.968 241.064 43.698 239.744 43.721 c
  238.404 43.744 237.144 44.045 235.964 44.626 c
  234.797 45.207 233.724 46.153 232.744 47.466 c
  231.837 48.686 231.101 50.369 230.534 52.516 c
  229.986 54.636 229.725 57.099 229.752 59.906 c
  229.779 62.773 230.077 65.216 230.645 67.236 c
  231.232 69.229 231.988 70.856 232.915 72.116 c
  233.842 73.376 234.922 74.296 236.155 74.876 c
  237.388 75.459 238.682 75.739 240.035 75.716 c
  241.388 75.693 242.675 75.369 243.895 74.745 c
  245.115 74.099 246.178 73.122 247.085 71.815 c
  f
  306 34.6 m
  291.5 83 l
  279.7 83.201 l
  264.3 35.301 l
  275.4 35.113 l
  285.6 68.813 l
  295.17 34.813 l
  f
  342 82.1 m
  312.4 82.603 l
  311.946 34.403 l
  341.546 33.9 l
  341.634 43.22 l
  322.534 43.544 l
  322.612 51.854 l
  340.312 51.553 l
  340.4 60.873 l
  322.7 61.174 l
  322.812 73.074 l
  341.912 72.75 l
  f
  389 57.3 m
  389.042 61.787 388.209 65.82 386.5 69.4 c
  384.793 72.967 382.62 75.72 379.98 77.66 c
  378 79.12 375.82 80.15 373.44 80.75 c
  371.067 81.351 368.25 81.68 364.99 81.735 c
  350.59 81.98 l
  350.136 33.78 l
  364.936 33.528 l
  368.269 33.471 371.146 33.757 373.566 34.384 c
  375.993 34.99 378.033 35.883 379.686 37.064 c
  382.526 39.044 384.769 41.744 386.416 45.164 c
  388.076 48.564 388.929 52.597 388.976 57.264 c
  h
  378.1 57.388 m
  378.07 54.222 377.55 51.525 376.54 49.298 c
  375.547 47.052 373.983 45.308 371.85 44.068 c
  370.763 43.461 369.65 43.058 368.51 42.858 c
  367.39 42.64 365.693 42.551 363.42 42.589 c
  360.76 42.634 l
  361.044 72.734 l
  363.704 72.689 l
  366.211 72.647 368.051 72.486 369.224 72.207 c
  370.391 71.907 371.531 71.391 372.644 70.657 c
  374.557 69.331 375.951 67.581 376.824 65.407 c
  377.704 63.214 378.127 60.521 378.094 57.327 c
  f
  `,NOT_APPROVED:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  57.1 85.5 m
  49.12 85.636 l
  35.32 55.036 l
  35.469 85.936 l
  27.879 86.066 l
  27.662 41.066 l
  37.562 40.897 l
  49.362 66.497 l
  49.238 40.697 l
  56.828 40.567 l
  f
  96.4 62.4 m
  96.435 69.533 94.995 75.267 92.08 79.6 c
  89.167 83.86 85.133 86.033 79.98 86.12 c
  74.82 86.208 70.753 84.175 67.78 80.02 c
  64.827 75.84 63.333 70.173 63.3 63.02 c
  63.265 55.82 64.705 50.087 67.62 45.82 c
  70.533 41.56 74.567 39.387 79.72 39.3 c
  84.867 39.212 88.933 41.245 91.92 45.4 c
  94.887 49.533 96.387 55.2 96.42 62.4 c
  h
  85.5 74 m
  86.3 72.62 86.89 71 87.27 69.14 c
  87.649 67.26 87.833 65.063 87.82 62.55 c
  87.807 59.85 87.573 57.56 87.118 55.68 c
  86.663 53.793 86.073 52.273 85.348 51.12 c
  84.608 49.927 83.755 49.067 82.788 48.54 c
  81.835 48.013 80.841 47.758 79.808 47.776 c
  78.761 47.794 77.771 48.073 76.838 48.612 c
  75.918 49.151 75.075 50.031 74.308 51.252 c
  73.595 52.392 73.011 53.962 72.558 55.962 c
  72.122 57.942 71.91 60.242 71.923 62.862 c
  71.936 65.542 72.163 67.822 72.603 69.702 c
  73.058 71.569 73.648 73.089 74.373 74.262 c
  75.1 75.435 75.946 76.295 76.913 76.842 c
  77.88 77.389 78.893 77.654 79.953 77.635 c
  81.02 77.617 82.033 77.318 82.993 76.738 c
  83.953 76.138 84.79 75.228 85.503 74.008 c
  f
  128 48 m
  118 48.172 l
  118.175 84.472 l
  109.895 84.614 l
  109.72 48.314 l
  99.72 48.486 l
  99.678 39.786 l
  127.978 39.301 l
  f
  178 83.4 m
  169.44 83.546 l
  167.18 74.496 l
  155.28 74.7 l
  153.1 83.83 l
  144.76 83.973 l
  156.36 38.773 l
  165.89 38.61 l
  h
  165.1 66.3 m
  161.08 50.2 l
  157.21 66.4 l
  f
  209 52.1 m
  209.01 54.113 208.768 56.09 208.274 58.03 c
  207.78 59.95 207.07 61.573 206.144 62.9 c
  204.871 64.693 203.447 66.057 201.874 66.99 c
  200.314 67.923 198.361 68.41 196.014 68.45 c
  190.864 68.538 l
  190.935 83.138 l
  182.655 83.28 l
  182.438 38.28 l
  196.038 38.047 l
  198.078 38.012 199.798 38.235 201.198 38.714 c
  202.611 39.173 203.858 39.886 204.938 40.854 c
  206.238 42.021 207.231 43.524 207.918 45.364 c
  208.618 47.204 208.974 49.421 208.988 52.014 c
  h
  200.44 52.518 m
  200.434 51.251 200.184 50.168 199.691 49.268 c
  199.198 48.348 198.628 47.715 197.981 47.368 c
  197.114 46.9 196.271 46.653 195.451 46.626 c
  194.631 46.58 193.538 46.568 192.171 46.592 c
  190.751 46.616 l
  190.816 60.116 l
  193.186 60.075 l
  194.593 60.051 195.749 59.911 196.656 59.653 c
  197.576 59.396 198.343 58.899 198.956 58.163 c
  199.485 57.51 199.861 56.74 200.086 55.853 c
  200.326 54.947 200.443 53.847 200.437 52.553 c
  f
  241 51.6 m
  241.01 53.613 240.768 55.59 240.274 57.53 c
  239.78 59.45 239.07 61.073 238.144 62.4 c
  236.871 64.193 235.447 65.557 233.874 66.49 c
  232.314 67.423 230.361 67.91 228.014 67.95 c
  222.864 68.038 l
  222.935 82.638 l
  214.655 82.78 l
  214.438 37.78 l
  228.038 37.547 l
  230.078 37.512 231.798 37.735 233.198 38.214 c
  234.611 38.673 235.858 39.386 236.938 40.354 c
  238.238 41.521 239.231 43.024 239.918 44.864 c
  240.618 46.704 240.974 48.921 240.988 51.514 c
  h
  232.44 52.018 m
  232.434 50.751 232.184 49.668 231.691 48.768 c
  231.198 47.848 230.628 47.215 229.981 46.868 c
  229.114 46.4 228.271 46.153 227.451 46.126 c
  226.631 46.08 225.538 46.068 224.171 46.092 c
  222.751 46.116 l
  222.816 59.616 l
  225.186 59.575 l
  226.593 59.551 227.749 59.411 228.656 59.153 c
  229.576 58.896 230.343 58.399 230.956 57.663 c
  231.485 57.01 231.861 56.24 232.086 55.353 c
  232.326 54.447 232.443 53.347 232.437 52.053 c
  f
  265 50.7 m
  264.995 49.573 264.825 48.61 264.49 47.81 c
  264.155 47.01 263.585 46.387 262.78 45.94 c
  262.218 45.627 261.565 45.447 260.82 45.4 c
  260.073 45.332 259.203 45.307 258.21 45.324 c
  255.21 45.375 l
  255.269 57.475 l
  257.809 57.432 l
  259.129 57.409 260.235 57.299 261.129 57.103 c
  262.022 56.906 262.769 56.479 263.369 55.823 c
  263.941 55.189 264.354 54.499 264.609 53.753 c
  264.878 52.986 265.01 51.966 265.004 50.693 c
  h
  278.1 81.7 m
  268 81.873 l
  259.17 65.573 l
  255.35 65.638 l
  255.43 82.138 l
  247.19 82.279 l
  246.973 37.279 l
  260.873 37.041 l
  262.773 37.009 264.406 37.132 265.773 37.41 c
  267.139 37.689 268.423 38.322 269.623 39.31 c
  270.836 40.297 271.799 41.59 272.513 43.19 c
  273.239 44.77 273.609 46.767 273.623 49.18 c
  273.639 52.5 273.099 55.217 272.003 57.33 c
  270.923 59.444 269.366 61.21 267.333 62.63 c
  f
  313 58.7 m
  313.035 65.833 311.595 71.567 308.68 75.9 c
  305.767 80.16 301.733 82.333 296.58 82.42 c
  291.42 82.508 287.353 80.475 284.38 76.32 c
  281.427 72.14 279.933 66.473 279.9 59.32 c
  279.865 52.12 281.305 46.387 284.22 42.12 c
  287.133 37.86 291.167 35.687 296.32 35.6 c
  301.467 35.512 305.533 37.545 308.52 41.7 c
  311.487 45.833 312.987 51.5 313.02 58.7 c
  h
  302.1 70.3 m
  302.9 68.92 303.49 67.3 303.87 65.44 c
  304.249 63.56 304.433 61.363 304.42 58.85 c
  304.407 56.15 304.173 53.86 303.718 51.98 c
  303.263 50.093 302.673 48.573 301.948 47.42 c
  301.208 46.227 300.355 45.367 299.388 44.84 c
  298.435 44.313 297.441 44.058 296.408 44.076 c
  295.361 44.094 294.371 44.373 293.438 44.912 c
  292.518 45.451 291.675 46.331 290.908 47.552 c
  290.195 48.692 289.611 50.262 289.158 52.262 c
  288.722 54.242 288.51 56.542 288.523 59.162 c
  288.536 61.842 288.763 64.122 289.203 66.002 c
  289.658 67.869 290.248 69.389 290.973 70.562 c
  291.7 71.735 292.546 72.595 293.513 73.142 c
  297.62 73.917 298.633 73.618 299.593 73.038 c
  300.553 72.438 301.39 71.528 302.103 70.308 c
  f
  348 35.6 m
  336.5 80.8 l
  327.23 80.959 l
  315.33 36.159 l
  324.02 36.01 l
  331.93 67.41 l
  339.54 35.71 l
  f
  376 80 m
  352.8 80.397 l
  352.583 35.397 l
  375.783 35 l
  375.825 43.7 l
  360.825 43.956 l
  360.863 51.716 l
  374.762 51.478 l
  374.804 60.178 l
  360.904 60.416 l
  360.958 71.516 l
  375.958 71.26 l
  f
  413 57 m
  413.02 61.187 412.357 64.953 411.01 68.3 c
  409.663 71.627 407.95 74.193 405.87 76 c
  404.31 77.353 402.597 78.31 400.73 78.87 c
  398.863 79.425 396.65 79.725 394.09 79.769 c
  382.79 79.963 l
  382.573 34.963 l
  394.173 34.764 l
  396.786 34.719 399.043 34.993 400.943 35.584 c
  402.843 36.155 404.443 36.992 405.743 38.094 c
  407.963 39.947 409.713 42.474 410.993 45.674 c
  412.286 48.854 412.943 52.621 412.963 56.974 c
  h
  404.44 57.056 m
  404.426 54.096 404.026 51.576 403.24 49.496 c
  402.467 47.396 401.243 45.766 399.57 44.606 c
  398.717 44.037 397.847 43.66 396.96 43.476 c
  396.08 43.269 394.75 43.181 392.97 43.212 c
  390.88 43.248 l
  391.016 71.348 l
  393.106 71.312 l
  395.073 71.278 396.516 71.133 397.436 70.876 c
  398.356 70.599 399.253 70.122 400.126 69.446 c
  401.626 68.213 402.726 66.583 403.426 64.556 c
  404.119 62.509 404.459 59.996 404.446 57.016 c
  f
  `,DEPARTMENTAL:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  56.4 63.1 m
  56.412 67.46 55.746 71.393 54.4 74.9 c
  53.06 78.36 51.36 81.03 49.3 82.91 c
  47.753 84.317 46.053 85.31 44.2 85.89 c
  26.42 86.996 l
  26.286 40.196 l
  37.786 40.009 l
  40.379 39.967 42.616 40.256 44.496 40.875 c
  46.376 41.474 47.959 42.35 49.246 43.505 c
  51.446 45.438 53.176 48.072 54.436 51.405 c
  55.709 54.718 56.353 58.652 56.366 63.205 c
  h
  47.92 63.143 m
  47.911 60.063 47.518 57.437 46.74 55.263 c
  45.98 53.077 44.773 51.377 43.12 50.163 c
  42.28 49.569 41.417 49.175 40.53 48.983 c
  39.663 48.767 38.347 48.673 36.58 48.701 c
  34.51 48.735 l
  34.594 78.035 l
  36.664 78.001 l
  38.617 77.97 40.047 77.821 40.954 77.554 c
  41.867 77.267 42.757 76.77 43.624 76.064 c
  45.117 74.784 46.207 73.088 46.894 70.974 c
  47.587 68.848 47.927 66.231 47.914 63.124 c
  f
  85.8 86 m
  62.8 86.373 l
  62.666 39.573 l
  85.666 39.2 l
  85.692 48.26 l
  70.892 48.501 l
  70.915 56.581 l
  84.715 56.357 l
  84.741 65.417 l
  70.941 65.641 l
  70.974 77.241 l
  85.774 77 l
  f
  119 53.4 m
  119.006 55.493 118.763 57.553 118.27 59.58 c
  117.777 61.58 117.071 63.27 116.15 64.65 c
  114.89 66.517 113.477 67.933 111.91 68.9 c
  110.363 69.867 108.43 70.37 106.11 70.41 c
  101.01 70.493 l
  101.054 85.793 l
  92.854 85.926 l
  92.72 39.126 l
  106.22 38.907 l
  108.24 38.874 109.943 39.108 111.33 39.61 c
  112.723 40.091 113.956 40.837 115.03 41.85 c
  116.316 43.063 117.296 44.63 117.97 46.55 c
  118.656 48.47 119.003 50.78 119.01 53.48 c
  h
  110.52 53.821 m
  110.516 52.501 110.271 51.374 109.784 50.441 c
  109.297 49.488 108.734 48.824 108.094 48.451 c
  107.241 47.962 106.407 47.703 105.594 47.674 c
  104.781 47.624 103.697 47.61 102.344 47.632 c
  100.934 47.655 l
  100.974 61.655 l
  103.324 61.617 l
  104.717 61.595 105.864 61.45 106.764 61.184 c
  107.677 60.918 108.437 60.401 109.044 59.634 c
  109.569 58.954 109.945 58.151 110.174 57.224 c
  110.413 56.278 110.531 55.134 110.527 53.794 c
  f
  154 84.9 m
  145.52 85.038 l
  143.29 75.608 l
  131.49 75.799 l
  129.32 85.299 l
  121.06 85.433 l
  132.66 38.433 l
  142.1 38.28 l
  h
  141.3 67.1 m
  137.34 50.4 l
  133.48 67.3 l
  f
  176 52 m
  175.997 50.827 175.83 49.823 175.5 48.99 c
  175.17 48.157 174.607 47.507 173.81 47.04 c
  173.254 46.713 172.604 46.525 171.86 46.474 c
  171.12 46.402 170.26 46.374 169.28 46.39 c
  166.31 46.438 l
  166.346 59.038 l
  168.866 58.998 l
  170.173 58.976 171.269 58.864 172.156 58.662 c
  173.036 58.458 173.776 58.015 174.376 57.332 c
  174.943 56.672 175.353 55.952 175.606 55.172 c
  175.874 54.372 176.006 53.312 176.003 51.992 c
  h
  188.9 84.3 m
  178.9 84.463 l
  170.18 67.463 l
  166.4 67.524 l
  166.449 84.724 l
  158.289 84.856 l
  158.155 38.056 l
  171.955 37.833 l
  173.835 37.803 175.452 37.934 176.805 38.226 c
  178.158 38.519 179.428 39.179 180.615 40.206 c
  181.815 41.233 182.765 42.58 183.465 44.246 c
  184.178 45.893 184.542 47.973 184.555 50.486 c
  184.565 53.946 184.025 56.776 182.935 58.976 c
  181.862 61.176 180.315 63.016 178.295 64.496 c
  f
  218 46.1 m
  208.07 46.261 l
  208.178 84.061 l
  199.978 84.194 l
  199.87 46.394 l
  189.94 46.555 l
  189.914 37.495 l
  218.014 37.039 l
  f
  256 83.2 m
  247.84 83.332 l
  247.75 51.932 l
  241.91 72.332 l
  236.25 72.424 l
  230.3 52.124 l
  230.39 83.524 l
  222.66 83.65 l
  222.526 36.85 l
  232.046 36.695 l
  239.266 60.095 l
  246.336 36.495 l
  255.856 36.34 l
  f
  287 82.7 m
  264 83.073 l
  263.866 36.273 l
  286.866 35.9 l
  286.892 44.96 l
  272.092 45.201 l
  272.115 53.281 l
  285.915 53.057 l
  285.941 62.117 l
  272.141 62.341 l
  272.174 73.941 l
  286.974 73.7 l
  f
  323 82.2 m
  315.1 82.328 l
  301.5 50.428 l
  301.592 82.528 l
  294.072 82.65 l
  293.938 35.85 l
  303.738 35.691 l
  315.438 62.291 l
  315.361 35.491 l
  322.881 35.369 l
  f
  356 43.9 m
  346.07 44.061 l
  346.178 81.861 l
  337.978 81.994 l
  337.87 44.194 l
  327.94 44.355 l
  327.914 35.295 l
  356.014 34.839 l
  f
  390 81.1 m
  381.52 81.238 l
  379.29 71.808 l
  367.49 71.999 l
  365.32 81.499 l
  357.06 81.633 l
  368.66 34.633 l
  378.1 34.48 l
  h
  377.3 63.3 m
  373.34 46.6 l
  369.48 63.5 l
  f
  418 80.6 m
  395.1 80.972 l
  394.966 34.172 l
  403.166 34.039 l
  403.274 71.839 l
  417.974 71.6 l
  f
  `,CONFIDENTIAL:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  48 86.5 m
  45.613 86.541 43.403 86.084 41.37 85.13 c
  39.35 84.177 37.61 82.737 36.15 80.81 c
  34.69 78.883 33.55 76.467 32.73 73.56 c
  31.923 70.653 31.513 67.287 31.5 63.46 c
  31.483 59.9 31.849 56.663 32.6 53.75 c
  33.347 50.837 34.44 48.333 35.88 46.24 c
  37.267 44.227 38.983 42.657 41.03 41.53 c
  43.097 40.41 45.35 39.827 47.79 39.78 c
  49.143 39.757 50.36 39.847 51.44 40.05 c
  52.533 40.233 53.54 40.487 54.46 40.814 c
  55.427 41.18 56.297 41.597 57.07 42.064 c
  57.863 42.513 58.557 42.933 59.15 43.324 c
  59.203 54.224 l
  58.254 54.24 l
  57.849 53.764 57.336 53.201 56.714 52.55 c
  56.107 51.896 55.414 51.253 54.634 50.62 c
  53.84 49.99 52.984 49.46 52.064 49.03 c
  51.144 48.603 50.157 48.398 49.104 48.416 c
  47.937 48.436 46.83 48.717 45.784 49.258 c
  44.737 49.78 43.77 50.643 42.884 51.848 c
  42.044 53.008 41.36 54.538 40.834 56.438 c
  40.326 58.338 40.078 60.638 40.091 63.338 c
  40.104 66.158 40.396 68.508 40.966 70.388 c
  41.55 72.268 42.276 73.745 43.146 74.818 c
  44.026 75.912 45.006 76.692 46.086 77.158 c
  47.166 77.603 48.229 77.816 49.276 77.798 c
  50.282 77.781 51.272 77.553 52.246 77.113 c
  53.232 76.674 54.142 76.084 54.976 75.343 c
  55.676 74.747 56.326 74.111 56.926 73.433 c
  57.526 72.76 58.02 72.177 58.406 71.683 c
  59.268 71.668 l
  59.32 82.368 l
  58.52 82.885 57.753 83.372 57.02 83.828 c
  56.286 84.284 55.52 84.68 54.72 85.018 c
  53.673 85.459 52.69 85.799 51.77 86.038 c
  f
  96.6 62.3 m
  96.635 69.433 95.195 75.167 92.28 79.5 c
  89.367 83.76 85.333 85.933 80.18 86.02 c
  75.02 86.108 70.953 84.075 67.98 79.92 c
  65.027 75.74 63.533 70.073 63.5 62.92 c
  63.465 55.72 64.905 49.987 67.82 45.72 c
  70.733 41.46 74.767 39.287 79.92 39.2 c
  85.067 39.112 89.133 41.145 92.12 45.3 c
  95.087 49.433 96.587 55.1 96.62 62.3 c
  h
  85.7 73.9 m
  86.5 72.52 87.09 70.9 87.47 69.04 c
  87.849 67.16 88.033 64.963 88.02 62.45 c
  88.007 59.75 87.773 57.46 87.318 55.58 c
  86.863 53.693 86.273 52.173 85.548 51.02 c
  84.808 49.827 83.955 48.967 82.988 48.44 c
  82.035 47.913 81.041 47.658 80.008 47.676 c
  78.961 47.694 77.971 47.973 77.038 48.512 c
  76.118 49.051 75.275 49.931 74.508 51.152 c
  73.795 52.292 73.211 53.862 72.758 55.862 c
  72.322 57.842 72.11 60.142 72.123 62.762 c
  72.136 65.442 72.363 67.722 72.803 69.602 c
  73.258 71.469 73.848 72.989 74.573 74.162 c
  75.3 75.335 76.146 76.195 77.113 76.742 c
  78.08 77.289 79.093 77.554 80.153 77.535 c
  81.22 77.517 82.233 77.218 83.193 76.638 c
  84.153 76.038 84.99 75.128 85.703 73.908 c
  f
  132 84.2 m
  124.02 84.336 l
  110.22 53.736 l
  110.369 84.636 l
  102.779 84.766 l
  102.562 39.766 l
  112.462 39.597 l
  124.262 65.197 l
  124.138 39.397 l
  131.728 39.267 l
  f
  163 47.4 m
  148.2 47.653 l
  148.24 56.013 l
  161.94 55.779 l
  161.982 64.479 l
  148.282 64.713 l
  148.375 83.913 l
  140.135 84.054 l
  139.918 39.054 l
  162.918 38.66 l
  f
  186 83.3 m
  167.2 83.622 l
  167.161 75.652 l
  172.421 75.562 l
  172.281 46.562 l
  167.022 46.652 l
  166.983 38.682 l
  185.783 38.36 l
  185.822 46.33 l
  180.562 46.42 l
  180.702 75.42 l
  185.962 75.33 l
  f
  223 60.2 m
  223.02 64.387 222.357 68.153 221.01 71.5 c
  219.663 74.827 217.95 77.393 215.87 79.2 c
  214.31 80.553 212.597 81.51 210.73 82.07 c
  208.863 82.625 206.65 82.925 204.09 82.969 c
  192.79 83.163 l
  192.573 38.163 l
  204.173 37.964 l
  206.786 37.919 209.043 38.193 210.943 38.784 c
  212.843 39.355 214.443 40.192 215.743 41.294 c
  217.963 43.147 219.713 45.674 220.993 48.874 c
  222.286 52.054 222.943 55.821 222.963 60.174 c
  h
  214.44 60.256 m
  214.426 57.296 214.026 54.776 213.24 52.696 c
  212.467 50.596 211.243 48.966 209.57 47.806 c
  208.717 47.237 207.847 46.86 206.96 46.676 c
  206.08 46.469 204.75 46.381 202.97 46.412 c
  200.88 46.448 l
  201.016 74.548 l
  203.106 74.512 l
  205.073 74.478 206.516 74.333 207.436 74.076 c
  208.356 73.799 209.253 73.322 210.126 72.646 c
  211.626 71.413 212.726 69.783 213.426 67.756 c
  214.119 65.709 214.459 63.196 214.446 60.216 c
  f
  253 82.1 m
  229.8 82.497 l
  229.583 37.497 l
  252.783 37.1 l
  252.825 45.8 l
  237.825 46.056 l
  237.862 53.816 l
  251.762 53.578 l
  251.804 62.278 l
  237.904 62.516 l
  237.958 73.616 l
  252.958 73.36 l
  f
  289 81.5 m
  281.02 81.636 l
  267.22 51.036 l
  267.369 81.936 l
  259.779 82.066 l
  259.562 37.066 l
  269.462 36.897 l
  281.262 62.497 l
  281.138 36.697 l
  288.728 36.567 l
  f
  322 44.7 m
  312 44.872 l
  312.175 81.172 l
  303.895 81.314 l
  303.72 45.014 l
  293.72 45.186 l
  293.678 36.486 l
  321.978 36.001 l
  f
  345 80.6 m
  326.2 80.922 l
  326.161 72.952 l
  331.421 72.862 l
  331.281 43.862 l
  326.022 43.952 l
  325.983 35.982 l
  344.783 35.66 l
  344.822 43.63 l
  339.562 43.72 l
  339.702 72.72 l
  344.962 72.63 l
  f
  381 79.9 m
  372.44 80.046 l
  370.18 70.996 l
  358.28 71.2 l
  356.1 80.33 l
  347.76 80.473 l
  359.36 35.273 l
  368.89 35.11 l
  h
  368.1 62.8 m
  364.08 46.7 l
  360.21 62.9 l
  f
  409 79.5 m
  385.8 79.896 l
  385.583 34.896 l
  393.863 34.754 l
  394.038 71.054 l
  408.938 70.799 l
  f
  `,FINAL:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  148 44.7 m
  126.9 45.053 l
  126.995 54.943 l
  146.495 54.616 l
  146.593 64.916 l
  127.093 65.243 l
  127.31 87.943 l
  115.51 88.14 l
  115.001 35.04 l
  147.801 34.491 l
  f
  181 87 m
  154.2 87.449 l
  154.11 78.029 l
  161.62 77.903 l
  161.292 43.603 l
  153.782 43.729 l
  153.692 34.309 l
  180.492 33.86 l
  180.582 43.28 l
  173.072 43.406 l
  173.4 77.706 l
  180.91 77.58 l
  f
  233 86.1 m
  221.6 86.291 l
  201.8 50.191 l
  202.149 86.691 l
  191.349 86.872 l
  190.84 33.772 l
  204.94 33.536 l
  221.94 63.736 l
  221.649 33.336 l
  232.449 33.155 l
  f
  287 85.2 m
  274.8 85.404 l
  271.53 74.704 l
  254.53 74.988 l
  251.46 85.788 l
  239.56 85.987 l
  255.96 32.587 l
  269.56 32.359 l
  h
  268.6 65 m
  262.78 46 l
  257.33 65.2 l
  f
  326 84.5 m
  292.9 85.053 l
  292.391 31.953 l
  304.191 31.755 l
  304.601 74.655 l
  325.801 74.3 l
  f
  `,EXPIRED:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  99.4 88.3 m
  66.3 88.855 l
  65.791 35.755 l
  98.891 35.2 l
  98.989 45.5 l
  77.589 45.858 l
  77.677 55.028 l
  97.577 54.696 l
  97.676 64.996 l
  77.776 65.328 l
  77.902 78.428 l
  99.302 78.07 l
  f
  151 87.5 m
  137.3 87.729 l
  127.3 70.429 l
  117.4 88.129 l
  104.3 88.347 l
  120.3 61.347 l
  104.1 35.247 l
  117.7 35.019 l
  127.4 51.419 l
  137.06 34.719 l
  150.16 34.5 l
  134.36 60.6 l
  f
  195 50.4 m
  195.023 52.78 194.686 55.117 193.99 57.41 c
  193.297 59.683 192.29 61.603 190.97 63.17 c
  189.163 65.297 187.137 66.913 184.89 68.02 c
  182.663 69.127 179.877 69.71 176.53 69.77 c
  169.17 69.893 l
  169.336 87.193 l
  157.536 87.391 l
  157.027 34.291 l
  176.527 33.966 l
  179.44 33.917 181.894 34.174 183.887 34.735 c
  185.9 35.272 187.684 36.112 189.237 37.255 c
  191.097 38.628 192.52 40.402 193.507 42.575 c
  194.514 44.748 195.03 47.368 195.057 50.435 c
  h
  182.8 50.926 m
  182.786 49.426 182.426 48.146 181.72 47.086 c
  181.013 46.006 180.197 45.259 179.27 44.846 c
  178.037 44.295 176.833 44.006 175.66 43.978 c
  174.487 43.926 172.927 43.917 170.98 43.949 c
  168.95 43.983 l
  169.102 59.883 l
  172.492 59.827 l
  174.505 59.793 176.155 59.623 177.442 59.316 c
  178.755 59.008 179.849 58.418 180.722 57.546 c
  181.475 56.772 182.012 55.859 182.332 54.806 c
  182.671 53.732 182.833 52.432 182.818 50.906 c
  f
  228 86.2 m
  201.2 86.649 l
  201.11 77.229 l
  208.62 77.103 l
  208.292 42.803 l
  200.782 42.929 l
  200.692 33.509 l
  227.492 33.06 l
  227.582 42.48 l
  220.072 42.606 l
  220.4 76.906 l
  227.91 76.78 l
  f
  263 48.7 m
  262.987 47.367 262.74 46.23 262.259 45.29 c
  261.778 44.343 260.961 43.607 259.809 43.08 c
  259.002 42.713 258.066 42.502 256.999 42.449 c
  255.932 42.372 254.689 42.345 253.269 42.369 c
  248.989 42.44 l
  249.126 56.74 l
  252.756 56.679 l
  254.643 56.648 256.223 56.514 257.496 56.279 c
  258.769 56.044 259.833 55.537 260.686 54.759 c
  261.499 54.006 262.086 53.186 262.446 52.299 c
  262.827 51.386 263.011 50.183 262.996 48.689 c
  h
  281.8 85.3 m
  267.4 85.541 l
  254.7 66.241 l
  249.25 66.332 l
  249.437 85.832 l
  237.637 86.029 l
  237.128 32.929 l
  256.928 32.597 l
  259.635 32.552 261.965 32.691 263.918 33.015 c
  265.871 33.339 267.705 34.082 269.418 35.245 c
  271.151 36.405 272.531 37.928 273.558 39.815 c
  274.605 41.675 275.141 44.035 275.168 46.895 c
  275.206 50.822 274.446 54.035 272.888 56.535 c
  271.355 59.035 269.138 61.132 266.238 62.825 c
  f
  321 84.6 m
  287.9 85.155 l
  287.391 32.055 l
  320.491 31.5 l
  320.589 41.8 l
  299.189 42.158 l
  299.277 51.328 l
  319.177 50.996 l
  319.276 61.296 l
  299.376 61.628 l
  299.502 74.728 l
  320.902 74.37 l
  f
  373 57.2 m
  373.047 62.147 372.114 66.613 370.2 70.6 c
  368.287 74.533 365.853 77.573 362.9 79.72 c
  360.68 81.327 358.24 82.463 355.58 83.13 c
  352.92 83.793 349.763 84.157 346.11 84.22 c
  329.91 84.49 l
  329.401 31.39 l
  346.001 31.112 l
  349.734 31.05 352.961 31.365 355.681 32.057 c
  358.394 32.724 360.681 33.707 362.541 35.007 c
  365.721 37.194 368.234 40.174 370.081 43.947 c
  371.941 47.7 372.898 52.134 372.951 57.247 c
  h
  360.8 57.297 m
  360.767 53.797 360.183 50.821 359.05 48.367 c
  357.937 45.887 356.183 43.964 353.79 42.597 c
  352.57 41.931 351.323 41.487 350.05 41.267 c
  348.797 41.027 346.897 40.928 344.35 40.97 c
  341.36 41.02 l
  341.678 74.32 l
  344.668 74.27 l
  347.481 74.223 349.541 74.046 350.848 73.738 c
  352.161 73.407 353.438 72.837 354.678 72.028 c
  356.818 70.562 358.381 68.632 359.368 66.238 c
  360.348 63.818 360.821 60.848 360.788 57.328 c
  f
  `,AS_IS:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  170 87.2 m
  157.8 87.404 l
  154.53 76.704 l
  137.53 76.988 l
  134.46 87.788 l
  122.56 87.987 l
  138.96 34.587 l
  152.56 34.359 l
  h
  151.6 67 m
  145.78 48 l
  140.33 67.2 l
  f
  213 69.7 m
  213.05 74.933 211.173 79.233 207.37 82.6 c
  203.583 85.927 198.417 87.643 191.87 87.75 c
  188.077 87.813 184.76 87.488 181.92 86.774 c
  179.1 86.034 176.453 85.091 173.98 83.944 c
  173.858 71.244 l
  175.148 71.222 l
  177.615 73.442 180.361 75.132 183.388 76.292 c
  186.435 77.452 189.355 78.009 192.148 77.962 c
  192.868 77.95 193.811 77.863 194.978 77.7 c
  196.145 77.538 197.098 77.284 197.838 76.938 c
  198.738 76.495 199.471 75.948 200.038 75.298 c
  200.627 74.646 200.915 73.689 200.903 72.428 c
  200.892 71.262 200.452 70.268 199.583 69.448 c
  198.736 68.608 197.49 67.975 195.843 67.548 c
  194.116 67.101 192.286 66.691 190.353 66.318 c
  188.44 65.922 186.64 65.415 184.953 64.798 c
  181.08 63.412 178.28 61.495 176.553 59.048 c
  174.846 56.575 173.976 53.495 173.943 49.808 c
  173.896 44.862 175.766 40.795 179.553 37.608 c
  183.36 34.402 188.26 32.748 194.253 32.648 c
  197.266 32.598 200.246 32.893 203.193 33.534 c
  206.153 34.151 208.716 34.954 210.883 35.944 c
  211 48.144 l
  209.74 48.166 l
  207.88 46.486 205.6 45.095 202.9 43.995 c
  200.22 42.875 197.487 42.339 194.7 42.386 c
  193.713 42.402 192.73 42.502 191.75 42.684 c
  190.79 42.843 189.86 43.144 188.96 43.587 c
  188.16 43.958 187.477 44.518 186.91 45.267 c
  186.342 45.994 186.063 46.821 186.072 47.747 c
  186.085 49.154 186.559 50.227 187.492 50.967 c
  188.425 51.687 190.175 52.337 192.742 52.917 c
  194.429 53.293 196.042 53.66 197.582 54.017 c
  199.142 54.372 200.819 54.869 202.612 55.508 c
  206.132 56.781 208.735 58.557 210.422 60.837 c
  212.129 63.091 212.999 66.051 213.032 69.718 c
  f
  267 85.5 m
  240.2 85.949 l
  240.11 76.529 l
  247.62 76.403 l
  247.292 42.103 l
  239.782 42.229 l
  239.692 32.809 l
  266.492 32.36 l
  266.582 41.78 l
  259.072 41.906 l
  259.4 76.206 l
  266.91 76.08 l
  f
  313 68.1 m
  313.05 73.333 311.173 77.633 307.37 81 c
  303.583 84.327 298.417 86.043 291.87 86.15 c
  288.077 86.213 284.76 85.888 281.92 85.174 c
  279.1 84.434 276.453 83.491 273.98 82.344 c
  273.858 69.644 l
  275.148 69.622 l
  277.615 71.842 280.361 73.532 283.388 74.692 c
  286.435 75.852 289.355 76.409 292.148 76.362 c
  292.868 76.35 293.811 76.263 294.978 76.1 c
  298.738 74.895 299.471 74.348 300.038 73.698 c
  300.627 73.046 300.915 72.089 300.903 70.828 c
  300.892 69.662 300.452 68.668 299.583 67.848 c
  298.736 67.008 297.49 66.375 295.843 65.948 c
  294.116 65.501 292.286 65.091 290.353 64.718 c
  288.44 64.322 286.64 63.815 284.953 63.198 c
  281.08 61.812 278.28 59.895 276.553 57.448 c
  274.846 54.975 273.976 51.895 273.943 48.208 c
  273.896 43.262 275.766 39.195 279.553 36.008 c
  283.36 32.802 288.26 31.148 294.253 31.048 c
  297.266 30.998 300.246 31.293 303.193 31.934 c
  306.153 32.551 308.716 33.354 310.883 34.344 c
  311 46.544 l
  309.74 46.565 l
  307.88 44.885 305.6 43.495 302.9 42.395 c
  300.22 41.275 297.487 40.739 294.7 40.785 c
  293.713 40.802 292.73 40.902 291.75 41.084 c
  290.79 41.243 289.86 41.544 288.96 41.987 c
  288.16 42.357 287.477 42.917 286.91 43.667 c
  286.342 44.394 286.063 45.221 286.072 46.147 c
  286.085 47.554 286.559 48.627 287.492 49.367 c
  288.425 50.087 290.175 50.737 292.742 51.317 c
  294.429 51.693 296.042 52.06 297.582 52.417 c
  299.142 52.772 300.819 53.269 302.612 53.907 c
  306.132 55.181 308.735 56.957 310.422 59.237 c
  312.129 61.491 312.999 64.451 313.032 68.117 c
  f  
  `,SOLD:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  166 70.5 m
  166.05 75.733 164.173 80.033 160.37 83.4 c
  156.583 86.727 151.417 88.443 144.87 88.55 c
  141.077 88.613 137.76 88.288 134.92 87.574 c
  132.1 86.834 129.453 85.891 126.98 84.744 c
  126.858 72.044 l
  128.148 72.022 l
  130.615 74.242 133.361 75.932 136.388 77.092 c
  139.435 78.252 142.355 78.809 145.148 78.762 c
  145.868 78.75 146.811 78.663 147.978 78.5 c
  149.145 78.338 150.098 78.084 150.838 77.738 c
  151.738 77.295 152.471 76.748 153.038 76.098 c
  153.627 75.446 153.915 74.489 153.903 73.228 c
  153.892 72.062 153.452 71.068 152.583 70.248 c
  151.736 69.408 150.49 68.775 148.843 68.348 c
  147.116 67.901 145.286 67.491 143.353 67.118 c
  141.44 66.722 139.64 66.215 137.953 65.598 c
  134.08 64.212 131.28 62.295 129.553 59.848 c
  127.846 57.375 126.976 54.295 126.943 50.608 c
  126.896 45.662 128.766 41.595 132.553 38.408 c
  136.36 35.202 141.26 33.548 147.253 33.448 c
  150.266 33.398 153.246 33.693 156.193 34.334 c
  159.153 34.951 161.716 35.754 163.883 36.744 c
  164 48.944 l
  162.74 48.965 l
  160.88 47.285 158.6 45.895 155.9 44.795 c
  153.22 43.675 150.487 43.139 147.7 43.185 c
  146.713 43.202 145.73 43.302 144.75 43.484 c
  143.79 43.643 142.86 43.944 141.96 44.387 c
  141.16 44.757 140.477 45.317 139.91 46.067 c
  139.342 46.794 139.063 47.621 139.072 48.547 c
  139.085 49.954 139.559 51.027 140.492 51.767 c
  141.425 52.487 143.175 53.137 145.742 53.717 c
  147.429 54.093 149.042 54.46 150.582 54.817 c
  152.142 55.172 153.819 55.669 155.612 56.307 c
  159.132 57.581 161.735 59.357 163.422 61.637 c
  165.129 63.891 165.999 66.851 166.032 70.517 c
  f
  218 59.8 m
  218.081 68.267 216.051 75.033 211.91 80.1 c
  207.77 85.14 202.003 87.723 194.61 87.85 c
  187.277 87.973 181.477 85.583 177.21 80.68 c
  172.977 75.753 170.82 69.053 170.74 60.58 c
  170.658 52.047 172.688 45.28 176.83 40.28 c
  180.97 35.24 186.737 32.657 194.13 32.53 c
  201.463 32.407 207.263 34.797 211.53 39.7 c
  215.783 44.58 217.95 51.28 218.03 59.8 c
  h
  202.5 73.5 m
  203.633 71.86 204.467 69.943 205 67.75 c
  205.533 65.53 205.785 62.933 205.757 59.96 c
  205.726 56.773 205.383 54.067 204.727 51.84 c
  204.07 49.613 203.22 47.82 202.177 46.46 c
  201.117 45.047 199.897 44.033 198.517 43.42 c
  197.157 42.8 195.737 42.502 194.257 42.527 c
  192.757 42.552 191.344 42.885 190.017 43.526 c
  188.71 44.167 187.51 45.21 186.417 46.656 c
  185.404 48.003 184.58 49.859 183.947 52.226 c
  183.333 54.566 183.041 57.283 183.071 60.376 c
  183.101 63.543 183.435 66.239 184.071 68.466 c
  184.728 70.666 185.578 72.459 186.621 73.846 c
  187.661 75.233 188.871 76.246 190.251 76.886 c
  191.631 77.529 193.081 77.838 194.601 77.813 c
  196.121 77.788 197.564 77.431 198.931 76.743 c
  200.298 76.03 201.488 74.95 202.501 73.503 c
  f
  261 85.6 m
  227.9 86.153 l
  227.391 33.053 l
  239.191 32.855 l
  239.601 75.755 l
  260.801 75.4 l
  f
  311 58.3 m
  311.047 63.247 310.114 67.713 308.2 71.7 c
  306.287 75.633 303.853 78.673 300.9 80.82 c
  298.68 82.427 296.24 83.563 293.58 84.23 c
  267.91 85.59 l
  267.401 32.49 l
  284.001 32.212 l
  287.734 32.15 290.961 32.465 293.681 33.157 c
  296.394 33.824 298.681 34.807 300.541 36.107 c
  303.721 38.294 306.234 41.274 308.081 45.047 c
  309.941 48.8 310.898 53.234 310.951 58.347 c
  h
  298.8 58.397 m
  298.767 54.897 298.183 51.921 297.05 49.467 c
  295.937 46.987 294.183 45.064 291.79 43.697 c
  290.57 43.031 289.323 42.587 288.05 42.367 c
  286.797 42.127 284.897 42.028 282.35 42.07 c
  279.36 42.12 l
  279.678 75.42 l
  282.668 75.37 l
  285.481 75.323 287.541 75.146 288.848 74.838 c
  290.161 74.507 291.438 73.937 292.678 73.128 c
  294.818 71.662 296.381 69.732 297.368 67.338 c
  298.348 64.918 298.821 61.948 298.788 58.428 c
  f
  `,EXPERIMENTAL:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  55.9 86.5 m
  32.9 86.873 l
  32.766 40.073 l
  55.766 39.7 l
  55.792 48.76 l
  40.992 49.001 l
  41.015 57.081 l
  54.815 56.857 l
  54.841 65.917 l
  41.041 66.141 l
  41.074 77.741 l
  55.874 77.5 l
  f
  91.6 85.9 m
  82.12 86.054 l
  75.22 70.754 l
  68.28 86.254 l
  59.23 86.401 l
  70.43 62.601 l
  59.33 39.501 l
  68.79 39.347 l
  75.45 53.847 l
  82.22 39.147 l
  91.3 39 l
  80.3 61.9 l
  f
  122 53.4 m
  122 55.493 121.757 57.553 121.27 59.58 c
  120.777 61.58 120.071 63.27 119.15 64.65 c
  117.89 66.517 116.477 67.933 114.91 68.9 c
  113.363 69.867 111.43 70.37 109.11 70.41 c
  104.01 70.493 l
  104.054 85.793 l
  95.854 85.926 l
  95.72 39.126 l
  109.22 38.907 l
  111.24 38.874 112.943 39.108 114.33 39.61 c
  115.723 40.091 116.956 40.837 118.03 41.85 c
  119.316 43.063 120.296 44.63 120.97 46.55 c
  121.656 48.47 122.003 50.78 122.01 53.48 c
  h
  113.52 53.821 m
  113.52 52.501 113.275 51.374 112.784 50.441 c
  112.297 49.488 111.734 48.824 111.094 48.451 c
  110.241 47.962 109.407 47.703 108.594 47.674 c
  107.781 47.624 106.697 47.61 105.344 47.632 c
  103.934 47.655 l
  103.974 61.655 l
  106.324 61.617 l
  107.717 61.595 108.864 61.45 109.764 61.184 c
  110.677 60.918 111.437 60.401 112.044 59.634 c
  112.569 58.954 112.945 58.151 113.174 57.224 c
  113.413 56.278 113.531 55.134 113.527 53.794 c
  f
  151 84.9 m
  128 85.273 l
  127.866 38.473 l
  150.866 38.1 l
  150.892 47.16 l
  136.092 47.401 l
  136.115 55.481 l
  149.915 55.257 l
  149.941 64.317 l
  136.141 64.541 l
  136.174 76.141 l
  150.974 75.9 l
  f
  176 52.1 m
  176 50.927 175.833 49.923 175.5 49.09 c
  175.17 48.257 174.607 47.607 173.81 47.14 c
  173.254 46.813 172.604 46.625 171.86 46.574 c
  171.12 46.502 170.26 46.474 169.28 46.49 c
  166.31 46.538 l
  166.346 59.138 l
  168.866 59.098 l
  170.173 59.076 171.269 58.964 172.156 58.762 c
  173.036 58.558 173.776 58.115 174.376 57.432 c
  174.943 56.772 175.353 56.052 175.606 55.272 c
  175.874 54.471 176.006 53.411 176.003 52.092 c
  h
  188.9 84.4 m
  178.9 84.563 l
  170.18 67.563 l
  166.4 67.624 l
  166.449 84.824 l
  158.289 84.956 l
  158.155 38.156 l
  171.955 37.933 l
  173.835 37.903 175.452 38.034 176.805 38.326 c
  178.158 38.619 179.428 39.279 180.615 40.306 c
  181.815 41.333 182.765 42.68 183.465 44.346 c
  184.178 45.993 184.542 48.073 184.555 50.586 c
  184.565 54.046 184.025 56.876 182.935 59.076 c
  181.862 61.276 180.315 63.116 178.295 64.596 c
  f
  210 84 m
  191.4 84.302 l
  191.376 76.002 l
  196.586 75.917 l
  196.5 45.717 l
  191.29 45.802 l
  191.266 37.502 l
  209.866 37.2 l
  209.89 45.5 l
  204.68 45.585 l
  204.766 75.785 l
  209.976 75.7 l
  f
  250 83.3 m
  241.84 83.432 l
  241.75 52.032 l
  235.91 72.432 l
  230.25 72.524 l
  224.3 52.224 l
  224.39 83.624 l
  216.66 83.75 l
  216.526 36.95 l
  226.046 36.795 l
  233.266 60.195 l
  240.336 36.595 l
  249.856 36.44 l
  f
  281 82.8 m
  258 83.173 l
  257.866 36.373 l
  280.866 36 l
  280.892 45.06 l
  266.092 45.301 l
  266.115 53.381 l
  279.915 53.157 l
  279.941 62.217 l
  266.141 62.441 l
  266.174 74.041 l
  280.974 73.8 l
  f
  316 82.3 m
  308.1 82.428 l
  294.5 50.528 l
  294.592 82.628 l
  287.072 82.75 l
  286.938 35.95 l
  296.738 35.791 l
  308.438 62.391 l
  308.361 35.591 l
  315.881 35.469 l
  f
  349 44 m
  339.07 44.161 l
  339.178 81.961 l
  330.978 82.094 l
  330.87 44.294 l
  320.94 44.455 l
  320.914 35.395 l
  349.014 34.939 l
  f
  384 81.2 m
  375.52 81.338 l
  373.29 71.908 l
  361.49 72.099 l
  359.32 81.599 l
  351.06 81.733 l
  362.66 34.733 l
  372.1 34.58 l
  h
  371.3 63.4 m
  367.34 46.7 l
  363.48 63.6 l
  f
  411 80.7 m
  388.1 81.072 l
  387.966 34.272 l
  396.166 34.139 l
  396.274 71.939 l
  410.974 71.7 l
  f
  `,FOR_COMMENT:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  61.6 49.9 m
  46.8 50.184 l
  46.866 58.134 l
  60.566 57.871 l
  60.635 66.141 l
  46.935 66.404 l
  47.087 84.704 l
  38.837 84.862 l
  38.48 42.162 l
  61.48 41.72 l
  f
  98.7 62.3 m
  98.757 69.1 97.334 74.533 94.43 78.6 c
  91.523 82.653 87.49 84.73 82.33 84.83 c
  77.163 84.929 73.097 83.006 70.13 79.06 c
  67.157 75.1 65.643 69.7 65.59 62.86 c
  65.533 55.993 66.956 50.527 69.86 46.46 c
  72.767 42.407 76.8 40.33 81.96 40.23 c
  87.113 40.131 91.18 42.055 94.16 46 c
  97.147 49.927 98.667 55.327 98.72 62.2 c
  h
  87.8 73.3 m
  88.593 71.98 89.177 70.437 89.55 68.67 c
  89.924 66.883 90.101 64.793 90.081 62.4 c
  90.06 59.833 89.818 57.657 89.357 55.87 c
  88.896 54.077 88.299 52.633 87.567 51.54 c
  86.82 50.407 85.964 49.59 84.997 49.09 c
  84.044 48.591 83.047 48.352 82.007 48.372 c
  80.954 48.392 79.964 48.66 79.037 49.176 c
  78.117 49.691 77.274 50.531 76.507 51.696 c
  75.794 52.783 75.217 54.276 74.777 56.176 c
  74.346 58.063 74.141 60.249 74.162 62.736 c
  74.183 65.283 74.417 67.449 74.864 69.236 c
  75.325 71.009 75.922 72.453 76.654 73.566 c
  80.171 76.533 81.187 76.782 82.254 76.761 c
  83.321 76.741 84.334 76.453 85.294 75.899 c
  86.254 75.326 87.091 74.459 87.804 73.299 c
  f
  123 53.6 m
  122.991 52.527 122.818 51.61 122.48 50.85 c
  122.143 50.09 121.569 49.497 120.76 49.07 c
  120.196 48.775 119.539 48.605 118.79 48.562 c
  118.043 48.5 117.173 48.478 116.18 48.497 c
  113.18 48.555 l
  113.276 60.055 l
  115.826 60.006 l
  117.153 59.981 118.259 59.873 119.146 59.684 c
  120.039 59.495 120.786 59.088 121.386 58.464 c
  121.957 57.86 122.37 57.2 122.626 56.484 c
  122.893 55.751 123.022 54.781 123.012 53.574 c
  h
  136.2 83 m
  126.1 83.194 l
  117.2 67.694 l
  113.38 67.767 l
  113.511 83.467 l
  105.261 83.625 l
  104.904 40.925 l
  118.804 40.658 l
  120.704 40.622 122.341 40.734 123.714 40.995 c
  125.087 41.256 126.374 41.853 127.574 42.785 c
  128.794 43.719 129.761 44.945 130.474 46.465 c
  131.207 47.965 131.584 49.862 131.604 52.155 c
  131.63 55.315 131.097 57.899 130.004 59.905 c
  128.924 61.919 127.367 63.605 125.334 64.965 c
  f
  169 83.2 m
  166.607 83.246 164.393 82.819 162.36 81.92 c
  160.333 81.02 158.587 79.657 157.12 77.83 c
  155.653 76.003 154.503 73.71 153.67 70.95 c
  152.857 68.19 152.433 64.993 152.4 61.36 c
  152.372 57.973 152.728 54.893 153.47 52.12 c
  154.21 49.347 155.3 46.963 156.74 44.97 c
  158.12 43.05 159.837 41.553 161.89 40.48 c
  163.957 39.407 166.213 38.847 168.66 38.8 c
  170.013 38.774 171.23 38.856 172.31 39.046 c
  173.403 39.217 174.413 39.456 175.34 39.763 c
  176.307 40.108 177.18 40.502 177.96 40.943 c
  178.753 41.368 179.447 41.764 180.04 42.133 c
  180.127 52.533 l
  179.177 52.551 l
  178.77 52.1 178.253 51.563 177.627 50.941 c
  177.017 50.321 176.32 49.711 175.537 49.111 c
  174.737 48.514 173.877 48.014 172.957 47.611 c
  168.83 47.059 167.723 47.329 166.677 47.846 c
  165.63 48.345 164.663 49.168 163.777 50.316 c
  162.937 51.423 162.257 52.88 161.737 54.686 c
  161.233 56.493 160.992 58.68 161.014 61.246 c
  161.036 63.926 161.335 66.16 161.912 67.946 c
  162.502 69.733 163.236 71.136 164.112 72.156 c
  164.998 73.19 165.985 73.926 167.072 74.366 c
  168.158 74.786 169.225 74.985 170.272 74.965 c
  171.278 74.946 172.271 74.726 173.251 74.305 c
  174.245 73.885 175.155 73.321 175.981 72.615 c
  176.681 72.047 177.332 71.44 177.931 70.795 c
  178.531 70.152 179.024 69.599 179.411 69.135 c
  180.275 69.119 l
  180.361 79.319 l
  179.561 79.813 178.794 80.276 178.061 80.709 c
  177.327 81.144 176.561 81.524 175.761 81.849 c
  174.714 82.271 173.731 82.596 172.811 82.824 c
  171.891 83.052 170.624 83.181 169.011 83.213 c
  f
  218 60 m
  218.057 66.8 216.634 72.233 213.73 76.3 c
  210.823 80.353 206.79 82.43 201.63 82.53 c
  196.463 82.629 192.397 80.706 189.43 76.76 c
  186.457 72.8 184.943 67.4 184.89 60.56 c
  184.833 53.693 186.256 48.227 189.16 44.16 c
  192.067 40.107 196.1 38.03 201.26 37.93 c
  206.413 37.831 210.48 39.755 213.46 43.7 c
  216.447 47.627 217.967 53.027 218.02 59.9 c
  h
  207.1 71 m
  207.893 69.68 208.477 68.137 208.85 66.37 c
  209.224 64.583 209.401 62.493 209.381 60.1 c
  209.36 57.533 209.118 55.357 208.657 53.57 c
  208.196 51.777 207.599 50.333 206.867 49.24 c
  206.12 48.107 205.264 47.29 204.297 46.79 c
  203.344 46.291 202.347 46.052 201.307 46.072 c
  200.254 46.092 199.264 46.36 198.337 46.876 c
  197.417 47.391 196.574 48.231 195.807 49.396 c
  195.094 50.483 194.517 51.976 194.077 53.876 c
  193.646 55.763 193.441 57.949 193.462 60.436 c
  193.483 62.983 193.717 65.149 194.164 66.936 c
  194.625 68.709 195.222 70.153 195.954 71.266 c
  199.471 74.233 200.487 74.482 201.554 74.461 c
  202.621 74.441 203.634 74.153 204.594 73.599 c
  205.554 73.026 206.391 72.159 207.104 70.999 c
  f
  258 80.6 m
  249.75 80.758 l
  249.511 52.158 l
  243.701 70.858 l
  237.981 70.968 l
  231.861 52.468 l
  232.1 81.068 l
  224.28 81.218 l
  223.923 38.518 l
  233.553 38.333 l
  240.963 59.633 l
  247.993 38.033 l
  257.623 37.848 l
  f
  300 79.8 m
  291.75 79.958 l
  291.511 51.358 l
  285.701 70.058 l
  279.981 70.168 l
  273.861 51.668 l
  274.1 80.268 l
  266.28 80.418 l
  265.923 37.718 l
  275.553 37.533 l
  282.963 58.833 l
  289.993 37.233 l
  299.623 37.048 l
  f
  332 79.2 m
  308.7 79.646 l
  308.343 36.946 l
  331.643 36.5 l
  331.712 44.77 l
  316.712 45.058 l
  316.774 52.438 l
  330.674 52.171 l
  330.743 60.441 l
  316.843 60.708 l
  316.931 71.308 l
  331.931 71.02 l
  f
  368 78.5 m
  360.01 78.653 l
  346.11 49.553 l
  346.355 78.853 l
  338.755 78.999 l
  338.398 36.299 l
  348.308 36.109 l
  360.208 60.409 l
  360.004 35.909 l
  367.604 35.763 l
  f
  401 43.4 m
  391 43.593 l
  391.288 78.093 l
  382.998 78.252 l
  382.71 43.752 l
  372.71 43.945 l
  372.641 35.675 l
  401.041 35.131 l
  f  
  `,TOP_SECRET:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  67.5 47.4 m
  55 47.623 l
  55.357 87.423 l
  45.057 87.607 l
  44.7 47.807 l
  32.2 48.03 l
  32.114 38.48 l
  67.314 37.851 l
  f
  113 61.7 m
  113.071 69.567 111.304 75.867 107.7 80.6 c
  104.093 85.287 99.06 87.687 92.6 87.8 c
  86.187 87.915 81.12 85.695 77.4 81.14 c
  73.713 76.56 71.833 70.327 71.76 62.44 c
  71.689 54.507 73.455 48.207 77.06 43.54 c
  80.667 38.853 85.667 36.453 92.06 36.34 c
  98.453 36.226 103.52 38.446 107.26 43 c
  110.967 47.533 112.853 53.767 112.92 61.7 c
  h
  99.5 74.4 m
  100.487 72.88 101.213 71.097 101.68 69.05 c
  102.144 66.983 102.364 64.57 102.339 61.81 c
  102.312 58.85 102.013 56.333 101.44 54.26 c
  100.867 52.193 100.127 50.527 99.22 49.26 c
  98.3 47.947 97.237 47.003 96.03 46.43 c
  94.843 45.854 93.607 45.577 92.32 45.6 c
  91.013 45.623 89.783 45.933 88.63 46.528 c
  87.49 47.123 86.443 48.093 85.49 49.438 c
  84.61 50.691 83.893 52.418 83.34 54.618 c
  82.805 56.798 82.551 59.325 82.577 62.198 c
  82.603 65.138 82.894 67.645 83.449 69.718 c
  84.022 71.765 84.762 73.431 85.669 74.718 c
  86.576 76.005 87.629 76.948 88.829 77.548 c
  90.029 78.146 91.292 78.433 92.619 78.409 c
  93.939 78.385 95.196 78.053 96.389 77.413 c
  97.582 76.75 98.619 75.747 99.499 74.403 c
  f
  153 51.9 m
  153.02 54.113 152.726 56.287 152.12 58.42 c
  151.513 60.533 150.637 62.317 149.49 63.77 c
  147.917 65.743 146.153 67.247 144.2 68.28 c
  142.26 69.307 139.833 69.847 136.92 69.9 c
  130.51 70.014 l
  130.654 86.114 l
  120.354 86.298 l
  119.911 36.898 l
  136.811 36.596 l
  139.351 36.551 141.488 36.789 143.221 37.311 c
  144.974 37.81 146.528 38.59 147.881 39.651 c
  149.501 40.924 150.741 42.571 151.601 44.591 c
  152.474 46.611 152.924 49.048 152.951 51.901 c
  h
  142.4 52.388 m
  142.388 50.995 142.073 49.805 141.457 48.818 c
  140.84 47.811 140.127 47.115 139.317 46.728 c
  138.237 46.217 137.19 45.948 136.177 45.922 c
  135.157 45.874 133.8 45.865 132.107 45.895 c
  130.337 45.927 l
  130.47 60.727 l
  133.42 60.674 l
  135.173 60.643 136.61 60.485 137.73 60.199 c
  138.87 59.913 139.82 59.367 140.58 58.559 c
  141.235 57.839 141.701 56.989 141.98 56.009 c
  142.275 55.009 142.416 53.803 142.403 52.389 c
  f
  211 69.1 m
  211.044 73.967 209.407 77.967 206.09 81.1 c
  202.797 84.187 198.297 85.783 192.59 85.89 c
  189.283 85.949 186.393 85.647 183.92 84.983 c
  181.467 84.296 179.163 83.42 177.01 82.353 c
  176.904 70.553 l
  178.034 70.533 l
  180.181 72.593 182.571 74.166 185.204 75.253 c
  187.857 76.333 190.401 76.853 192.834 76.813 c
  193.459 76.802 194.279 76.721 195.294 76.57 c
  196.314 76.419 197.144 76.183 197.784 75.862 c
  198.564 75.45 199.204 74.94 199.704 74.332 c
  200.217 73.726 200.468 72.836 200.457 71.662 c
  200.447 70.575 200.064 69.652 199.307 68.892 c
  198.567 68.112 197.48 67.522 196.047 67.122 c
  194.54 66.707 192.947 66.327 191.267 65.982 c
  189.6 65.613 188.034 65.143 186.567 64.572 c
  183.194 63.285 180.757 61.505 179.257 59.232 c
  177.77 56.939 177.01 54.079 176.977 50.652 c
  176.936 46.052 178.562 42.285 181.857 39.352 c
  185.17 36.372 189.437 34.835 194.657 34.742 c
  197.284 34.695 199.877 34.969 202.437 35.565 c
  205.017 36.138 207.247 36.885 209.127 37.805 c
  209.229 49.205 l
  208.129 49.225 l
  206.509 47.658 204.522 46.368 202.169 45.355 c
  199.836 44.315 197.456 43.815 195.029 43.855 c
  194.169 43.87 193.312 43.963 192.459 44.133 c
  191.619 44.281 190.809 44.561 190.029 44.973 c
  189.336 45.317 188.742 45.837 188.249 46.533 c
  187.754 47.206 187.511 47.973 187.519 48.833 c
  187.531 50.139 187.941 51.139 188.749 51.833 c
  189.562 52.506 191.086 53.109 193.319 53.643 c
  194.786 53.993 196.192 54.333 197.539 54.663 c
  198.899 54.992 200.359 55.452 201.919 56.043 c
  204.986 57.229 207.252 58.879 208.719 60.993 c
  210.206 63.086 210.962 65.836 210.989 69.243 c
  f
  248 84 m
  219.1 84.515 l
  218.657 35.115 l
  247.557 34.6 l
  247.643 44.15 l
  229.043 44.483 l
  229.119 53.003 l
  246.419 52.694 l
  246.505 62.244 l
  229.205 62.553 l
  229.314 74.753 l
  247.914 74.42 l
  f
  274 84.5 m
  271.033 84.553 268.287 84.06 265.76 83.02 c
  263.247 81.98 261.08 80.403 259.26 78.29 c
  257.433 76.177 256.007 73.527 254.98 70.34 c
  253.967 67.153 253.443 63.453 253.41 59.24 c
  253.375 55.327 253.815 51.76 254.73 48.54 c
  255.65 45.34 257 42.583 258.78 40.27 c
  260.493 38.05 262.623 36.32 265.17 35.08 c
  267.73 33.84 270.53 33.193 273.57 33.14 c
  275.25 33.11 276.76 33.205 278.1 33.424 c
  279.46 33.621 280.713 33.897 281.86 34.253 c
  283.06 34.652 284.147 35.108 285.12 35.623 c
  286.107 36.114 286.97 36.574 287.71 37.003 c
  287.817 49.003 l
  286.637 49.024 l
  286.132 48.502 285.492 47.882 284.717 47.164 c
  283.957 46.451 283.094 45.747 282.127 45.054 c
  281.14 44.361 280.07 43.784 278.917 43.324 c
  277.77 42.858 276.544 42.637 275.237 42.66 c
  273.79 42.686 272.417 42.998 271.117 43.596 c
  269.817 44.172 268.62 45.122 267.527 46.446 c
  266.487 47.726 265.644 49.409 264.997 51.496 c
  264.372 53.589 264.073 56.116 264.1 59.076 c
  264.128 62.169 264.498 64.749 265.21 66.816 c
  265.943 68.883 266.85 70.503 267.93 71.676 c
  269.03 72.876 270.253 73.729 271.6 74.236 c
  272.947 74.721 274.27 74.951 275.57 74.928 c
  276.823 74.906 278.053 74.651 279.26 74.165 c
  280.487 73.678 281.617 73.028 282.65 72.215 c
  283.517 71.558 284.323 70.858 285.07 70.115 c
  285.817 69.375 286.427 68.735 286.9 68.195 c
  287.97 68.176 l
  288.076 79.976 l
  287.083 80.547 286.133 81.083 285.226 81.586 c
  284.319 82.089 283.366 82.525 282.366 82.896 c
  281.066 83.383 279.846 83.76 278.706 84.026 c
  277.566 84.289 275.996 84.439 273.996 84.475 c
  f
  318 48.5 m
  317.989 47.26 317.774 46.203 317.355 45.33 c
  316.936 44.45 316.223 43.767 315.215 43.28 c
  314.515 42.939 313.702 42.743 312.775 42.693 c
  311.848 42.621 310.768 42.596 309.535 42.618 c
  305.805 42.685 l
  305.924 55.985 l
  309.084 55.928 l
  310.731 55.899 312.104 55.775 313.204 55.556 c
  314.311 55.338 315.237 54.868 315.984 54.146 c
  316.691 53.446 317.201 52.686 317.514 51.866 c
  317.846 51.02 318.006 49.9 317.993 48.506 c
  h
  334.4 82.5 m
  321.8 82.724 l
  310.8 64.824 l
  306.06 64.909 l
  306.222 83.009 l
  296.022 83.192 l
  295.579 33.792 l
  312.879 33.484 l
  315.239 33.442 317.269 33.571 318.969 33.873 c
  320.669 34.174 322.266 34.864 323.759 35.943 c
  325.272 37.023 326.472 38.439 327.359 40.193 c
  328.266 41.926 328.732 44.119 328.759 46.773 c
  328.792 50.419 328.132 53.406 326.779 55.733 c
  325.439 58.059 323.509 60.006 320.989 61.573 c
  f
  368 81.9 m
  339.1 82.415 l
  338.657 33.015 l
  367.557 32.5 l
  367.643 42.05 l
  349.043 42.383 l
  349.119 50.903 l
  366.419 50.594 l
  366.505 60.144 l
  349.205 60.453 l
  349.314 72.653 l
  367.914 72.32 l
  f
  407 41.3 m
  394.5 41.523 l
  394.857 81.323 l
  384.557 81.507 l
  384.2 41.707 l
  371.7 41.93 l
  371.614 32.38 l
  406.814 31.751 l
  f  
  `,FOR_PUBLIC_RELEASE:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  93.2 32.1 m
  78.5 32.323 l
  78.566 38.583 l
  92.166 38.376 l
  92.234 44.886 l
  78.634 45.093 l
  78.785 59.493 l
  70.605 59.618 l
  70.251 25.918 l
  93.151 25.57 l
  f
  130 41.8 m
  130.056 47.167 128.646 51.467 125.77 54.7 c
  122.89 57.893 118.89 59.53 113.77 59.61 c
  108.643 59.688 104.61 58.175 101.67 55.07 c
  98.723 51.95 97.223 47.717 97.17 42.37 c
  97.113 36.957 98.523 32.657 101.4 29.47 c
  104.28 26.277 108.28 24.64 113.4 24.56 c
  118.513 24.482 122.547 25.995 125.5 29.1 c
  128.46 32.187 129.97 36.453 130.03 41.9 c
  h
  119.2 50.49 m
  119.987 49.45 120.567 48.237 120.94 46.85 c
  121.311 45.443 121.486 43.797 121.466 41.91 c
  121.445 39.89 121.205 38.177 120.748 36.77 c
  120.291 35.363 119.701 34.227 118.978 33.36 c
  118.238 32.467 117.388 31.823 116.428 31.43 c
  115.481 31.037 114.495 30.849 113.468 30.865 c
  112.428 30.881 111.445 31.092 110.518 31.498 c
  109.611 31.904 108.775 32.564 108.008 33.478 c
  107.301 34.331 106.728 35.508 106.288 37.008 c
  105.861 38.495 105.657 40.215 105.678 42.168 c
  105.699 44.175 105.931 45.881 106.375 47.288 c
  106.832 48.681 107.422 49.818 108.145 50.698 c
  108.865 51.578 109.708 52.221 110.675 52.628 c
  111.635 53.035 112.645 53.231 113.705 53.215 c
  114.758 53.199 115.762 52.973 116.715 52.536 c
  117.668 52.085 118.495 51.401 119.195 50.486 c
  f
  154 34.9 m
  153.991 34.053 153.819 33.333 153.485 32.74 c
  153.15 32.142 152.58 31.675 151.775 31.34 c
  151.216 31.107 150.566 30.974 149.825 30.94 c
  149.085 30.891 148.222 30.874 147.235 30.889 c
  144.255 30.934 l
  144.35 39.994 l
  146.88 39.956 l
  148.194 39.936 149.294 39.851 150.18 39.702 c
  151.067 39.552 151.807 39.232 152.4 38.741 c
  152.966 38.265 153.376 37.745 153.63 37.181 c
  153.896 36.604 154.023 35.841 154.013 34.891 c
  h
  167.1 58.1 m
  157.1 58.253 l
  148.27 46.053 l
  144.48 46.111 l
  144.61 58.411 l
  136.43 58.536 l
  136.076 24.836 l
  149.876 24.626 l
  151.763 24.597 153.386 24.685 154.746 24.891 c
  156.106 25.096 157.383 25.566 158.576 26.301 c
  159.783 27.034 160.743 28.001 161.456 29.201 c
  162.183 30.381 162.556 31.874 162.576 33.681 c
  162.602 36.167 162.072 38.204 160.986 39.791 c
  159.919 41.377 158.376 42.704 156.356 43.771 c
  f
  212 34.4 m
  212.016 35.907 211.782 37.387 211.297 38.84 c
  210.812 40.28 210.112 41.497 209.197 42.49 c
  207.937 43.837 206.527 44.86 204.967 45.56 c
  203.42 46.26 201.48 46.63 199.147 46.67 c
  194.027 46.748 l
  194.142 57.748 l
  185.922 57.873 l
  185.568 24.173 l
  199.068 23.967 l
  201.095 23.936 202.801 24.098 204.188 24.454 c
  205.588 24.795 206.828 25.325 207.908 26.044 c
  209.201 26.911 210.191 28.034 210.878 29.414 c
  211.578 30.787 211.938 32.447 211.958 34.394 c
  h
  203.5 34.733 m
  203.49 33.786 203.239 32.976 202.746 32.303 c
  202.253 31.616 201.683 31.143 201.036 30.883 c
  200.176 30.534 199.339 30.351 198.526 30.333 c
  197.713 30.3 196.626 30.294 195.266 30.315 c
  193.856 30.336 l
  193.962 40.436 l
  196.322 40.4 l
  197.722 40.379 198.872 40.271 199.772 40.076 c
  200.685 39.882 201.445 39.508 202.052 38.956 c
  202.575 38.466 202.949 37.886 203.172 37.216 c
  203.407 36.536 203.52 35.713 203.51 34.746 c
  f
  246 44.7 m
  246.044 48.86 244.877 52.067 242.5 54.32 c
  240.127 56.573 236.593 57.733 231.9 57.8 c
  227.233 57.871 223.7 56.818 221.3 54.64 c
  218.893 52.46 217.667 49.3 217.62 45.16 c
  217.394 23.66 l
  225.664 23.534 l
  225.885 44.534 l
  225.91 46.867 226.393 48.601 227.335 49.734 c
  228.275 50.867 229.788 51.417 231.875 51.384 c
  233.928 51.353 235.422 50.779 236.355 49.664 c
  237.302 48.551 237.762 46.781 237.735 44.354 c
  237.514 23.354 l
  245.784 23.228 l
  f
  281 46.1 m
  281.017 47.727 280.718 49.187 280.103 50.48 c
  279.502 51.773 278.662 52.85 277.583 53.71 c
  276.336 54.723 274.96 55.453 273.453 55.9 c
  271.96 56.345 270.056 56.585 267.743 56.62 c
  253.843 56.832 l
  253.489 23.132 l
  265.889 22.944 l
  268.462 22.905 270.342 22.967 271.529 23.129 c
  272.729 23.292 273.919 23.672 275.099 24.269 c
  276.319 24.898 277.229 25.758 277.829 26.849 c
  278.44 27.922 278.753 29.162 278.768 30.569 c
  278.785 32.196 278.392 33.642 277.588 34.909 c
  276.788 36.156 275.648 36.156 274.168 34.909 c
  276.255 35.314 277.915 36.194 279.148 37.549 c
  280.388 38.902 281.021 40.702 281.048 42.949 c
  h
  270.3 32.4 m
  270.3 31.843 270.158 31.286 269.875 30.73 c
  269.612 30.176 269.142 29.769 268.465 29.51 c
  267.863 29.278 267.113 29.161 266.215 29.16 c
  265.328 29.143 264.078 29.147 262.465 29.172 c
  261.694 29.184 l
  261.769 36.304 l
  263.059 36.284 l
  264.359 36.264 265.466 36.225 266.379 36.166 c
  267.292 36.107 268.012 35.945 268.539 35.681 c
  269.279 35.323 269.759 34.87 269.979 34.321 c
  270.202 33.76 270.309 33.116 270.301 32.391 c
  h
  272.46 46.1 m
  272.449 45.033 272.24 44.217 271.834 43.65 c
  271.442 43.068 270.772 42.641 269.824 42.37 c
  269.179 42.184 268.293 42.092 267.164 42.094 c
  266.037 42.096 264.861 42.107 263.634 42.125 c
  261.834 42.153 l
  261.922 50.543 l
  262.522 50.534 l
  264.836 50.498 266.492 50.466 267.492 50.435 c
  268.492 50.405 269.412 50.195 270.252 49.805 c
  271.106 49.415 271.686 48.909 271.992 48.285 c
  272.314 47.647 272.471 46.921 272.462 46.105 c
  f
  310 55.9 m
  287 56.25 l
  286.646 22.55 l
  294.866 22.425 l
  295.152 49.525 l
  309.952 49.3 l
  f
  332 55.6 m
  313.3 55.884 l
  313.237 49.914 l
  318.467 49.834 l
  318.239 28.134 l
  313.009 28.214 l
  312.946 22.244 l
  331.646 21.96 l
  331.709 27.93 l
  326.479 28.01 l
  326.707 49.71 l
  331.937 49.63 l
  f
  353 55.9 m
  350.627 55.936 348.43 55.599 346.41 54.89 c
  344.403 54.183 342.67 53.11 341.21 51.67 c
  339.75 50.23 338.61 48.423 337.79 46.25 c
  336.983 44.077 336.563 41.56 336.53 38.7 c
  336.502 36.033 336.855 33.61 337.59 31.43 c
  338.323 29.25 339.403 27.373 340.83 25.8 c
  342.197 24.287 343.897 23.107 345.93 22.26 c
  347.977 21.413 350.213 20.973 352.64 20.94 c
  353.98 20.92 355.187 20.984 356.26 21.134 c
  357.347 21.268 358.347 21.456 359.26 21.699 c
  360.22 21.971 361.087 22.282 361.86 22.632 c
  362.647 22.967 363.337 23.28 363.93 23.573 c
  364.016 31.733 l
  363.074 31.747 l
  362.67 31.392 362.16 30.969 361.544 30.477 c
  360.939 29.989 360.249 29.509 359.474 29.037 c
  358.68 28.567 357.827 28.174 356.914 27.857 c
  355.994 27.54 355.014 27.389 353.974 27.404 c
  352.82 27.422 351.724 27.635 350.684 28.042 c
  349.644 28.435 348.687 29.082 347.814 29.982 c
  346.98 30.856 346.307 32.002 345.794 33.422 c
  345.294 34.849 345.055 36.572 345.077 38.592 c
  345.099 40.699 345.396 42.459 345.968 43.872 c
  346.554 45.279 347.28 46.382 348.148 47.182 c
  349.028 47.996 350.004 48.576 351.078 48.922 c
  352.151 49.252 353.211 49.41 354.258 49.394 c
  355.258 49.379 356.241 49.206 357.208 48.874 c
  358.188 48.543 359.091 48.1 359.918 47.544 c
  360.611 47.096 361.254 46.62 361.848 46.114 c
  362.442 45.608 362.929 45.171 363.308 44.804 c
  364.165 44.791 l
  364.249 52.841 l
  363.456 53.23 362.696 53.597 361.969 53.941 c
  361.243 54.284 360.483 54.582 359.689 54.835 c
  358.649 55.168 357.673 55.424 356.759 55.603 c
  355.846 55.783 354.589 55.885 352.989 55.909 c
  f
  130 74.7 m
  129.991 73.853 129.819 73.133 129.485 72.54 c
  129.15 71.942 128.58 71.475 127.775 71.14 c
  127.216 70.907 126.566 70.774 125.825 70.74 c
  125.085 70.691 124.222 70.674 123.235 70.689 c
  120.255 70.734 l
  120.35 79.794 l
  122.88 79.756 l
  124.194 79.736 125.294 79.651 126.18 79.502 c
  127.067 79.352 127.807 79.032 128.4 78.541 c
  128.966 78.065 129.376 77.545 129.63 76.981 c
  129.896 76.404 130.023 75.641 130.013 74.691 c
  h
  143.1 97.9 m
  133.1 98.053 l
  124.27 85.853 l
  120.48 85.911 l
  120.61 98.211 l
  112.43 98.336 l
  112.076 64.636 l
  125.876 64.426 l
  127.763 64.397 129.386 64.485 130.746 64.691 c
  132.106 64.896 133.383 65.366 134.576 66.101 c
  135.783 66.834 136.743 67.801 137.456 69.001 c
  138.183 70.181 138.556 71.674 138.576 73.481 c
  138.602 75.967 138.072 78.004 136.986 79.591 c
  135.919 81.177 134.376 82.504 132.356 83.571 c
  f
  170 97.4 m
  146.9 97.751 l
  146.546 64.051 l
  169.646 63.7 l
  169.714 70.21 l
  154.814 70.437 l
  154.876 76.247 l
  168.676 76.037 l
  168.744 82.547 l
  154.944 82.757 l
  155.032 91.077 l
  169.932 90.85 l
  f
  200 97 m
  177 97.35 l
  176.646 63.65 l
  184.866 63.525 l
  185.152 90.625 l
  199.952 90.4 l
  f
  228 96.5 m
  204.9 96.851 l
  204.546 63.151 l
  227.646 62.8 l
  227.714 69.31 l
  212.814 69.537 l
  212.876 75.347 l
  226.676 75.137 l
  226.744 81.647 l
  212.944 81.857 l
  213.032 90.177 l
  227.932 89.95 l
  f
  264 96 m
  255.5 96.129 l
  253.22 89.359 l
  241.42 89.539 l
  239.29 96.379 l
  231 96.505 l
  242.4 62.705 l
  251.87 62.561 l
  h
  251.2 83.2 m
  247.15 71.2 l
  243.36 83.3 l
  f
  294 84.9 m
  294.035 88.213 292.728 90.93 290.08 93.05 c
  287.447 95.157 283.847 96.243 279.28 96.31 c
  276.64 96.35 274.33 96.144 272.35 95.692 c
  270.39 95.225 268.55 94.628 266.83 93.902 c
  266.745 85.832 l
  267.645 85.818 l
  269.358 87.225 271.268 88.295 273.375 89.028 c
  275.495 89.762 277.525 90.115 279.465 90.088 c
  279.965 90.081 280.622 90.025 281.435 89.922 c
  282.248 89.82 282.912 89.659 283.425 89.44 c
  284.05 89.16 284.56 88.813 284.955 88.4 c
  285.365 87.987 285.566 87.38 285.557 86.58 c
  285.549 85.84 285.243 85.21 284.637 84.69 c
  284.046 84.157 283.179 83.757 282.037 83.49 c
  280.837 83.207 279.564 82.948 278.217 82.712 c
  276.884 82.461 275.63 82.141 274.457 81.752 c
  271.764 80.872 269.817 79.659 268.617 78.112 c
  267.43 76.546 266.824 74.596 266.797 72.262 c
  266.764 69.129 268.064 66.556 270.697 64.542 c
  273.344 62.516 276.744 61.469 280.897 61.402 c
  282.997 61.37 285.07 61.557 287.117 61.963 c
  289.177 62.354 290.96 62.861 292.467 63.483 c
  292.549 71.233 l
  291.671 71.247 l
  290.377 70.18 288.791 69.3 286.911 68.607 c
  285.044 67.893 283.141 67.553 281.201 67.587 c
  280.514 67.597 279.831 67.66 279.151 67.777 c
  278.477 67.877 277.831 68.068 277.211 68.349 c
  276.656 68.583 276.183 68.937 275.791 69.409 c
  275.395 69.867 275.201 70.39 275.208 70.979 c
  275.217 71.865 275.545 72.545 276.193 73.019 c
  276.84 73.476 278.057 73.886 279.843 74.249 c
  281.016 74.487 282.139 74.719 283.213 74.944 c
  284.299 75.168 285.466 75.482 286.713 75.885 c
  289.166 76.691 290.976 77.818 292.143 79.265 c
  293.329 80.691 293.936 82.565 293.963 84.885 c
  f
  323 95.1 m
  299.9 95.451 l
  299.546 61.751 l
  322.646 61.4 l
  322.714 67.91 l
  307.815 68.137 l
  307.876 73.947 l
  321.676 73.737 l
  321.744 80.247 l
  307.944 80.457 l
  308.032 88.777 l
  322.932 88.55 l
  f  
  `,NOT_FOR_PUBLIC_RELEASE:`33.5 13.4 m
  404.5 6.92 l
  419.6 6.657 431.9 18.52 432.1 33.62 c
  432.89 78.92 l
  433.153 94.02 421.29 106.32 406.19 106.52 c
  35.19 113 l
  20.09 113.263 7.79 101.4 7.59 86.3 c
  6.8 41 l
  6.537 25.9 18.4 13.6 33.5 13.4 c
  s
  140 57.9 m
  132.53 58.021 l
  119.53 35.121 l
  119.759 58.221 l
  112.649 58.336 l
  112.315 24.636 l
  121.585 24.486 l
  132.785 43.586 l
  132.594 24.286 l
  139.704 24.171 l
  f
  177 40.5 m
  177.053 45.867 175.723 50.167 173.01 53.4 c
  170.297 56.593 166.53 58.23 161.71 58.31 c
  156.877 58.388 153.077 56.875 150.31 53.77 c
  147.53 50.65 146.113 46.417 146.06 41.07 c
  146.006 35.657 147.336 31.357 150.05 28.17 c
  152.763 24.977 156.53 23.34 161.35 23.26 c
  166.17 23.182 169.97 24.695 172.75 27.8 c
  175.543 30.887 176.967 35.153 177.02 40.6 c
  h
  166.8 49.19 m
  167.547 48.15 168.093 46.937 168.44 45.55 c
  168.789 44.143 168.955 42.497 168.936 40.61 c
  168.916 38.59 168.69 36.877 168.259 35.47 c
  167.828 34.063 167.271 32.927 166.589 32.06 c
  165.896 31.167 165.096 30.523 164.189 30.13 c
  163.296 29.737 162.366 29.549 161.399 29.565 c
  160.419 29.581 159.492 29.792 158.619 30.198 c
  157.759 30.604 156.972 31.264 156.259 32.178 c
  155.594 33.031 155.054 34.208 154.639 35.708 c
  154.236 37.195 154.045 38.915 154.064 40.868 c
  154.084 42.875 154.303 44.581 154.721 45.988 c
  155.152 47.381 155.709 48.518 156.391 49.398 c
  157.071 50.278 157.864 50.921 158.771 51.328 c
  159.678 51.735 160.628 51.931 161.621 51.915 c
  162.614 51.899 163.561 51.673 164.461 51.236 c
  165.361 50.785 166.141 50.101 166.801 49.186 c
  f
  207 29.7 m
  197.61 29.852 l
  197.879 56.952 l
  190.129 57.077 l
  189.86 29.977 l
  180.47 30.129 l
  180.406 23.619 l
  206.906 23.19 l
  f
  247 29 m
  233.2 29.223 l
  233.262 35.483 l
  246.062 35.276 l
  246.127 41.786 l
  233.327 41.993 l
  233.47 56.393 l
  225.76 56.518 l
  225.426 22.818 l
  246.926 22.47 l
  f
  282 38.8 m
  282.053 44.167 280.723 48.467 278.01 51.7 c
  275.297 54.893 271.53 56.53 266.71 56.61 c
  261.877 56.688 258.077 55.175 255.31 52.07 c
  252.53 48.95 251.113 44.717 251.06 39.37 c
  251.006 33.957 252.336 29.657 255.05 26.47 c
  257.763 23.277 261.53 21.64 266.35 21.56 c
  271.17 21.482 274.97 22.995 277.75 26.1 c
  280.543 29.187 281.967 33.453 282.02 38.9 c
  h
  271.8 47.49 m
  272.547 46.45 273.093 45.237 273.44 43.85 c
  273.789 42.443 273.955 40.797 273.936 38.91 c
  273.916 36.89 273.69 35.177 273.259 33.77 c
  272.828 32.363 272.271 31.227 271.589 30.36 c
  270.896 29.467 270.096 28.823 269.189 28.43 c
  268.296 28.037 267.366 27.849 266.399 27.865 c
  265.419 27.881 264.492 28.092 263.619 28.498 c
  262.759 28.904 261.972 29.564 261.259 30.478 c
  260.594 31.331 260.054 32.508 259.639 34.008 c
  259.236 35.495 259.045 37.215 259.064 39.168 c
  259.084 41.175 259.303 42.881 259.721 44.288 c
  260.152 45.681 260.709 46.818 261.391 47.698 c
  262.071 48.578 262.864 49.221 263.771 49.628 c
  264.678 50.035 265.628 50.231 266.621 50.215 c
  267.614 50.199 268.561 49.973 269.461 49.536 c
  270.361 49.085 271.141 48.401 271.801 47.486 c
  f
  304 31.9 m
  303.992 31.053 303.83 30.333 303.514 29.74 c
  303.199 29.142 302.662 28.675 301.904 28.34 c
  301.377 28.107 300.763 27.974 300.064 27.94 c
  299.364 27.891 298.551 27.874 297.624 27.889 c
  294.814 27.934 l
  294.904 36.994 l
  297.284 36.956 l
  298.524 36.936 299.561 36.851 300.394 36.702 c
  301.227 36.552 301.924 36.232 302.484 35.741 c
  303.018 35.265 303.405 34.745 303.644 34.181 c
  303.894 33.604 304.014 32.841 304.005 31.891 c
  h
  316.3 55.1 m
  306.83 55.253 l
  298.51 43.053 l
  294.94 43.111 l
  295.062 55.411 l
  287.352 55.536 l
  287.018 21.836 l
  300.018 21.626 l
  301.791 21.597 303.321 21.685 304.608 21.891 c
  305.888 22.096 307.091 22.566 308.218 23.301 c
  309.358 24.034 310.261 25.001 310.928 26.201 c
  311.615 27.381 311.965 28.874 311.978 30.681 c
  312.003 33.167 311.506 35.204 310.488 36.791 c
  309.481 38.377 308.028 39.704 306.128 40.771 c
  f
  52 75.7 m
  52.015 77.207 51.794 78.687 51.337 80.14 c
  50.88 81.58 50.22 82.797 49.357 83.79 c
  48.17 85.137 46.84 86.16 45.367 86.86 c
  43.907 87.56 42.08 87.93 39.887 87.97 c
  35.057 88.048 l
  35.166 99.048 l
  27.416 99.173 l
  27.082 65.473 l
  39.882 65.267 l
  41.795 65.236 43.405 65.398 44.712 65.754 c
  46.032 66.095 47.202 66.625 48.222 67.344 c
  49.442 68.211 50.375 69.334 51.022 70.714 c
  51.682 72.087 52.022 73.747 52.042 75.694 c
  h
  43.99 76.033 m
  43.981 75.086 43.744 74.276 43.279 73.603 c
  42.814 72.916 42.278 72.443 41.669 72.183 c
  40.856 71.834 40.066 71.651 39.299 71.633 c
  38.532 71.6 37.509 71.594 36.229 71.615 c
  34.899 71.636 l
  34.999 81.736 l
  37.219 81.7 l
  38.539 81.679 39.622 81.571 40.469 81.376 c
  41.329 81.182 42.046 80.808 42.619 80.256 c
  43.112 79.766 43.462 79.186 43.669 78.516 c
  43.891 77.836 43.997 77.013 43.988 76.046 c
  f
  83.9 86 m
  83.941 90.16 82.841 93.367 80.6 95.62 c
  78.36 97.873 75.04 99.033 70.64 99.1 c
  66.24 99.171 62.907 98.118 60.64 95.94 c
  58.373 93.76 57.217 90.6 57.17 86.46 c
  56.957 64.96 l
  64.747 64.834 l
  64.955 85.834 l
  64.978 88.167 65.431 89.901 66.315 91.034 c
  67.202 92.167 68.628 92.717 70.595 92.684 c
  72.535 92.653 73.942 92.079 74.815 90.964 c
  75.708 89.851 76.142 88.081 76.115 85.654 c
  75.907 64.654 l
  83.697 64.528 l
  f
  117 87.3 m
  117.016 88.927 116.734 90.387 116.155 91.68 c
  115.589 92.973 114.799 94.05 113.785 94.91 c
  112.612 95.923 111.312 96.653 109.885 97.1 c
  108.478 97.545 106.685 97.785 104.505 97.82 c
  91.405 98.032 l
  91.071 64.332 l
  102.771 64.144 l
  105.191 64.105 106.961 64.167 108.081 64.329 c
  109.214 64.492 110.334 64.872 111.441 65.469 c
  112.594 66.098 113.451 66.958 114.011 68.049 c
  114.587 69.122 114.882 70.362 114.896 71.769 c
  114.912 73.396 114.542 74.842 113.786 76.109 c
  113.033 77.356 111.959 77.356 110.566 76.109 c
  112.533 76.514 114.096 77.394 115.256 78.749 c
  116.429 80.102 117.026 81.902 117.046 84.149 c
  h
  106.9 73.6 m
  106.9 73.043 106.767 72.486 106.5 71.93 c
  106.252 71.376 105.812 70.969 105.18 70.71 c
  104.612 70.478 103.905 70.361 103.06 70.36 c
  102.227 70.343 101.05 70.347 99.53 70.372 c
  98.803 70.384 l
  98.874 77.504 l
  100.084 77.484 l
  101.31 77.464 102.354 77.425 103.214 77.366 c
  104.074 77.307 104.75 77.145 105.244 76.881 c
  105.937 76.523 106.39 76.07 106.604 75.521 c
  106.814 74.96 106.915 74.316 106.908 73.591 c
  h
  108.93 87.3 m
  108.919 86.233 108.723 85.417 108.34 84.85 c
  107.971 84.268 107.341 83.841 106.45 83.57 c
  105.843 83.384 105.006 83.292 103.94 83.294 c
  102.873 83.296 101.763 83.307 100.61 83.325 c
  98.91 83.353 l
  98.993 91.743 l
  99.558 91.733 l
  101.738 91.698 103.298 91.666 104.238 91.635 c
  105.178 91.605 106.045 91.395 106.838 91.005 c
  107.645 90.615 108.191 90.109 108.478 89.485 c
  108.781 88.847 108.929 88.121 108.921 87.305 c
  f
  144 97.2 m
  122.3 97.55 l
  121.966 63.85 l
  129.716 63.725 l
  129.985 90.825 l
  143.885 90.6 l
  f
  165 96.9 m
  147.4 97.184 l
  147.341 91.214 l
  152.271 91.134 l
  152.056 69.434 l
  147.126 69.514 l
  147.067 63.544 l
  164.667 63.26 l
  164.726 69.23 l
  159.796 69.31 l
  160.011 91.01 l
  164.941 90.93 l
  f
  185 97.2 m
  182.767 97.236 180.697 96.899 178.79 96.19 c
  176.897 95.483 175.263 94.41 173.89 92.97 c
  172.517 91.53 171.443 89.723 170.67 87.55 c
  169.91 85.377 169.513 82.86 169.48 80 c
  169.454 77.333 169.786 74.91 170.478 72.73 c
  171.171 70.55 172.188 68.673 173.528 67.1 c
  174.821 65.587 176.425 64.407 178.338 63.56 c
  180.271 62.713 182.381 62.273 184.668 62.24 c
  185.935 62.22 187.071 62.284 188.078 62.434 c
  189.105 62.568 190.048 62.756 190.908 62.999 c
  191.815 63.271 192.631 63.582 193.358 63.932 c
  194.105 64.267 194.755 64.58 195.308 64.873 c
  195.389 73.033 l
  194.501 73.047 l
  194.12 72.692 193.637 72.269 193.051 71.777 c
  192.481 71.289 191.831 70.809 191.101 70.337 c
  190.354 69.867 189.551 69.474 188.691 69.157 c
  187.824 68.84 186.901 68.689 185.921 68.704 c
  184.828 68.722 183.794 68.935 182.821 69.342 c
  181.841 69.735 180.938 70.382 180.111 71.282 c
  179.324 72.156 178.691 73.302 178.211 74.722 c
  177.74 76.149 177.515 77.872 177.535 79.892 c
  177.556 81.999 177.836 83.759 178.375 85.172 c
  178.928 86.579 179.611 87.682 180.425 88.482 c
  181.252 89.296 182.172 89.876 183.185 90.222 c
  184.198 90.552 185.195 90.71 186.175 90.694 c
  187.115 90.679 188.042 90.506 188.955 90.174 c
  189.882 89.843 190.732 89.4 191.505 88.844 c
  192.16 88.396 192.767 87.92 193.325 87.414 c
  193.886 86.908 194.346 86.471 194.705 86.104 c
  195.513 86.091 l
  195.593 94.141 l
  194.846 94.53 194.129 94.897 193.443 95.241 c
  192.763 95.584 192.046 95.882 191.293 96.135 c
  190.313 96.468 189.393 96.724 188.533 96.903 c
  f
  232 72.4 m
  231.992 71.553 231.83 70.833 231.514 70.24 c
  231.199 69.642 230.662 69.175 229.904 68.84 c
  229.377 68.607 228.763 68.474 228.064 68.44 c
  227.364 68.391 226.551 68.374 225.624 68.389 c
  222.814 68.434 l
  222.904 77.494 l
  225.284 77.456 l
  226.524 77.436 227.56 77.351 228.394 77.202 c
  229.227 77.052 229.924 76.732 230.484 76.241 c
  231.018 75.765 231.404 75.245 231.644 74.681 c
  231.894 74.104 232.014 73.341 232.005 72.391 c
  h
  244.3 95.6 m
  234.83 95.753 l
  226.51 83.553 l
  222.94 83.611 l
  223.062 95.911 l
  215.352 96.036 l
  215.018 62.336 l
  228.018 62.126 l
  229.791 62.097 231.321 62.185 232.608 62.391 c
  233.888 62.596 235.091 63.066 236.218 63.801 c
  237.358 64.534 238.261 65.501 238.928 66.701 c
  239.615 67.881 239.965 69.374 239.978 71.181 c
  240.003 73.667 239.506 75.704 238.488 77.291 c
  237.481 78.877 236.028 80.204 234.128 81.271 c
  f
  270 95.2 m
  248.3 95.551 l
  247.966 61.851 l
  269.666 61.5 l
  269.731 68.01 l
  255.731 68.237 l
  255.788 74.047 l
  268.788 73.837 l
  268.853 80.347 l
  255.853 80.557 l
  255.935 88.877 l
  269.935 88.65 l
  f
  298 94.7 m
  276.3 95.05 l
  275.966 61.35 l
  283.716 61.225 l
  283.985 88.325 l
  297.885 88.1 l
  f
  324 94.3 m
  302.3 94.651 l
  301.966 60.951 l
  323.666 60.6 l
  323.731 67.11 l
  309.731 67.337 l
  309.788 73.147 l
  322.788 72.937 l
  322.853 79.447 l
  309.853 79.657 l
  309.935 87.977 l
  323.935 87.75 l
  f
  359 93.7 m
  350.99 93.829 l
  348.84 87.059 l
  337.74 87.239 l
  335.73 94.079 l
  327.92 94.205 l
  338.72 60.405 l
  347.64 60.261 l
  h
  346.9 80.9 m
  343.09 68.9 l
  339.52 81 l
  f
  387 82.7 m
  387.033 86.013 385.8 88.73 383.3 90.85 c
  380.82 92.957 377.42 94.043 373.1 94.11 c
  370.613 94.15 368.437 93.944 366.57 93.492 c
  364.723 93.025 362.987 92.428 361.36 91.702 c
  361.28 83.632 l
  362.128 83.618 l
  363.741 85.025 365.541 86.095 367.528 86.828 c
  369.528 87.562 371.445 87.915 373.278 87.888 c
  373.749 87.881 374.369 87.825 375.138 87.722 c
  375.905 87.62 376.528 87.459 377.008 87.24 c
  377.597 86.96 378.077 86.613 378.448 86.2 c
  378.834 85.787 379.023 85.18 379.016 84.38 c
  379.009 83.64 378.72 83.01 378.149 82.49 c
  377.592 81.957 376.772 81.557 375.689 81.29 c
  374.556 81.007 373.356 80.748 372.089 80.512 c
  370.836 80.261 369.656 79.941 368.549 79.552 c
  366.009 78.672 364.172 77.459 363.039 75.912 c
  361.919 74.346 361.349 72.396 361.329 70.062 c
  361.298 66.929 362.525 64.356 365.009 62.342 c
  367.509 60.316 370.729 59.269 374.669 59.202 c
  376.649 59.17 378.602 59.357 380.529 59.763 c
  382.469 60.154 384.149 60.661 385.569 61.283 c
  385.646 69.033 l
  384.818 69.047 l
  383.598 67.98 382.101 67.1 380.328 66.407 c
  378.568 65.693 376.775 65.353 374.948 65.387 c
  374.302 65.397 373.655 65.46 373.008 65.577 c
  372.376 65.677 371.766 65.868 371.178 66.149 c
  370.655 66.383 370.209 66.737 369.838 67.209 c
  369.465 67.667 369.282 68.19 369.288 68.779 c
  369.297 69.665 369.606 70.345 370.217 70.819 c
  370.827 71.276 371.974 71.686 373.657 72.049 c
  374.764 72.287 375.824 72.519 376.837 72.744 c
  377.864 72.968 378.964 73.282 380.137 73.685 c
  382.444 74.491 384.15 75.618 385.257 77.065 c
  386.377 78.491 386.947 80.365 386.967 82.685 c
  f
  414 92.9 m
  392.3 93.251 l
  391.966 59.551 l
  413.666 59.2 l
  413.731 65.71 l
  399.731 65.937 l
  399.788 71.747 l
  412.788 71.537 l
  412.853 78.047 l
  399.853 78.257 l
  399.935 86.577 l
  413.935 86.35 l
  f
  `},standardStampCreationInfos={"/Draft":{textStreamData:standardStampForms.DRAFT,color:standardStampColors.redColor,subject:"Draft",bbox:standardStampBBox,rect:standardStampRect},"/Approved":{textStreamData:standardStampForms.APPROVED,color:standardStampColors.greenColor,subject:"Approved",bbox:standardStampBBox,rect:standardStampRect},"/NotApproved":{textStreamData:standardStampForms.NOT_APPROVED,color:standardStampColors.redColor,subject:"Not Approved",bbox:standardStampBBox,rect:standardStampRect},"/Departmental":{textStreamData:standardStampForms.DEPARTMENTAL,color:standardStampColors.blueColor,subject:"Departmental",bbox:standardStampBBox,rect:standardStampRect},"/Confidential":{textStreamData:standardStampForms.CONFIDENTIAL,color:standardStampColors.redColor,subject:"Confidential",bbox:standardStampBBox,rect:standardStampRect},"/Final":{textStreamData:standardStampForms.FINAL,color:standardStampColors.redColor,subject:"Final",bbox:standardStampBBox,rect:standardStampRect},"/Expired":{textStreamData:standardStampForms.EXPIRED,color:standardStampColors.redColor,subject:"Expired",bbox:standardStampBBox,rect:standardStampRect},"/AsIs":{textStreamData:standardStampForms.AS_IS,color:standardStampColors.redColor,subject:"As Is",bbox:standardStampBBox,rect:standardStampRect},"/Sold":{textStreamData:standardStampForms.SOLD,color:standardStampColors.blueColor,subject:"Sold",bbox:standardStampBBox,rect:standardStampRect},"/Experimental":{textStreamData:standardStampForms.EXPERIMENTAL,color:standardStampColors.blueColor,subject:"Experimental",bbox:standardStampBBox,rect:standardStampRect},"/ForComment":{textStreamData:standardStampForms.FOR_COMMENT,color:standardStampColors.greenColor,subject:"For Comment",bbox:standardStampBBox,rect:standardStampRect},"/TopSecret":{textStreamData:standardStampForms.TOP_SECRET,color:standardStampColors.redColor,subject:"Top Secret",bbox:standardStampBBox,rect:standardStampRect},"/ForPublicRelease":{textStreamData:standardStampForms.FOR_PUBLIC_RELEASE,color:standardStampColors.greenColor,subject:"For Public Release",bbox:standardStampBBox,rect:standardStampRect},"/NotForPublicRelease":{textStreamData:standardStampForms.NOT_FOR_PUBLIC_RELEASE,color:standardStampColors.redColor,subject:"Not For Public Release",bbox:standardStampBBox,rect:standardStampRect}};var __awaiter$E=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class StampAnnotation extends MarkupAnnotation{constructor(){super(annotationTypes.STAMP),this.Name=stampTypes.DRAFT,this.IT="/Stamp"}static createFromDto(e){var r;if(e.annotationType!=="/Stamp")throw new Error("Invalid annotation type");const a=DateString.fromDate(new Date(e.dateCreated)),c=DateString.fromDate(new Date(e.dateModified)),o=new XFormStream;o.LastModified=c,o.Filter="/FlateDecode",o.Resources=new ResourceDict,o.Matrix=e.matrix||[1,0,0,1,0,0];const f=new StampAnnotation;f.$name=e.uuid,f.NM=LiteralString.fromString(e.uuid),f.T=LiteralString.fromString(e.author||"unknown"),f.M=c,f.CreationDate=a,f.Name=e.stampType,f.apStream=o;const s=standardStampCreationInfos[e.stampType];if(s){const g=new XFormStream;g.LastModified=c,g.Filter="/FlateDecode",g.setTextStreamData(s.textStreamData);const m=s.color,p=s.subject,t=s.bbox,b=e.rect||s.rect||s.bbox;g.BBox=t;const C=m[0].toFixed(3),w=m[1].toFixed(3),v=m[2].toFixed(3),M=`${C} ${w} ${v} rg ${C} ${w} ${v} RG`;o.BBox=t,o.Resources.setXObject("/Fm",g),o.setTextStreamData(`q 1 0 0 -1 0 ${t[3]} cm ${M} 1 j 8.58 w /Fm Do Q`),f.Rect=b,f.Subj=LiteralString.fromString(p),f.Contents=e.textContent?LiteralString.fromString(e.textContent):f.Subj,f.C=m,f.CA=1}else if(!((r=e.stampImageData)===null||r===void 0)&&r.length&&!(e.stampImageData.length%4)){const g=new Uint8Array(e.stampImageData);f._customImageData=g;const m=new ImageStream,p=new DecodeParamsDict;p.setIntProp("/Predictor",12),p.setIntProp("/Colors",1),p.setIntProp("/BitsPerComponent",8),p.setIntProp("/Columns",e.bbox[2]),m.DecodeParms=p,m.Filter="/FlateDecode",m.BitsPerComponent=8,m.Width=e.bbox[2],m.Height=e.bbox[3],m.ColorSpace=colorSpaces.GRAYSCALE,m.streamData=g.filter((C,w)=>(w+1)%4===0);const t=new ImageStream,b=new DecodeParamsDict;b.setIntProp("/Predictor",12),b.setIntProp("/Colors",3),b.setIntProp("/BitsPerComponent",8),b.setIntProp("/Columns",e.bbox[2]),t.DecodeParms=b,t.Filter="/FlateDecode",t.BitsPerComponent=8,t.Width=e.bbox[2],t.Height=e.bbox[3],t.ColorSpace=colorSpaces.RGB,t.streamData=g.filter((C,w)=>(w+1)%4!==0),t.sMask=m,o.BBox=e.bbox,o.Resources.setXObject("/Im",t),o.setTextStreamData(`q ${e.bbox[2]} 0 0 ${e.bbox[3]} 0 0 cm /Im Do Q`),f.Rect=e.rect,f.Subj=e.stampSubject?LiteralString.fromString(e.stampSubject):LiteralString.fromString(e.stampType),f.Contents=e.textContent?LiteralString.fromString(e.textContent):f.Subj}else throw new Error("Custom stamp has no valid image data");return f._added=!0,f.initProxy()}static parseAsync(e){return __awaiter$E(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new StampAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Name&&c.push(...a.encode("/Name "),...a.encode(this.Name)),this.IT&&c.push(...a.encode("/IT "),...a.encode(this.IT));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toDto(){var e,r,a,c,o,f;return{annotationType:"/Stamp",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,stampType:this.Name,stampSubject:(f=this.Subj)===null||f===void 0?void 0:f.literal,stampImageData:this._customImageData?[...this._customImageData]:null}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$E(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Name":s=yield this.parseNamePropAsync(g,a,s);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.Name)throw new Error("Not all required properties parsed")})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$D=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};const textNoteForms={NOTE:`25 10 m
  175 10 l
  175 10 190 10 190 25 c
  190 135 l
  190 135 190 150 175 150 c
  95 150 l
  10 190 l
  35 150 l
  25 150 l
  25 150 10 150 10 135 c
  10 25 l
  10 25 10 10 25 10 c
  b  
  35 35 m
  165 35 l
  S  
  35 55 m
  165 55 l
  S
  35 75 m
  125 75 l
  S
  35 95 m
  165 95 l
  S
  35 115 m
  115 115 l
  S
  `},textNoteCreationInfos={"/Note":{textStreamData:textNoteForms.NOTE,fillColor:[1,1,.4],subject:"Note",bBox:[0,0,200,200],rect:[0,0,25,25]}};class TextAnnotation extends MarkupAnnotation{constructor(){super(annotationTypes.TEXT),this.Open=!1,this.Name=annotationIconTypes.NOTE}static createStandard(e,r,a=annotationIconTypes.NOTE){const c=new Date().toISOString(),o={uuid:UUID.getRandomUuid(),annotationType:"/Text",pageId:null,dateCreated:c,dateModified:c,author:e||"unknown",textContent:null,rect:null,matrix:null,color:r,textNoteType:a};return this.createFromDto(o)}static createFromDto(e){if(e.annotationType!=="/Text")throw new Error("Invalid annotation type");const r=DateString.fromDate(new Date(e.dateCreated)),a=DateString.fromDate(new Date(e.dateModified)),c=new XFormStream;c.LastModified=a,c.Filter="/FlateDecode";const o=textNoteCreationInfos[e.textNoteType];if(!o)throw new Error(`Stamp type '${e.textNoteType}' is not supported`);c.setTextStreamData(o.textStreamData);const f=e.color,s=o.fillColor,g=o.subject,m=o.bBox;c.BBox=m;const p=f[0].toFixed(3),t=f[1].toFixed(3),b=f[2].toFixed(3),C=s[0].toFixed(3),w=s[1].toFixed(3),v=s[2].toFixed(3),M=`${C} ${w} ${v} rg ${p} ${t} ${b} RG`,y=new XFormStream;y.LastModified=a,y.BBox=m,y.Matrix=e.matrix||[1,0,0,1,0,0],y.Resources=new ResourceDict,y.Resources.setXObject("/Fm",c),y.Filter="/FlateDecode",y.setTextStreamData(`q 1 0 0 -1 0 ${m[3]} cm ${M} 1 j 8.58 w /Fm Do Q`);const I=new TextAnnotation;return I.$name=e.uuid,I.NM=LiteralString.fromString(e.uuid),I.T=LiteralString.fromString(e.author||"unknown"),I.M=a,I.CreationDate=r,I.Contents=e.textContent?LiteralString.fromString(e.textContent):LiteralString.fromString(g),I.Subj=LiteralString.fromString(g),I.Name=e.textNoteType,I.State=e.textNoteState,I.StateModel=e.textNoteStateModel,I.Rect=e.rect||o.rect,I.C=f,I.CA=1,I.apStream=y,I._added=!0,I.initProxy()}static parseAsync(e){return __awaiter$D(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new TextAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Open&&c.push(...a.encode("/Open "),...a.encode(" "+this.Open)),this.Name&&c.push(...a.encode("/Name "),...a.encode(this.Name)),this.State&&c.push(...a.encode("/State "),...a.encode(this.State)),this.StateModel&&c.push(...a.encode("/StateModel "),...a.encode(this.StateModel));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toDto(){var e,r,a,c,o;const f=this.getColorRect();return{annotationType:"/Text",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,color:f,textNoteType:this.Name,textNoteState:this.State,textNoteStateModel:this.StateModel}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$D(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Open":s=yield this.parseBoolPropAsync(g,a,s);break;case"/Name":const p=yield a.parseNameAtAsync(s,!0);if(p&&Object.values(annotationIconTypes).includes(p.value))this.Name=p.value,s=p.end+1;else throw new Error("Can't parse /Name property value");break;case"/State":const t=yield a.parseNameAtAsync(s,!0);if(t&&Object.values(annotationMarkedStates).concat(Object.values(annotationReviewStates)).includes(t.value))this.State=t.value,s=t.end+1;else throw new Error("Can't parse /State property value");break;case"/StateModel":const b=yield a.parseNameAtAsync(s,!0);if(b&&Object.values(annotationStateModelTypes).includes(b.value))this.StateModel=b.value,s=b.end+1;else throw new Error("Can't parse /StateModel property value");break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}renderHandles(){return[]}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$C=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class InkAnnotation extends MarkupAnnotation{constructor(){super(annotationTypes.INK)}static createFromDto(e){if(e.annotationType!=="/Ink")throw new Error("Invalid annotation type");const r=new BorderStyleDict;r.W=e.strokeWidth,e.strokeDashGap&&(r.D=e.strokeDashGap);const a=new InkAnnotation;return a.$name=e.uuid,a.NM=LiteralString.fromString(e.uuid),a.T=LiteralString.fromString(e.author),a.M=DateString.fromDate(new Date(e.dateModified)),a.CreationDate=DateString.fromDate(new Date(e.dateCreated)),a.Contents=e.textContent?LiteralString.fromString(e.textContent):null,a.InkList=e.inkList,a.Rect=e.rect,a.C=e.color.slice(0,3),a.CA=e.color[3],a.BS=r,a.generateApStream(),a._added=!0,a.initProxy()}static parseAsync(e){return __awaiter$C(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new InkAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.InkList&&c.push(...a.encode("/InkList "),...this.encodeNestedPrimitiveArray(this.InkList));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Ink",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,inkList:this.InkList,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});var a;return __awaiter$C(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:c,bounds:o}=e,f=o.contentStart||o.start,s=o.contentEnd||o.end;let g=yield c.skipToNextNameAsync(f,s-1),m,p;for(;p=yield c.parseNameAtAsync(g),p;)switch(g=p.end+1,m=p.value,m){case"/InkList":if(g=yield c.skipEmptyAsync(g),(yield c.getValueTypeAtAsync(g))===valueTypes.ARRAY){const b=[];let C=++g;for(;;){const w=yield c.parseNumberArrayAtAsync(C);if(!w)break;b.push(w.value),C=w.end+1}this.InkList=b;break}throw new Error("Can't parse /InkList property value");default:g=yield c.skipToNextNameAsync(g,s-1);break}if(!(!((a=this.InkList)===null||a===void 0)&&a.length))throw new Error("Not all required properties parsed");yield this.bakeRotationAsync()})}generateApStream(){var e,r,a,c,o,f,s,g;const m=new XFormStream;m.Filter="/FlateDecode",m.LastModified=DateString.fromDate(new Date),m.BBox=[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];const p=this.CA||1,t=this.strokeWidth,b=(c=(r=(e=this.BS)===null||e===void 0?void 0:e.D[0])!==null&&r!==void 0?r:(a=this.Border)===null||a===void 0?void 0:a.dash)!==null&&c!==void 0?c:3,C=(g=(f=(o=this.BS)===null||o===void 0?void 0:o.D[1])!==null&&f!==void 0?f:(s=this.Border)===null||s===void 0?void 0:s.gap)!==null&&g!==void 0?g:0,w=new GraphicsStateDict;w.AIS=!0,w.BM="/Normal",w.CA=p,w.ca=p,w.LW=t,w.LJ=lineJoinStyles.ROUND,w.LC=lineCapStyles.ROUND,w.D=[[b,C],0];let M=`q ${this.getColorString()} /GS0 gs`,y,I;this.InkList.forEach(P=>{y=P[0],I=P[1],M+=`
${y} ${I} m`;for(let _=2;_<P.length;_=_+2)y=P[_],I=P[_+1],M+=`
${y} ${I} l`;M+=`
S`}),M+=`
Q`,m.Resources=new ResourceDict,m.Resources.setGraphicsState("/GS0",w),m.setTextStreamData(M),this.apStream=m}applyCommonTransformAsync(e,r=!0){var a,c,o,f;return __awaiter$C(this,void 0,void 0,function*(){const s=this.getProxy();let g,m,p,t,b,C;const w=new u;s.InkList.forEach(M=>{for(let y=0;y<M.length;y=y+2)g=M[y],m=M[y+1],w.set(g,m).applyMat3(e),M[y]=w.x,M[y+1]=w.y,(!p||w.x<p)&&(p=w.x),(!t||w.y<t)&&(t=w.y),(!b||w.x>b)&&(b=w.x),(!C||w.y>C)&&(C=w.y)});const v=((f=(c=(a=s.BS)===null||a===void 0?void 0:a.W)!==null&&c!==void 0?c:(o=s.Border)===null||o===void 0?void 0:o.width)!==null&&f!==void 0?f:1)/2;if(p-=v,t-=v,b+=v,C+=v,this.Rect=[p,t,b,C],this._bBox){const M=s.getLocalBB();M.ll.set(p,t),M.lr.set(b,t),M.ur.set(b,C),M.ul.set(p,C)}if(this.generateApStream(),s.M=DateString.fromDate(new Date),s.$onEditAction){const M=l.invert(e);s.$onEditAction(r?()=>__awaiter$C(this,void 0,void 0,function*(){yield s.applyCommonTransformAsync(M,!1),yield s.updateRenderAsync()}):void 0)}})}bakeRotationAsync(){return __awaiter$C(this,void 0,void 0,function*(){const e=this.getCurrentRotation(),r=(this.Rect[0]+this.Rect[2])/2,a=(this.Rect[1]+this.Rect[3])/2,c=new l().applyTranslation(-r,-a).applyRotation(e).applyTranslation(r,a);yield this.applyCommonTransformAsync(c)})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$B=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class GeometricAnnotation extends MarkupAnnotation{constructor(e){super(e)}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.IC&&c.push(...a.encode("/IC "),...this.encodePrimitiveArray(this.IC,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$B(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/IC":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}}var __awaiter$A=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class SquareAnnotation extends GeometricAnnotation{constructor(){super(annotationTypes.SQUARE)}static createFromDto(e){if(e.annotationType!=="/Square")throw new Error("Invalid annotation type");const r=new BorderStyleDict;r.W=e.strokeWidth,e.strokeDashGap&&(r.D=e.strokeDashGap);const a=new SquareAnnotation;return a.$name=e.uuid,a.NM=LiteralString.fromString(e.uuid),a.T=LiteralString.fromString(e.author),a.M=DateString.fromDate(new Date(e.dateModified)),a.CreationDate=DateString.fromDate(new Date(e.dateCreated)),a.Contents=e.textContent?LiteralString.fromString(e.textContent):null,a.Rect=e.rect,a.RD=e.rectMargins,a.C=e.color.slice(0,3),a.CA=e.color[3],a.BS=r,a._cloud=e.cloud,a.generateApStream(e.bbox,e.matrix),a._added=!0,a.initProxy()}static parseAsync(e){return __awaiter$A(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new SquareAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.RD&&c.push(...a.encode("/RD "),...this.encodePrimitiveArray(this.RD,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Square",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,rectMargins:this.RD,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,cloud:this._cloud,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$A(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/RD":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}generateApStream(e,r){var a,c,o,f,s,g,m,p;const t=new XFormStream;t.Filter="/FlateDecode",t.LastModified=DateString.fromDate(new Date);const b=e?[e[0],e[1],e[2],e[3]]:[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];t.BBox=b;const C=r?[r[0],r[1],r[2],r[3],r[4],r[5]]:[1,0,0,1,0,0];t.Matrix=C;const w=this.CA||1,v=this.strokeWidth,M=(f=(c=(a=this.BS)===null||a===void 0?void 0:a.D[0])!==null&&c!==void 0?c:(o=this.Border)===null||o===void 0?void 0:o.dash)!==null&&f!==void 0?f:3,y=(p=(g=(s=this.BS)===null||s===void 0?void 0:s.D[1])!==null&&g!==void 0?g:(m=this.Border)===null||m===void 0?void 0:m.gap)!==null&&p!==void 0?p:0,I=new GraphicsStateDict;if(I.AIS=!0,I.BM="/Normal",I.CA=w,I.ca=w,I.LW=v,I.D=[[M,y],0],!this.RD){const X=this._cloud?SquareAnnotation.cloudArcSize/2:v/2;this.RD||(this.RD=[X,X,X,X])}const P=calcPdfBBoxToRectMatrices(b,this.Rect,C).matAA,_=l.invert(P).toFloatShortArray(),{r:k}=t.matrix.getTRS(),D=new l().applyRotation(k),V=new u(b[0],b[1]),R=new u(b[2],b[1]),U=new u(b[2],b[3]),te=new u(b[0],b[3]),[B,j,ie,E]=this.RD,L=new u(B,E).applyMat3(D),ee=new u(-ie,E).applyMat3(D),J=new u(-ie,-j).applyMat3(D),Y=new u(B,-j).applyMat3(D),q=u.applyMat3(V,P).add(L),F=u.applyMat3(R,P).add(ee),O=u.applyMat3(U,P).add(J),Z=u.applyMat3(te,P).add(Y);let $=`q ${this.getColorString()} /GS0 gs`;if($+=`
${_[0]} ${_[1]} ${_[2]} ${_[3]} ${_[4]} ${_[5]} cm`,this._cloud){I.LC=lineCapStyles.ROUND,I.LJ=lineJoinStyles.ROUND;const X=CloudCurveData.buildFromPolyline([q.clone(),F.clone(),O.clone(),Z.clone(),q.clone()],SquareAnnotation.cloudArcSize);$+=`
${X.start.x} ${X.start.y} m`,X.curves.forEach(ne=>{$+=`
${ne[0].x} ${ne[0].y} ${ne[1].x} ${ne[1].y} ${ne[2].x} ${ne[2].y} c`}),$+=`
S`}else I.LC=lineCapStyles.SQUARE,I.LJ=lineJoinStyles.MITER,$+=`
${q.x} ${q.y} m`,$+=`
${F.x} ${F.y} l`,$+=`
${O.x} ${O.y} l`,$+=`
${Z.x} ${Z.y} l`,$+=`
s`;$+=`
Q`,t.Resources=new ResourceDict,t.Resources.setGraphicsState("/GS0",I),t.setTextStreamData($),this.apStream=t}applyCommonTransformAsync(e,r=!0){return __awaiter$A(this,void 0,void 0,function*(){const a=this.getProxy();a.applyRectTransform(e);const c=a.apStream;if(c){const o=l.multiply(c.matrix,e);a.generateApStream(c.BBox,o.toFloatShortArray())}if(a.M=DateString.fromDate(new Date),a.$onEditAction){const o=l.invert(e);a.$onEditAction(r?()=>__awaiter$A(this,void 0,void 0,function*(){yield a.applyCommonTransformAsync(o,!1),yield a.updateRenderAsync()}):void 0)}})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}SquareAnnotation.cloudArcSize=20;var __awaiter$z=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class CircleAnnotation extends GeometricAnnotation{constructor(){super(annotationTypes.CIRCLE)}static createFromDto(e){if(e.annotationType!=="/Circle")throw new Error("Invalid annotation type");const r=new BorderStyleDict;r.W=e.strokeWidth,e.strokeDashGap&&(r.D=e.strokeDashGap);const a=new CircleAnnotation;return a.$name=e.uuid,a.NM=LiteralString.fromString(e.uuid),a.T=LiteralString.fromString(e.author),a.M=DateString.fromDate(new Date(e.dateModified)),a.CreationDate=DateString.fromDate(new Date(e.dateCreated)),a.Contents=e.textContent?LiteralString.fromString(e.textContent):null,a.Rect=e.rect,a.RD=e.rectMargins,a.C=e.color.slice(0,3),a.CA=e.color[3],a.BS=r,a._cloud=e.cloud,a.generateApStream(e.bbox,e.matrix),a._added=!0,a.initProxy()}static parseAsync(e){return __awaiter$z(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new CircleAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.RD&&c.push(...a.encode("/RD "),...this.encodePrimitiveArray(this.RD,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Circle",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,rectMargins:this.RD,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,cloud:this._cloud,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$z(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/RD":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}})}generateApStream(e,r){var a,c,o,f,s,g,m,p;const t=new XFormStream;t.Filter="/FlateDecode",t.LastModified=DateString.fromDate(new Date);const b=e?[e[0],e[1],e[2],e[3]]:[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];t.BBox=b;const C=r?[r[0],r[1],r[2],r[3],r[4],r[5]]:[1,0,0,1,0,0];t.Matrix=C;const w=this.CA||1,v=this.strokeWidth,M=(f=(c=(a=this.BS)===null||a===void 0?void 0:a.D[0])!==null&&c!==void 0?c:(o=this.Border)===null||o===void 0?void 0:o.dash)!==null&&f!==void 0?f:3,y=(p=(g=(s=this.BS)===null||s===void 0?void 0:s.D[1])!==null&&g!==void 0?g:(m=this.Border)===null||m===void 0?void 0:m.gap)!==null&&p!==void 0?p:0,I=new GraphicsStateDict;if(I.AIS=!0,I.BM="/Normal",I.CA=w,I.ca=w,I.LW=v,I.D=[[M,y],0],I.LC=lineCapStyles.ROUND,I.LJ=lineJoinStyles.ROUND,!this.RD){const de=this._cloud?CircleAnnotation.cloudArcSize/2:v/2;this.RD||(this.RD=[de,de,de,de])}const P=calcPdfBBoxToRectMatrices(b,this.Rect,C).matAA,_=l.invert(P).toFloatShortArray(),{r:k}=t.matrix.getTRS(),D=new l().applyRotation(k),V=new u(b[0],b[1]),R=new u(b[2],b[1]),U=new u(b[2],b[3]),te=new u(b[0],b[3]),[B,j,ie,E]=this.RD,L=new u(B,E).applyMat3(D),ee=new u(-ie,E).applyMat3(D),J=new u(-ie,-j).applyMat3(D),Y=new u(B,-j).applyMat3(D),q=u.applyMat3(V,P).add(L),F=u.applyMat3(R,P).add(ee),O=u.applyMat3(U,P).add(J),Z=u.applyMat3(te,P).add(Y),se=u.add(q,O).multiplyByScalar(.5),$=u.add(q,Z).multiplyByScalar(.5),X=u.add(Z,O).multiplyByScalar(.5),ne=u.add(F,O).multiplyByScalar(.5),oe=u.add(q,F).multiplyByScalar(.5),ue=u.subtract(ne,$).multiplyByScalar(.5),fe=u.subtract(X,oe).multiplyByScalar(.5);let ae=`q ${this.getColorString()} /GS0 gs`;if(ae+=`
${_[0]} ${_[1]} ${_[2]} ${_[3]} ${_[4]} ${_[5]} cm`,this._cloud){const de=CloudCurveData.buildFromEllipse(ue.getMagnitude(),fe.getMagnitude(),CircleAnnotation.cloudArcSize,new l().applyRotation(k).applyTranslation(se.x,se.y));ae+=`
${de.start.x} ${de.start.y} m`,de.curves.forEach(re=>{ae+=`
${re[0].x} ${re[0].y} ${re[1].x} ${re[1].y} ${re[2].x} ${re[2].y} c`}),ae+=`
S`}else{const de=BEZIER_CONSTANT,re=u.multiplyByScalar(ue,de),Q=u.multiplyByScalar(fe,de),ce=u.add(u.add(se,fe),re),he=u.add(u.add(se,Q),ue),ge=u.add(u.subtract(se,Q),ue),pe=u.add(u.subtract(se,fe),re),me=u.subtract(u.subtract(se,fe),re),Ae=u.subtract(u.subtract(se,Q),ue),ye=u.subtract(u.add(se,Q),ue),xe=u.subtract(u.add(se,fe),re);ae+=`
${X.x} ${X.y} m`,ae+=`
${ce.x} ${ce.y} ${he.x} ${he.y} ${ne.x} ${ne.y} c`,ae+=`
${ge.x} ${ge.y} ${pe.x} ${pe.y} ${oe.x} ${oe.y} c`,ae+=`
${me.x} ${me.y} ${Ae.x} ${Ae.y} ${$.x} ${$.y} c`,ae+=`
${ye.x} ${ye.y} ${xe.x} ${xe.y} ${X.x} ${X.y} c`,ae+=`
s`}ae+=`
Q`,t.Resources=new ResourceDict,t.Resources.setGraphicsState("/GS0",I),t.setTextStreamData(ae),this.apStream=t}applyCommonTransformAsync(e,r=!0){return __awaiter$z(this,void 0,void 0,function*(){const a=this.getProxy();a.applyRectTransform(e);const c=a.apStream;if(c){const o=l.multiply(c.matrix,e);a.generateApStream(c.BBox,o.toFloatShortArray())}if(a.M=DateString.fromDate(new Date),a.$onEditAction){const o=l.invert(e);a.$onEditAction(r?()=>__awaiter$z(this,void 0,void 0,function*(){yield a.applyCommonTransformAsync(o,!1),yield a.updateRenderAsync()}):void 0)}})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}CircleAnnotation.cloudArcSize=20;var __awaiter$y=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PolyAnnotation extends GeometricAnnotation{constructor(e){super(e)}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.Vertices&&c.push(...a.encode("/Vertices "),...this.encodePrimitiveArray(this.Vertices,a)),this.IT&&c.push(...a.encode("/IT "),...a.encode(this.IT)),this.Measure&&c.push(...a.encode("/Measure "),...this.Measure.toArray(e));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$y(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/Vertices":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;case"/IT":const p=yield a.parseNameAtAsync(s,!0);if(p&&Object.values(polyIntents).includes(p.value)){this.IT=p.value,s=p.end+1;break}throw new Error("Can't parse /IT property value");case"/Measure":const t=yield a.getValueTypeAtAsync(s);if(t===valueTypes.REF){const b=yield ObjectId.parseRefAsync(a,s);if(b&&e.parseInfoGetterAsync){const C=yield e.parseInfoGetterAsync(b.value.id);if(C){const w=yield MeasureDict.parseAsync(C);if(w){this.Measure=w.value,s=w.end+1;break}}}throw new Error("Can't parse /Measure value reference")}else if(t===valueTypes.DICTIONARY){const b=yield a.getDictBoundsAtAsync(s);if(b){const C=yield MeasureDict.parseAsync({parser:a,bounds:b});if(C){this.Measure=C.value,s=C.end+1;break}}throw new Error("Can't parse /Measure value dictionary")}throw new Error(`Unsupported /Measure property value type: ${t}`);default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.Vertices)throw new Error("Not all required properties parsed")})}}var __awaiter$x=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PolygonAnnotation extends PolyAnnotation{constructor(){super(annotationTypes.POLYGON)}static createFromDto(e){if(e.annotationType!=="/Polygon")throw new Error("Invalid annotation type");const r=new BorderStyleDict;r.W=e.strokeWidth,e.strokeDashGap&&(r.D=e.strokeDashGap);const a=new PolygonAnnotation;return a.$name=e.uuid,a.NM=LiteralString.fromString(e.uuid),a.T=LiteralString.fromString(e.author),a.M=DateString.fromDate(new Date(e.dateModified)),a.CreationDate=DateString.fromDate(new Date(e.dateCreated)),a.Contents=e.textContent?LiteralString.fromString(e.textContent):null,a.Rect=e.rect,a.C=e.color.slice(0,3),a.CA=e.color[3],a.BS=r,a.IT=e.cloud?polyIntents.CLOUD:polyIntents.POLYGON_DIMENSION,a.Vertices=e.vertices,a.generateApStream(),a._added=!0,a.initProxy()}static parseAsync(e){return __awaiter$x(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new PolygonAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){return super.toArray(e)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Polygon",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,vertices:this.Vertices,cloud:this.IT===polyIntents.CLOUD,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$x(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e),yield this.bakeRotationAsync()})}generateApStream(){var e,r,a,c,o,f,s,g,m;if(!(!((e=this.Vertices)===null||e===void 0)&&e.length)||this.Vertices.length<6)return;const p=new XFormStream;p.Filter="/FlateDecode",p.LastModified=DateString.fromDate(new Date),p.BBox=[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];const t=this.CA||1,b=this.strokeWidth,C=(o=(a=(r=this.BS)===null||r===void 0?void 0:r.D[0])!==null&&a!==void 0?a:(c=this.Border)===null||c===void 0?void 0:c.dash)!==null&&o!==void 0?o:3,w=(m=(s=(f=this.BS)===null||f===void 0?void 0:f.D[1])!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.gap)!==null&&m!==void 0?m:0,v=new GraphicsStateDict;v.AIS=!0,v.BM="/Normal",v.CA=t,v.ca=t,v.LW=b,v.D=[[C,w],0];const M=this.getColorString(),y=this.Vertices;let I=`q ${M} /GS0 gs`;if(this.IT===polyIntents.CLOUD){v.LC=lineCapStyles.ROUND,v.LJ=lineJoinStyles.ROUND;const P=[];for(let k=0;k<y.length;k=k+2)P.push(new u(y[k],y[k+1]));P.push(new u(y[0],y[1]));const _=CloudCurveData.buildFromPolyline(P,PolygonAnnotation.cloudArcSize);I+=`
${_.start.x} ${_.start.y} m`,_.curves.forEach(k=>{I+=`
${k[0].x} ${k[0].y} ${k[1].x} ${k[1].y} ${k[2].x} ${k[2].y} c`}),I+=`
S`}else{v.LC=lineCapStyles.SQUARE,v.LJ=lineJoinStyles.MITER;let P,_;I+=`
${y[0]} ${y[1]} m`;for(let k=2;k<y.length;k=k+2)P=y[k],_=y[k+1],I+=`
${P} ${_} l`;I+=`
s`}I+=`
Q`,p.Resources=new ResourceDict,p.Resources.setGraphicsState("/GS0",v),p.setTextStreamData(I),this.apStream=p}applyCommonTransformAsync(e,r=!0){var a,c,o,f;return __awaiter$x(this,void 0,void 0,function*(){const s=this.getProxy();let g,m,p,t,b,C;const w=new u,v=s.Vertices;for(let I=0;I<v.length;I=I+2)g=v[I],m=v[I+1],w.set(g,m).applyMat3(e),v[I]=w.x,v[I+1]=w.y,(!p||w.x<p)&&(p=w.x),(!t||w.y<t)&&(t=w.y),(!b||w.x>b)&&(b=w.x),(!C||w.y>C)&&(C=w.y);const M=((f=(c=(a=s.BS)===null||a===void 0?void 0:a.W)!==null&&c!==void 0?c:(o=s.Border)===null||o===void 0?void 0:o.width)!==null&&f!==void 0?f:1)/2,y=s.IT===polyIntents.CLOUD?PolygonAnnotation.cloudArcSize/2+M:M;if(p-=y,t-=y,b+=y,C+=y,s.Rect=[p,t,b,C],s._bBox){const I=s.getLocalBB();I.ll.set(p,t),I.lr.set(b,t),I.ur.set(b,C),I.ul.set(p,C)}if(s.generateApStream(),s.M=DateString.fromDate(new Date),s.$onEditAction){const I=l.invert(e);s.$onEditAction(r?()=>__awaiter$x(this,void 0,void 0,function*(){yield s.applyCommonTransformAsync(I,!1),yield s.updateRenderAsync()}):void 0)}})}bakeRotationAsync(){return __awaiter$x(this,void 0,void 0,function*(){const e=this.getCurrentRotation(),r=(this.Rect[0]+this.Rect[2])/2,a=(this.Rect[1]+this.Rect[3])/2,c=new l().applyTranslation(-r,-a).applyRotation(e).applyTranslation(r,a);yield this.applyCommonTransformAsync(c)})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}PolygonAnnotation.cloudArcSize=20;var __awaiter$w=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PolylineAnnotation extends PolyAnnotation{constructor(){super(annotationTypes.POLYLINE),this.LE=[lineEndingTypes.NONE,lineEndingTypes.NONE]}static createFromDto(e){if(e.annotationType!=="/Polyline")throw new Error("Invalid annotation type");const r=new BorderStyleDict;r.W=e.strokeWidth,e.strokeDashGap&&(r.D=e.strokeDashGap);const a=new PolylineAnnotation;return a.$name=e.uuid,a.NM=LiteralString.fromString(e.uuid),a.T=LiteralString.fromString(e.author),a.M=DateString.fromDate(new Date(e.dateModified)),a.CreationDate=DateString.fromDate(new Date(e.dateCreated)),a.Contents=e.textContent?LiteralString.fromString(e.textContent):null,a.Rect=e.rect,a.C=e.color.slice(0,3),a.CA=e.color[3],a.BS=r,a.IT=polyIntents.POLYLINE_DIMENSION,a.LE=e.endingType||[lineEndingTypes.NONE,lineEndingTypes.NONE],a.Vertices=e.vertices,a.generateApStream(),a._added=!0,a.initProxy()}static parseAsync(e){return __awaiter$w(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new PolylineAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.LE&&c.push(...a.encode("/LE "),...this.encodePrimitiveArray(this.LE,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/PolyLine",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,vertices:this.Vertices,endingType:this.LE,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$w(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/LE":const p=yield a.parseNameArrayAtAsync(s,!0);if(p&&Object.values(lineEndingTypes).includes(p.value[0])&&Object.values(lineEndingTypes).includes(p.value[1]))this.LE=[p.value[0],p.value[1]],s=p.end+1;else throw new Error("Can't parse /LE property value");break;default:s=yield a.skipToNextNameAsync(s,f-1);break}yield this.bakeRotationAsync()})}generateApStream(){var e,r,a,c,o,f,s,g,m;if(!(!((e=this.Vertices)===null||e===void 0)&&e.length)||this.Vertices.length<4)return;const p=new XFormStream;p.Filter="/FlateDecode",p.LastModified=DateString.fromDate(new Date),p.BBox=[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];const t=this.CA||1,b=this.strokeWidth,C=(o=(a=(r=this.BS)===null||r===void 0?void 0:r.D[0])!==null&&a!==void 0?a:(c=this.Border)===null||c===void 0?void 0:c.dash)!==null&&o!==void 0?o:3,w=(m=(s=(f=this.BS)===null||f===void 0?void 0:f.D[1])!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.gap)!==null&&m!==void 0?m:0,v=new GraphicsStateDict;v.AIS=!0,v.BM="/Normal",v.CA=t,v.ca=t,v.LW=b,v.D=[[C,w],0],v.LC=lineCapStyles.SQUARE,v.LJ=lineJoinStyles.MITER;const M=this.getColorString(),y=this.Vertices;let I=`q ${M} /GS0 gs`,P,_;I+=`
${y[0]} ${y[1]} m`;for(let k=2;k<y.length;k=k+2)P=y[k],_=y[k+1],I+=`
${P} ${_} l`;I+=`
S`,I+=`
Q`,p.Resources=new ResourceDict,p.Resources.setGraphicsState("/GS0",v),p.setTextStreamData(I),this.apStream=p}applyCommonTransformAsync(e,r=!0){var a,c,o,f;return __awaiter$w(this,void 0,void 0,function*(){const s=this.getProxy();let g,m,p,t,b,C;const w=new u,v=s.Vertices;for(let y=0;y<v.length;y=y+2)g=v[y],m=v[y+1],w.set(g,m).applyMat3(e),v[y]=w.x,v[y+1]=w.y,(!p||w.x<p)&&(p=w.x),(!t||w.y<t)&&(t=w.y),(!b||w.x>b)&&(b=w.x),(!C||w.y>C)&&(C=w.y);const M=((f=(c=(a=s.BS)===null||a===void 0?void 0:a.W)!==null&&c!==void 0?c:(o=s.Border)===null||o===void 0?void 0:o.width)!==null&&f!==void 0?f:1)/2;if(p-=M,t-=M,b+=M,C+=M,s.Rect=[p,t,b,C],s._bBox){const y=s.getLocalBB();y.ll.set(p,t),y.lr.set(b,t),y.ur.set(b,C),y.ul.set(p,C)}if(s.generateApStream(),s.M=DateString.fromDate(new Date),s.$onEditAction){const y=l.invert(e);s.$onEditAction(r?()=>__awaiter$w(this,void 0,void 0,function*(){yield s.applyCommonTransformAsync(y,!1),yield s.updateRenderAsync()}):void 0)}})}bakeRotationAsync(){return __awaiter$w(this,void 0,void 0,function*(){const e=this.getCurrentRotation(),r=(this.Rect[0]+this.Rect[2])/2,a=(this.Rect[1]+this.Rect[3])/2,c=new l().applyTranslation(-r,-a).applyRotation(e).applyTranslation(r,a);yield this.applyCommonTransformAsync(c)})}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$v=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class LineAnnotation extends GeometricAnnotation{constructor(){super(annotationTypes.LINE),this.IT=lineIntents.DIMENSION,this.LE=[lineEndingTypes.NONE,lineEndingTypes.NONE],this.LLE=0,this.LL=0,this.LLO=0,this.Cap=!1,this.CP=lineCaptionPositions.INLINE,this.CO=[0,0],this._svgTemp=new SvgTempPath,this.onLineEndHandlePointerDown=e=>{if(!e.isPrimary)return;const r=e.target;r.setPointerCapture(e.pointerId),r.addEventListener("pointerup",this.onLineEndHandlePointerUp),r.addEventListener("pointerout",this.onLineEndHandlePointerUp);const a=r.dataset.handleName;switch(a){case"start":this._scaleHandleActive="start";break;case"end":this._scaleHandleActive="end";break;default:throw new Error(`Invalid handle name: ${a}`)}this._moved=!1,this._transformationTimer=setTimeout(()=>{this._transformationTimer=null,this._svgTemp.insertAfter(this._renderedControls),r.addEventListener("pointermove",this.onLineEndHandlePointerMove)},200),e.stopPropagation()},this.onLineEndHandlePointerMove=e=>{if(!e.isPrimary||!this._scaleHandleActive)return;const r=new u(this.L[0],this.L[1]),a=new u(this.L[2],this.L[3]);let c,o;this._scaleHandleActive==="start"?(c=this.convertClientCoordsToPage(e.clientX,e.clientY),o=a.clone()):(c=r.clone(),o=this.convertClientCoordsToPage(e.clientX,e.clientY)),this._tempTransformationMatrix=l.from4Vec2(r,a,c,o),this._svgTemp.set("none","blue",this.strokeWidth,[c,o]),this._moved=!0},this.onLineEndHandlePointerUp=e=>{if(!e.isPrimary)return;const r=e.target;r.removeEventListener("pointermove",this.onLineEndHandlePointerMove),r.removeEventListener("pointerup",this.onLineEndHandlePointerUp),r.removeEventListener("pointerout",this.onLineEndHandlePointerUp),r.releasePointerCapture(e.pointerId),this._svgTemp.remove(),this.applyTempTransformAsync()}}get offsetY(){return(Math.abs(this.LL||0)+(this.LLO||0))*(this.LL<0?-1:1)}get minMargin(){const e=this.strokeWidth,r=e/2;let a=0;return this.LE[0]!==lineEndingTypes.NONE||this.LE[1]!==lineEndingTypes.NONE?a=(Math.max(e*LINE_END_MULTIPLIER,LINE_END_MIN_SIZE)+e)/2:a=r,a}static createFromDtoAsync(e,r){return __awaiter$v(this,void 0,void 0,function*(){if(e.annotationType!=="/Line")throw new Error("Invalid annotation type");const a=new BorderStyleDict;a.W=e.strokeWidth,e.strokeDashGap&&(a.D=e.strokeDashGap);const c=new LineAnnotation;return c.$name=e.uuid,c.NM=LiteralString.fromString(e.uuid),c.T=LiteralString.fromString(e.author),c.M=DateString.fromDate(new Date(e.dateModified)),c.CreationDate=DateString.fromDate(new Date(e.dateCreated)),c.Contents=e.textContent?LiteralString.fromString(e.textContent):null,c.Rect=e.rect,c.C=e.color.slice(0,3),c.CA=e.color[3],c.BS=a,c.IT=e.intent||lineIntents.DIMENSION,c.LE=e.endingType||[lineEndingTypes.NONE,lineEndingTypes.NONE],c.L=e.vertices,c.LL=e.leaderLineLength||0,c.LLE=e.leaderLineExtension||0,c.LLO=e.leaderLineOffset||0,c.Cap=e.caption,c.CP=e.captionPosition||lineCaptionPositions.INLINE,c.CO=e.captionOffset||[0,0],c._fontMap=r,yield c.generateApStreamAsync(),c._added=!0,c.initProxy()})}static parseAsync(e,r){return __awaiter$v(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const a=new LineAnnotation;return yield a.parsePropsAsync(e),a._fontMap=r,{value:a.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(a){return console.log(a.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.L&&c.push(...a.encode("/L "),...this.encodePrimitiveArray(this.L,a)),this.LE&&c.push(...a.encode("/LE "),...this.encodePrimitiveArray(this.LE,a)),this.LL&&c.push(...a.encode("/LL "),...a.encode(" "+this.LL)),this.LLE&&c.push(...a.encode("/LLE "),...a.encode(" "+this.LLE)),this.Cap&&c.push(...a.encode("/Cap "),...a.encode(" "+this.Cap)),this.IT&&c.push(...a.encode("/IT "),...a.encode(this.IT)),this.LLO&&c.push(...a.encode("/LLO "),...a.encode(" "+this.LLO)),this.CP&&c.push(...a.encode("/CP "),...a.encode(this.CP)),this.Measure&&c.push(...a.encode("/Measure "),...this.Measure.toArray(e)),this.CO&&c.push(...a.encode("/CO "),...this.encodePrimitiveArray(this.CO,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Line",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,vertices:this.L,intent:this.IT,endingType:this.LE,leaderLineLength:this.LL,leaderLineExtension:this.LLE,leaderLineOffset:this.LLO,caption:this.Cap,captionPosition:this.CP,captionOffset:this.CO,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}setTextContentAsync(e,r=!0){const a=Object.create(null,{setTextContentAsync:{get:()=>super.setTextContentAsync}});return __awaiter$v(this,void 0,void 0,function*(){yield a.setTextContentAsync.call(this,e,r),yield this.updateStreamAsync()})}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});var a;return __awaiter$v(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:c,bounds:o}=e,f=o.contentStart||o.start,s=o.contentEnd||o.end;let g=yield c.skipToNextNameAsync(f,s-1),m,p;for(;p=yield c.parseNameAtAsync(g),p;)switch(g=p.end+1,m=p.value,m){case"/L":case"/CO":g=yield this.parseNumberArrayPropAsync(m,c,g,!0);break;case"/LE":const t=yield c.parseNameArrayAtAsync(g,!0);if(t&&Object.values(lineEndingTypes).includes(t.value[0])&&Object.values(lineEndingTypes).includes(t.value[1]))this.LE=[t.value[0],t.value[1]],g=t.end+1;else throw new Error("Can't parse /LE property value");break;case"/IT":const b=yield c.parseNameAtAsync(g,!0);if(b&&Object.values(lineIntents).includes(b.value)){this.IT=b.value,g=b.end+1;break}throw new Error("Can't parse /IT property value");case"/CP":const C=yield c.parseNameAtAsync(g,!0);if(C&&Object.values(lineCaptionPositions).includes(C.value))this.CP=C.value,g=C.end+1;else throw new Error("Can't parse /CP property value");break;case"/LL":case"/LLE":case"/LLO":g=yield this.parseNumberPropAsync(m,c,g,!1);break;case"/Cap":g=yield this.parseBoolPropAsync(m,c,g);break;case"/Measure":const w=yield c.getValueTypeAtAsync(g);if(w===valueTypes.REF){const v=yield ObjectId.parseRefAsync(c,g);if(v&&e.parseInfoGetterAsync){const M=yield e.parseInfoGetterAsync(v.value.id);if(M){const y=yield MeasureDict.parseAsync(M);if(y){this.Measure=y.value,g=y.end+1;break}}}throw new Error("Can't parse /BS value reference")}else if(w===valueTypes.DICTIONARY){const v=yield c.getDictBoundsAtAsync(g);if(v){const M=yield MeasureDict.parseAsync({parser:c,bounds:v});if(M){this.Measure=M.value,g=M.end+1;break}}throw new Error("Can't parse /Measure value dictionary")}throw new Error(`Unsupported /Measure property value type: ${w}`);default:g=yield c.skipToNextNameAsync(g,s-1);break}if(this.RC){const b=(a=new DOMParser().parseFromString(this.RC.literal,"text/xml"))===null||a===void 0?void 0:a.querySelector("body");if(b){const C=b.getAttribute("style"),w=b.querySelector("p");this._rtStyle=C||"",this._rtText=w?.textContent||""}}})}applyCommonTransformAsync(e,r=!0){return __awaiter$v(this,void 0,void 0,function*(){const a=this.getProxy(),[c,o,f,s]=a.L,g=new u(c,o).applyMat3(e),m=new u(f,s).applyMat3(e);if(a.L=[g.x,g.y,m.x,m.y],yield a.generateApStreamAsync(),a.M=DateString.fromDate(new Date),a.$onEditAction){const p=l.invert(e);a.$onEditAction(r?()=>__awaiter$v(this,void 0,void 0,function*(){yield a.applyCommonTransformAsync(p,!1),yield a.updateRenderAsync()}):void 0)}})}updateStreamAsync(){return __awaiter$v(this,void 0,void 0,function*(){const e=this.getProxy();yield e.generateApStreamAsync(),yield e.updateRenderAsync()})}calculateStreamBboxAsync(){return __awaiter$v(this,void 0,void 0,function*(){const[e,r,a,c]=this.L,o=new u(a-e,c-r).getMagnitude(),f=this.strokeWidth,s=f/2,g=this.minMargin,m=4*g,p=o>m?o-m:o,t=yield this.updateTextDataAsync({maxWidth:p,fontSize:9,strokeWidth:f,textAlign:"center",pivotPoint:this.CP===lineCaptionPositions.INLINE?"center":"bottom-margin"}),b=Math.max(Math.abs(this.LL||0)+(this.LLO||0)+s,g),C=Math.max((this.LLE||0)+s,g),w=b+C,v=this.LL<0?g:w,M=this.LL<0?w:g;let y=-g,I=-M,P=o+g,_=v;if(t){const D=this.offsetY,[V,R,U,te]=t.relativeRect;y=Math.min(y,V+o/2),I=Math.min(I,R+D),P=Math.max(P,U+o/2),_=Math.max(_,te+D)}return[new u(y,I),new u(P,_)]})}calculateStreamMatrix(){const[e,r,a,c]=this.L,o=new u(e,r),f=new u(a,c),s=u.subtract(f,o).getMagnitude(),g=new u,m=new u(s,0);return l.from4Vec2(g,m,o,f)}updateRect(e,r){const a=this.getLocalBB();a.ll.set(e[0].x,e[0].y).applyMat3(r),a.lr.set(e[1].x,e[0].y).applyMat3(r),a.ur.set(e[1].x,e[1].y).applyMat3(r),a.ul.set(e[0].x,e[1].y).applyMat3(r);const{min:c,max:o}=u.minMax(a.ll,a.lr,a.ur,a.ul);this.Rect=[c.x,c.y,o.x,o.y]}getLineEndsStreamCoords(e){const r=l.invert(e),a=new u(this.L[0],this.L[1]).applyMat3(r).truncate(),c=new u(this.L[2],this.L[3]).applyMat3(r).truncate(),o=this.offsetY;return a.y+=o,c.y+=o,[a,c]}getLineStreamPart(e,r){let a="";return a+=`
${e.x} ${e.y} m`,a+=`
${r.x} ${r.y} l`,a+=`
S`,this.LL&&(this.LL>0?(a+=`
${e.x} ${e.y-Math.abs(this.LL)} m`,a+=`
${e.x} ${e.y+this.LLE} l`,a+=`
S`,a+=`
${r.x} ${r.y-Math.abs(this.LL)} m`,a+=`
${r.x} ${r.y+this.LLE} l`,a+=`
S`):(a+=`
${e.x} ${e.y+Math.abs(this.LL)} m`,a+=`
${e.x} ${e.y-this.LLE} l`,a+=`
S`,a+=`
${r.x} ${r.y+Math.abs(this.LL)} m`,a+=`
${r.x} ${r.y-this.LLE} l`,a+=`
S`)),a}getTextStreamPartAsync(e,r){return __awaiter$v(this,void 0,void 0,function*(){const a=this._textData;if(!a)return"";const[c,o,f,s]=a.relativeRect,g=new u(c,o).add(e),m=new u(f,s).add(e),p=`
q 1 g 1 G
${g.x} ${g.y} m
${g.x} ${m.y} l
${m.x} ${m.y} l
${m.x} ${g.y} l
f
Q`;let t=`
q 0 g 0 G`;const b=9;for(const C of a.lines){if(!C.text)continue;const w=new u(C.relativeRect[0],C.relativeRect[1]).add(e);let v="";for(const M of C.text){const y=r.encoding.codeMap.get(M);y&&(v+=y.toString(16).padStart(2,"0"))}t+=`
BT 0 Tc 0 Tw 100 Tz ${r.name} ${b} Tf 0 Tr`,t+=`
1 0 0 1 ${w.x} ${w.y+b*.2} Tm`,t+=`
<${v}> Tj`,t+=`
ET`}return t+=`
Q`,p+t})}generateApStreamAsync(){var e,r,a,c,o,f,s,g,m,p;return __awaiter$v(this,void 0,void 0,function*(){if(!this.L)return;const t=yield this.calculateStreamBboxAsync(),b=this.calculateStreamMatrix();this.updateRect(t,b);const C=new XFormStream;C.Filter="/FlateDecode",C.LastModified=DateString.fromDate(new Date),C.BBox=[t[0].x,t[0].y,t[1].x,t[1].y],C.Matrix=b.toFloatShortArray(),C.Resources=new ResourceDict;const w=this.CA||1,v=this.strokeWidth,M=(c=(r=(e=this.BS)===null||e===void 0?void 0:e.D[0])!==null&&r!==void 0?r:(a=this.Border)===null||a===void 0?void 0:a.dash)!==null&&c!==void 0?c:3,y=(g=(f=(o=this.BS)===null||o===void 0?void 0:o.D[1])!==null&&f!==void 0?f:(s=this.Border)===null||s===void 0?void 0:s.gap)!==null&&g!==void 0?g:0,I=new GraphicsStateDict;I.AIS=!0,I.BM="/Normal",I.CA=w,I.ca=w,I.LW=v,I.D=[[M,y],0],I.LC=lineCapStyles.SQUARE,I.LJ=lineJoinStyles.MITER,C.Resources.setGraphicsState("/GS0",I);const P="arial",_=(m=this._fontMap)===null||m===void 0?void 0:m.get(P);if(!_||!(!((p=_.encoding)===null||p===void 0)&&p.codeMap))throw new Error(`Suitable font is not found in the font map: '${P}'`);C.Resources.setFont(_.name,_);const k=this.getColorString(),[D,V]=this.getLineEndsStreamCoords(b),R=this.getLineStreamPart(D,V),U=this.getLineEndingStreamPart(D,this.LE[0],v,"left"),te=this.getLineEndingStreamPart(V,this.LE[1],v,"right"),B=yield this.getTextStreamPartAsync(u.add(D,V).multiplyByScalar(.5),_),j=`q ${k} /GS0 gs`+R+U+te+B+`
Q`;C.setTextStreamData(j),this.apStream=C})}renderHandles(){return[...this.renderLineEndHandles(),this.renderRotationHandle()]}renderLineEndHandles(){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.classList.add("annotation-handle","scale"),e.setAttribute("data-handle-name","start"),e.setAttribute("x1",this.L[0]+""),e.setAttribute("y1",this.L[1]+""),e.setAttribute("x2",this.L[0]+""),e.setAttribute("y2",this.L[1]+.1+""),e.addEventListener("pointerdown",this.onLineEndHandlePointerDown);const r=document.createElementNS("http://www.w3.org/2000/svg","line");return r.classList.add("annotation-handle","scale"),r.setAttribute("data-handle-name","end"),r.setAttribute("x1",this.L[2]+""),r.setAttribute("y1",this.L[3]+""),r.setAttribute("x2",this.L[2]+""),r.setAttribute("y2",this.L[3]+.1+""),r.addEventListener("pointerdown",this.onLineEndHandlePointerDown),[e,r]}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$u=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TextMarkupAnnotation extends MarkupAnnotation{constructor(e){super(e),this.onTranslationPointerDown=r=>{}}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.QuadPoints&&c.push(...a.encode("/QuadPoints "),...this.encodePrimitiveArray(this.QuadPoints,a));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$u(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:a,bounds:c}=e,o=c.contentStart||c.start,f=c.contentEnd||c.end;let s=yield a.skipToNextNameAsync(o,f-1),g,m;for(;m=yield a.parseNameAtAsync(s),m;)switch(s=m.end+1,g=m.value,g){case"/QuadPoints":s=yield this.parseNumberArrayPropAsync(g,a,s,!0);break;default:s=yield a.skipToNextNameAsync(s,f-1);break}if(!this.QuadPoints)throw new Error("Not all required properties parsed")})}renderHandles(){return[]}}var __awaiter$t=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class HighlightAnnotation extends TextMarkupAnnotation{constructor(){super(annotationTypes.HIGHLIGHT)}static createFromDto(e){var r;if(e.annotationType!=="/Highlight")throw new Error("Invalid annotation type");if(!(!((r=e?.quadPoints)===null||r===void 0)&&r.length)||e.quadPoints.length%8)return;const a=new BorderStyleDict;a.W=e.strokeWidth,e.strokeDashGap&&(a.D=e.strokeDashGap);const c=new HighlightAnnotation;if(c.$name=e.uuid,c.NM=LiteralString.fromString(e.uuid),c.T=LiteralString.fromString(e.author),c.M=DateString.fromDate(new Date(e.dateModified)),c.CreationDate=DateString.fromDate(new Date(e.dateCreated)),c.Contents=e.textContent?LiteralString.fromString(e.textContent):null,e.rect)c.Rect=e.rect;else{const o=[];for(let g=0;g<e.quadPoints.length;g+=2)o.push(new u(e.quadPoints[g],e.quadPoints[g+1]));const{min:f,max:s}=u.minMax(...o);c.Rect=[f.x,f.y,s.x,s.y]}return c.C=e.color.slice(0,3),c.CA=e.color[3],c.BS=a,c.QuadPoints=e.quadPoints,c.generateApStream(),c._added=!0,c.initProxy()}static parseAsync(e){return __awaiter$t(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new HighlightAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){return super.toArray(e)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Highlight",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,quadPoints:this.QuadPoints,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$t(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e)})}generateApStream(){var e,r,a,c,o,f,s,g,m;if(!(!((e=this.QuadPoints)===null||e===void 0)&&e.length)||this.QuadPoints.length%8)return;const p=new XFormStream;p.Filter="/FlateDecode",p.LastModified=DateString.fromDate(new Date),p.BBox=[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];const t=this.CA||1,b=this.strokeWidth,C=(o=(a=(r=this.BS)===null||r===void 0?void 0:r.D[0])!==null&&a!==void 0?a:(c=this.Border)===null||c===void 0?void 0:c.dash)!==null&&o!==void 0?o:3,w=(m=(s=(f=this.BS)===null||f===void 0?void 0:f.D[1])!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.gap)!==null&&m!==void 0?m:0,v=new GraphicsStateDict;v.AIS=!0,v.BM="/Normal",v.CA=t,v.ca=t,v.LW=b,v.LC=lineCapStyles.SQUARE,v.LJ=lineJoinStyles.MITER,v.D=[[C,w],0],v.BM=blendModes.MULTIPLY;let y=`q ${this.getColorString()} /GS0 gs`;const I=new u,P=new u,_=new u,k=new u,D=this.QuadPoints;for(let V=0;V<D.length;V+=8)I.set(D[V+4],D[V+5]),P.set(D[V+6],D[V+7]),_.set(D[V+2],D[V+3]),k.set(D[V+0],D[V+1]),y+=`
${I.x} ${I.y} m`,y+=`
${P.x} ${P.y} l`,y+=`
${_.x} ${_.y} l`,y+=`
${k.x} ${k.y} l`,y+=`
f`;y+=`
Q`,p.Resources=new ResourceDict,p.Resources.setGraphicsState("/GS0",v),p.setTextStreamData(y),this.apStream=p}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$s=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class UnderlineAnnotation extends TextMarkupAnnotation{constructor(){super(annotationTypes.UNDERLINE)}static createFromDto(e){var r;if(e.annotationType!=="/Underline")throw new Error("Invalid annotation type");if(!(!((r=e?.quadPoints)===null||r===void 0)&&r.length)||e.quadPoints.length%8)return;const a=new BorderStyleDict;a.W=e.strokeWidth,e.strokeDashGap&&(a.D=e.strokeDashGap);const c=new UnderlineAnnotation;if(c.$name=e.uuid,c.NM=LiteralString.fromString(e.uuid),c.T=LiteralString.fromString(e.author),c.M=DateString.fromDate(new Date(e.dateModified)),c.CreationDate=DateString.fromDate(new Date(e.dateCreated)),c.Contents=e.textContent?LiteralString.fromString(e.textContent):null,e.rect)c.Rect=e.rect;else{const o=[];for(let m=0;m<e.quadPoints.length;m+=2)o.push(new u(e.quadPoints[m],e.quadPoints[m+1]));const{min:f,max:s}=u.minMax(...o),g=e.strokeWidth?e.strokeWidth/2:1;c.Rect=[f.x-g,f.y-g,s.x+g,s.y+g]}return c.C=e.color.slice(0,3),c.CA=e.color[3],c.BS=a,c.QuadPoints=e.quadPoints,c.generateApStream(),c._added=!0,c.initProxy()}static parseAsync(e){return __awaiter$s(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new UnderlineAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){return super.toArray(e)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Underline",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,quadPoints:this.QuadPoints,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$s(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e)})}generateApStream(){var e,r,a,c,o,f,s,g,m;if(!(!((e=this.QuadPoints)===null||e===void 0)&&e.length)||this.QuadPoints.length%8)return;const p=new XFormStream;p.Filter="/FlateDecode",p.LastModified=DateString.fromDate(new Date),p.BBox=[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];const t=this.CA||1,b=this.strokeWidth,C=(o=(a=(r=this.BS)===null||r===void 0?void 0:r.D[0])!==null&&a!==void 0?a:(c=this.Border)===null||c===void 0?void 0:c.dash)!==null&&o!==void 0?o:3,w=(m=(s=(f=this.BS)===null||f===void 0?void 0:f.D[1])!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.gap)!==null&&m!==void 0?m:0,v=new GraphicsStateDict;v.AIS=!0,v.BM="/Normal",v.CA=t,v.ca=t,v.LW=b,v.LC=lineCapStyles.SQUARE,v.LJ=lineJoinStyles.MITER,v.D=[[C,w],0];let y=`q ${this.getColorString()} /GS0 gs`;const I=new u,P=new u,_=this.QuadPoints;for(let k=0;k<_.length;k+=8)I.set(_[k+4],_[k+5]),P.set(_[k+6],_[k+7]),y+=`
${I.x} ${I.y} m`,y+=`
${P.x} ${P.y} l`,y+=`
S`;y+=`
Q`,p.Resources=new ResourceDict,p.Resources.setGraphicsState("/GS0",v),p.setTextStreamData(y),this.apStream=p}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$r=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class StrikeoutAnnotation extends TextMarkupAnnotation{constructor(){super(annotationTypes.STRIKEOUT)}static createFromDto(e){var r;if(e.annotationType!=="/Strikeout")throw new Error("Invalid annotation type");if(!(!((r=e?.quadPoints)===null||r===void 0)&&r.length)||e.quadPoints.length%8)return;const a=new BorderStyleDict;a.W=e.strokeWidth,e.strokeDashGap&&(a.D=e.strokeDashGap);const c=new StrikeoutAnnotation;if(c.$name=e.uuid,c.NM=LiteralString.fromString(e.uuid),c.T=LiteralString.fromString(e.author),c.M=DateString.fromDate(new Date(e.dateModified)),c.CreationDate=DateString.fromDate(new Date(e.dateCreated)),c.Contents=e.textContent?LiteralString.fromString(e.textContent):null,e.rect)c.Rect=e.rect;else{const o=[];for(let g=0;g<e.quadPoints.length;g+=2)o.push(new u(e.quadPoints[g],e.quadPoints[g+1]));const{min:f,max:s}=u.minMax(...o);c.Rect=[f.x,f.y,s.x,s.y]}return c.C=e.color.slice(0,3),c.CA=e.color[3],c.BS=a,c.QuadPoints=e.quadPoints,c.generateApStream(),c._added=!0,c.initProxy()}static parseAsync(e){return __awaiter$r(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new StrikeoutAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){return super.toArray(e)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Strikeout",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,quadPoints:this.QuadPoints,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$r(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e)})}generateApStream(){var e,r,a,c,o,f,s,g,m;if(!(!((e=this.QuadPoints)===null||e===void 0)&&e.length)||this.QuadPoints.length%8)return;const p=new XFormStream;p.Filter="/FlateDecode",p.LastModified=DateString.fromDate(new Date),p.BBox=[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];const t=this.CA||1,b=this.strokeWidth,C=(o=(a=(r=this.BS)===null||r===void 0?void 0:r.D[0])!==null&&a!==void 0?a:(c=this.Border)===null||c===void 0?void 0:c.dash)!==null&&o!==void 0?o:3,w=(m=(s=(f=this.BS)===null||f===void 0?void 0:f.D[1])!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.gap)!==null&&m!==void 0?m:0,v=new GraphicsStateDict;v.AIS=!0,v.BM="/Normal",v.CA=t,v.ca=t,v.LW=b,v.LC=lineCapStyles.SQUARE,v.LJ=lineJoinStyles.MITER,v.D=[[C,w],0];let y=`q ${this.getColorString()} /GS0 gs`;const I=new u,P=new u,_=new u,k=new u,D=new u,V=new u,R=this.QuadPoints;for(let U=0;U<R.length;U+=8)I.set(R[U+4],R[U+5]),P.set(R[U+6],R[U+7]),_.set(R[U+2],R[U+3]),k.set(R[U+0],R[U+1]),D.setFromVec2(I).add(k).multiplyByScalar(.5),V.setFromVec2(P).add(_).multiplyByScalar(.5),y+=`
${D.x} ${D.y} m`,y+=`
${V.x} ${V.y} l`,y+=`
S`;y+=`
Q`,p.Resources=new ResourceDict,p.Resources.setGraphicsState("/GS0",v),p.setTextStreamData(y),this.apStream=p}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$q=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class SquigglyAnnotation extends TextMarkupAnnotation{constructor(){super(annotationTypes.SQUIGGLY)}static createFromDto(e){var r;if(e.annotationType!=="/Squiggly")throw new Error("Invalid annotation type");if(!(!((r=e?.quadPoints)===null||r===void 0)&&r.length)||e.quadPoints.length%8)return;const a=new BorderStyleDict;a.W=e.strokeWidth,e.strokeDashGap&&(a.D=e.strokeDashGap);const c=new SquigglyAnnotation;if(c.$name=e.uuid,c.NM=LiteralString.fromString(e.uuid),c.T=LiteralString.fromString(e.author),c.M=DateString.fromDate(new Date(e.dateModified)),c.CreationDate=DateString.fromDate(new Date(e.dateCreated)),c.Contents=e.textContent?LiteralString.fromString(e.textContent):null,e.rect)c.Rect=e.rect;else{const o=[];for(let m=0;m<e.quadPoints.length;m+=2)o.push(new u(e.quadPoints[m],e.quadPoints[m+1]));const{min:f,max:s}=u.minMax(...o),g=this.squiggleSize/2+(e.strokeWidth||2)/2;c.Rect=[f.x-g,f.y-g,s.x+g,s.y+g]}return c.C=e.color.slice(0,3),c.CA=e.color[3],c.BS=a,c.QuadPoints=e.quadPoints,c.generateApStream(),c._added=!0,c.initProxy()}static parseAsync(e){return __awaiter$q(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const r=new SquigglyAnnotation;return yield r.parsePropsAsync(e),{value:r.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(r){return console.log(r.message),null}})}toArray(e){return super.toArray(e)}toDto(){var e,r,a,c,o,f,s,g,m,p,t;const b=this.getColorRect();return{annotationType:"/Squiggly",uuid:this.$name,pageId:this.$pageId,dateCreated:((e=this.CreationDate)===null||e===void 0?void 0:e.date.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(r=this.T)===null||r===void 0?void 0:r.literal,textContent:(a=this.Contents)===null||a===void 0?void 0:a.literal,rect:this.Rect,bbox:(c=this.apStream)===null||c===void 0?void 0:c.BBox,matrix:(o=this.apStream)===null||o===void 0?void 0:o.Matrix,quadPoints:this.QuadPoints,color:b,strokeWidth:(m=(s=(f=this.BS)===null||f===void 0?void 0:f.W)!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.width)!==null&&m!==void 0?m:1,strokeDashGap:(t=(p=this.BS)===null||p===void 0?void 0:p.D)!==null&&t!==void 0?t:[3,0]}}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});return __awaiter$q(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e)})}generateApStream(){var e,r,a,c,o,f,s,g,m;if(!(!((e=this.QuadPoints)===null||e===void 0)&&e.length)||this.QuadPoints.length%8)return;const p=new XFormStream;p.Filter="/FlateDecode",p.LastModified=DateString.fromDate(new Date),p.BBox=[this.Rect[0],this.Rect[1],this.Rect[2],this.Rect[3]];const t=this.CA||1,b=this.strokeWidth,C=(o=(a=(r=this.BS)===null||r===void 0?void 0:r.D[0])!==null&&a!==void 0?a:(c=this.Border)===null||c===void 0?void 0:c.dash)!==null&&o!==void 0?o:3,w=(m=(s=(f=this.BS)===null||f===void 0?void 0:f.D[1])!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.gap)!==null&&m!==void 0?m:0,v=new GraphicsStateDict;v.AIS=!0,v.BM="/Normal",v.CA=t,v.ca=t,v.LW=b,v.LC=lineCapStyles.SQUARE,v.LJ=lineJoinStyles.MITER,v.D=[[C,w],0];let y=`q ${this.getColorString()} /GS0 gs`;const I=new u,P=new u,_=this.QuadPoints;for(let k=0;k<_.length;k+=8){I.set(_[k+4],_[k+5]),P.set(_[k+6],_[k+7]);const D=buildSquigglyLine(I,P,SquigglyAnnotation.squiggleSize);if(D?.length){y+=`
${D[0].x} ${D[0].y} m`;for(let V=1;V<D.length;V++)y+=`
${D[V].x} ${D[V].y} l`;y+=`
S`}}y+=`
Q`,p.Resources=new ResourceDict,p.Resources.setGraphicsState("/GS0",v),p.setTextStreamData(y),this.apStream=p}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}SquigglyAnnotation.squiggleSize=6;var __awaiter$p=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class FreeTextAnnotation extends MarkupAnnotation{constructor(){super(annotationTypes.FREE_TEXT),this.Q=justificationTypes.LEFT,this.IT=freeTextIntents.PLAIN_TEXT,this.LE=lineEndingTypes.NONE,this._svgTemp=new SvgTempPath,this.onTextBoxCornerHandlePointerDown=e=>{if(!e.isPrimary)return;const r=e.target;r.setPointerCapture(e.pointerId),r.addEventListener("pointerup",this.onTextBoxCornerHandlePointerUp),r.addEventListener("pointerout",this.onTextBoxCornerHandlePointerUp),this._pointsTemp=this.pointsPageCS,this._moved=!1,this._transformationTimer=setTimeout(()=>{this._transformationTimer=null,this._svgTemp.insertAfter(this._renderedControls),r.addEventListener("pointermove",this.onTextBoxCornerHandlePointerMove)},200),e.stopPropagation()},this.onTextBoxCornerHandlePointerMove=e=>{var r;if(!e.isPrimary)return;const c=e.target.dataset.handleName,o=this._pointsTemp,f=this.convertClientCoordsToPage(e.clientX,e.clientY),s=u.subtract(o.br,o.bl).getMagnitude(),g=u.subtract(o.tl,o.bl).getMagnitude(),m=l.from4Vec2(o.bl,o.br,new u,new u(s,0));let p;switch(c){case"tb-bl":p=o.tr;break;case"tb-br":p=o.tl;break;case"tb-tr":p=o.bl;break;case"tb-tl":p=o.br;break;default:return}const t=u.applyMat3(f,m),b=u.applyMat3(p,m),C=Math.abs(t.x-b.x),w=Math.abs(t.y-b.y),v=C/s,M=w/g,{r:y}=m.getTRS(),I=new l().applyTranslation(-p.x,-p.y).applyRotation(y).applyScaling(v,M).applyRotation(-y).applyTranslation(p.x,p.y);o.bl.applyMat3(I),o.br.applyMat3(I),o.tr.applyMat3(I),o.tl.applyMat3(I),o.l.applyMat3(I),o.t.applyMat3(I),o.r.applyMat3(I),o.b.applyMat3(I),(r=o.cob)===null||r===void 0||r.applyMat3(I),this._svgTemp.set("lightblue","blue",this.strokeWidth,[o.bl,o.br,o.tr,o.tl],!0),this._moved=!0},this.onTextBoxCornerHandlePointerUp=e=>{if(!e.isPrimary)return;const r=e.target;r.removeEventListener("pointermove",this.onTextBoxCornerHandlePointerMove),r.removeEventListener("pointerup",this.onTextBoxCornerHandlePointerUp),r.removeEventListener("pointerout",this.onTextBoxCornerHandlePointerUp),r.releasePointerCapture(e.pointerId),this._svgTemp.remove(),this._moved&&this.updateStreamAsync(this._pointsTemp)},this.onSideHandlePointerUp=e=>{if(!e.isPrimary)return;const a=e.target.dataset.handleName,c=this.pointsPageCS;switch(a){case"co-pivot-l":if(u.equals(c.cob,c.l))return;c.cob.setFromVec2(c.l);break;case"co-pivot-t":if(u.equals(c.cob,c.t))return;c.cob.setFromVec2(c.t);break;case"co-pivot-r":if(u.equals(c.cob,c.r))return;c.cob.setFromVec2(c.r);break;case"co-pivot-b":if(u.equals(c.cob,c.b))return;c.cob.setFromVec2(c.b);break;default:return}this.updateStreamAsync(c)},this.onCalloutHandlePointerDown=e=>{if(!e.isPrimary)return;const r=e.target;r.setPointerCapture(e.pointerId),r.addEventListener("pointerup",this.onCalloutHandlePointerUp),r.addEventListener("pointerout",this.onCalloutHandlePointerUp),this._pointsTemp=this.pointsPageCS,this._moved=!1,this._transformationTimer=setTimeout(()=>{this._transformationTimer=null,this._svgTemp.insertAfter(this._renderedControls),r.addEventListener("pointermove",this.onCalloutHandlePointerMove)},200),e.stopPropagation()},this.onCalloutHandlePointerMove=e=>{if(!e.isPrimary)return;switch(e.target.dataset.handleName){case"co-knee":this._pointsTemp.cok.setFromVec2(this.convertClientCoordsToPage(e.clientX,e.clientY));break;case"co-pointer":this._pointsTemp.cop.setFromVec2(this.convertClientCoordsToPage(e.clientX,e.clientY));break;default:return}this._svgTemp.set("none","blue",this.strokeWidth,this._pointsTemp.cok?[this._pointsTemp.cob,this._pointsTemp.cok,this._pointsTemp.cop]:[this._pointsTemp.cob,this._pointsTemp.cop]),this._moved=!0},this.onCalloutHandlePointerUp=e=>{if(!e.isPrimary)return;const r=e.target;r.removeEventListener("pointermove",this.onCalloutHandlePointerMove),r.removeEventListener("pointerup",this.onCalloutHandlePointerUp),r.removeEventListener("pointerout",this.onCalloutHandlePointerUp),r.releasePointerCapture(e.pointerId),this._svgTemp.remove(),this._moved&&this.updateStreamAsync(this._pointsTemp)}}get pointsStreamCS(){const r=this.strokeWidth/2,[a,c,o,f]=this.apStream.BBox,[s,g,m,p]=this.RD||[r,r,r,r],t=new u(a+s,c+g),b=new u(o-m,f-p),C=new u(b.x,t.y),w=new u(t.x,b.y),v=u.add(t,w).multiplyByScalar(.5),M=u.add(w,b).multiplyByScalar(.5),y=u.add(C,b).multiplyByScalar(.5),I=u.add(t,C).multiplyByScalar(.5),P=this.CL;let _,k,D;return P&&(P.length===6?(_=new u(P[4],P[5]),D=new u(P[2],P[3]),k=new u(P[0],P[1])):P.length===4&&(_=new u(P[2],P[3]),k=new u(P[0],P[1]))),{bl:t,tr:b,br:C,tl:w,l:v,t:M,r:y,b:I,cob:_,cok:D,cop:k}}get pointsPageCS(){const e=this.pointsStreamCS,{matAA:r}=calcPdfBBoxToRectMatrices(this.apStream.BBox,this.Rect,this.apStream.Matrix);return{bl:e.bl.applyMat3(r),tr:e.tr.applyMat3(r),br:e.br.applyMat3(r),tl:e.tl.applyMat3(r),l:e.l.applyMat3(r),t:e.t.applyMat3(r),r:e.r.applyMat3(r),b:e.b.applyMat3(r),cob:e.cob?e.cob.applyMat3(r):null,cok:e.cok?e.cok.applyMat3(r):null,cop:e.cop?e.cop.applyMat3(r):null}}get minMargin(){const e=this.strokeWidth,r=e/2;let a;return this.LE&&this.LE!==lineEndingTypes.NONE?a=(Math.max(e*LINE_END_MULTIPLIER,LINE_END_MIN_SIZE)+e)/2:a=r,a}static createFromDtoAsync(e,r){return __awaiter$p(this,void 0,void 0,function*(){if(e.annotationType!=="/FreeText")throw new Error("Invalid annotation type");const a=new BorderStyleDict;a.W=e.strokeWidth,e.strokeDashGap&&(a.D=e.strokeDashGap);const c=new FreeTextAnnotation;c.$name=e.uuid,c.NM=LiteralString.fromString(e.uuid),c.T=LiteralString.fromString(e.author),c.M=DateString.fromDate(new Date(e.dateModified)),c.CreationDate=DateString.fromDate(new Date(e.dateCreated)),c.Contents=e.textContent?LiteralString.fromString(e.textContent):null,c.Rect=e.rect,c.C=e.color.slice(0,3),c.CA=e.color[3],c.BS=a,c.IT=e.intent||freeTextIntents.PLAIN_TEXT,c.LE=e.calloutEndingType||lineEndingTypes.NONE,c.Q=e.justification||justificationTypes.LEFT,c._fontMap=r;const{bl:o,tr:f,br:s,tl:g,l:m,t:p,r:t,b,cob:C,cok:w,cop:v}=e.points,M={bl:new u(o[0],o[1]),tr:new u(f[0],f[1]),br:new u(s[0],s[1]),tl:new u(g[0],g[1]),l:new u(m[0],m[1]),t:new u(p[0],p[1]),r:new u(t[0],t[1]),b:new u(b[0],b[1]),cob:C?new u(C[0],C[1]):null,cok:w?new u(w[0],w[1]):null,cop:v?new u(v[0],v[1]):null};return yield c.generateApStreamAsync(M),c._added=!0,c.initProxy()})}static parseAsync(e,r){return __awaiter$p(this,void 0,void 0,function*(){if(!e)throw new Error("Parsing information not passed");try{const a=new FreeTextAnnotation;return yield a.parsePropsAsync(e),a._fontMap=r,{value:a.initProxy(),start:e.bounds.start,end:e.bounds.end}}catch(a){return console.log(a.message),null}})}toArray(e){const r=super.toArray(e),a=new TextEncoder,c=[];this.DA&&c.push(...a.encode("/DA "),...this.DA.toArray(e)),this.Q&&c.push(...a.encode("/Q "),...a.encode(" "+this.Q)),this.DS&&c.push(...a.encode("/DS "),...this.DS.toArray(e)),this.RC&&c.push(...a.encode("/RC "),...this.RC.toArray(e)),this.CL&&c.push(...a.encode("/CL "),...this.encodePrimitiveArray(this.CL,a)),this.IT&&c.push(...a.encode("/IT "),...a.encode(this.IT)),this.RD&&c.push(...a.encode("/RD "),...this.encodePrimitiveArray(this.RD,a)),this.LE&&c.push(...a.encode("/LE "),...a.encode(this.LE));const o=[...r.subarray(0,2),...c,...r.subarray(2,r.length)];return new Uint8Array(o)}toDto(){var e,r,a,c,o,f,s,g,m,p,t,b;const C=this.getColorRect(),{bl:w,tr:v,br:M,tl:y,l:I,t:P,r:_,b:k,cob:D,cok:V,cop:R}=this.pointsPageCS,U={bl:w.truncate().toFloatArray(),tr:v.truncate().toFloatArray(),br:M.truncate().toFloatArray(),tl:y.truncate().toFloatArray(),l:I.truncate().toFloatArray(),t:P.truncate().toFloatArray(),r:_.truncate().toFloatArray(),b:k.truncate().toFloatArray(),cob:D?D.truncate().toFloatArray():null,cok:V?V.truncate().toFloatArray():null,cop:R?R.truncate().toFloatArray():null};return{annotationType:"/FreeText",uuid:this.$name,pageId:this.$pageId,dateCreated:((r=(e=this.CreationDate)===null||e===void 0?void 0:e.date)===null||r===void 0?void 0:r.toISOString())||new Date().toISOString(),dateModified:this.M?this.M instanceof LiteralString?this.M.literal:this.M.date.toISOString():new Date().toISOString(),author:(a=this.T)===null||a===void 0?void 0:a.literal,textContent:(c=this.Contents)===null||c===void 0?void 0:c.literal,rect:this.Rect,bbox:(o=this.apStream)===null||o===void 0?void 0:o.BBox,matrix:(f=this.apStream)===null||f===void 0?void 0:f.Matrix,points:U,color:C,strokeWidth:(p=(g=(s=this.BS)===null||s===void 0?void 0:s.W)!==null&&g!==void 0?g:(m=this.Border)===null||m===void 0?void 0:m.width)!==null&&p!==void 0?p:1,strokeDashGap:(b=(t=this.BS)===null||t===void 0?void 0:t.D)!==null&&b!==void 0?b:[3,0],intent:this.IT,justification:this.Q,calloutEndingType:this.LE}}setTextContentAsync(e,r=!0){const a=Object.create(null,{setTextContentAsync:{get:()=>super.setTextContentAsync}});return __awaiter$p(this,void 0,void 0,function*(){yield a.setTextContentAsync.call(this,e,r),yield this.updateStreamAsync(null)})}parsePropsAsync(e){const r=Object.create(null,{parsePropsAsync:{get:()=>super.parsePropsAsync}});var a;return __awaiter$p(this,void 0,void 0,function*(){yield r.parsePropsAsync.call(this,e);const{parser:c,bounds:o}=e,f=o.contentStart||o.start,s=o.contentEnd||o.end;let g=yield c.skipToNextNameAsync(f,s-1),m,p;for(;p=yield c.parseNameAtAsync(g),p;)switch(g=p.end+1,m=p.value,m){case"/DA":case"/DS":case"/RC":g=yield this.parseLiteralPropAsync(m,c,g,e.cryptInfo);break;case"/Q":const t=yield c.parseNumberAtAsync(g,!0);if(t&&Object.values(justificationTypes).includes(t.value))this.Q=t.value,g=t.end+1;else throw new Error("Can't parse /Q property value");break;case"/LE":const b=yield c.parseNameAtAsync(g,!0);if(b&&Object.values(lineEndingTypes).includes(b.value))this.LE=b.value,g=b.end+1;else throw new Error("Can't parse /LE property value");break;case"/CL":case"/RD":g=yield this.parseNumberArrayPropAsync(m,c,g,!0);break;case"/IT":const C=yield c.parseNameAtAsync(g,!0);if(C){if(C.value==="/FreeTextTypewriter"){this.IT=freeTextIntents.CLICK_TO_TYPE,g=C.end+1;break}else if(Object.values(freeTextIntents).includes(C.value)){this.IT=C.value,g=C.end+1;break}}throw new Error("Can't parse /IT property value");default:g=yield c.skipToNextNameAsync(g,s-1);break}if(this.DS&&(this._defaultStyle=this.DS.literal),this.RC){const b=(a=new DOMParser().parseFromString(this.RC.literal,"text/xml"))===null||a===void 0?void 0:a.querySelector("body");if(b){const C=b.getAttribute("style"),w=b.querySelector("p");this._rtStyle=C||"",this._rtText=w?.textContent||""}}if(!this.DA)throw new Error("Not all required properties parsed");(!this.C||this.C[0]===1&&this.C[1]===1&&this.C[2]===1)&&(this.C=[1,0,0])})}calculateStreamMatrix(e,r){const a=u.subtract(r,e).getMagnitude(),c=new u,o=new u(a,0);return l.from4Vec2(c,o,e,r)}calculateStreamBbox(e,r){const{bl:a,tr:c,br:o,tl:f,l:s,t:g,r:m,b:p,cob:t,cok:b,cop:C}=e,w=this.minMargin,v=l.invert(r),M=u.applyMat3(a,v).truncate(),y=u.applyMat3(c,v).truncate(),I=u.applyMat3(o,v).truncate(),P=u.applyMat3(f,v).truncate(),_=u.applyMat3(s,v).truncate(),k=u.applyMat3(g,v).truncate(),D=u.applyMat3(m,v).truncate(),V=u.applyMat3(p,v).truncate(),R=t?u.applyMat3(t,v).truncate():null,U=b?u.applyMat3(b,v).truncate():null,te=C?u.applyMat3(C,v).truncate():null,B=[M,y,I,P,U,te].filter(ee=>ee),{min:j,max:ie}=u.minMax(...B),E=new u(j.x-w,j.y-w),L=new u(ie.x+w,ie.y+w);return{bbox:[E,L],points:{bl:M,tr:y,br:I,tl:P,l:_,t:k,r:D,b:V,cob:R,cok:U,cop:te}}}updateAnnotCoords(e,r,a){const{bl:c,tr:o,cob:f,cok:s,cop:g}=e,[m,p]=a,t=this.getLocalBB();t.ll.set(m.x,m.y).applyMat3(r).truncate(),t.lr.set(p.x,m.y).applyMat3(r).truncate(),t.ur.set(p.x,p.y).applyMat3(r).truncate(),t.ul.set(m.x,p.y).applyMat3(r).truncate();const{min:b,max:C}=u.minMax(t.ll,t.lr,t.ur,t.ul);this.Rect=[b.x,b.y,C.x,C.y],g&&f?(s?this.CL=[g.x,g.y,s.x,s.y,f.x,f.y]:this.CL=[g.x,g.y,f.x,f.y],this.IT=freeTextIntents.WITH_CALLOUT):(this.CL=void 0,this.IT=freeTextIntents.PLAIN_TEXT),this.RD=[c.x-m.x,c.y-m.y,p.x-o.x,p.y-o.y]}getColorString(){const[e,r,a]=this.getColorRect();return`${e} ${r} ${a} RG 1 g`}getCalloutStreamPart(e){let r="";if(e.cop&&e.cob){r+=`
${e.cob.x} ${e.cob.y} m`,e.cok&&(r+=`
${e.cok.x} ${e.cok.y} l`),r+=`
${e.cop.x} ${e.cop.y} l`,r+=`
S`;const a=e.cok?[e.cok,e.cop]:[e.cob,e.cop],[c,o]=a,f=new u(0,0),s=new u(u.subtract(o,c).getMagnitude()),g=l.from4Vec2(f,s,c,o),m=this.getLineEndingStreamPart(s,this.LE,this.strokeWidth,"right"),p=g.toFloatShortArray();r+=`
q ${p[0].toFixed(5)} ${p[1].toFixed(5)} ${p[2].toFixed(5)} ${p[3].toFixed(5)} ${p[4].toFixed(5)} ${p[5].toFixed(5)} cm`,r+=m,r+=`
Q`}return r}getTextStreamPartAsync(e,r){return __awaiter$p(this,void 0,void 0,function*(){const a=this.strokeWidth,c=e.br.x-e.bl.x-2*a;if(c<=0)return"";const o=12;let f;this.Q?f=this.Q===justificationTypes.CENTER?"center":"right":f="left";const s=yield this.updateTextDataAsync({maxWidth:c,fontSize:o,strokeWidth:a,textAlign:f,pivotPoint:"top-left"});if(!s)return"";let g=`
q 0 g 0 G`;const m=r.encoding.codeMap;for(const p of s.lines){if(!p.text)continue;const t=new u(p.relativeRect[0],p.relativeRect[1]).add(e.tl).add(new u(a,-a)).truncate();let b="";for(const C of p.text){const w=m.get(C);w&&(b+=w.toString(16).padStart(2,"0"))}g+=`
BT 0 Tc 0 Tw 100 Tz ${r.name} ${o} Tf 0 Tr`,g+=`
1 0 0 1 ${t.x} ${t.y+o*.2} Tm`,g+=`
<${b}> Tj`,g+=`
ET`}return g+=`
Q`,g})}generateApStreamAsync(e){var r,a,c,o,f,s,g,m,p,t;return __awaiter$p(this,void 0,void 0,function*(){if(!e)throw new Error("No key annotation point coordinates passed");const b=this.calculateStreamMatrix(e.tl,e.tr),{bbox:C,points:w}=this.calculateStreamBbox(e,b);this.updateAnnotCoords(w,b,C);const v=new XFormStream;v.Filter="/FlateDecode",v.LastModified=DateString.fromDate(new Date),v.BBox=[C[0].x,C[0].y,C[1].x,C[1].y],v.Matrix=b.toFloatShortArray(),v.Resources=new ResourceDict;const M=this.CA||1,y=this.strokeWidth,I=(o=(a=(r=this.BS)===null||r===void 0?void 0:r.D[0])!==null&&a!==void 0?a:(c=this.Border)===null||c===void 0?void 0:c.dash)!==null&&o!==void 0?o:3,P=(m=(s=(f=this.BS)===null||f===void 0?void 0:f.D[1])!==null&&s!==void 0?s:(g=this.Border)===null||g===void 0?void 0:g.gap)!==null&&m!==void 0?m:0,_=new GraphicsStateDict;_.AIS=!0,_.BM="/Normal",_.CA=M,_.ca=M,_.LW=y,_.D=[[I,P],0],_.LC=lineCapStyles.SQUARE,_.LJ=lineJoinStyles.MITER,v.Resources.setGraphicsState("/GS0",_);const k="arial",D=(p=this._fontMap)===null||p===void 0?void 0:p.get(k);if(!D||!(!((t=D.encoding)===null||t===void 0)&&t.codeMap))throw new Error(`Suitable font is not found in the font map: '${k}'`);v.Resources.setFont(D.name,D);const V=this.getColorString(),R=this.getCalloutStreamPart(w),U=`
${w.bl.x} ${w.bl.y} m
${w.br.x} ${w.br.y} l
${w.tr.x} ${w.tr.y} l
${w.tl.x} ${w.tl.y} l
b`,te=yield this.getTextStreamPartAsync(w,D),B=`q ${V} /GS0 gs`+R+U+te+`
Q`;v.setTextStreamData(B),this.apStream=v})}updateStreamAsync(e,r=!0){return __awaiter$p(this,void 0,void 0,function*(){const a=this.getProxy(),c=a.pointsPageCS;yield a.generateApStreamAsync(e||c),yield a.updateRenderAsync(),e&&a.$onEditAction&&a.$onEditAction(r?()=>__awaiter$p(this,void 0,void 0,function*(){yield a.updateStreamAsync(c,!1)}):void 0)})}renderHandles(){const e=this.pointsPageCS;return[...this.renderTextBoxCornerHandles(e),...this.renderCalloutHandles(e),this.renderRotationHandle()]}renderTextBoxCornerHandles(e){const{bl:r,br:a,tr:c,tl:o}=e,f=new Map;f.set("tb-bl",r),f.set("tb-br",a),f.set("tb-tr",c),f.set("tb-tl",o);const s=[];return["tb-bl","tb-br","tb-tr","tb-tl"].forEach(g=>{const{x:m,y:p}=f.get(g),t=document.createElementNS("http://www.w3.org/2000/svg","line");t.classList.add("annotation-handle","scale"),t.setAttribute("data-handle-name",g),t.setAttribute("x1",m+""),t.setAttribute("y1",p+""),t.setAttribute("x2",m+""),t.setAttribute("y2",p+.1+""),t.addEventListener("pointerdown",this.onTextBoxCornerHandlePointerDown),s.push(t)}),s}renderCalloutHandles(e){const r=[];if(!e.cop)return r;if(["l","t","r","b"].forEach(o=>{const f=e[o],s=document.createElementNS("http://www.w3.org/2000/svg","line");s.classList.add("annotation-handle","helper"),s.setAttribute("data-handle-name",`co-pivot-${o}`),s.setAttribute("x1",f.x+""),s.setAttribute("y1",f.y+""),s.setAttribute("x2",f.x+""),s.setAttribute("y2",f.y+.1+""),s.addEventListener("pointerdown",this.onSideHandlePointerUp),r.push(s)}),e.cok){const o=e.cok,f=document.createElementNS("http://www.w3.org/2000/svg","line");f.classList.add("annotation-handle","translation"),f.setAttribute("data-handle-name","co-knee"),f.setAttribute("x1",o.x+""),f.setAttribute("y1",o.y+""),f.setAttribute("x2",o.x+""),f.setAttribute("y2",o.y+.1+""),f.addEventListener("pointerdown",this.onCalloutHandlePointerDown),r.push(f)}const a=e.cop,c=document.createElementNS("http://www.w3.org/2000/svg","line");return c.classList.add("annotation-handle","translation"),c.setAttribute("data-handle-name","co-pointer"),c.setAttribute("x1",a.x+""),c.setAttribute("y1",a.y+""),c.setAttribute("x2",a.x+""),c.setAttribute("y2",a.y+.1+""),c.addEventListener("pointerdown",this.onCalloutHandlePointerDown),r.push(c),r}initProxy(){return super.initProxy()}getProxy(){return super.getProxy()}}var __awaiter$o=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class AnnotationParser{static ParseAnnotationFromInfoAsync(e,r){return __awaiter$o(this,void 0,void 0,function*(){const a=yield e.parser.parseDictSubtypeAsync(e.bounds);let c;switch(a){case annotationTypes.STAMP:c=yield StampAnnotation.parseAsync(e);break;case annotationTypes.TEXT:c=yield TextAnnotation.parseAsync(e);break;case annotationTypes.INK:c=yield InkAnnotation.parseAsync(e);break;case annotationTypes.SQUARE:c=yield SquareAnnotation.parseAsync(e);break;case annotationTypes.CIRCLE:c=yield CircleAnnotation.parseAsync(e);break;case annotationTypes.POLYGON:c=yield PolygonAnnotation.parseAsync(e);break;case annotationTypes.POLYLINE:c=yield PolylineAnnotation.parseAsync(e);break;case annotationTypes.LINE:c=yield LineAnnotation.parseAsync(e,r);break;case annotationTypes.HIGHLIGHT:c=yield HighlightAnnotation.parseAsync(e);break;case annotationTypes.SQUIGGLY:c=yield SquigglyAnnotation.parseAsync(e);break;case annotationTypes.STRIKEOUT:c=yield StrikeoutAnnotation.parseAsync(e);break;case annotationTypes.UNDERLINE:c=yield UnderlineAnnotation.parseAsync(e);break;case annotationTypes.FREE_TEXT:c=yield FreeTextAnnotation.parseAsync(e,r);break}return c?.value})}static ParseAnnotationFromDtoAsync(e,r){return __awaiter$o(this,void 0,void 0,function*(){let a;switch(e.annotationType){case"/Stamp":a=StampAnnotation.createFromDto(e);break;case"/Text":a=TextAnnotation.createFromDto(e);break;case"/Ink":a=InkAnnotation.createFromDto(e);break;case"/Square":a=SquareAnnotation.createFromDto(e);break;case"/Circle":a=CircleAnnotation.createFromDto(e);break;case"/Polygon":a=PolygonAnnotation.createFromDto(e);break;case"/Polyline":a=PolylineAnnotation.createFromDto(e);break;case"/Line":a=yield LineAnnotation.createFromDtoAsync(e,r);break;case"/Highlight":a=HighlightAnnotation.createFromDto(e);break;case"/Squiggly":a=SquigglyAnnotation.createFromDto(e);break;case"/Strikeout":a=StrikeoutAnnotation.createFromDto(e);break;case"/Underline":a=UnderlineAnnotation.createFromDto(e);break;default:throw new Error(`Unsupported annotation type: ${e.annotationType}`)}return a})}}var __awaiter$n=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};const annotSelectionRequestEvent="tspdf-annotselectionrequest",annotFocusRequestEvent="tspdf-annotfocusrequest",annotChangeEvent="tspdf-annotchange",docServiceStateChangeEvent="tspdf-docservicechange";class AnnotSelectionRequestEvent extends CustomEvent{constructor(e){super(annotSelectionRequestEvent,{detail:e})}}class AnnotFocusRequestEvent extends CustomEvent{constructor(e){super(annotFocusRequestEvent,{detail:e})}}class AnnotEvent extends CustomEvent{constructor(e){super(annotChangeEvent,{detail:e})}}class DocServiceStateChangeEvent extends CustomEvent{constructor(e){super(docServiceStateChangeEvent,{detail:e})}}class DocumentService{constructor(e,r,a){if(this._pageById=new Map,this._annotIdsByPageId=new Map,this._lastCommands=[],this.getObjectParseInfoAsync=c=>__awaiter$n(this,void 0,void 0,function*(){var o,f,s;if(!c)return null;const g=(o=this._referenceData)===null||o===void 0?void 0:o.getOffset(c);if(isNaN(g))return null;const m=yield ObjectId.parseAsync(this._docParser,g);if(!m)return null;const p=yield this._docParser.getIndirectObjectBoundsAtAsync(m.end+1,!0);if(!p)return null;const t=this.getObjectParseInfoAsync,b={parser:this._docParser,bounds:p,parseInfoGetterAsync:t,cryptInfo:{ref:{id:m.value.id,generation:m.value.generation},stringCryptor:(f=this._authResult)===null||f===void 0?void 0:f.stringCryptor,streamCryptor:(s=this._authResult)===null||s===void 0?void 0:s.streamCryptor}};if(m.value.id===c)return b;const C=yield ObjectStream.parseAsync(b);if(!C)return;const w=yield C.value.getObjectDataAsync(c);return w?(w.parseInfoGetterAsync=t,w):null}),this.onAnnotationSelectionRequest=c=>{var o;!((o=c.detail)===null||o===void 0)&&o.annotation?this.setSelectedAnnotation(c.detail.annotation):this.setSelectedAnnotation(null)},this.onAnnotationFocusRequest=c=>{var o;!((o=c.detail)===null||o===void 0)&&o.annotation?this.setFocusedAnnotation(c.detail.annotation):this.setFocusedAnnotation(null)},!e)throw new Error("Event controller is not defined");this._data=r,this._userName=a,this._fontMap=FontDict.newFontMap(),this._eventService=e,this._eventService.addListener(annotSelectionRequestEvent,this.onAnnotationSelectionRequest),this._eventService.addListener(annotFocusRequestEvent,this.onAnnotationFocusRequest),this._initPromise=this.initAsync()}get eventService(){return this._eventService}get userName(){return this._userName}get focusedAnnotation(){return this._focusedAnnotation}get selectedAnnotation(){return this._selectedAnnotation}get fontMap(){return this._fontMap}get size(){var e;return!((e=this._xrefs)===null||e===void 0)&&e.length?this._xrefs[0].size:0}get encrypted(){return!!this._encryption}get authenticated(){return!this._encryption||!!this._authResult}static createNewAsync(e,r,a){return __awaiter$n(this,void 0,void 0,function*(){const c=new DocumentService(e,r,a);return yield c._initPromise,c})}destroy(){this._initPromise.then(()=>{var e;this._lastCommands.length=0,this.emitStateChanged(),this.getAllSupportedAnnotationsAsync().then(r=>r.forEach(a=>{a.$onEditAction=null,a.$onRenderUpdatedAction=null})),this._eventService.removeListener(annotSelectionRequestEvent,this.onAnnotationSelectionRequest),this._eventService.removeListener(annotFocusRequestEvent,this.onAnnotationFocusRequest),(e=this._docParser)===null||e===void 0||e.destroy(),BgDataParser.destroy()})}tryAuthenticate(e=""){return this.authenticated?!0:this.authenticate(e)}getPlainData(){return this._data.slice()}undoAsync(){return __awaiter$n(this,void 0,void 0,function*(){yield this.undoCommandAsync()})}getDataWithoutSupportedAnnotationsAsync(){return __awaiter$n(this,void 0,void 0,function*(){const e=yield this.getSupportedAnnotationMapAsync(),r=[];e?.size&&e.forEach((c,o)=>{c.slice().forEach(s=>{s.deleted||(s.markAsDeleted(!0),r.push(s))})});const a=yield this.getDataWithUpdatedAnnotationsAsync();return r.forEach(c=>c.markAsDeleted(!1)),a})}getDataWithUpdatedAnnotationsAsync(){return __awaiter$n(this,void 0,void 0,function*(){const e=yield this.getSupportedAnnotationMapAsync(),r=[];return e.forEach((o,f)=>{const s=this._pageById.get(f);if(s){const g=this._annotIdsByPageId.get(f).slice()||[];r.push({page:s,allAnnotationIds:g,supportedAnnotations:o||[]})}else console.log(`Page with id '${f}' not found`)}),new DataUpdater(this._data,this._xrefs[0],this._referenceData,this._authResult).getDataWithUpdatedAnnotations(r)})}getPageAnnotationsAsync(e){return __awaiter$n(this,void 0,void 0,function*(){return(yield this.getSupportedAnnotationMapAsync()).get(e)||[]})}serializeAnnotationsAsync(e=!1){return __awaiter$n(this,void 0,void 0,function*(){const r=[];return(yield this.getSupportedAnnotationMapAsync()).forEach((c,o)=>{c.forEach(f=>{(!e||f.added)&&r.push(f.toDto())})}),r})}appendAnnotationToPageAsync(e,r){return __awaiter$n(this,void 0,void 0,function*(){yield this.appendAnnotationAsync(e,r,!0,"add")})}appendSerializedAnnotationsAsync(e){return __awaiter$n(this,void 0,void 0,function*(){let r;for(const a of e)r=yield AnnotationParser.ParseAnnotationFromDtoAsync(a,this._fontMap),yield this.appendAnnotationAsync(a.pageId,r,!1,"import")})}removeAnnotationFromPage(e){this.removeAnnotation(e,!0)}removeSelectedAnnotation(){const e=this._selectedAnnotation;e&&this.removeAnnotation(e,!0)}setSelectedAnnotation(e){var r,a,c;if(e===this._selectedAnnotation)return;if(this._selectedAnnotation){this._selectedAnnotation.$translationEnabled=!1;const f=(a=(r=this._selectedAnnotation)===null||r===void 0?void 0:r.lastRenderResult)===null||a===void 0?void 0:a.controls;f?.classList.remove("selected")}const o=(c=e?.lastRenderResult)===null||c===void 0?void 0:c.controls;return o?(e.$translationEnabled=!0,o.classList.add("selected"),this._selectedAnnotation=e):this._selectedAnnotation=null,this._eventService.dispatchEvent(new AnnotEvent({type:"select",annotations:this._selectedAnnotation?[this._selectedAnnotation.toDto()]:[]})),this._selectedAnnotation}setFocusedAnnotation(e){var r,a,c;if(e===this._focusedAnnotation)return;if(this._focusedAnnotation){this._focusedAnnotation.$translationEnabled=!1;const f=(a=(r=this._focusedAnnotation)===null||r===void 0?void 0:r.lastRenderResult)===null||a===void 0?void 0:a.controls;f?.classList.remove("focused")}const o=(c=e?.lastRenderResult)===null||c===void 0?void 0:c.controls;return o?(e.$translationEnabled=!0,o.classList.add("focused"),this._focusedAnnotation=e):this._focusedAnnotation=null,this._eventService.dispatchEvent(new AnnotEvent({type:"focus",annotations:this._focusedAnnotation?[this._focusedAnnotation.toDto()]:[]})),this._focusedAnnotation}getSelectedAnnotationTextContent(){var e,r;return(r=(e=this._selectedAnnotation)===null||e===void 0?void 0:e.Contents)===null||r===void 0?void 0:r.literal}setSelectedAnnotationTextContentAsync(e){var r;return __awaiter$n(this,void 0,void 0,function*(){yield(r=this._selectedAnnotation)===null||r===void 0?void 0:r.setTextContentAsync(e)})}parseXrefsAsync(){return __awaiter$n(this,void 0,void 0,function*(){const e=new XrefParser(this._docParser);if(this._version=yield e.getPdfVersionAsync(),!this._version)throw new Error("Error parsing PDF version number");const r=yield e.getLastXrefIndexAsync();if(!r)throw new Error("File doesn't contain update section");const a=yield e.parseAllXrefsAsync(r.value);if(!a.length)throw new Error("Failed to parse cross-reference sections");this._xrefs=a,this._referenceData=new ReferenceData(a)})}initAsync(){var e;return __awaiter$n(this,void 0,void 0,function*(){this._docParser=(e=BgDataParser.tryGetParser(this._data.slice()))!==null&&e!==void 0?e:SyncDataParser.tryGetParser(this._data),yield this.parseXrefsAsync(),yield this.parseEncryptionAsync()})}pushCommand(e){this._lastCommands.push(e),this.emitStateChanged()}undoCommandAsync(){return __awaiter$n(this,void 0,void 0,function*(){if(!this._lastCommands.length)return;yield this._lastCommands.pop().undo(),this.emitStateChanged()})}emitStateChanged(){this._eventService.dispatchEvent(new DocServiceStateChangeEvent({undoableCount:this._lastCommands.length}))}appendAnnotationAsync(e,r,a,c){return __awaiter$n(this,void 0,void 0,function*(){if(!r)throw new Error("Annotation is not defined");const o=this._pageById.get(e);if(!o)throw new Error(`Page with id ${e} is not found`);r.markAsDeleted(!1),r.$pageId=o.id,r.$onEditAction=this.getOnAnnotEditAction(r),r.$onRenderUpdatedAction=this.getOnAnnotRenderUpdatedAction(r);const f=yield this.getSupportedAnnotationMapAsync(),s=f.get(e);s?s.push(r):f.set(e,[r]),a&&this.pushCommand({timestamp:Date.now(),undo:()=>__awaiter$n(this,void 0,void 0,function*(){this.removeAnnotation(r,!1),this.selectedAnnotation===r&&this.setSelectedAnnotation(null)})}),this._eventService.dispatchEvent(new AnnotEvent({type:c,annotations:[r.toDto()]}))})}removeAnnotation(e,r){e&&(e.markAsDeleted(!0),this.setSelectedAnnotation(null),r&&this.pushCommand({timestamp:Date.now(),undo:()=>__awaiter$n(this,void 0,void 0,function*(){yield this.appendAnnotationAsync(e.$pageId,e,!1,"add")})}),this._eventService.dispatchEvent(new AnnotEvent({type:"delete",annotations:[e.toDto()]})))}getOnAnnotEditAction(e){return e?r=>{e.$pageId&&(r&&this.pushCommand({timestamp:Date.now(),undo:r}),this._eventService.dispatchEvent(new AnnotEvent({type:"edit",annotations:[e.toDto()]})))}:null}getOnAnnotRenderUpdatedAction(e){return e?()=>this._eventService.dispatchEvent(new AnnotEvent({type:"render",annotations:[e.toDto()]})):null}authenticate(e){if(this.authenticated)return!0;const r=this._encryption.toCryptOptions(),a=this._xrefs[0].id[0].hex,c=new DataCryptHandler(r,a);return this._authResult=c.authenticate(e),this.authenticated}checkAuthentication(){if(!this.authenticated)throw new Error("Unauthorized access to file data")}parseEncryptionAsync(){return __awaiter$n(this,void 0,void 0,function*(){const e=this._xrefs[0].encrypt;if(!e)return;const r=yield this.getObjectParseInfoAsync(e.id),a=yield EncryptionDict.parseAsync(r);if(!a)throw new Error("Encryption dict can't be parsed");this._encryption=a.value})}parsePagesAsync(e,r){return __awaiter$n(this,void 0,void 0,function*(){if(r.Kids.length)for(const a of r.Kids){const c=yield this.getObjectParseInfoAsync(a.id);if(!c)continue;const o=yield c.parser.parseDictTypeAsync(c.bounds);if(o===dictTypes.PAGE_TREE){const f=yield PageTreeDict.parseAsync(c);f&&(yield this.parsePagesAsync(e,f.value))}else if(o===dictTypes.PAGE){const f=yield PageDict.parseAsync(c);f&&e.push(f.value)}}})}parsePageTreeAsync(){return __awaiter$n(this,void 0,void 0,function*(){const e=this._xrefs[0].root,r=yield this.getObjectParseInfoAsync(e.id),a=yield CatalogDict.parseAsync(r);if(!a)throw new Error("Document root catalog not found");this._catalog=a.value;const c=a.value.Pages,o=yield this.getObjectParseInfoAsync(c.id),f=yield PageTreeDict.parseAsync(o);if(!f)throw new Error("Document root page tree not found");const s=[];yield this.parsePagesAsync(s,f.value),this._pages=s,this._pageById.clear(),s.forEach(g=>this._pageById.set(g.ref.id,g))})}parseSupportedAnnotationsAsync(){var e;return __awaiter$n(this,void 0,void 0,function*(){this.checkAuthentication(),this._catalog||(yield this.parsePageTreeAsync());const r=new Map,a=new Map;for(const c of this._pages){const o=[];if(Array.isArray(c.Annots))o.push(...c.Annots);else if(c.Annots instanceof ObjectId){const g=yield this.getObjectParseInfoAsync(c.Annots.id);if(g){const m=yield ObjectId.parseRefArrayAsync(g.parser,g.bounds.contentStart);!((e=m?.value)===null||e===void 0)&&e.length&&o.push(...m.value)}}r.set(c.ref.id,o);const f=g=>__awaiter$n(this,void 0,void 0,function*(){const m=yield this.getObjectParseInfoAsync(g.id);m.rect=c.MediaBox;const p=yield AnnotationParser.ParseAnnotationFromInfoAsync(m,this._fontMap);return p&&(p.$pageId=c.id,p.$onEditAction=this.getOnAnnotEditAction(p),p.$onRenderUpdatedAction=this.getOnAnnotRenderUpdatedAction(p)),p}),s=(yield Promise.all(o.map(g=>f(g)))).filter(g=>g);a.set(c.id,s)}this._annotIdsByPageId=r,this._supportedAnnotsByPageId=a})}getSupportedAnnotationMapAsync(){return __awaiter$n(this,void 0,void 0,function*(){return this.checkAuthentication(),this._supportedAnnotsByPageId?this._supportedAnnotsByPageId:(yield this.parseSupportedAnnotationsAsync(),this._supportedAnnotsByPageId)})}getAllSupportedAnnotationsAsync(){return __awaiter$n(this,void 0,void 0,function*(){const e=[];return(yield this.getSupportedAnnotationMapAsync()).forEach((a,c)=>{e.push(...a)}),e})}}var __awaiter$m=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PageAnnotationView{constructor(e,r,a){if(this._rendered=new Set,this.onAnnotationSelectionChange=c=>{var o;!this._destroyed&&c.detail.type==="select"&&(!((o=c.detail.annotations)===null||o===void 0)&&o.length?this._container.style.touchAction="none":this._container.style.touchAction="")},!e||!r||!a)throw new Error("Required argument not found");this._pageInfo=r,this._viewbox=[0,0,a.x,a.y],this._docService=e,this._container=document.createElement("div"),this._container.classList.add("page-annotations"),this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.classList.add("page-annotations-controls"),this._svg.setAttribute("data-page-id",r.id+""),this._svg.setAttribute("viewBox",`0 0 ${a.x} ${a.y}`),this._svg.setAttribute("transform","scale(1, -1)"),this._svg.addEventListener("pointerdown",c=>{c.target===this._svg&&e.setSelectedAnnotation(null)})}destroy(){this._destroyed=!0,this.remove(),this._container=null,this._rendered.forEach(e=>{e.$onPointerDownAction=null,e.$onPointerEnterAction=null,e.$onPointerLeaveAction=null}),this._rendered.clear()}remove(){var e;(e=this._container)===null||e===void 0||e.remove(),this._docService.eventService.removeListener(annotChangeEvent,this.onAnnotationSelectionChange)}appendAsync(e){var r;return __awaiter$m(this,void 0,void 0,function*(){if(this._destroyed)return;if(e.append(this._container),!(yield this.renderAnnotationsAsync())){(r=this._container)===null||r===void 0||r.remove();return}this._docService.eventService.addListener(annotChangeEvent,this.onAnnotationSelectionChange)})}renderAnnotationsAsync(){return __awaiter$m(this,void 0,void 0,function*(){if(this._destroyed)return!1;this.clear();const e=(yield this._docService.getPageAnnotationsAsync(this._pageInfo.id)).filter(a=>!a.deleted)||[],r=a=>__awaiter$m(this,void 0,void 0,function*(){let c;this._rendered.has(a)?c=a.lastRenderResult||(yield a.renderAsync(this._pageInfo)):(a.$onPointerDownAction=o=>{this._docService.eventService.dispatchEvent(new AnnotSelectionRequestEvent({annotation:a}))},a.$onPointerEnterAction=o=>{this._docService.eventService.dispatchEvent(new AnnotFocusRequestEvent({annotation:a}))},a.$onPointerLeaveAction=o=>{this._docService.eventService.dispatchEvent(new AnnotFocusRequestEvent({annotation:null}))},c=yield a.renderAsync(this._pageInfo)),c&&!this._destroyed&&(this._rendered.add(a),this._svg.append(c.controls),this._container.append(c.content))});return yield Promise.all(e.map(a=>r(a))),this._destroyed?!1:(this._container.append(this._svg),!0)})}clear(){this._container.innerHTML="",this._svg.innerHTML=""}}var __awaiter$l=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PageComparisonView{constructor(e,r,a){if(this.onAreaPointerDown=c=>{const o=c.target.closest(".comparison-area");o&&(o.classList.contains("transparent")?(o.classList.remove("transparent"),o.classList.add("opaque")):o.classList.contains("opaque")?o.classList.remove("opaque"):o.classList.add("transparent"))},this.onAreaPointerEnter=c=>{const o=c.target;o.classList.remove("opaque"),o.classList.add("transparent")},this.onAreaPointerLeave=c=>{const o=c.target;o.classList.remove("opaque"),o.classList.remove("transparent")},!e||!r||!a)throw new Error("Required argument not found");this._comparisonService=e,this._subjectPageInfo=r,this._subjectPageHeight=a.y,this._container=document.createElement("div"),this._container.classList.add("page-comparison"),this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.classList.add("page-comparison-areas"),this._svg.setAttribute("data-page-id",r.id+""),this._svg.setAttribute("viewBox",`0 0 ${a.x} ${a.y}`),this._svg.setAttribute("transform","scale(1, -1)"),this._container.append(this._svg)}destroy(){this._destroyed=!0,this.remove(),this._container=null,this._lastRenderResult=null}remove(){var e;(e=this._container)===null||e===void 0||e.remove()}appendAsync(e,r,a){var c;return __awaiter$l(this,void 0,void 0,function*(){if(this.remove(),this._destroyed||!r)return;const o=this._comparisonService.getComparisonResultForPage(this._subjectPageInfo.index);if(!(!((c=o?.areas)===null||c===void 0)&&c.length)||((!this._lastRenderResult||this._lastRenderResult.pageProxy!==r||this._lastRenderResult.scale!==a)&&(this._lastRenderResult=yield this.renderPageAsync(r,a)),!this._lastRenderResult))return;this.clear(),e.append(this._container);const[f,s]=o.offset;for(const g of o.areas){const m=document.createElementNS("http://www.w3.org/2000/svg","g");m.classList.add("comparison-area"),m.addEventListener("pointerdown",this.onAreaPointerDown),m.addEventListener("pointerenter",this.onAreaPointerEnter),m.addEventListener("pointerleave",this.onAreaPointerLeave);const p=g[0],t=g[1],b=this._subjectPageHeight-Math.max(g[1],g[3]),C=Math.max(Math.abs(g[2]-g[0]),1),w=Math.max(Math.abs(g[3]-g[1]),1),v=C*a,M=w*a,y=document.createElement("canvas");y.width=v,y.height=M,y.getContext("2d").scale(1,-1),y.getContext("2d").drawImage(this._lastRenderResult.canvas,(p+f)*a,(t+s)*a,v,M,0,0,v,-M);const I=y.toDataURL("image/png"),P=document.createElementNS("http://www.w3.org/2000/svg","image");P.classList.add("comparison-area-image"),P.setAttribute("x",p+""),P.setAttribute("y",b+""),P.setAttribute("width",C+""),P.setAttribute("height",w+""),P.setAttribute("href",I);const _=document.createElementNS("http://www.w3.org/2000/svg","rect");_.classList.add("comparison-area-rect"),_.setAttribute("x",p+""),_.setAttribute("y",b+""),_.setAttribute("width",C+""),_.setAttribute("height",w+""),m.append(P),m.append(_),this._svg.append(m)}})}clear(){this._svg.innerHTML=""}renderPageAsync(e,r){return __awaiter$l(this,void 0,void 0,function*(){if(!e)return null;const a=e.getViewport({scale:r,rotation:0}),{width:c,height:o}=a,f=document.createElement("canvas");f.width=c,f.height=o;const g={canvasContext:f.getContext("2d"),viewport:a,enableWebGL:!0};return yield e.render(g).promise,{canvas:f,pageProxy:e,scale:r}})}}var __awaiter$k=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PageView{constructor(e,r,a,c){if(this._rotation=0,this._scale=1,!e)throw new Error("Mode service is not defined");if(!r)throw new Error("Loader service is not defined");this._modeService=e,this._docManagerService=r;const o=r.getPageProxy("main",a);if(!o)throw new Error("Page proxy is not defined");this._pageProxy=o,this._defaultViewport=o.getViewport({scale:1,rotation:0}),this._rotation=o.rotate,this.index=a,this.number=o.pageNumber,this.id=o.ref.num,this.generation=o.ref.gen,this.initDom(c)}get previewContainer(){return this._previewContainer}get viewContainer(){return this._viewOuterContainer}set _viewRendered(e){this.$viewRendered=e,this._viewOuterContainer.setAttribute("data-loaded",e+"")}get _viewRendered(){return this.$viewRendered}get rotation(){return this._rotation}set rotation(e){!PageView.validRotationValues.includes(e)||this._rotation===e||(this._rotation=e,this.refreshDimensions())}get scale(){return this._scale}set scale(e){e<=0||this._scale===e||(this._scale=e,this.refreshDimensions())}get width(){return this._dimensions.width}get height(){return this._dimensions.height}get modeNotChanged(){return this._lastRenderMode===this._modeService.mode}get viewValid(){return this._dimensionsIsValid&&this._viewRendered}destroy(){this._destroyed=!0,this._previewContainer.remove(),this._viewOuterContainer.remove(),this._pageProxy.cleanup()}renderPreviewAsync(e=!1){return __awaiter$k(this,void 0,void 0,function*(){if(this._renderPromise&&(e&&this.cancelRenderTask(),yield this._renderPromise),!(!e&&this._previewRendered))return this._renderPromise=this.runPreviewRenderAsync(),this._renderPromise})}renderViewAsync(e=!1){return __awaiter$k(this,void 0,void 0,function*(){if(this._renderPromise&&(e&&this.cancelRenderTask(),yield this._renderPromise),!(!e&&this.viewValid&&this.modeNotChanged))return this._renderPromise=this.runViewRenderAsync(e),this._renderPromise})}clearPreview(){this._previewContainer.innerHTML=""}clearView(){var e,r,a,c;(e=this._comparison)===null||e===void 0||e.destroy(),this._comparison=null,(r=this._annotations)===null||r===void 0||r.destroy(),this._annotations=null,(a=this._text)===null||a===void 0||a.destroy(),this._text=null,(c=this._viewCanvas)===null||c===void 0||c.remove(),this._viewRendered=!1}rotateClockwise(){this._rotation?this.rotation=this._rotation-90:this.rotation=270}rotateCounterClockwise(){this._rotation===270?this.rotation=0:this.rotation=(this._rotation||0)+90}initDom(e){const{width:r,height:a}=this._defaultViewport;e=Math.max(e??0,50);const c=e*(a/r);this._dimensions={width:r,height:a,previewWidth:e,previewHeight:c},this._previewContainer=document.createElement("div"),this._previewContainer.classList.add("page-preview"),this._previewContainer.setAttribute("data-page-number",this.number+""),this._previewContainer.setAttribute("data-page-id",this.id+""),this._previewContainer.setAttribute("data-page-gen",this.generation+""),this._previewContainer.style.width=this._dimensions.previewWidth+"px",this._previewContainer.style.height=this._dimensions.previewHeight+"px",this._viewOuterContainer=document.createElement("div"),this._viewOuterContainer.classList.add("page-container"),this._viewOuterContainer.setAttribute("data-page-number",this.number+""),this._viewOuterContainer.setAttribute("data-page-id",this.id+""),this._viewOuterContainer.setAttribute("data-page-gen",this.generation+""),this._viewInnerContainer=document.createElement("div"),this._viewInnerContainer.classList.add("page"),this._viewInnerContainer.setAttribute("data-page-number",this.number+""),this._viewInnerContainer.setAttribute("data-page-id",this.id+""),this._viewInnerContainer.setAttribute("data-page-gen",this.generation+""),this._viewOuterContainer.append(this._viewInnerContainer),this.refreshDimensions()}refreshDimensions(){const e=window.devicePixelRatio;this._currentViewport=this._defaultViewport.clone({scale:this.scale*e}),this._dimensions.scaledWidth=this._dimensions.width*this._scale,this._dimensions.scaledHeight=this._dimensions.height*this._scale,this._dimensions.scaledDprWidth=this._dimensions.scaledWidth*e,this._dimensions.scaledDprHeight=this._dimensions.scaledHeight*e;const r=this._dimensions.scaledWidth+"px",a=this._dimensions.scaledHeight+"px";switch(this._viewCanvas&&(this._viewCanvas.style.width=r,this._viewCanvas.style.height=a),this._viewInnerContainer.style.width=r,this._viewInnerContainer.style.height=a,this.rotation){case 0:this._viewOuterContainer.style.width=r,this._viewOuterContainer.style.height=a,this._viewInnerContainer.style.transform="";break;case 90:this._viewOuterContainer.style.width=a,this._viewOuterContainer.style.height=r,this._viewInnerContainer.style.transform="rotate(90deg) translateY(-100%)";break;case 180:this._viewOuterContainer.style.width=r,this._viewOuterContainer.style.height=a,this._viewInnerContainer.style.transform="rotate(180deg) translateX(-100%) translateY(-100%)";break;case 270:this._viewOuterContainer.style.width=a,this._viewOuterContainer.style.height=r,this._viewInnerContainer.style.transform="rotate(270deg) translateX(-100%)";break;default:throw new Error(`Invalid rotation degree: ${this.rotation}`)}this._dimensionsIsValid=!1}cancelRenderTask(){this._renderTask&&(this._renderTask.cancel(),this._renderTask=null)}runRenderTaskAsync(e){return __awaiter$k(this,void 0,void 0,function*(){if(this._destroyed)return!1;this.cancelRenderTask();try{this._renderTask=this._pageProxy.render(e),yield this._renderTask.promise}catch(r){if(r instanceof pdfExports.RenderingCancelledException)return!1;console.log(r.message)}finally{this._renderTask=null}return!0})}createPreviewCanvas(){const e=document.createElement("canvas");e.classList.add("page-canvas");const r=window.devicePixelRatio,{previewWidth:a,previewHeight:c}=this._dimensions;return e.style.width=a+"px",e.style.height=c+"px",e.width=a*r,e.height=c*r,e}createViewCanvas(){const e=document.createElement("canvas");return e.classList.add("page-canvas"),e.style.width=this._dimensions.scaledWidth+"px",e.style.height=this._dimensions.scaledHeight+"px",e.width=this._dimensions.scaledDprWidth,e.height=this._dimensions.scaledDprHeight,e}runPreviewRenderAsync(){return __awaiter$k(this,void 0,void 0,function*(){if(this._destroyed)return;const e=this.createPreviewCanvas(),r={canvasContext:e.getContext("2d"),viewport:this._defaultViewport.clone({scale:e.width/this._dimensions.width,rotation:0})};if(!(yield this.runRenderTaskAsync(r))){this._previewRendered=!1;return}this._previewContainer.innerHTML="",this._previewContainer.append(e),this._previewRendered=!0})}runViewRenderAsync(e){var r;return __awaiter$k(this,void 0,void 0,function*(){if(this._destroyed)return;const a=this._modeService.mode,c=this._scale;this.clearTextLayer(),!((e||!this.viewValid)&&!(yield this.renderCanvasLayerAsync(c)))&&((a==="text"||a==="annotation")&&(yield this.renderTextLayerAsync(c)),a!=="comparison"?yield this.renderAnnotationLayerAsync():((r=this._annotations)===null||r===void 0||r.remove(),yield this.renderComparisonLayerAsync()),this._lastRenderMode=a,c===this._scale&&(this._dimensionsIsValid=!0))})}clearTextLayer(){var e,r;(e=this._text)===null||e===void 0||e.destroy(),(r=this._text)===null||r===void 0||r.remove()}renderCanvasLayerAsync(e){var r;return __awaiter$k(this,void 0,void 0,function*(){const a=this.createViewCanvas(),c={canvasContext:a.getContext("2d"),viewport:this._currentViewport,enableWebGL:!0};return!(yield this.runRenderTaskAsync(c))||e!==this._scale?!1:((r=this._viewCanvas)===null||r===void 0||r.remove(),this._viewInnerContainer.append(a),this._viewCanvas=a,this._viewRendered=!0,!0)})}renderTextLayerAsync(e){return __awaiter$k(this,void 0,void 0,function*(){this._text=yield PageTextView.appendPageTextAsync(this._pageProxy,this._viewInnerContainer,e)})}renderAnnotationLayerAsync(){return __awaiter$k(this,void 0,void 0,function*(){if(!this._annotations){const{width:e,height:r}=this._dimensions;this._annotations=new PageAnnotationView(this._docManagerService.docService,this,new u(e,r))}yield this._annotations.appendAsync(this._viewInnerContainer)})}renderComparisonLayerAsync(){var e;return __awaiter$k(this,void 0,void 0,function*(){const r=this._docManagerService.getPageProxy("compared",this.index);if(!r){(e=this._comparison)===null||e===void 0||e.remove();return}if(!this._comparison){const{width:a,height:c}=this._dimensions;this._comparison=new PageComparisonView(this._docManagerService.comparisonService,this,new u(a,c))}yield this._comparison.appendAsync(this._viewInnerContainer,r,this._scale)})}}PageView.validRotationValues=[0,90,180,270];var __awaiter$j=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};const currentPageChangeRequestEvent="tspdf-currentpagechangerequest";class CurrentPageChangeRequestEvent extends CustomEvent{constructor(e){super(currentPageChangeRequestEvent,{detail:e})}}const currentPageChangeEvent="tspdf-currentpagechange";class CurrentPageChangeEvent extends CustomEvent{constructor(e){super(currentPageChangeEvent,{detail:e})}}const pagesLoadedEvent="tspdf-pagesloaded";class PagesLoadedEvent extends CustomEvent{constructor(e){super(pagesLoadedEvent,{detail:e})}}const pagesRenderedEvent="tspdf-pagesrendered";class PagesRenderedEvent extends CustomEvent{constructor(e){super(pagesRenderedEvent,{detail:e})}}const scaleChangedEvent="tspdf-scalechanged";class ScaleChangedEvent extends CustomEvent{constructor(e){super(scaleChangedEvent,{detail:e})}}class PageService{constructor(e,r,a,c){if(this._pages=[],this._renderedPages=[],!e)throw new Error("Event service is not defined");if(!r)throw new Error("Mode service is not defined");if(!a)throw new Error("Doc manager service is not defined");this._modeService=r,this._eventService=e,this._docManagerService=a,this._previewCanvasWidth=c?.previewCanvasWidth||100,this._visibleAdjPages=c?.visibleAdjPages||0}get eventService(){return this._eventService}get currentPageIndex(){return this._currentPageIndex||0}get pages(){return this._pages.slice()}set pages(e){this._pages.forEach(r=>r.destroy()),this._pages=e.slice(),this._eventService.dispatchEvent(new PagesLoadedEvent({pages:e.slice()})),this.setCurrentPageIndex(0)}get renderedPages(){return this._renderedPages.slice()}get length(){return this._pages.length||0}get scale(){var e;return((e=this._renderedPages[0])===null||e===void 0?void 0:e.scale)||1}set scale(e){(!e||isNaN(e))&&(e=1),this._pages.forEach(r=>r.scale=e),this._eventService.dispatchEvent(new ScaleChangedEvent({scale:e}))}destroy(){this._pages.forEach(e=>e.destroy)}getPage(e){return this._pages[e]}getCurrentPage(){return this._pages[this._currentPageIndex]}reloadPagesAsync(){return __awaiter$j(this,void 0,void 0,function*(){const e=this._docManagerService.pageCount,r=[];if(e)for(let a=0;a<e;a++){const c=new PageView(this._modeService,this._docManagerService,a,this._previewCanvasWidth);r.push(c)}this.pages=r})}requestSetCurrentPageIndex(e){e=n$1(e||0,0,this._pages.length-1),e!==this._currentPageIndex&&this._eventService.dispatchEvent(new CurrentPageChangeRequestEvent({pageIndex:e}))}renderVisiblePages(e,r){const a=this._pages,{minFinal:c,maxFinal:o}=this.getVisiblePageIndices(e),f=[];for(let s=0;s<a.length;s++){const g=a[s];s>=c&&s<=o?(f.push(g),g.renderViewAsync(r)):g.clearView()}this._renderedPages=f,this._eventService.dispatchEvent(new PagesRenderedEvent({pages:f.slice()})),this.updateCurrentPage(e)}renderVisiblePreviews(e){const r=this._pages,a=this.getVisiblePageIndices(e,!0);for(let c=0;c<r.length;c++){const o=r[c];c>=a.minFinal&&c<=a.maxFinal&&o.renderPreviewAsync()}}renderSpecifiedPages(e){e?.size&&this._renderedPages.forEach(r=>{e.has(r.id)&&r.renderViewAsync(!0)})}getPageCoordsUnderPointer(e,r){for(const a of this._renderedPages){const{left:c,top:o,width:f,height:s}=a.viewContainer.getBoundingClientRect(),g=c+f,m=o+s;if(e<c||e>g||r<o||r>m)continue;let p,t;const b=this.scale,C=a.rotation;switch(C){case 0:p=(e-c)/b,t=(m-r)/b;break;case 90:p=(r-o)/b,t=(e-c)/b;break;case 180:p=(g-e)/b,t=(r-o)/b;break;case 270:p=(m-r)/b,t=(g-e)/b;break;default:throw new Error(`Invalid rotation degree: ${C}`)}return{pageId:a.id,pageX:p,pageY:t,pageRotation:C}}return null}setCurrentPageIndex(e){var r,a;const c=n$1(e||0,0,this._pages.length-1);if(c!==this._currentPageIndex){const o=this._currentPageIndex;this._currentPageIndex=c,(r=this._pages[o])===null||r===void 0||r.previewContainer.classList.remove("current"),(a=this._pages[c])===null||a===void 0||a.previewContainer.classList.add("current"),this._eventService.dispatchEvent(new CurrentPageChangeEvent({oldIndex:o,newIndex:c}))}}getVisiblePageIndices(e,r=!1){const a=this._pages;if(!a.length)return{actual:[],minFinal:null,maxFinal:null};const c=new Set,o=e.getBoundingClientRect(),f=o.top,s=o.top+o.height;for(let m=0;m<a.length;m++){const p=a[m],t=r?p.previewContainer.getBoundingClientRect():p.viewContainer.getBoundingClientRect(),b=t.top,C=t.top+t.height;if(b<s&&C>f)c.add(m);else if(c.size)break}const g=[...c];return{actual:g,minFinal:Math.max(Math.min(...g)-this._visibleAdjPages,0),maxFinal:Math.min(Math.max(...g)+this._visibleAdjPages,a.length-1)}}updateCurrentPage(e){const r=this._pages,a=this.getVisiblePageIndices(e),{actual:c}=a;if(c.length){if(c.length===1){this.setCurrentPageIndex(c[0]);return}}else{this.setCurrentPageIndex(0);return}const o=e.getBoundingClientRect(),f=o.top,s=o.top+o.height/2;for(const g of c){const p=r[g].viewContainer.getBoundingClientRect().top;if(p>f)if(p>s){this.setCurrentPageIndex(g-1);return}else{this.setCurrentPageIndex(g);return}}throw new Error("Incorrect argument")}}const annotatorTypes=["geom","pen","stamp","text"],annotatorDataChangeEvent="tspdf-annotatordatachange";class AnnotatorDataChangeEvent extends CustomEvent{constructor(e){super(annotatorDataChangeEvent,{detail:e})}}const textSelectionChangeEvent="tspdf-textselectionchange";class TextSelectionChangeEvent extends CustomEvent{constructor(e){super(textSelectionChangeEvent,{detail:e})}}class Annotator{constructor(e,r,a){if(this.onPagesRendered=c=>{this.refreshViewBox()},this.onParentScroll=()=>{this.refreshViewBox()},this.onOverlayPointerDown=c=>{c.isPrimary&&(this._lastPointerDownInfo={timestamp:performance.now(),clientX:c.clientX,clientY:c.clientY})},!e)throw new Error("Document service not defined");if(!r)throw new Error("Page service not defined");if(!a)throw new Error("Parent container not defined");this._docService=e,this._parent=a,this._pageService=r}get overlayContainer(){return this._overlayContainer}destroy(){var e,r,a;this._docService.eventService.removeListener(pagesRenderedEvent,this.onPagesRendered),(e=this._parent)===null||e===void 0||e.removeEventListener("scroll",this.onParentScroll),(r=this._parentMutationObserver)===null||r===void 0||r.disconnect(),(a=this._parentResizeObserver)===null||a===void 0||a.disconnect(),this._overlayContainer.remove()}refreshViewBox(){const{width:e,height:r}=this._overlay.getBoundingClientRect();if(!e||!r)return;this._overlay.style.left=this._parent.scrollLeft+"px",this._overlay.style.top=this._parent.scrollTop+"px";const a=e/this._pageService.scale,c=r/this._pageService.scale;this._svgWrapper.setAttribute("viewBox",`0 0 ${a} ${c}`),this.refreshGroupPosition()}init(){const e=document.createElement("div");e.id="annotation-overlay-container";const r=document.createElement("div");r.id="annotation-overlay";const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.classList.add("abs-stretch","no-margin","no-padding"),a.setAttribute("transform","matrix(1 0 0 -1 0 0)"),a.setAttribute("opacity","0.5");const c=document.createElementNS("http://www.w3.org/2000/svg","g");a.append(c),r.append(a),e.append(r),this._overlayContainer=e,this._overlay=r,this._svgWrapper=a,this._svgGroup=c,this._parent.append(this._overlayContainer),this.refreshViewBox(),this.initEventHandlers()}initEventHandlers(){this._overlay.addEventListener("pointerdown",this.onOverlayPointerDown),this._parent.addEventListener("scroll",this.onParentScroll);const e=new ResizeObserver(a=>{this.refreshViewBox()}),r=new MutationObserver(a=>{const c=a[0];c&&(c.addedNodes.forEach(o=>{o.classList.contains("page")&&e.observe(o)}),c.removedNodes.forEach(o=>e.unobserve(o)),this.refreshViewBox())});e.observe(this._parent),r.observe(this._parent,{attributes:!1,childList:!0,subtree:!1}),this._parentMutationObserver=r,this._parentResizeObserver=e,this._docService.eventService.addListener(pagesRenderedEvent,this.onPagesRendered)}updatePointerCoords(e,r){const a=this._pageService.getPageCoordsUnderPointer(e,r);a?this._svgGroup.classList.remove("annotation-out-of-page"):this._svgGroup.classList.add("annotation-out-of-page"),this._pointerCoordsInPageCS=a}}class GeometricAnnotator extends Annotator{constructor(e,r,a,c){super(e,r,a),this._color=c?.color||[0,0,0,1],this._strokeWidth=c?.strokeWidth||3,this._cloudMode=c?.cloudMode||!1}destroy(){this.clearGroup(),super.destroy()}init(){super.init()}emitDataChanged(e,r,a,c){this._docService.eventService.dispatchEvent(new AnnotatorDataChangeEvent({annotatorType:"geom",elementCount:e,undoable:c,clearable:a,saveable:r}))}clearGroup(){this._svgGroup.innerHTML="",this.emitDataChanged(0)}refreshGroupPosition(){if(!this._pageId&&this._pageId!==0)return;const e=this._pageService.renderedPages.find(M=>M.id===this._pageId);if(!e){this._svgGroup.setAttribute("transform","scale(0)");return}const{height:r,width:a,top:c,left:o}=e.viewContainer.getBoundingClientRect(),f=c+r,s=o+a,{height:g,top:m,left:p}=this._overlay.getBoundingClientRect(),t=m+g,b=e.rotation,C=e.scale;let w,v;switch(b){case 0:w=(o-p)/C,v=(t-f)/C;break;case 90:w=(o-p)/C,v=(t-c)/C;break;case 180:w=(s-p)/C,v=(t-c)/C;break;case 270:w=(s-p)/C,v=(t-f)/C;break;default:throw new Error(`Invalid rotation degree: ${b}`)}this._svgGroup.setAttribute("transform",`translate(${w} ${v}) rotate(${-b})`)}buildLineEndingPath(e,r,a,c){const o=Math.max(a*LINE_END_MULTIPLIER,LINE_END_MIN_SIZE);let f="";switch(r){case lineEndingTypes.ARROW_OPEN:return c==="left"?(f+=`M${e.x+o},${e.y+o/2}`,f+=` L${e.x},${e.y}`,f+=` L${e.x+o},${e.y-o/2}`):(f+=`M${e.x-o},${e.y+o/2}`,f+=` L${e.x},${e.y}`,f+=` L${e.x-o},${e.y-o/2}`),f;case lineEndingTypes.ARROW_OPEN_R:return c==="left"?(f+=`M${e.x},${e.y+o/2}`,f+=` L${e.x+o},${e.y}`,f+=` L${e.x},${e.y-o/2}`):(f+=`M${e.x},${e.y+o/2}`,f+=` L${e.x-o},${e.y}`,f+=` L${e.x},${e.y-o/2}`),f;case lineEndingTypes.ARROW_CLOSED:return c==="left"?(f+=`M${e.x+o},${e.y+o/2}`,f+=` L${e.x},${e.y}`,f+=` L${e.x+o},${e.y-o/2}`):(f+=`M${e.x-o},${e.y+o/2}`,f+=` L${e.x},${e.y}`,f+=` L${e.x-o},${e.y-o/2}`),f+=" Z",f;case lineEndingTypes.ARROW_CLOSED_R:return c==="left"?(f+=`M${e.x+o},${e.y}`,f+=` L${e.x},${e.y+o/2}`,f+=` L${e.x},${e.y-o/2}`):(f+=`M${e.x-o},${e.y}`,f+=` L${e.x},${e.y-o/2}`,f+=` L${e.x},${e.y+o/2}`),f+=" Z",f;case lineEndingTypes.BUTT:return f+=`M${e.x},${e.y+o/2}`,f+=` L${e.x},${e.y-o/2}`,f;case lineEndingTypes.SLASH:return f+=`M${e.x+o/2},${e.y+o/2}`,f+=` L${e.x-o/2},${e.y-o/2}`,f;case lineEndingTypes.DIAMOND:return f+=`M${e.x},${e.y+o/2}`,f+=` L${e.x+o/2},${e.y}`,f+=` L${e.x},${e.y-o/2}`,f+=` L${e.x-o/2},${e.y}`,f+=" Z",f;case lineEndingTypes.SQUARE:return f+=`M${e.x-o/2},${e.y+o/2}`,f+=` L${e.x+o/2},${e.y+o/2}`,f+=` L${e.x+o/2},${e.y-o/2}`,f+=` L${e.x-o/2},${e.y-o/2}`,f+=" Z",f;case lineEndingTypes.CIRCLE:const s=BEZIER_CONSTANT,g=o/2,m=s*g,p=e.x-g,t=e.y-g,b=e.x+g,C=e.y+g;return f+=`M${e.x},${C}`,f+=` C${e.x+m},${C} ${b},${e.y+m} ${b},${e.y}`,f+=` C${b},${e.y-m} ${e.x+m},${t} ${e.x},${t}`,f+=` C${e.x-m},${t} ${p},${e.y-m} ${p},${e.y}`,f+=` C${p},${e.y+m} ${e.x-m},${C} ${e.x},${C}`,f+=" Z",f;case lineEndingTypes.NONE:default:return""}}}var __awaiter$i=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class GeometricLineAnnotator extends GeometricAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this.onPointerDown=o=>{if(!o.isPrimary||o.button===2)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g)return;const{pageX:m,pageY:p,pageId:t}=g;this._pageId=t,this._down=new u(m,p),this.clear(),this.refreshGroupPosition();const b=o.target;b.addEventListener("pointermove",this.onPointerMove),b.addEventListener("pointerup",this.onPointerUp),b.addEventListener("pointerout",this.onPointerUp),b.setPointerCapture(o.pointerId)},this.onPointerMove=o=>{if(!o.isPrimary||!this._down)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g||g.pageId!==this._pageId)return;const{pageX:m,pageY:p}=g,t=new u(m,p);this.redrawLine(this._down,t)},this.onPointerUp=o=>{if(!o.isPrimary)return;const f=o.target;f.removeEventListener("pointermove",this.onPointerMove),f.removeEventListener("pointerup",this.onPointerUp),f.removeEventListener("pointerout",this.onPointerUp),f.releasePointerCapture(o.pointerId),this._vertices&&this.emitDataChanged(2,!0,!0)},this.init()}destroy(){super.destroy()}undo(){this.clear()}clear(){this._vertices=null,this.clearGroup()}saveAnnotationAsync(){return __awaiter$i(this,void 0,void 0,function*(){if(!this._vertices)return;const e=this._pageId,r=this.buildAnnotationDto(),a=yield LineAnnotation.createFromDtoAsync(r,this._docService.fontMap);yield this._docService.appendAnnotationToPageAsync(e,a),this.clear()})}init(){super.init(),this._overlay.addEventListener("pointerdown",this.onPointerDown)}redrawLine(e,r){this._svgGroup.innerHTML="";const[a,c,o,f]=this._color||[0,0,0,1];this._vertices=[e.x,e.y,r.x,r.y];const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("fill","none"),s.setAttribute("stroke",`rgba(${a*255},${c*255},${o*255},${f})`),s.setAttribute("stroke-width",this._strokeWidth+""),s.setAttribute("stroke-linecap","square");const g=`M ${e.x},${e.y} L ${r.x},${r.y}`;s.setAttribute("d",g),this._svgGroup.append(s)}buildAnnotationDto(){const e=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/Line",pageId:null,dateCreated:e,dateModified:e,author:this._docService.userName||"unknown",textContent:null,rect:null,vertices:this._vertices,intent:lineIntents.DIMENSION,color:this._color,strokeWidth:this._strokeWidth,strokeDashGap:null}}}class GeometricArrowAnnotator extends GeometricLineAnnotator{constructor(e,r,a,c){super(e,r,a,c||{})}redrawLine(e,r){this._svgGroup.innerHTML="";const[a,c,o,f]=this._color||[0,0,0,1];this._vertices=[e.x,e.y,r.x,r.y];const s=new u(e.x,e.y),g=new u(r.x,r.y),m=new u,p=new u(u.subtract(g,s).getMagnitude(),0),t=l.from4Vec2(m,p,s,g),b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("fill","none"),b.setAttribute("stroke",`rgba(${a*255},${c*255},${o*255},${f})`),b.setAttribute("stroke-width",this._strokeWidth+""),b.setAttribute("stroke-linecap","square");let C=`M ${m.x},${m.y} L ${p.x},${p.y}`;const w=Math.max(this._strokeWidth*LINE_END_MULTIPLIER,LINE_END_MIN_SIZE);C+=` M ${p.x-w},${p.y+w/2}`,C+=` L ${p.x},${p.y}`,C+=` L ${p.x-w},${p.y-w/2}`,b.setAttribute("d",C),b.setAttribute("transform",`matrix(${t.toFloatShortArray().join(" ")})`),this._svgGroup.append(b)}buildAnnotationDto(){const e=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/Line",pageId:null,dateCreated:e,dateModified:e,author:this._docService.userName||"unknown",textContent:null,rect:null,vertices:this._vertices,intent:lineIntents.ARROW,endingType:[lineEndingTypes.NONE,lineEndingTypes.ARROW_OPEN],color:this._color,strokeWidth:this._strokeWidth,strokeDashGap:null}}}var __awaiter$h=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class GeometricCircleAnnotator extends GeometricAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this.onPointerDown=o=>{if(!o.isPrimary||o.button===2)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g)return;const{pageX:m,pageY:p,pageId:t}=g;this._pageId=t,this._down=new u(m,p),this.clear(),this.refreshGroupPosition();const b=o.target;b.addEventListener("pointermove",this.onPointerMove),b.addEventListener("pointerup",this.onPointerUp),b.addEventListener("pointerout",this.onPointerUp),b.setPointerCapture(o.pointerId)},this.onPointerMove=o=>{if(!o.isPrimary||!this._down)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g||g.pageId!==this._pageId)return;const{pageX:m,pageY:p}=g,{min:t,max:b}=u.minMax(this._down,new u(m,p));this.redrawCircle(t,b)},this.onPointerUp=o=>{if(!o.isPrimary)return;const f=o.target;f.removeEventListener("pointermove",this.onPointerMove),f.removeEventListener("pointerup",this.onPointerUp),f.removeEventListener("pointerout",this.onPointerUp),f.releasePointerCapture(o.pointerId),this._rect&&this.emitDataChanged(2,!0,!0)},this.init()}destroy(){super.destroy()}undo(){this.clear()}clear(){this._rect=null,this.clearGroup()}saveAnnotationAsync(){return __awaiter$h(this,void 0,void 0,function*(){if(!this._rect)return;const e=this._pageId,r=this.buildAnnotationDto(),a=CircleAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(e,a),this.clear()})}init(){super.init(),this._overlay.addEventListener("pointerdown",this.onPointerDown)}redrawCircle(e,r){this._svgGroup.innerHTML="";const a=this._strokeWidth*2;if(r.x-e.x<=a||r.y-e.y<=a){this._rect=null;return}const[c,o,f,s]=this._color||[0,0,0,1];this._rect=[e.x,e.y,r.x,r.y];const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("fill","none"),g.setAttribute("stroke",`rgba(${c*255},${o*255},${f*255},${s})`),g.setAttribute("stroke-width",this._strokeWidth+""),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round");let m;const p=(r.x-e.x)/2,t=(r.y-e.y)/2,b=new u(e.x+p,e.y+t);if(this._cloudMode){const C=CloudCurveData.buildFromEllipse(p,t,CircleAnnotation.cloudArcSize,new l().applyTranslation(b.x,b.y));m="M"+C.start.x+","+C.start.y,C.curves.forEach(w=>{m+=` C${w[0].x},${w[0].y} ${w[1].x},${w[1].y} ${w[2].x},${w[2].y}`})}else{const C=BEZIER_CONSTANT,w=C*p,v=C*t;m="M"+b.x+","+r.y,m+=` C${b.x+w},${r.y} ${r.x},${b.y+v} ${r.x},${b.y}`,m+=` C${r.x},${b.y-v} ${b.x+w},${e.y} ${b.x},${e.y}`,m+=` C${b.x-w},${e.y} ${e.x},${b.y-v} ${e.x},${b.y}`,m+=` C${e.x},${b.y+v} ${b.x-w},${r.y} ${b.x},${r.y}`}g.setAttribute("d",m),this._svgGroup.append(g)}buildAnnotationDto(){const e=this._strokeWidth/2+(this._cloudMode?CircleAnnotation.cloudArcSize/2:0),r=e,a=e,c=e,o=e,f=[r,a,c,o],[s,g,m,p]=this._rect,t=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/Circle",pageId:null,dateCreated:t,dateModified:t,author:this._docService.userName||"unknown",textContent:null,rect:[s-r,g-o,m+c,p+a],rectMargins:f,cloud:this._cloudMode,color:this._color,strokeWidth:this._strokeWidth,strokeDashGap:null}}}var __awaiter$g=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class GeometricPolygonAnnotator extends GeometricAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this._points=[],this.onPointerDown=o=>{if(!o.isPrimary||o.button===2)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g)return;const{pageX:m,pageY:p,pageId:t}=g;this._pageId=t,this.refreshGroupPosition(),this._points.length||this._points.push(new u(m,p)),this._points.push(new u(m,p));const b=o.target;b.addEventListener("pointermove",this.onPointerMove),b.addEventListener("pointerup",this.onPointerUp),b.addEventListener("pointerout",this.onPointerUp),b.setPointerCapture(o.pointerId)},this.onPointerMove=o=>{if(!o.isPrimary)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g||g.pageId!==this._pageId)return;const{pageX:m,pageY:p}=g;this._points[this._points.length-1].set(m,p),this.redraw()},this.onPointerUp=o=>{if(!o.isPrimary)return;const f=o.target;f.removeEventListener("pointermove",this.onPointerMove),f.removeEventListener("pointerup",this.onPointerUp),f.removeEventListener("pointerout",this.onPointerUp),f.releasePointerCapture(o.pointerId),this.emitPointsDataChanged()},this.init()}destroy(){super.destroy()}undo(){this._points.length&&(this._points.pop(),this.redraw(),this.emitPointsDataChanged())}clear(){var e;!((e=this._points)===null||e===void 0)&&e.length&&(this._points.length=0,this.clearGroup())}saveAnnotationAsync(){return __awaiter$g(this,void 0,void 0,function*(){if(this._points.length<3)return;const e=this._pageId,r=this.buildAnnotationDto(),a=PolygonAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(e,a),this.clear()})}init(){super.init(),this._overlay.addEventListener("pointerdown",this.onPointerDown)}emitPointsDataChanged(){const e=this._points.length;this.emitDataChanged(e,e>1,e>0,e>2)}redraw(){if(this._svgGroup.innerHTML="",this._points.length<2)return;const[e,r,a,c]=this._color||[0,0,0,1],o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("fill","none"),o.setAttribute("stroke",`rgba(${e*255},${r*255},${a*255},${c})`),o.setAttribute("stroke-width",this._strokeWidth+"");let f;if(this._cloudMode){o.setAttribute("stroke-linecap","round"),o.setAttribute("stroke-linejoin","round");const s=CloudCurveData.buildFromPolyline([...this._points,this._points[0]],PolygonAnnotation.cloudArcSize);f="M"+s.start.x+","+s.start.y,s.curves.forEach(g=>{f+=` C${g[0].x},${g[0].y} ${g[1].x},${g[1].y} ${g[2].x},${g[2].y}`}),o.setAttribute("d",f)}else{o.setAttribute("stroke-linecap","square"),o.setAttribute("stroke-linejoin","miter");const s=this._points[0];f="M"+s.x+","+s.y;for(let g=1;g<this._points.length;g++){const m=this._points[g];f+=" L"+m.x+","+m.y}f+=" Z"}o.setAttribute("d",f),this._svgGroup.append(o)}buildAnnotationDto(){const e=this._strokeWidth/2+(this._cloudMode?PolygonAnnotation.cloudArcSize/2:0);let r,a,c,o,f;const s=this._points,g=[];for(let t=0;t<s.length;t++)f=s[t],(!r||f.x<r)&&(r=f.x),(!a||f.y<a)&&(a=f.y),(!c||f.x>c)&&(c=f.x),(!o||f.y>o)&&(o=f.y),g.push(f.x,f.y);const m=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/Polygon",pageId:null,dateCreated:m,dateModified:m,author:this._docService.userName||"unknown",textContent:null,rect:[r-e,a-e,c+e,o+e],vertices:g,cloud:this._cloudMode,color:this._color,strokeWidth:this._strokeWidth,strokeDashGap:null}}}var __awaiter$f=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class GeometricPolylineAnnotator extends GeometricAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this._points=[],this.onPointerDown=o=>{if(!o.isPrimary||o.button===2)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g)return;const{pageX:m,pageY:p,pageId:t}=g;this._pageId=t,this.refreshGroupPosition(),this._points.length||this._points.push(new u(m,p)),this._points.push(new u(m,p));const b=o.target;b.addEventListener("pointermove",this.onPointerMove),b.addEventListener("pointerup",this.onPointerUp),b.addEventListener("pointerout",this.onPointerUp),b.setPointerCapture(o.pointerId)},this.onPointerMove=o=>{if(!o.isPrimary)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g||g.pageId!==this._pageId)return;const{pageX:m,pageY:p}=g;this._points[this._points.length-1].set(m,p),this.redraw()},this.onPointerUp=o=>{if(!o.isPrimary)return;const f=o.target;f.removeEventListener("pointermove",this.onPointerMove),f.removeEventListener("pointerup",this.onPointerUp),f.removeEventListener("pointerout",this.onPointerUp),f.releasePointerCapture(o.pointerId),this.emitPointsDataChanged()},this.init()}destroy(){super.destroy()}undo(){this._points.length&&(this._points.pop(),this.redraw(),this.emitPointsDataChanged())}clear(){var e;!((e=this._points)===null||e===void 0)&&e.length&&(this._points.length=0,this.clearGroup())}saveAnnotationAsync(){return __awaiter$f(this,void 0,void 0,function*(){if(this._points.length<2)return;const e=this._pageId,r=this.buildAnnotationDto(),a=PolylineAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(e,a),this.clear()})}init(){super.init(),this._overlay.addEventListener("pointerdown",this.onPointerDown)}emitPointsDataChanged(){const e=this._points.length;this.emitDataChanged(e,e>1,e>0,e>2)}redraw(){if(this._svgGroup.innerHTML="",this._points.length<2)return;const[e,r,a,c]=this._color||[0,0,0,1],o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("fill","none"),o.setAttribute("stroke",`rgba(${e*255},${r*255},${a*255},${c})`),o.setAttribute("stroke-width",this._strokeWidth+""),o.setAttribute("stroke-linecap","square"),o.setAttribute("stroke-linejoin","miter");const f=this._points[0];let s="M"+f.x+","+f.y;for(let g=1;g<this._points.length;g++){const m=this._points[g];s+=" L"+m.x+","+m.y}o.setAttribute("d",s),this._svgGroup.append(o)}buildAnnotationDto(){const e=this._strokeWidth/2;let r,a,c,o,f;const s=this._points,g=[];for(let t=0;t<s.length;t++)f=s[t],(!r||f.x<r)&&(r=f.x),(!a||f.y<a)&&(a=f.y),(!c||f.x>c)&&(c=f.x),(!o||f.y>o)&&(o=f.y),g.push(f.x,f.y);const m=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/Polyline",pageId:null,dateCreated:m,dateModified:m,author:this._docService.userName||"unknown",textContent:null,rect:[r-e,a-e,c+e,o+e],vertices:g,color:this._color,strokeWidth:this._strokeWidth,strokeDashGap:null}}}var __awaiter$e=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class GeometricSquareAnnotator extends GeometricAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this.onPointerDown=o=>{if(!o.isPrimary||o.button===2)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g)return;const{pageX:m,pageY:p,pageId:t}=g;this._pageId=t,this._down=new u(m,p),this.clear(),this.refreshGroupPosition();const b=o.target;b.addEventListener("pointermove",this.onPointerMove),b.addEventListener("pointerup",this.onPointerUp),b.addEventListener("pointerout",this.onPointerUp),b.setPointerCapture(o.pointerId)},this.onPointerMove=o=>{if(!o.isPrimary||!this._down)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g||g.pageId!==this._pageId)return;const{pageX:m,pageY:p}=g,{min:t,max:b}=u.minMax(this._down,new u(m,p));this.redrawRect(t,b)},this.onPointerUp=o=>{if(!o.isPrimary)return;const f=o.target;f.removeEventListener("pointermove",this.onPointerMove),f.removeEventListener("pointerup",this.onPointerUp),f.removeEventListener("pointerout",this.onPointerUp),f.releasePointerCapture(o.pointerId),this._rect&&this.emitDataChanged(2,!0,!0)},this.init()}destroy(){super.destroy()}undo(){this.clear()}clear(){this._rect=null,this.clearGroup()}saveAnnotationAsync(){return __awaiter$e(this,void 0,void 0,function*(){if(!this._rect)return;const e=this._pageId,r=this.buildAnnotationDto(),a=SquareAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(e,a),this.clear()})}init(){super.init(),this._overlay.addEventListener("pointerdown",this.onPointerDown)}redrawRect(e,r){this._svgGroup.innerHTML="";const a=this._strokeWidth*2;if(r.x-e.x<=a||r.y-e.y<=a){this._rect=null;return}const[c,o,f,s]=this._color||[0,0,0,1];if(this._rect=[e.x,e.y,r.x,r.y],this._cloudMode){const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("fill","none"),g.setAttribute("stroke",`rgba(${c*255},${o*255},${f*255},${s})`),g.setAttribute("stroke-width",this._strokeWidth+""),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round");const m=CloudCurveData.buildFromPolyline([new u(e.x,e.y),new u(r.x,e.y),new u(r.x,r.y),new u(e.x,r.y),new u(e.x,e.y)],SquareAnnotation.cloudArcSize);let p="M"+m.start.x+","+m.start.y;m.curves.forEach(t=>{p+=` C${t[0].x},${t[0].y} ${t[1].x},${t[1].y} ${t[2].x},${t[2].y}`}),g.setAttribute("d",p),this._svgGroup.append(g)}else{const g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("fill","none"),g.setAttribute("stroke",`rgba(${c*255},${o*255},${f*255},${s})`),g.setAttribute("stroke-width",this._strokeWidth+""),g.setAttribute("x",e.x+""),g.setAttribute("y",e.y+""),g.setAttribute("width",r.x-e.x+""),g.setAttribute("height",r.y-e.y+""),this._svgGroup.append(g)}}buildAnnotationDto(){const e=this._strokeWidth/2+(this._cloudMode?SquareAnnotation.cloudArcSize/2:0),r=e,a=e,c=e,o=e,f=[r,a,c,o],[s,g,m,p]=this._rect,t=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/Square",pageId:null,dateCreated:t,dateModified:t,author:this._docService.userName||"unknown",textContent:null,rect:[s-r,g-o,m+c,p+a],rectMargins:f,cloud:this._cloudMode,color:this._color,strokeWidth:this._strokeWidth,strokeDashGap:null}}}const geometricAnnotatorTypes=["square","circle","line","arrow","polyline","polygon"];class GeometricAnnotatorFactory{createAnnotator(e,r,a,c,o){var f,s;if(!e)throw new Error("Document service is not defined");if(!r)throw new Error("Page service is not defined");if(!a)throw new Error("Parent container is not defined");o||(o=this._lastType||"square"),this._lastType=o;const g=c?.color||this._lastColor||[0,0,0,.9];this._lastColor=g;const m=c?.strokeWidth||this._lastStrokeWidth||3;this._lastStrokeWidth=m;const p=(s=(f=c?.cloudMode)!==null&&f!==void 0?f:this._lastCloudMode)!==null&&s!==void 0?s:!1;this._lastCloudMode=p;const t={color:g,strokeWidth:m,cloudMode:p};switch(o){case"square":return new GeometricSquareAnnotator(e,r,a,t);case"circle":return new GeometricCircleAnnotator(e,r,a,t);case"line":return new GeometricLineAnnotator(e,r,a,t);case"arrow":return new GeometricArrowAnnotator(e,r,a,t);case"polyline":return new GeometricPolylineAnnotator(e,r,a,t);case"polygon":return new GeometricPolygonAnnotator(e,r,a,t);default:throw new Error(`Invalid geometric annotator type: ${o}`)}}}var __awaiter$d=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PenAnnotator extends Annotator{constructor(e,r,a,c){super(e,r,a),this.onPointerDown=o=>{if(!o.isPrimary||o.button===2)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g)return;const{pageX:m,pageY:p,pageId:t}=g;(!this._annotationPathData||t!==this._annotationPathData.id)&&this.resetTempPenData(t),this._annotationPathData.newPath(new u(m,p));const b=o.target;b.addEventListener("pointermove",this.onPointerMove),b.addEventListener("pointerup",this.onPointerUp),b.addEventListener("pointerout",this.onPointerUp),b.setPointerCapture(o.pointerId)},this.onPointerMove=o=>{if(!o.isPrimary||!this._annotationPathData)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;!g||g.pageId!==this._annotationPathData.id||this._annotationPathData.addPosition(new u(g.pageX,g.pageY))},this.onPointerUp=o=>{var f;if(!o.isPrimary)return;const s=o.target;s.removeEventListener("pointermove",this.onPointerMove),s.removeEventListener("pointerup",this.onPointerUp),s.removeEventListener("pointerout",this.onPointerUp),s.releasePointerCapture(o.pointerId),(f=this._annotationPathData)===null||f===void 0||f.endPath(),this.emitDataChanged()},this.init(),this._color=c?.color||[0,0,0,.9],this._strokeWidth=c?.strokeWidth||3}destroy(){this.removeTempPenData(),super.destroy()}undo(){var e;(e=this._annotationPathData)===null||e===void 0||e.removeLastPath(),this.emitDataChanged()}clear(){this.removeTempPenData()}saveAnnotationAsync(){return __awaiter$d(this,void 0,void 0,function*(){if(!this._annotationPathData)return;const e=this._annotationPathData.id,r=this.buildAnnotationDto(this._annotationPathData),a=InkAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(e,a),this.clear()})}init(){super.init(),this._overlay.addEventListener("pointerdown",this.onPointerDown)}refreshGroupPosition(){if(!this._annotationPathData)return;const e=this._pageService.renderedPages.find(M=>M.id===this._annotationPathData.id);if(!e){this._annotationPathData.group.setAttribute("transform","scale(0)");return}const{height:r,width:a,top:c,left:o}=e.viewContainer.getBoundingClientRect(),f=c+r,s=o+a,{height:g,top:m,left:p}=this._overlay.getBoundingClientRect(),t=m+g,b=e.rotation,C=e.scale;let w,v;switch(b){case 0:w=(o-p)/C,v=(t-f)/C;break;case 90:w=(o-p)/C,v=(t-c)/C;break;case 180:w=(s-p)/C,v=(t-c)/C;break;case 270:w=(s-p)/C,v=(t-f)/C;break;default:throw new Error(`Invalid rotation degree: ${b}`)}this._annotationPathData.group.setAttribute("transform",`translate(${w} ${v}) rotate(${-b})`)}removeTempPenData(){this._annotationPathData&&(this._annotationPathData.group.remove(),this._annotationPathData=null,this.emitDataChanged())}resetTempPenData(e){this.removeTempPenData(),this._annotationPathData=new SvgSmoothPath({id:e,color:this._color,strokeWidth:this._strokeWidth}),this._svgGroup.append(this._annotationPathData.group),this.refreshGroupPosition()}emitDataChanged(){var e;const r=((e=this._annotationPathData)===null||e===void 0?void 0:e.pathCount)||0;this._docService.eventService.dispatchEvent(new AnnotatorDataChangeEvent({annotatorType:"pen",elementCount:r,undoable:r>1,clearable:r>0,saveable:r>0}))}buildAnnotationDto(e){const r=[],a=[];e.paths.forEach(p=>{const t=[];p.positions.forEach(b=>{r.push(b),t.push(b.x,b.y)}),a.push(t)});const{min:c,max:o}=u.minMax(...r),f=e.strokeWidth/2,s=[c.x-f,c.y-f,o.x+f,o.y+f],g=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/Ink",pageId:null,dateCreated:g,dateModified:g,author:this._docService.userName||"unknown",textContent:null,rect:s,matrix:[1,0,0,1,0,0],inkList:a,color:e.color,strokeWidth:e.strokeWidth,strokeDashGap:null}}}var __awaiter$c=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};const supportedStampTypes=[{type:"/Draft",name:"Draft"},{type:"/Approved",name:"Approved"},{type:"/NotApproved",name:"Not Approved"},{type:"/Departmental",name:"Departmental"},{type:"/Confidential",name:"Confidential"},{type:"/Final",name:"Final"},{type:"/Expired",name:"Expired"},{type:"/AsIs",name:"As Is"},{type:"/Sold",name:"Sold"},{type:"/Experimental",name:"Experimental"},{type:"/ForComment",name:"For Comment"},{type:"/TopSecret",name:"Top Secret"},{type:"/ForPublicRelease",name:"For Public"},{type:"/NotForPublicRelease",name:"Not For Public"}];class StampAnnotator extends Annotator{constructor(e,r,a,c,o){if(super(e,r,a),this.onPointerMove=f=>{if(!f.isPrimary)return;const{clientX:s,clientY:g}=f,{height:m,top:p,left:t}=this._parent.getBoundingClientRect(),b=p+m,C=(s-t)/this._pageService.scale,w=(b-g)/this._pageService.scale;if(this._tempAnnotation){const[v,M,y,I]=this._tempAnnotation.Rect;this._svgGroup.setAttribute("transform",`translate(${C-(y-v)/2} ${w-(I-M)/2})`)}this.updatePointerCoords(s,g)},this.onPointerUp=f=>__awaiter$c(this,void 0,void 0,function*(){var s,g,m;if(!f.isPrimary||f.button===2)return;const{clientX:p,clientY:t}=f;if(f.pointerType==="touch"&&performance.now()-((s=this._lastPointerDownInfo)===null||s===void 0?void 0:s.timestamp)>700){const I=((g=this._lastPointerDownInfo)===null||g===void 0?void 0:g.clientX)||0,P=((m=this._lastPointerDownInfo)===null||m===void 0?void 0:m.clientY)||0;if(!(Math.abs(h(p,t,I,P))>7.5))return}const b=this._pageService.getPageCoordsUnderPointer(p,t);if(this._pointerCoordsInPageCS=b,!b||!this._tempAnnotation)return;const{pageId:C,pageX:w,pageY:v,pageRotation:M}=this._pointerCoordsInPageCS;yield this._tempAnnotation.moveToAsync(new u(w,v)),M&&(yield this._tempAnnotation.rotateByAsync(-M/180*Math.PI)),this._pageId=C,yield this.saveAnnotationAsync()}),!c)throw new Error("Stamp type is not defined");this._type=c,this._creationInfo=o,this.init()}destroy(){this._tempAnnotation=null,super.destroy()}undo(){this.clear()}clear(){this._tempAnnotation=null}saveAnnotationAsync(){return __awaiter$c(this,void 0,void 0,function*(){!this._pageId||!this._tempAnnotation||(yield this._docService.appendAnnotationToPageAsync(this._pageId,this._tempAnnotation),yield this.createTempStampAnnotationAsync())})}init(){super.init(),this._overlay.addEventListener("pointermove",this.onPointerMove),this._overlay.addEventListener("pointerup",this.onPointerUp),this.createTempStampAnnotationAsync()}createStandardStamp(e,r){const a=new Date().toISOString(),c={uuid:UUID.getRandomUuid(),annotationType:"/Stamp",pageId:null,dateCreated:a,dateModified:a,author:r||"unknown",textContent:null,rect:null,matrix:null,stampType:e,stampSubject:null,stampImageData:null};return StampAnnotation.createFromDto(c)}createCustomStamp(e,r){const a=new Date().toISOString(),c={uuid:UUID.getRandomUuid(),annotationType:"/Stamp",pageId:null,dateCreated:a,dateModified:a,author:r||"unknown",textContent:null,rect:e.rect||e.bbox,bbox:e.bbox,matrix:null,stampType:e.type,stampSubject:e.subject,stampImageData:[...e.imageData]};return StampAnnotation.createFromDto(c)}createTempStampAnnotationAsync(){return __awaiter$c(this,void 0,void 0,function*(){let e;if(standardStampCreationInfos[this._type])e=this.createStandardStamp(this._type,this._docService.userName);else if(this._creationInfo)e=this.createCustomStamp(this._creationInfo,this._docService.userName);else throw new Error(`Unsupported stamp type: ${this._type}`);const r=yield e.renderApStreamAsync();this._svgGroup.innerHTML="",this._svgGroup.append(...r.clipPaths),this._svgGroup.append(...r.elements.map(a=>a.element)),this._tempAnnotation=e})}refreshGroupPosition(){}}class TextAnnotator extends Annotator{constructor(e,r,a,c){super(e,r,a),this._color=c?.color||[0,0,0,1],this._strokeWidth=c?.strokeWidth||3}emitDataChanged(e,r,a,c){this._docService.eventService.dispatchEvent(new AnnotatorDataChangeEvent({annotatorType:"text",elementCount:e,undoable:c,clearable:a,saveable:r}))}}class TextMarkupAnnotator extends TextAnnotator{constructor(e,r,a,c){super(e,r,a,c),this._svgGroupByPageId=new Map,this._coordsByPageId=new Map,this.onTextSelectionChange=o=>{var f;this.updateCoords(((f=o?.detail)===null||f===void 0?void 0:f.selectionInfos)||[])}}destroy(){this._docService.eventService.removeListener(textSelectionChangeEvent,this.onTextSelectionChange),this.clearGroup(),super.destroy()}undo(){this.clear()}clear(){this._coordsByPageId.clear(),this.clearGroup()}init(){super.init(),this._docService.eventService.addListener(textSelectionChangeEvent,this.onTextSelectionChange)}clearGroup(){this._svgGroupByPageId.forEach(e=>e.innerHTML=""),this.emitDataChanged(0)}refreshGroupPosition(){const{height:e,top:r,left:a}=this._overlay.getBoundingClientRect(),c=r+e,o=this._pageService.scale;this._pageService.renderedPages.forEach(f=>{const{height:s,width:g,top:m,left:p}=f.viewContainer.getBoundingClientRect(),t=m+s,b=p+g,C=f.rotation;let w,v;switch(C){case 0:w=(p-a)/o,v=(c-t)/o;break;case 90:w=(p-a)/o,v=(c-m)/o;break;case 180:w=(b-a)/o,v=(c-m)/o;break;case 270:w=(b-a)/o,v=(c-t)/o;break;default:throw new Error(`Invalid rotation degree: ${C}`)}let M;this._svgGroupByPageId.has(f.id)?M=this._svgGroupByPageId.get(f.id):(M=document.createElementNS("http://www.w3.org/2000/svg","g"),this._svgGroupByPageId.set(f.id,M),this._svgGroup.append(M)),M.setAttribute("transform",`translate(${w} ${v}) rotate(${-C})`)})}updateCoords(e){var r;this._coordsByPageId.clear();for(const a of e){const c=this._pageService.getPageCoordsUnderPointer(a.bottomLeft.x,a.bottomLeft.y),o=this._pageService.getPageCoordsUnderPointer(a.bottomRight.x,a.bottomRight.y),f=this._pageService.getPageCoordsUnderPointer(a.topRight.x,a.topRight.y),s=this._pageService.getPageCoordsUnderPointer(a.topLeft.x,a.topLeft.y);if(!c||!o||!f||!s)continue;if(new Set([c.pageId,o.pageId,f.pageId,s.pageId]).size>1)throw new Error("Not all the text selection corners are inside the same page");const g=[s.pageX,s.pageY,f.pageX,f.pageY,c.pageX,c.pageY,o.pageX,o.pageY],m=c.pageId;this._coordsByPageId.has(m)?this._coordsByPageId.get(m).push(g):this._coordsByPageId.set(m,[g])}this.redraw(),!((r=this._coordsByPageId)===null||r===void 0)&&r.size?this.emitDataChanged(this._coordsByPageId.size,!0,!0):this.emitDataChanged(0)}buildAnnotationDtos(e){const r=new Date().toISOString(),a=[];return this._coordsByPageId.forEach((c,o)=>{const f={uuid:UUID.getRandomUuid(),annotationType:e,pageId:o,dateCreated:r,dateModified:r,author:this._docService.userName||"unknown",textContent:null,rect:null,quadPoints:c.flat(),color:this._color,strokeWidth:this._strokeWidth,strokeDashGap:null};a.push(f)}),a}}var __awaiter$b=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TextHighlightAnnotator extends TextMarkupAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this.init()}saveAnnotationAsync(){return __awaiter$b(this,void 0,void 0,function*(){if(!this._coordsByPageId.size)return;const e=this.buildAnnotationDtos("/Highlight");for(const r of e){const a=HighlightAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(r.pageId,a)}this.clear()})}redraw(){const[e,r,a,c]=this._color||[0,0,0,1];this._svgGroupByPageId.forEach((o,f)=>{o.innerHTML="";const s=this._coordsByPageId.get(f);s?.length&&s.forEach(g=>{const[m,p,t,b,C,w,v,M]=g,y=document.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("fill",`rgba(${e*255},${r*255},${a*255},${c})`),y.setAttribute("stroke","none"),y.setAttribute("d",`M ${C},${w} L ${v},${M} L ${t},${b} L ${m},${p} Z`),o.append(y)})})}}var __awaiter$a=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TextSquigglyAnnotator extends TextMarkupAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this.init()}saveAnnotationAsync(){return __awaiter$a(this,void 0,void 0,function*(){if(!this._coordsByPageId.size)return;const e=this.buildAnnotationDtos("/Squiggly");for(const r of e){const a=SquigglyAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(r.pageId,a)}this.clear()})}redraw(){const[e,r,a,c]=this._color||[0,0,0,1];this._svgGroupByPageId.forEach((o,f)=>{o.innerHTML="";const s=this._coordsByPageId.get(f);s?.length&&s.forEach(g=>{const[,,,,m,p,t,b]=g,C=buildSquigglyLine(new u(m,p),new u(t,b),SquigglyAnnotation.squiggleSize);if(C?.length){let w=`M ${C[0].x},${C[0].y} `;for(let M=1;M<C.length;M++)w+=`L ${C[M].x},${C[M].y} `;const v=document.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("fill","none"),v.setAttribute("stroke",`rgba(${e*255},${r*255},${a*255},${c})`),v.setAttribute("stroke-width",this._strokeWidth+""),v.setAttribute("stroke-linecap","square"),v.setAttribute("d",w),o.append(v)}})})}}var __awaiter$9=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TextStrikeoutAnnotator extends TextMarkupAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this.init()}saveAnnotationAsync(){return __awaiter$9(this,void 0,void 0,function*(){if(!this._coordsByPageId.size)return;const e=this.buildAnnotationDtos("/Strikeout");for(const r of e){const a=StrikeoutAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(r.pageId,a)}this.clear()})}redraw(){const[e,r,a,c]=this._color||[0,0,0,1];this._svgGroupByPageId.forEach((o,f)=>{o.innerHTML="";const s=this._coordsByPageId.get(f),g=new u,m=new u,p=new u,t=new u,b=new u,C=new u;s?.length&&s.forEach(w=>{const[v,M,y,I,P,_,k,D]=w;g.set(P,_),m.set(k,D),p.set(y,I),t.set(v,M),b.setFromVec2(g).add(t).multiplyByScalar(.5),C.setFromVec2(m).add(p).multiplyByScalar(.5);const V=document.createElementNS("http://www.w3.org/2000/svg","path");V.setAttribute("fill","none"),V.setAttribute("stroke",`rgba(${e*255},${r*255},${a*255},${c})`),V.setAttribute("stroke-width",this._strokeWidth+""),V.setAttribute("stroke-linecap","square"),V.setAttribute("d",`M ${b.x},${b.y} L ${C.x},${C.y}`),o.append(V)})})}}var __awaiter$8=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TextUnderlineAnnotator extends TextMarkupAnnotator{constructor(e,r,a,c){super(e,r,a,c||{}),this.init()}saveAnnotationAsync(){return __awaiter$8(this,void 0,void 0,function*(){if(!this._coordsByPageId.size)return;const e=this.buildAnnotationDtos("/Underline");for(const r of e){const a=UnderlineAnnotation.createFromDto(r);yield this._docService.appendAnnotationToPageAsync(r.pageId,a)}this.clear()})}redraw(){const[e,r,a,c]=this._color||[0,0,0,1];this._svgGroupByPageId.forEach((o,f)=>{o.innerHTML="";const s=this._coordsByPageId.get(f);s?.length&&s.forEach(g=>{const[,,,,m,p,t,b]=g,C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("fill","none"),C.setAttribute("stroke",`rgba(${e*255},${r*255},${a*255},${c})`),C.setAttribute("stroke-width",this._strokeWidth+""),C.setAttribute("stroke-linecap","square"),C.setAttribute("d",`M ${m},${p} L ${t},${b}`),o.append(C)})})}}var __awaiter$7=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TextNoteAnnotator extends TextAnnotator{constructor(e,r,a,c){super(e,r,a.container,c||{}),this.onPointerMove=o=>{if(!o.isPrimary)return;const{clientX:f,clientY:s}=o,{height:g,top:m,left:p}=this._parent.getBoundingClientRect(),t=m+g,b=(f-p)/this._pageService.scale,C=(t-s)/this._pageService.scale,[w,v,M,y]=this._tempAnnotation.Rect;this._svgGroup.setAttribute("transform",`translate(${b-(M-w)/4} ${C-(y-v)/4})`),this.updatePointerCoords(f,s)},this.onPointerUp=o=>__awaiter$7(this,void 0,void 0,function*(){var f,s,g;if(!o.isPrimary||o.button===2)return;const{clientX:m,clientY:p}=o;if(o.pointerType==="touch"&&performance.now()-((f=this._lastPointerDownInfo)===null||f===void 0?void 0:f.timestamp)>700){const k=((s=this._lastPointerDownInfo)===null||s===void 0?void 0:s.clientX)||0,D=((g=this._lastPointerDownInfo)===null||g===void 0?void 0:g.clientY)||0;if(!(Math.abs(h(m,p,k,D))>7.5))return}const t=this._pageService.getPageCoordsUnderPointer(m,p);if(this._pointerCoordsInPageCS=t,!t||!this._tempAnnotation)return;const{pageId:b,pageX:C,pageY:w,pageRotation:v}=this._pointerCoordsInPageCS,[M,y,I,P]=this._tempAnnotation.Rect;yield this._tempAnnotation.moveToAsync(new u(C+(I-M)/4,w+(P-y)/4)),v&&(yield this._tempAnnotation.rotateByAsync(-v/180*Math.PI,new u(C,w))),this._pageId=b,yield this.saveAnnotationAsync()}),this._viewer=a,this.init()}destroy(){this._tempAnnotation=null,super.destroy()}undo(){this.clear()}clear(){this._tempAnnotation=null}saveAnnotationAsync(){var e,r;return __awaiter$7(this,void 0,void 0,function*(){if(!this._pageId||!this._tempAnnotation)return;const a=(r=(e=this._tempAnnotation)===null||e===void 0?void 0:e.Contents)===null||r===void 0?void 0:r.literal,c=yield this._viewer.showTextDialogAsync(a);c!==null&&(yield this._tempAnnotation.setTextContentAsync(c),yield this._docService.appendAnnotationToPageAsync(this._pageId,this._tempAnnotation)),yield this.createTempNoteAnnotationAsync()})}init(){super.init(),this._overlay.addEventListener("pointermove",this.onPointerMove),this._overlay.addEventListener("pointerup",this.onPointerUp),this.createTempNoteAnnotationAsync()}createTempNoteAnnotationAsync(){return __awaiter$7(this,void 0,void 0,function*(){const e=TextAnnotation.createStandard(this._docService.userName,this._color),r=yield e.renderApStreamAsync();this._svgGroup.innerHTML="",this._svgGroup.append(...r.clipPaths),this._svgGroup.append(...r.elements.map(a=>a.element)),this._tempAnnotation=e})}refreshGroupPosition(){}}var __awaiter$6=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class FreeTextAnnotator extends TextAnnotator{constructor(e,r,a,c){super(e,r,a.container,c||{}),this.onPointerDown=o=>{if(!o.isPrimary||o.button===2)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g)return;const{pageX:m,pageY:p,pageId:t}=g;this._pageId=t,this._down=new u(m,p),this.clear(),this.refreshGroupPosition();const b=o.target;b.addEventListener("pointermove",this.onPointerMove),b.addEventListener("pointerup",this.onPointerUp),b.addEventListener("pointerout",this.onPointerUp),b.setPointerCapture(o.pointerId)},this.onPointerMove=o=>{if(!o.isPrimary||!this._down)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g||g.pageId!==this._pageId)return;const{pageX:m,pageY:p}=g,{min:t,max:b}=u.minMax(this._down,new u(m,p));this.redrawRect(t,b)},this.onPointerUp=o=>__awaiter$6(this,void 0,void 0,function*(){if(!o.isPrimary)return;const f=o.target;f.removeEventListener("pointermove",this.onPointerMove),f.removeEventListener("pointerup",this.onPointerUp),f.removeEventListener("pointerout",this.onPointerUp),f.releasePointerCapture(o.pointerId),this._rect&&(yield this.saveAnnotationAsync())}),this._viewer=a,this.init()}destroy(){this.emitDataChanged(0),super.destroy()}undo(){this.clear()}clear(){this._rect=null,this._svgGroup.innerHTML="",this.emitDataChanged(0)}saveAnnotationAsync(){return __awaiter$6(this,void 0,void 0,function*(){if(!this._pageId||!this._rect)return;const e=yield this._viewer.showTextDialogAsync("");if(e!==null){const r=this._pageId,a=this.buildAnnotationDto(e);if(a){const c=yield FreeTextAnnotation.createFromDtoAsync(a,this._docService.fontMap);yield this._docService.appendAnnotationToPageAsync(r,c)}}this.clear()})}init(){super.init(),this._overlay.addEventListener("pointerdown",this.onPointerDown)}redrawRect(e,r){this._svgGroup.innerHTML="";const a=this._strokeWidth*2;if(r.x-e.x<=a||r.y-e.y<=a){this._rect=null;return}const[c,o,f,s]=this._color||[0,0,0,1];this._rect=[e.x,e.y,r.x,r.y];const g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("fill","white"),g.setAttribute("stroke",`rgba(${c*255},${o*255},${f*255},${s})`),g.setAttribute("stroke-width",this._strokeWidth+""),g.setAttribute("x",e.x+""),g.setAttribute("y",e.y+""),g.setAttribute("width",r.x-e.x+""),g.setAttribute("height",r.y-e.y+""),this._svgGroup.append(g)}refreshGroupPosition(){if(!this._pageId&&this._pageId!==0)return;const e=this._pageService.renderedPages.find(M=>M.id===this._pageId);if(!e){this._svgGroup.setAttribute("transform","scale(0)");return}const{height:r,width:a,top:c,left:o}=e.viewContainer.getBoundingClientRect(),f=c+r,s=o+a,{height:g,top:m,left:p}=this._overlay.getBoundingClientRect(),t=m+g,b=e.rotation,C=e.scale;let w,v;switch(b){case 0:w=(o-p)/C,v=(t-f)/C;break;case 90:w=(o-p)/C,v=(t-c)/C;break;case 180:w=(s-p)/C,v=(t-c)/C;break;case 270:w=(s-p)/C,v=(t-f)/C;break;default:throw new Error(`Invalid rotation degree: ${b}`)}this._svgGroup.setAttribute("transform",`translate(${w} ${v}) rotate(${-b})`)}buildAnnotationDto(e){const r=this._strokeWidth/2,a=r,c=r,o=r,f=r,[s,g,m,p]=this._rect,t=(s+m)/2,b=(g+p)/2,C={bl:[s,g],tr:[m,p],br:[m,g],tl:[s,p],l:[s,b],t:[t,p],r:[m,b],b:[t,g]},w=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/FreeText",pageId:null,dateCreated:w,dateModified:w,author:this._docService.userName||"unknown",textContent:e,rect:[s-a,g-f,m+o,p+c],points:C,color:[this._color[0],this._color[1],this._color[2],1],strokeWidth:this._strokeWidth,strokeDashGap:null}}}var __awaiter$5=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class FreeTextCalloutAnnotator extends TextAnnotator{constructor(e,r,a,c){super(e,r,a.container,c||{}),this.onPointerDown=o=>{if(!o.isPrimary||o.button===2)return;const{clientX:f,clientY:s}=o;this.updatePointerCoords(f,s);const g=this._pointerCoordsInPageCS;if(!g)return;const{pageX:m,pageY:p,pageId:t}=g;t!==this._pageId&&this.clear(),this._pageId=t,this._down=new u(m,p),this.refreshGroupPosition();const b=o.target;b.addEventListener("pointermove",this.onPointerMove),b.addEventListener("pointerup",this.onPointerUp),b.addEventListener("pointerout",this.onPointerUp),b.setPointerCapture(o.pointerId)},this.onPointerMove=o=>{if(!o.isPrimary||!this._down)return;const{clientX:f,clientY:s}=o;if(this.updatePointerCoords(f,s),!this._points){const g=this._pointerCoordsInPageCS;if(!g||g.pageId!==this._pageId)return;const{pageX:m,pageY:p}=g,{min:t,max:b}=u.minMax(this._down,new u(m,p));this.redrawRect(t,b)}},this.onPointerUp=o=>{if(!o.isPrimary)return;const f=o.target;if(f.removeEventListener("pointermove",this.onPointerMove),f.removeEventListener("pointerup",this.onPointerUp),f.removeEventListener("pointerout",this.onPointerUp),f.releasePointerCapture(o.pointerId),!this._rect)return;if(!this._points){this.initPoints();return}const s=this._pointerCoordsInPageCS;if(!s||s.pageId!==this._pageId)return;const{pageX:g,pageY:m}=s,p=new u(g,m),{l:t,b,r:C,t:w}=this._points,v=new u(t[0],t[1]),M=new u(b[0],b[1]),y=new u(C[0],C[1]),I=new u(w[0],w[1]);let P=v,_=u.subtract(p,v).getMagnitude();const k=u.subtract(p,M).getMagnitude();k<_&&(_=k,P=M);const D=u.subtract(p,y).getMagnitude();D<_&&(_=D,P=y);const V=u.subtract(p,I).getMagnitude();V<_&&(_=V,P=I),this._points.cob=P.toFloatArray(),this._points.cop?this._points.cok=p.toFloatArray():this._points.cop=p.toFloatArray(),this.redrawCallout()},this._viewer=a,this.init()}destroy(){this.emitDataChanged(0),super.destroy()}undo(){this.clear()}clear(){this._rect=null,this._points=null,this._svgGroup.innerHTML="",this.emitDataChanged(0)}saveAnnotationAsync(){return __awaiter$5(this,void 0,void 0,function*(){if(!this._pageId||!this._rect)return;const e=yield this._viewer.showTextDialogAsync("");if(e!==null){const r=this._pageId,a=this.buildAnnotationDto(e);if(a){const c=yield FreeTextAnnotation.createFromDtoAsync(a,this._docService.fontMap);yield this._docService.appendAnnotationToPageAsync(r,c)}}this.clear()})}init(){super.init(),this._overlay.addEventListener("pointerdown",this.onPointerDown)}initPoints(){const[e,r,a,c]=this._rect,o=(e+a)/2,f=(r+c)/2,s={bl:[e,r],tr:[a,c],br:[a,r],tl:[e,c],l:[e,f],t:[o,c],r:[a,f],b:[o,r]};this._points=s,this.emitDataChanged(2,!0,!0)}redrawRect(e,r){this._svgGroup.innerHTML="";const a=this._strokeWidth*2;if(r.x-e.x<=a||r.y-e.y<=a){this._rect=null;return}const[c,o,f,s]=this._color||[0,0,0,1];this._rect=[e.x,e.y,r.x,r.y];const g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("fill","white"),g.setAttribute("stroke",`rgba(${c*255},${o*255},${f*255},${s})`),g.setAttribute("stroke-width",this._strokeWidth+""),g.setAttribute("x",e.x+""),g.setAttribute("y",e.y+""),g.setAttribute("width",r.x-e.x+""),g.setAttribute("height",r.y-e.y+""),this._svgGroup.append(g)}redrawCallout(){const e=this._svgGroup.lastChild;e.remove(),this._svgGroup.innerHTML="";const[r,a,c,o]=this._color||[0,0,0,1],f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("fill","none"),f.setAttribute("stroke",`rgba(${r*255},${a*255},${c*255},${o})`),f.setAttribute("stroke-width",this._strokeWidth+"");let s=`M${this._points.cob[0]},${this._points.cob[1]} `;this._points.cok&&(s+=`L${this._points.cok[0]},${this._points.cok[1]} `),s+=`L${this._points.cop[0]},${this._points.cop[1]}`,f.setAttribute("d",s),this._svgGroup.append(f),this._svgGroup.append(e)}refreshGroupPosition(){if(!this._pageId&&this._pageId!==0)return;const e=this._pageService.renderedPages.find(M=>M.id===this._pageId);if(!e){this._svgGroup.setAttribute("transform","scale(0)");return}const{height:r,width:a,top:c,left:o}=e.viewContainer.getBoundingClientRect(),f=c+r,s=o+a,{height:g,top:m,left:p}=this._overlay.getBoundingClientRect(),t=m+g,b=e.rotation,C=e.scale;let w,v;switch(b){case 0:w=(o-p)/C,v=(t-f)/C;break;case 90:w=(o-p)/C,v=(t-c)/C;break;case 180:w=(s-p)/C,v=(t-c)/C;break;case 270:w=(s-p)/C,v=(t-f)/C;break;default:throw new Error(`Invalid rotation degree: ${b}`)}this._svgGroup.setAttribute("transform",`translate(${w} ${v}) rotate(${-b})`)}buildAnnotationDto(e){let r;this._points.cob?r=(Math.max(this._strokeWidth*LINE_END_MULTIPLIER,LINE_END_MIN_SIZE)+this._strokeWidth)/2:r=this._strokeWidth/2;const a=r,c=r,o=r,f=r,{bl:s,tr:g,br:m,tl:p,l:t,t:b,r:C,b:w,cob:v,cok:M,cop:y}=this._points,{min:I,max:P}=u.minMax(new u(s[0],s[1]),new u(g[0],g[1]),new u(m[0],m[1]),new u(p[0],p[1]),new u(t[0],t[1]),new u(b[0],b[1]),new u(C[0],C[1]),new u(w[0],w[1]),v?new u(v[0],v[1]):new u(s[0],s[1]),M?new u(M[0],M[1]):new u(s[0],s[1]),y?new u(y[0],y[1]):new u(s[0],s[1])),_=new Date().toISOString();return{uuid:UUID.getRandomUuid(),annotationType:"/FreeText",pageId:null,dateCreated:_,dateModified:_,author:this._docService.userName||"unknown",textContent:e,rect:[I.x-a,I.y-f,P.x+o,P.y+c],points:this._points,intent:this._points.cob?freeTextIntents.WITH_CALLOUT:freeTextIntents.PLAIN_TEXT,calloutEndingType:this._points.cob?lineEndingTypes.ARROW_OPEN:null,color:[this._color[0],this._color[1],this._color[2],1],strokeWidth:this._strokeWidth,strokeDashGap:null}}}const textAnnotatorTypes=["highlight","strikeout","squiggly","underline","note","freeText","freeTextCallout"];class TextAnnotatorFactory{createAnnotator(e,r,a,c,o){if(!e)throw new Error("Document service is not defined");if(!r)throw new Error("Page service is not defined");if(!a)throw new Error("Viewer is not defined");o||(o=this._lastType||"highlight"),this._lastType=o;const f=c?.color||this._lastColor||[0,0,0,.9];this._lastColor=f;const s=c?.strokeWidth||this._lastStrokeWidth||2;this._lastStrokeWidth=s;const g={color:f,strokeWidth:s};switch(o){case"note":return new TextNoteAnnotator(e,r,a,g);case"freeText":return new FreeTextAnnotator(e,r,a,g);case"freeTextCallout":return new FreeTextCalloutAnnotator(e,r,a,g);case"highlight":return new TextHighlightAnnotator(e,r,a.container,g);case"squiggly":return new TextSquigglyAnnotator(e,r,a.container,g);case"strikeout":return new TextStrikeoutAnnotator(e,r,a.container,g);case"underline":return new TextUnderlineAnnotator(e,r,a.container,g);default:throw new Error(`Invalid geometric annotator type: ${o}`)}}}class AnnotatorService{constructor(e,r,a,c){if(this._annotationColors=[[0,0,0,.5],[.804,0,0,.5],[0,.804,0,.5],[0,0,.804,.5],[1,.5,0,.5],[1,.2,1,.5]],this._strokeColor=this._annotationColors[0],this._strokeWidth=3,this._stampType=supportedStampTypes[0].type,this._geometricCloudMode=!1,this._geometricSubmode=geometricAnnotatorTypes[0],this._textSubmode=textAnnotatorTypes[0],this.onContextMenu=o=>{this._contextMenu.enabled&&(o.preventDefault(),this._contextMenu.show(new u(o.clientX,o.clientY),this._viewer.container))},this.onPagesRendered=o=>{this._contextMenu.hide()},!e)throw new Error("Document service is not defined");if(!r)throw new Error("Page service is not defined");if(!a)throw new Error("Custom stamp service is not defined");if(!c)throw new Error("Viewer is not defined");this._docService=e,this._pageService=r,this._customStampService=a,this._viewer=c,this.init()}get mode(){return this._mode}set mode(e){this.setMode(e)}get annotator(){return this._annotator}destroy(){var e,r,a;this._docService.eventService.removeListener(pagesRenderedEvent,this.onPagesRendered),this._viewer.container.removeEventListener("contextmenu",this.onContextMenu),(e=this._viewerResizeObserver)===null||e===void 0||e.disconnect(),(r=this._contextMenu)===null||r===void 0||r.destroy(),(a=this._annotator)===null||a===void 0||a.destroy()}init(){this._docService.eventService.addListener(pagesRenderedEvent,this.onPagesRendered),this._viewer.container.addEventListener("contextmenu",this.onContextMenu);const e=new ResizeObserver(r=>{var a;(a=this._contextMenu)===null||a===void 0||a.hide()});e.observe(this._viewer.container),this._viewerResizeObserver=e,this._contextMenu=new ContextMenu,this._geometricFactory=new GeometricAnnotatorFactory,this._textFactory=new TextAnnotatorFactory}setMode(e){var r;switch(e||(e=this._mode),this._contextMenu.content=[],(r=this._annotator)===null||r===void 0||r.destroy(),this._docService.setSelectedAnnotation(null),this._mode=e,this._mode==="text"&&(this._textSubmode==="highlight"||this._textSubmode==="squiggly"||this._textSubmode==="strikeout"||this._textSubmode==="underline")?this._viewer.container.classList.add("mode-text-markup"):this._viewer.container.classList.remove("mode-text-markup"),e){case"select":this._contextMenu.enabled=!1;return;case"stamp":this._annotator=new StampAnnotator(this._docService,this._pageService,this._viewer.container,this._stampType,this._stampCreationInfo);break;case"pen":this._annotator=new PenAnnotator(this._docService,this._pageService,this._viewer.container,{strokeWidth:this._strokeWidth,color:this._strokeColor});break;case"geometric":this._annotator=this._geometricFactory.createAnnotator(this._docService,this._pageService,this._viewer.container,{strokeWidth:this._strokeWidth,color:this._strokeColor,cloudMode:this._geometricCloudMode},this._geometricSubmode);break;case"text":this._strokeWidth=2,this._annotator=this._textFactory.createAnnotator(this._docService,this._pageService,this._viewer,{strokeWidth:this._strokeWidth,color:this._strokeColor},this._textSubmode);break;default:throw new Error(`Invalid annotation mode: ${e}`)}const a=this.buildContextMenuContent();this._contextMenu.content=a,this._contextMenu.enabled=!0}buildContextMenuContent(){switch(this._mode){case"select":return[];case"stamp":return[this.buildCustomStampButtons(),this.buildStampTypePicker()];case"pen":return[this.buildStrokeColorPicker(),this.buildStrokeWidthSlider(!1)];case"geometric":return[this.buildGeometricSubmodePicker(),this.buildStrokeColorPicker(),this.buildStrokeWidthSlider(!0)];case"text":return[this.buildTextSubmodePicker(),this.buildStrokeColorPicker()];default:throw new Error(`Invalid annotation mode: ${this._mode}`)}}buildCustomStampButtons(){const e=DomUtils.htmlToElements(HtmlTemplates.stampContextButtonsHtml)[0];if(e.querySelector(".stamp-load-image").addEventListener("click",()=>{this._customStampService.startLoadingImage()}),e.querySelector(".stamp-draw-image").addEventListener("click",()=>{this._customStampService.startDrawing()}),this._stampCreationInfo){const r=e.querySelector(".stamp-delete");r.addEventListener("click",()=>{this._customStampService.removeCustomStamp(this._stampType)}),r.classList.remove("disabled")}return e}buildStampTypePicker(){const e=supportedStampTypes,r=document.createElement("div");return r.classList.add("context-menu-content","column"),[...e,...this._customStampService.getCustomStamps()].forEach(a=>{const c=document.createElement("div");c.classList.add("context-menu-stamp-select-button"),a.type===this._stampType&&c.classList.add("on"),c.addEventListener("click",()=>{this._stampType=a.type,a.imageData?this._stampCreationInfo=a:this._stampCreationInfo=null,this.setMode()});const o=document.createElement("div");o.innerHTML=a.name,c.append(o),r.append(c)}),r}buildGeometricSubmodePicker(){const e=document.createElement("div");return e.classList.add("context-menu-content","row"),geometricAnnotatorTypes.forEach(r=>{const a=document.createElement("div");a.classList.add("panel-button"),r===this._geometricSubmode&&a.classList.add("on"),a.addEventListener("click",()=>{this._geometricSubmode=r,this.setMode()}),a.innerHTML=Icons.geometricIcons[r],e.append(a)}),e}buildTextSubmodePicker(){const e=document.createElement("div");return e.classList.add("context-menu-content","row"),textAnnotatorTypes.forEach(r=>{const a=document.createElement("div");a.classList.add("panel-button"),r===this._textSubmode&&a.classList.add("on"),a.addEventListener("click",()=>{this._textSubmode=r,this.setMode()}),a.innerHTML=Icons.textIcons[r],e.append(a)}),e}buildStrokeColorPicker(){const e=document.createElement("div");return e.classList.add("context-menu-content","row"),this._annotationColors.forEach(r=>{const a=document.createElement("div");a.classList.add("panel-button"),r===this._strokeColor&&a.classList.add("on"),a.addEventListener("click",()=>{this._strokeColor=r,this.setMode()});const c=document.createElement("div");c.classList.add("context-menu-color-icon"),c.style.backgroundColor=`rgb(${r[0]*255},${r[1]*255},${r[2]*255})`,a.append(c),e.append(a)}),e}buildStrokeWidthSlider(e){const r=!e||this._geometricSubmode==="polyline"||this._geometricSubmode==="line"||this._geometricSubmode==="arrow",a=document.createElement("div");a.classList.add("context-menu-content","row");const c=document.createElement("div");c.classList.add("panel-button"),r?c.classList.add("disabled"):(this._geometricCloudMode&&c.classList.add("on"),c.addEventListener("click",()=>{this._geometricCloudMode=!0,this.setMode()})),c.innerHTML=Icons.lineTypeIcons.cloudy,a.append(c);const o=document.createElement("div");o.classList.add("panel-button"),r?o.classList.add("disabled"):(this._geometricCloudMode||o.classList.add("on"),o.addEventListener("click",()=>{this._geometricCloudMode=!1,this.setMode()})),o.innerHTML=Icons.lineTypeIcons.straight,a.append(o);const f=document.createElement("input");return f.setAttribute("type","range"),f.setAttribute("min","1"),f.setAttribute("max","32"),f.setAttribute("step","1"),f.setAttribute("value",this._strokeWidth+""),f.classList.add("context-menu-slider"),f.addEventListener("change",()=>{this._strokeWidth=f.valueAsNumber,this.setMode()}),a.append(f),a}}const viewerModes=["text","hand","annotation","comparison"];class ModeService{constructor(e){this._onModeChangeStarted=new Set;const r=[];if(viewerModes.forEach(a=>{var c;(!(!((c=e?.disabledModes)===null||c===void 0)&&c.length)||!e.disabledModes.includes(a))&&r.push(a)}),!r.length)throw new Error("All viewer modes are disabled");this.enabledModes=r}get mode(){return this._mode}set mode(e){var r;!((r=this._onModeChangeStarted)===null||r===void 0)&&r.size&&this._onModeChangeStarted.forEach(a=>a()),!(!e||e===this._mode)&&(this._mode=e)}addOnModeChangeStarted(e){this._onModeChangeStarted.add(e)}removeOnModeChangeStarted(e){this._onModeChangeStarted.delete(e)}}var __awaiter$4=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class PdfLoaderService{constructor(e){if(!e)throw new Error("Event controller is not defined");this._eventService=e}get pageCount(){var e;return((e=this._pdfDocument)===null||e===void 0?void 0:e.numPages)||0}get docLoaded(){return!!this._pdfDocument}get docService(){return this._docService}get docProxy(){return this._pdfDocument}get fileName(){return this._fileName}destroy(){var e,r;(e=this._pdfLoadingTask)===null||e===void 0||e.destroy(),this._pdfDocument&&(this._pdfDocument.cleanup(),this._pdfDocument.destroy()),(r=this._docService)===null||r===void 0||r.destroy()}openPdfAsync(e,r,a,c,o){var f;return __awaiter$4(this,void 0,void 0,function*(){yield this.closePdfAsync();let s,g;try{s=yield DomUtils.loadFileDataAsync(e)}catch(b){throw new Error(`Cannot load file data: ${b.message}`)}const m=yield DocumentService.createNewAsync(this._eventService,s,a);let p;for(;;){if(!m.tryAuthenticate(p)){if(p=yield c(),p===null)throw new Error("File loading cancelled: authentication aborted");continue}break}try{if(this._pdfLoadingTask)return yield this.closePdfAsync(),this.openPdfAsync(s,a,r,c,o);const b=yield m.getDataWithoutSupportedAnnotationsAsync();this._pdfLoadingTask=pdfExports.getDocument({data:b,password:p}),o&&(this._pdfLoadingTask.onProgress=o),g=yield this._pdfLoadingTask.promise,this._pdfLoadingTask=null}catch(b){throw new Error(`Cannot open PDF: ${b.message}`)}this._pdfDocument=g;const t=new Map;for(let b=0;b<g.numPages;b++){const C=yield(f=this._pdfDocument)===null||f===void 0?void 0:f.getPage(b+1);t.set(b,C)}this._pdfPageProxies=t,this._docService=m,this._fileName=r})}closePdfAsync(){var e,r;return __awaiter$4(this,void 0,void 0,function*(){this._pdfLoadingTask&&(this._pdfLoadingTask.destroyed||(yield this._pdfLoadingTask.destroy()),this._pdfLoadingTask=null),this._pdfPageProxies=null,(e=this._pdfDocument)===null||e===void 0||e.destroy(),this._pdfDocument=null,(r=this._docService)===null||r===void 0||r.destroy(),this._docService=null,this._fileName=null})}getPage(e){var r;return!((r=this._pdfPageProxies)===null||r===void 0)&&r.size?this._pdfPageProxies.get(e):null}}var __awaiter$3=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class ComparisonService{constructor(){}destroy(){}getComparisonResult(){return this._comparisonResult}getComparisonResultForPage(e){const r=this.getComparisonResult();return r?.get(e)}clearComparisonResult(){return this._comparisonResult=null}compareAsync(e,r,a){return __awaiter$3(this,void 0,void 0,function*(){const c=new Map;if(!e||!r)return c;const o=e.numPages,f=r.numPages;for(let s=0;s<o;s++){const g=yield e.getPage(s+1),m=s<f?yield r.getPage(s+1):null,p=yield this.comparePagesAsync(g,m,a?.get(s));c.set(s,p)}return this._comparisonResult=c,this._comparisonResult})}comparePagesAsync(e,r,a){return __awaiter$3(this,void 0,void 0,function*(){const c=yield this.renderPageAsync(e),o=yield this.renderPageAsync(r);return yield this.compareImageDataAsync(c,o,{offset:a})})}renderPageAsync(e){return __awaiter$3(this,void 0,void 0,function*(){if(!e)return null;const r=e.getViewport({scale:1,rotation:0}),{width:a,height:c}=r,o=document.createElement("canvas");o.width=a,o.height=c;const f=o.getContext("2d"),s={canvasContext:f,viewport:r,enableWebGL:!0};return yield e.render(s).promise,f.getImageData(0,0,a,c)})}compareImageDataAsync(e,r,a){var c;return __awaiter$3(this,void 0,void 0,function*(){const o=(c=a?.threshold)!==null&&c!==void 0?c:5,f=a?.offset||[0,0];if(!e)return{areas:[],offset:[0,0]};if(!r)return{areas:[[0,0,e.width,e.height]],offset:[0,0]};const s=[],g=e.width,m=e.height,p=r.width,t=r.height,b=e.data,C=r.data;let w,v,M,y;for(let P=0;P<g;P++)for(let _=0;_<m;_++)M=P+f[0],y=_+f[1],!(M<0||y<0||M>=p||y>=t)&&(w=(g*_+P)*4,v=(p*y+M)*4,(b[w]!==C[v]||b[w+1]!==C[v+1]||b[w+2]!==C[v+2]||b[w+3]!==C[v+3])&&this.addPixelToAabbs(s,P,_,o,g,m));return{areas:this.mergeIntersectingAabbs(s),offset:f}})}addPixelToAabbs(e,r,a,c,o,f){let s;const g=Math.max(r-c,0),m=Math.max(a-c,0),p=Math.min(r+c,o),t=Math.min(a+c,f);for(let b=0;b<e.length;b++){const[C,w,v,M]=e[b];if(Math.max(g,C)<Math.min(p,v)&&Math.max(m,w)<Math.min(t,M)){e[b]=[Math.min(g,C),Math.min(m,w),Math.max(p,v),Math.max(t,M)],s=!0;break}}s||e.push([g,m,p,t])}compareImageDataDbscanAsync(e,r,a=10){return __awaiter$3(this,void 0,void 0,function*(){if(!e)return[];if(!r)return[[0,0,e.width,e.height]];const c=this.getChangedPixels(e,r);if(c.length>this._maxChangedPixels)return[[0,0,e.width,e.height]];const o=yield DBSCAN.runAsync(c,a,1),f=this.convertClustersToAabbs(o);return this.mergeIntersectingAabbs(f)})}getChangedPixels(e,r){const a=e.width,c=e.height,o=r.width,f=r.height,s=e.data,g=r.data,m=[];let p,t;for(let b=0;b<a;b++)for(let C=0;C<c;C++){if(b>=o||C>=f){m.push(new u(b,C));continue}p=(a*C+b)*4,t=(o*C+b)*4,(s[p]!==g[t]||s[p+1]!==g[t+1]||s[p+2]!==g[t+2]||s[p+3]!==g[t+3])&&m.push(new u(b,C))}return m}convertClustersToAabbs(e){const r=[];for(const a of e){if(!a?.length)continue;let c;for(const o of a){if(!c){c=[o.x,o.y,o.x,o.y];continue}o.x<c[0]?c[0]=o.x:o.x>c[2]&&(c[2]=o.x),o.y<c[1]?c[1]=o.y:o.y>c[3]&&(c[3]=o.y)}r.push(c)}return r}mergeIntersectingAabbs(e){const r=[];for(const[a,c,o,f]of e){let s;for(let g=0;g<r.length;g++){const[m,p,t,b]=r[g];if(Math.max(a,m)<Math.min(o,t)&&Math.max(c,p)<Math.min(f,b)){r[g]=[Math.min(a,m),Math.min(c,p),Math.max(o,t),Math.max(f,b)],s=!0;break}}s||r.push([a,c,o,f])}return r}}class DBSCAN{constructor(e,r,a){this._clusters=[],this._noise=[],this._points=e??[],this._distance=Math.max(r,0)||1,this._minPoints=Math.max(a,1),this._visited=new Array(e.length),this._assigned=new Array(e.length)}static runAsync(e,r,a){return __awaiter$3(this,void 0,void 0,function*(){return new DBSCAN(e,r??1,a??1).runClustering()})}runClustering(){if(!this._points.length)return[];for(let e=0;e<this._points.length;e++)if(!this._visited[e]){this._visited[e]=!0;const r=this.getPointNeighbourIds(e);if(r.length<this._minPoints)this._noise.push(e);else{const a=this._clusters.length;this._clusters.push([]),this.addPointToCluster(e,a),this.expandCluster(a,r)}}return this._clusters}expandCluster(e,r){for(let a=0;a<r.length;a++){const c=r[a];if(!this._visited[c]){this._visited[c]=!0;const o=this.getPointNeighbourIds(c);o.length>=this._minPoints&&r.push(...o)}this._assigned[c]||this.addPointToCluster(c,e)}}addPointToCluster(e,r){this._clusters[r].push(this._points[e]),this._assigned[e]=!0}getPointNeighbourIds(e){const r=[];for(let a=0;a<this._points.length;a++)u.getDistance(this._points[e],this._points[a])<this._distance&&r.push(a);return r}}var __awaiter$2=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};const docChangeEvent="tspdf-docchangeevent";class DocChangeEvent extends CustomEvent{constructor(e){super(docChangeEvent,{detail:e})}}class DocManagerService{constructor(e){if(this._dummyDiv=document.createElement("div"),!e)throw new Error("Main event service is not defined");this._eventService=e,this._docLoaders={main:new PdfLoaderService(e),compared:new PdfLoaderService(new EventService(this._dummyDiv))},this._comparisonService=new ComparisonService}get comparisonService(){return this._comparisonService}get docService(){return this._docLoaders.main.docService}get pageCount(){return this._docLoaders.main.pageCount}get docLoaded(){return this._docLoaders.main.docLoaded}get fileName(){return this._docLoaders.main.fileName}destroy(){this._comparisonService.destroy(),Object.keys(this._docLoaders).forEach(e=>{this._docLoaders[e].destroy()})}openPdfAsync(e,r,a,c,o,f){return __awaiter$2(this,void 0,void 0,function*(){yield this._docLoaders[e].openPdfAsync(r,a,c,o,f),e==="main"?(yield this.closePdfAsync("compared"),this._eventService.dispatchEvent(new DocChangeEvent({action:"open",type:"main"}))):e==="compared"&&(yield this.runComparisonAsync(),this._eventService.dispatchEvent(new DocChangeEvent({action:"open",type:"compared"})))})}closePdfAsync(e){return __awaiter$2(this,void 0,void 0,function*(){yield this._docLoaders[e].closePdfAsync(),e==="main"?(yield this.closePdfAsync("compared"),this._eventService.dispatchEvent(new DocChangeEvent({action:"close",type:"main"}))):e==="compared"&&(yield this._comparisonService.clearComparisonResult(),this._eventService.dispatchEvent(new DocChangeEvent({action:"close",type:"compared"})))})}runComparisonAsync(){return __awaiter$2(this,void 0,void 0,function*(){yield this._comparisonService.compareAsync(this._docLoaders.main.docProxy,this._docLoaders.compared.docProxy)})}getPageProxy(e,r){return this._docLoaders[e].getPage(r)}getComparisonResultForPage(e){return this._comparisonService.getComparisonResultForPage(e)}}var __awaiter$1=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class Viewer{constructor(e,r,a,c){if(this._scale=1,this._pointerInfo={lastPos:null,downPos:null,downScroll:null},this._pinchInfo={active:!1,lastDist:0,minDist:10,sensitivity:.025,target:null},this.onPagesLoaded=o=>{var f;(f=o.detail.pages)===null||f===void 0||f.forEach(s=>{s.scale=this._scale,this._container.append(s.viewContainer)}),this.renderVisible()},this.onScrollRequest=o=>{this.scrollToPage(o.detail.pageIndex)},this.onPointerMove=o=>{const{clientX:f,clientY:s}=o;this._pointerInfo.lastPos=new u(f,s)},this.onScroll=o=>{this.renderVisible()},this.onPointerDownScroll=o=>{if(this._modeService.mode!=="hand")return;const{clientX:f,clientY:s}=o;this._pointerInfo.downPos=new u(f,s),this._pointerInfo.downScroll=new u(this._container.scrollLeft,this._container.scrollTop);const g=t=>{const{x:b,y:C}=this._pointerInfo.downPos,{x:w,y:v}=this._pointerInfo.downScroll,M=t.clientX-b,y=t.clientY-C;this._container.scrollTo(w-M,v-y)},m=t=>{this._pointerInfo.downPos=null,this._pointerInfo.downScroll=null;const b=t.target;b.removeEventListener("pointermove",g),b.removeEventListener("pointerup",m),b.removeEventListener("pointerout",m),b.releasePointerCapture(t.pointerId)},p=o.target;p.setPointerCapture(o.pointerId),p.addEventListener("pointermove",g),p.addEventListener("pointerup",m),p.addEventListener("pointerout",m)},this.onWheelZoom=o=>{o.ctrlKey&&(o.preventDefault(),o.deltaY>0?this.zoomOutCentered(this._pointerInfo.lastPos):this.zoomInCentered(this._pointerInfo.lastPos))},this.onTouchZoom=o=>{if(o.touches.length!==2)return;const f=o.touches[0],s=o.touches[1];this._pinchInfo.active=!0,this._pinchInfo.lastDist=h(f.clientX,f.clientY,s.clientX,s.clientY);const g=p=>{if(p.touches.length!==2)return;const t=p.touches[0],b=p.touches[1],C=h(t.clientX,t.clientY,b.clientX,b.clientY),w=C-this._pinchInfo.lastDist,v=Math.floor(w/this._pinchInfo.minDist);if(v){const M=new u((b.clientX+t.clientX)/2,(b.clientY+t.clientY)/2);this._pinchInfo.lastDist=C,this.zoom(v*this._pinchInfo.sensitivity,M)}},m=p=>{this._pinchInfo.active=!1,this._pinchInfo.lastDist=0,o.target.removeEventListener("touchmove",g),o.target.removeEventListener("touchend",m),o.target.removeEventListener("touchcancel",m)};o.target.addEventListener("touchmove",g),o.target.addEventListener("touchend",m),o.target.addEventListener("touchcancel",m)},!e)throw new Error("Mode service is not defined");if(!r)throw new Error("Page service is not defined");if(!a)throw new Error("Container is not defined");this._modeService=e,this._pageService=r,this._container=a,this._minScale=c?.minScale||.25,this._maxScale=c?.maxScale||4,this._modeService.addOnModeChangeStarted(()=>{!(this===null||this===void 0)&&this._dialogClose&&this._dialogClose()}),this.init()}get container(){return this._container}get scale(){return this._scale}destroy(){this._pageService.eventService.removeListener(pagesLoadedEvent,this.onPagesLoaded),this._pageService.eventService.removeListener(currentPageChangeRequestEvent,this.onScrollRequest),this._container.removeEventListener("scroll",this.onScroll),this._container.removeEventListener("wheel",this.onWheelZoom),this._container.removeEventListener("pointermove",this.onPointerMove),this._container.removeEventListener("pointerdown",this.onPointerDownScroll),this._container.removeEventListener("touchstart",this.onTouchZoom)}zoomOut(){this.zoomOutCentered()}zoomIn(){this.zoomInCentered()}zoomFitViewer(){const e=this._container.getBoundingClientRect().width,r=this._pageService.getCurrentPage().viewContainer.getBoundingClientRect().width,a=n$1((e-20)/r*this._scale,this._minScale,this._maxScale);this.setScale(a),this.scrollToPage(this._pageService.currentPageIndex)}zoomFitPage(){const{width:e,height:r}=this._container.getBoundingClientRect(),{width:a,height:c}=this._pageService.getCurrentPage().viewContainer.getBoundingClientRect(),o=n$1((e-20)/a*this._scale,this._minScale,this._maxScale),f=n$1((r-20)/c*this._scale,this._minScale,this._maxScale);this.setScale(Math.min(o,f)),this.scrollToPage(this._pageService.currentPageIndex)}renderVisible(e){this._pageService.renderVisiblePages(this._container,e)}showTextDialogAsync(e){return __awaiter$1(this,void 0,void 0,function*(){if(this._dialogClose)return;const r=DomUtils.htmlToElements(HtmlTemplates.textDialogHtml)[0];r.style.top=this._container.scrollTop+"px",r.style.left=this._container.scrollLeft+"px",this._container.append(r),this._container.classList.add("dialog-shown");let a=e||"";const c=r.querySelector(".text-input");c.placeholder="Enter text...",c.value=a,c.addEventListener("change",()=>a=c.value);const f=yield new Promise((s,g)=>{const m=()=>{s(a||"")},p=()=>{s(null)};r.addEventListener("click",t=>{t.target===r&&p()}),r.querySelector(".text-ok").addEventListener("click",m),r.querySelector(".text-cancel").addEventListener("click",p),this._dialogClose=()=>s(null)});return this._dialogClose=null,r.remove(),this._container.classList.remove("dialog-shown"),f})}scrollToPage(e){if(!this._pageService.pages.length)return;const{top:r}=this._container.getBoundingClientRect(),{top:a}=this._pageService.getPage(e).viewContainer.getBoundingClientRect(),c=a-(r-this._container.scrollTop)-20;this._container.scrollTo(this._container.scrollLeft,c)}init(){this._container.addEventListener("scroll",this.onScroll),this._container.addEventListener("wheel",this.onWheelZoom,{passive:!1}),this._container.addEventListener("pointermove",this.onPointerMove),this._container.addEventListener("pointerdown",this.onPointerDownScroll),this._container.addEventListener("touchstart",this.onTouchZoom),this._pageService.eventService.addListener(pagesLoadedEvent,this.onPagesLoaded),this._pageService.eventService.addListener(currentPageChangeRequestEvent,this.onScrollRequest)}setScale(e,r=null){if(!e||e===this._scale)return;let a,c,o;if(r)for(const f of this._pageService.pages){const{x:s,y:g}=r,{x:m,y:p,width:t,height:b}=f.viewContainer.getBoundingClientRect();if(m<=s&&m+t>=s&&p<=g&&p+b>=g){a=f.viewContainer,c=(s-m)/t,o=(g-p)/b;break}}if(this._scale=e,this._pageService.scale=e,a&&(this._container.scrollHeight>this._container.clientHeight||this._container.scrollWidth>this._container.clientWidth)){const{x:f,y:s}=r,{x:g,y:m,width:p,height:t}=a.getBoundingClientRect(),b=g+p*c,C=m+t*o;let w=this._container.scrollLeft+(b-f),v=this._container.scrollTop+(C-s);if(w=w<0?0:w,v=v<0?0:v,v!==this._container.scrollTop||w!==this._container.scrollLeft){this._container.scrollTo(w,v);return}}setTimeout(()=>this.renderVisible(),0)}zoom(e,r=null){const a=n$1(this._scale+e,this._minScale,this._maxScale);this.setScale(a,r||this.getCenterPosition())}zoomOutCentered(e=null){this.zoom(-.25,e)}zoomInCentered(e=null){this.zoom(.25,e)}getCenterPosition(){const{x:e,y:r,width:a,height:c}=this._container.getBoundingClientRect();return new u(e+a/2,r+c/2)}}class Previewer{constructor(e,r){if(this._hidden=!0,this.onPagesLoaded=a=>{var c;(c=a.detail.pages)===null||c===void 0||c.forEach(o=>{o.previewContainer.addEventListener("click",this.onPreviewerPageClick),this._container.append(o.previewContainer)}),this.renderVisible()},this.onCurrentPageChanged=a=>{this.scrollToPreview(a.detail.newIndex)},this.onPreviewerPageClick=a=>{let c=a.target,o;for(;c&&!o;){const f=c.dataset.pageNumber;f?o=+f:c=c.parentElement}o&&this._pageService.requestSetCurrentPageIndex(o-1)},this.onPreviewerScroll=a=>{this.renderVisible()},!e)throw new Error("Page service is not defined");if(!r)throw new Error("Container is not defined");this._pageService=e,this._container=r,this.init()}get hidden(){return this._hidden}destroy(){this._pageService.eventService.removeListener(pagesLoadedEvent,this.onPagesLoaded),this._pageService.eventService.removeListener(currentPageChangeEvent,this.onCurrentPageChanged)}show(){this._hidden=!1,setTimeout(()=>this.renderVisible(),1e3)}hide(){this._hidden=!0}renderVisible(){this._hidden||this._pageService.renderVisiblePreviews(this._container)}init(){this._container.addEventListener("scroll",this.onPreviewerScroll),this._pageService.eventService.addListener(pagesLoadedEvent,this.onPagesLoaded),this._pageService.eventService.addListener(currentPageChangeEvent,this.onCurrentPageChanged)}scrollToPreview(e){if(!this._pageService.pages.length)return;const{top:r,height:a}=this._container.getBoundingClientRect(),{top:c,height:o}=this._pageService.getPage(e).previewContainer.getBoundingClientRect(),f=r+a/2,g=c+o/2-f+this._container.scrollTop;this._container.scrollTo(0,g)}}var __awaiter=function(A,e,r,a){function c(o){return o instanceof r?o:new r(function(f){f(o)})}return new(r||(r=Promise))(function(o,f){function s(p){try{m(a.next(p))}catch(t){f(t)}}function g(p){try{m(a.throw(p))}catch(t){f(t)}}function m(p){p.done?o(p.value):c(p.value).then(s,g)}m((a=a.apply(A,e||[])).next())})};class TsPdfViewer{constructor(e){if(this._timers={hidePanels:0},this.onTextSelectionChange=()=>{const s=this._shadowRoot.getSelection?this._shadowRoot.getSelection():document.getSelection();if(s.rangeCount&&this._eventService.hasListenersForKey(textSelectionChangeEvent)){const g=getSelectionInfosFromSelection(s);this._eventService.dispatchEvent(new TextSelectionChangeEvent({selectionInfos:g}))}},this.onFileInput=()=>{const s=this._fileInput.files;s.length!==0&&(this.openDocAsync("main",s[0],s[0].name),this._fileInput.value=null)},this.onOpenFileButtonClick=()=>{this._fileInput.click()},this.onSaveFileButtonClickAsync=()=>__awaiter(this,void 0,void 0,function*(){var s;const g=yield this.getCurrentPdfAsync();g&&DomUtils.downloadFile(g,((s=this._docManagerService)===null||s===void 0?void 0:s.fileName)||`file_${new Date().toISOString()}.pdf`)}),this.onCloseFileButtonClick=()=>{this.closeDocAsync("main")},this.onComparableFileInput=()=>{const s=this._comparableFileInput.files;s.length!==0&&(this.openDocAsync("compared",s[0],s[0].name),this._comparableFileInput.value=null)},this.onComparableOpenFileButtonClick=()=>{this._comparableFileInput.click()},this.onComparableCloseFileButtonClick=()=>{this.closeDocAsync("compared")},this.onViewerModeButtonClick=s=>{const g=s.target.closest('*[id^="button-mode-"]');if(!g)return;const m=/button-mode-(.+)/.exec(g.id)[1];this.setMode(m)},this.onZoomOutClick=()=>{this._viewer.zoomOut()},this.onZoomInClick=()=>{this._viewer.zoomIn()},this.onZoomFitViewerClick=()=>{this._viewer.zoomFitViewer()},this.onZoomFitPageClick=()=>{this._viewer.zoomFitPage()},this.onRotateCounterClockwiseClick=()=>{this.rotateCounterClockwise()},this.onRotateClockwiseClick=()=>{this.rotateClockwise()},this.onPaginatorInput=s=>{s.target instanceof HTMLInputElement&&(s.target.value=s.target.value.replace(/[^\d]+/g,""))},this.onPaginatorChange=s=>{if(s.target instanceof HTMLInputElement){const g=Math.max(Math.min(+s.target.value,this._docManagerService.pageCount),1);g+""!==s.target.value&&(s.target.value=g+""),this._pageService.requestSetCurrentPageIndex(g-1)}},this.onPaginatorPrevClick=()=>{this.moveToPrevPage()},this.onPaginatorNextClick=()=>{this.moveToNextPage()},this.onCurrentPagesChanged=s=>{const{newIndex:g}=s.detail;this._shadowRoot.getElementById("paginator-input").value=g+1+""},this.annotatorUndo=()=>{var s;(s=this._annotatorService.annotator)===null||s===void 0||s.undo()},this.annotatorClear=()=>{var s;(s=this._annotatorService.annotator)===null||s===void 0||s.clear()},this.annotatorSave=()=>{var s;(s=this._annotatorService.annotator)===null||s===void 0||s.saveAnnotationAsync()},this.onCustomStampChanged=s=>{this.setAnnotationMode("stamp"),this._customStampChangeCallback&&this._customStampChangeCallback(s.detail)},this.onAnnotationChange=s=>{if(!s.detail)return;const g=s.detail.annotations;switch(s.detail.type){case"focus":g?.length?this._mainContainer.classList.add("annotation-focused"):this._mainContainer.classList.remove("annotation-focused");const m=g[0];m?(this._shadowRoot.querySelector("#focused-annotation-author").textContent=m.author||"",this._shadowRoot.querySelector("#focused-annotation-date").textContent=new Date(m.dateModified||m.dateCreated).toDateString(),this._shadowRoot.querySelector("#focused-annotation-text").textContent=m.textContent||""):(this._shadowRoot.querySelector("#focused-annotation-author").textContent="",this._shadowRoot.querySelector("#focused-annotation-date").textContent="",this._shadowRoot.querySelector("#focused-annotation-text").textContent="");break;case"select":g?.length?(this._mainContainer.classList.add("annotation-selected"),this._mainContainer.classList.add("annotation-focused")):(this._mainContainer.classList.remove("annotation-selected"),this._mainContainer.classList.remove("annotation-focused"));break;case"add":case"delete":case"render":case"import":if(g?.length){const p=new Set(g.map(t=>t.pageId));this._pageService.renderSpecifiedPages(p)}break}this._annotChangeCallback&&this._annotChangeCallback(s.detail)},this.onAnnotatorDataChanged=s=>{annotatorTypes.forEach(g=>{this._mainContainer.classList.remove(g+"-annotator-data-saveable"),this._mainContainer.classList.remove(g+"-annotator-data-undoable"),this._mainContainer.classList.remove(g+"-annotator-data-clearable")}),s.detail.saveable&&this._mainContainer.classList.add(s.detail.annotatorType+"-annotator-data-saveable"),s.detail.undoable&&this._mainContainer.classList.add(s.detail.annotatorType+"-annotator-data-undoable"),s.detail.clearable&&this._mainContainer.classList.add(s.detail.annotatorType+"-annotator-data-clearable")},this.onAnnotationEditTextButtonClick=()=>__awaiter(this,void 0,void 0,function*(){var s,g;const m=(s=this._docService)===null||s===void 0?void 0:s.getSelectedAnnotationTextContent(),p=yield this._viewer.showTextDialogAsync(m);p!==null&&(yield(g=this._docService)===null||g===void 0?void 0:g.setSelectedAnnotationTextContentAsync(p))}),this.onAnnotationDeleteButtonClick=()=>{var s;(s=this._docService)===null||s===void 0||s.removeSelectedAnnotation()},this.onAnnotationModeButtonClick=s=>{const g=s.target.closest('*[id^="button-annotation-mode-"]');if(!g)return;const m=/button-annotation-mode-(.+)/.exec(g.id)[1];this.setAnnotationMode(m)},this.onMainContainerPointerMove=s=>{const{clientX:g,clientY:m}=s,{x:p,y:t,width:b,height:C}=this._mainContainer.getBoundingClientRect(),w=g-p,v=m-t,M=b-w,y=C-v;Math.min(w,M,v,y)>150?this.hidePanels():this.showPanels()},this.onPdfLoadingProgress=s=>{},this.docServiceUndo=()=>{var s;(s=this._docService)===null||s===void 0||s.undoAsync()},this.onDocChangeAsync=s=>__awaiter(this,void 0,void 0,function*(){var g;s.detail.type==="main"&&(s.detail.action==="open"?(this.setMode(),yield this.refreshPagesAsync(),this._annotatorService=new AnnotatorService(this._docService,this._pageService,this._customStampsService,this._viewer),this.setAnnotationMode("select"),this._mainContainer.classList.remove("disabled")):s.detail.action==="close"&&(this._mainContainer.classList.add("disabled"),this._mainContainer.classList.remove("annotation-focused"),this._mainContainer.classList.remove("annotation-selected"),this.setMode(),(g=this._annotatorService)===null||g===void 0||g.destroy(),yield this.refreshPagesAsync(),this.showPanels())),s.detail.type==="compared"&&(s.detail.action==="open"?this._mainContainer.classList.add("comparison-loaded"):s.detail.action==="close"&&this._mainContainer.classList.remove("comparison-loaded"),this._modeService.mode==="comparison"&&this._viewer.renderVisible(!0))}),this.onDocServiceStateChange=s=>{s.detail.undoableCount?this._mainContainer.classList.add("undoable-commands"):this._mainContainer.classList.remove("undoable-commands")},this.onPreviewerToggleClick=()=>{this.togglePreviewer()},this.showPasswordDialogAsync=()=>__awaiter(this,void 0,void 0,function*(){return new Promise((g,m)=>{const p=DomUtils.htmlToElements(passwordDialogHtml)[0];this._mainContainer.append(p);let t="";const b=p.querySelector(".password-input");b.placeholder="Enter password...",b.addEventListener("change",()=>t=b.value);const C=()=>{p.remove(),g(t)},w=()=>{p.remove(),g(null)};p.addEventListener("click",v=>{v.target===p&&w()}),p.querySelector(".password-ok").addEventListener("click",C),p.querySelector(".password-cancel").addEventListener("click",w)})}),this.onViewerKeyDown=s=>{var g,m,p,t;switch(s.code){case"KeyO":s.ctrlKey&&s.altKey&&(s.preventDefault(),this._fileButtons.includes("open")&&(this._fileOpenAction?this._fileOpenAction():this.onOpenFileButtonClick&&this.onOpenFileButtonClick()));break;case"KeyS":this._docService&&s.ctrlKey&&s.altKey&&(s.preventDefault(),this._fileButtons.includes("save")&&(this._fileSaveAction?this._fileSaveAction():this.onSaveFileButtonClickAsync&&this.onSaveFileButtonClickAsync()));break;case"KeyX":this._docService&&s.ctrlKey&&s.altKey&&(s.preventDefault(),this._fileButtons.includes("close")&&(this._fileCloseAction?this._fileCloseAction():this.onCloseFileButtonClick&&this.onCloseFileButtonClick()));break;case"KeyT":this._docService&&s.ctrlKey&&s.altKey&&(s.preventDefault(),this.togglePreviewer());break;case"Digit1":this._docService&&s.ctrlKey&&s.altKey&&(s.preventDefault(),this.setMode("text"));break;case"Digit2":this._docService&&s.ctrlKey&&s.altKey&&(s.preventDefault(),this.setMode("hand"));break;case"Digit3":this._docService&&s.ctrlKey&&s.altKey&&(s.preventDefault(),this.setMode("annotation"));break;case"Digit4":this._docService&&s.ctrlKey&&s.altKey&&(s.preventDefault(),this.setMode("comparison"));break;case"ArrowLeft":s.preventDefault(),this.moveToPrevPage();break;case"ArrowRight":s.preventDefault(),this.moveToNextPage();break;case"ArrowUp":s.preventDefault(),this._viewer.zoomIn();break;case"ArrowDown":s.preventDefault(),this._viewer.zoomOut();break;case"Comma":s.preventDefault(),this.rotateCounterClockwise();break;case"Period":s.preventDefault(),this.rotateClockwise();break;case"Escape":s.preventDefault(),(g=this._annotatorService.annotator)===null||g===void 0||g.clear();break;case"Backspace":s.preventDefault(),(m=this._annotatorService.annotator)===null||m===void 0||m.undo();break;case"Enter":s.preventDefault(),(p=this._annotatorService.annotator)===null||p===void 0||p.saveAnnotationAsync();break;case"KeyZ":s.ctrlKey&&(s.preventDefault(),(t=this._docService)===null||t===void 0||t.undoAsync());break;default:return}},!e)throw new Error("No options provided");const r=document.querySelector(e.containerSelector);if(r)if(r instanceof HTMLDivElement)this._outerContainer=r;else throw new Error("Container is not a DIV element");else throw new Error("Container not found");if(!e.workerSource)throw new Error("Worker source path not defined");pdfExports.GlobalWorkerOptions.workerSrc=e.workerSource,this._userName=e.userName||"Guest",this._fileButtons=e.fileButtons||[],this._fileOpenAction=e.fileOpenAction,this._fileSaveAction=e.fileSaveAction,this._fileCloseAction=e.fileCloseAction,this._comparableFileButtons=e.comparableFileButtons||[],this._comparableFileOpenAction=e.comparableFileOpenAction,this._comparableFileCloseAction=e.comparableFileCloseAction,this._annotChangeCallback=e.annotChangeCallback,this._customStampChangeCallback=e.customStampChangeCallback;const a=e.visibleAdjPages||0,c=e.previewWidth||100,o=e.minScale||.25,f=e.maxScale||4;this._shadowRoot=this._outerContainer.attachShadow({mode:"open"}),this._shadowRoot.innerHTML=styles+mainHtml,this._mainContainer=this._shadowRoot.querySelector("div#main-container"),this._eventService=new EventService(this._mainContainer),this._modeService=new ModeService({disabledModes:e.disabledModes||[]}),this._docManagerService=new DocManagerService(this._eventService),this._pageService=new PageService(this._eventService,this._modeService,this._docManagerService,{previewCanvasWidth:c,visibleAdjPages:a}),this._customStampsService=new CustomStampService(this._mainContainer,this._eventService),this._customStampsService.importCustomStamps(e.customStamps),this._spinner=new Spinner,this._previewer=new Previewer(this._pageService,this._shadowRoot.querySelector("#previewer")),this._viewer=new Viewer(this._modeService,this._pageService,this._shadowRoot.querySelector("#viewer"),{minScale:o,maxScale:f}),this._viewer.container.addEventListener("contextmenu",s=>s.preventDefault()),this.initMainContainerEventHandlers(),this.initViewControls(),this.initFileButtons(),this.initModeSwitchButtons(),this.initAnnotationButtons(),this._eventService.addListener(docChangeEvent,this.onDocChangeAsync),this._eventService.addListener(annotChangeEvent,this.onAnnotationChange),this._eventService.addListener(currentPageChangeEvent,this.onCurrentPagesChanged),this._eventService.addListener(annotatorDataChangeEvent,this.onAnnotatorDataChanged),this._eventService.addListener(customStampEvent,this.onCustomStampChanged),this._eventService.addListener(docServiceStateChangeEvent,this.onDocServiceStateChange),document.addEventListener("selectionchange",this.onTextSelectionChange),this._mainContainer.addEventListener("keydown",this.onViewerKeyDown)}get _docService(){var e;return(e=this._docManagerService)===null||e===void 0?void 0:e.docService}destroy(){var e,r;this._annotChangeCallback=null,(e=this._annotatorService)===null||e===void 0||e.destroy(),this._docManagerService.destroy(),this._viewer.destroy(),this._previewer.destroy(),this._pageService.destroy(),this._customStampsService.destroy(),this._eventService.destroy(),(r=this._mainContainerRObserver)===null||r===void 0||r.disconnect(),this._shadowRoot.innerHTML="",document.removeEventListener("selectionchange",this.onTextSelectionChange)}openPdfAsync(e,r){return __awaiter(this,void 0,void 0,function*(){yield this.openDocAsync("main",e,r)})}closePdfAsync(){return __awaiter(this,void 0,void 0,function*(){yield this.closeDocAsync("main")})}openComparedPdfAsync(e,r){return __awaiter(this,void 0,void 0,function*(){this._docManagerService.docLoaded&&(yield this.openDocAsync("compared",e,r),this.setMode("comparison"))})}closeComparedPdfAsync(){return __awaiter(this,void 0,void 0,function*(){yield this.closeDocAsync("compared"),this.setMode()})}importAnnotationsAsync(e){var r;return __awaiter(this,void 0,void 0,function*(){try{yield(r=this._docService)===null||r===void 0?void 0:r.appendSerializedAnnotationsAsync(e)}catch(a){console.log(`Error while importing annotations: ${a.message}`)}})}importAnnotationsFromJsonAsync(e){var r;return __awaiter(this,void 0,void 0,function*(){try{const a=JSON.parse(e);yield(r=this._docService)===null||r===void 0?void 0:r.appendSerializedAnnotationsAsync(a)}catch(a){console.log(`Error while importing annotations: ${a.message}`)}})}exportAnnotationsAsync(){var e;return __awaiter(this,void 0,void 0,function*(){return yield(e=this._docService)===null||e===void 0?void 0:e.serializeAnnotationsAsync(!0)})}exportAnnotationsToJsonAsync(){var e;return __awaiter(this,void 0,void 0,function*(){const r=yield(e=this._docService)===null||e===void 0?void 0:e.serializeAnnotationsAsync(!0);return JSON.stringify(r)})}importCustomStamps(e){try{this._customStampsService.importCustomStamps(e)}catch(r){console.log(`Error while importing custom stamps: ${r.message}`)}}importCustomStampsFromJson(e){try{const r=JSON.parse(e);this._customStampsService.importCustomStamps(r)}catch(r){console.log(`Error while importing custom stamps: ${r.message}`)}}exportCustomStamps(){return this._customStampsService.getCustomStamps()}exportCustomStampsToJson(){const e=this._customStampsService.getCustomStamps();return JSON.stringify(e)}getCurrentPdfAsync(){var e;return __awaiter(this,void 0,void 0,function*(){const r=yield(e=this._docService)===null||e===void 0?void 0:e.getDataWithUpdatedAnnotationsAsync();return r?.length?new Blob([r],{type:"application/pdf"}):null})}openDocAsync(e,r,a){return __awaiter(this,void 0,void 0,function*(){this._spinner.show(this._mainContainer);try{yield this._docManagerService.openPdfAsync(e,r,a,this._userName,this.showPasswordDialogAsync,this.onPdfLoadingProgress)}catch(c){throw c}finally{this._spinner.hide()}})}closeDocAsync(e){return __awaiter(this,void 0,void 0,function*(){yield this._docManagerService.closePdfAsync(e)})}initMainContainerEventHandlers(){const e=new ResizeObserver(r=>{const{width:a}=this._mainContainer.getBoundingClientRect();a<721?this._mainContainer.classList.add("mobile"):this._mainContainer.classList.remove("mobile"),a<400?this._mainContainer.classList.add("compact"):this._mainContainer.classList.remove("compact")});e.observe(this._mainContainer),this._mainContainerRObserver=e,this._mainContainer.addEventListener("pointermove",this.onMainContainerPointerMove)}initViewControls(){const e=this._shadowRoot.getElementById("paginator-input");e.addEventListener("input",this.onPaginatorInput),e.addEventListener("change",this.onPaginatorChange),this._shadowRoot.querySelector("#paginator-prev").addEventListener("click",this.onPaginatorPrevClick),this._shadowRoot.querySelector("#paginator-next").addEventListener("click",this.onPaginatorNextClick),this._shadowRoot.querySelector("#rotate-clockwise").addEventListener("click",this.onRotateClockwiseClick),this._shadowRoot.querySelector("#rotate-counter-clockwise").addEventListener("click",this.onRotateCounterClockwiseClick),this._shadowRoot.querySelector("#zoom-out").addEventListener("click",this.onZoomOutClick),this._shadowRoot.querySelector("#zoom-in").addEventListener("click",this.onZoomInClick),this._shadowRoot.querySelector("#zoom-fit-viewer").addEventListener("click",this.onZoomFitViewerClick),this._shadowRoot.querySelector("#zoom-fit-page").addEventListener("click",this.onZoomFitPageClick),this._shadowRoot.querySelector("#toggle-previewer").addEventListener("click",this.onPreviewerToggleClick)}initFileButtons(){const e=this._shadowRoot.querySelector("#button-open-file"),r=this._shadowRoot.querySelector("#button-save-file"),a=this._shadowRoot.querySelector("#button-close-file");this._fileButtons.includes("open")?(this._fileInput=this._shadowRoot.getElementById("open-file-input"),this._fileInput.addEventListener("change",this.onFileInput),e.addEventListener("click",this._fileOpenAction||this.onOpenFileButtonClick)):e.remove(),this._fileButtons.includes("save")?r.addEventListener("click",this._fileSaveAction||this.onSaveFileButtonClickAsync):r.remove(),this._fileButtons.includes("close")?a.addEventListener("click",this._fileCloseAction||this.onCloseFileButtonClick):a.remove();const c=this._shadowRoot.querySelector("#button-command-comparison-open"),o=this._shadowRoot.querySelector("#button-command-comparison-close");this._comparableFileButtons.includes("open")?(this._comparableFileInput=this._shadowRoot.getElementById("open-comparable-file-input"),this._comparableFileInput.addEventListener("change",this.onComparableFileInput),c.addEventListener("click",this._comparableFileOpenAction||this.onComparableOpenFileButtonClick)):c.remove(),this._comparableFileButtons.includes("close")?o.addEventListener("click",this._comparableFileCloseAction||this.onComparableCloseFileButtonClick):o.remove()}initModeSwitchButtons(){const e=this._shadowRoot.querySelectorAll('*[id^="button-mode-"]'),r=this._modeService.enabledModes;e.forEach(a=>{const c=/button-mode-(.+)/.exec(a.id)[1];r.includes(c)?a.addEventListener("click",this.onViewerModeButtonClick):a.classList.add("disabled")})}initAnnotationButtons(){this._shadowRoot.querySelectorAll('*[id^="button-annotation-mode-"]').forEach(e=>{e.addEventListener("click",this.onAnnotationModeButtonClick)}),this._shadowRoot.querySelector("#button-annotation-edit-text").addEventListener("click",this.onAnnotationEditTextButtonClick),this._shadowRoot.querySelector("#button-annotation-delete").addEventListener("click",this.onAnnotationDeleteButtonClick),this._shadowRoot.querySelectorAll(".button-annotation-undo").forEach(e=>e.addEventListener("click",this.annotatorUndo)),this._shadowRoot.querySelectorAll(".button-annotation-clear").forEach(e=>e.addEventListener("click",this.annotatorClear)),this._shadowRoot.querySelectorAll(".button-annotation-save").forEach(e=>e.addEventListener("click",this.annotatorSave)),this._shadowRoot.querySelector("#button-command-undo").addEventListener("click",this.docServiceUndo)}setMode(e){e=e||this._modeService.enabledModes[0]||"text",viewerModes.forEach(r=>{this._mainContainer.classList.remove("mode-"+r),this._shadowRoot.querySelector("#button-mode-"+r).classList.remove("on")}),this.setAnnotationMode("select"),this._mainContainer.classList.add("mode-"+e),this._shadowRoot.querySelector("#button-mode-"+e).classList.add("on"),this._modeService.mode=e,this._viewer.renderVisible()}rotateCounterClockwise(){this._docService&&(this._pageService.getCurrentPage().rotateCounterClockwise(),this.setAnnotationMode(this._annotatorService.mode))}rotateClockwise(){this._docService&&(this._pageService.getCurrentPage().rotateCounterClockwise(),this.setAnnotationMode(this._annotatorService.mode))}moveToPrevPage(){if(!this._docService)return;const e=n$1(this._pageService.currentPageIndex-1,0,this._pageService.length-1);this._pageService.requestSetCurrentPageIndex(e)}moveToNextPage(){if(!this._docService)return;const e=n$1(this._pageService.currentPageIndex+1,0,this._pageService.length-1);this._pageService.requestSetCurrentPageIndex(e)}setAnnotationMode(e){var r,a;if(!this._annotatorService||!e)return;const c=this._annotatorService.mode;(r=this._shadowRoot.querySelector(`#button-annotation-mode-${c}`))===null||r===void 0||r.classList.remove("on"),(a=this._shadowRoot.querySelector(`#button-annotation-mode-${e}`))===null||a===void 0||a.classList.add("on"),this._annotatorService.mode=e}hidePanels(){!this._panelsHidden&&!this._timers.hidePanels&&(this._timers.hidePanels=setTimeout(()=>{var e;!((e=this._docManagerService)===null||e===void 0)&&e.docLoaded&&(this._mainContainer.classList.add("hide-panels"),this._panelsHidden=!0,this._timers.hidePanels=null)},5e3))}showPanels(){this._timers.hidePanels&&(clearTimeout(this._timers.hidePanels),this._timers.hidePanels=null),this._panelsHidden&&(this._mainContainer.classList.remove("hide-panels"),this._panelsHidden=!1)}refreshPagesAsync(){return __awaiter(this,void 0,void 0,function*(){const e=this._docManagerService.pageCount;this._shadowRoot.getElementById("paginator-total").innerHTML=e+"",yield this._pageService.reloadPagesAsync()})}togglePreviewer(){this._previewer.hidden?(this._mainContainer.classList.remove("hide-previewer"),this._shadowRoot.querySelector("div#toggle-previewer").classList.add("on"),this._previewer.show()):(this._mainContainer.classList.add("hide-previewer"),this._shadowRoot.querySelector("div#toggle-previewer").classList.remove("on"),this._previewer.hide())}}(function A(e,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf.worker",[],r):typeof exports=="object"?exports["pdfjs-dist/build/pdf.worker"]=r():e["pdfjs-dist/build/pdf.worker"]=e.pdfjsWorker=r()})(globalThis,()=>(()=>{var A=[,(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WorkerTask=o.WorkerMessageHandler=void 0;var s=f(2),g=f(5),m=f(6),p=f(8),t=f(71),b=f(65),C=f(4),w=f(102),v=f(103);class M{constructor(P){this.name=P,this.terminated=!1,this._capability=(0,s.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}o.WorkerTask=M;class y{static setup(P,_){let k=!1;P.on("test",function(V){k||(k=!0,P.send("test",V instanceof Uint8Array))}),P.on("configure",function(V){(0,s.setVerbosityLevel)(V.verbosity)}),P.on("GetDocRequest",function(V){return y.createDocumentHandler(V,_)})}static createDocumentHandler(P,_){let k,D=!1,V=null;const R=[],U=(0,s.getVerbosityLevel)(),te=P.apiVersion;if(te!=="2.16.105")throw new Error(`The API version "${te}" does not match the Worker version "2.16.105".`);const j=[];for(const Z in[])j.push(Z);if(j.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+j.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const Z="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw C.isNodeJS?new Error(Z+"please use a `legacy`-build instead."):new Error(Z+"please update to a supported browser.")}const ie=P.docId,E=P.docBaseUrl,L=P.docId+"_worker";let ee=new w.MessageHandler(L,ie,_);function J(){if(D)throw new Error("Worker was terminated")}function Y(Z){R.push(Z)}function q(Z){Z.finish();const se=R.indexOf(Z);R.splice(se,1)}async function F(Z){await k.ensureDoc("checkHeader"),await k.ensureDoc("parseStartXRef"),await k.ensureDoc("parse",[Z]),await k.ensureDoc("checkFirstPage",[Z]),await k.ensureDoc("checkLastPage",[Z]);const se=await k.ensureDoc("isPureXfa");if(se){const ne=new M("loadXfaFonts");Y(ne),await Promise.all([k.loadXfaFonts(ee,ne).catch(oe=>{}).then(()=>q(ne)),k.loadXfaImages()])}const[$,X]=await Promise.all([k.ensureDoc("numPages"),k.ensureDoc("fingerprints")]);return{numPages:$,fingerprints:X,htmlForXfa:se?await k.ensureDoc("htmlForXfa"):null}}function O(Z,se,$){const X=(0,s.createPromiseCapability)();let ne;const oe=Z.source;if(oe.data){try{ne=new p.LocalPdfManager(ie,oe.data,oe.password,ee,se,$,E),X.resolve(ne)}catch(de){X.reject(de)}return X.promise}let ue,fe=[];try{ue=new v.PDFWorkerStream(ee)}catch(de){return X.reject(de),X.promise}const le=ue.getFullReader();le.headersReady.then(function(){if(!le.isRangeSupported)return;const de=oe.disableAutoFetch||le.isStreamingSupported;ne=new p.NetworkPdfManager(ie,ue,{msgHandler:ee,password:oe.password,length:le.contentLength,disableAutoFetch:de,rangeChunkSize:oe.rangeChunkSize},se,$,E);for(const re of fe)ne.sendProgressiveData(re);fe=[],X.resolve(ne),V=null}).catch(function(de){X.reject(de),V=null});let ae=0;return new Promise(function(de,re){const Q=function({value:ce,done:he}){try{if(J(),he){ne||function(){const ge=(0,s.arraysToBytes)(fe);oe.length&&ge.length!==oe.length&&(0,s.warn)("reported HTTP length is different from actual");try{ne=new p.LocalPdfManager(ie,ge,oe.password,ee,se,$,E),X.resolve(ne)}catch(pe){X.reject(pe)}fe=[]}(),V=null;return}ae+=(0,s.arrayByteLength)(ce),le.isStreamingSupported||ee.send("DocProgress",{loaded:ae,total:Math.max(ae,le.contentLength||0)}),ne?ne.sendProgressiveData(ce):fe.push(ce),le.read().then(Q,re)}catch(ge){re(ge)}};le.read().then(Q,re)}).catch(function(de){X.reject(de),V=null}),V=function(de){ue.cancelAllRequests(de)},X.promise}return ee.on("GetPage",function(se){return k.getPage(se.pageIndex).then(function($){return Promise.all([k.ensure($,"rotate"),k.ensure($,"ref"),k.ensure($,"userUnit"),k.ensure($,"view")]).then(function([X,ne,oe,ue]){return{rotate:X,ref:ne,userUnit:oe,view:ue}})})}),ee.on("GetPageIndex",function(se){const $=g.Ref.get(se.num,se.gen);return k.ensureCatalog("getPageIndex",[$])}),ee.on("GetDestinations",function(se){return k.ensureCatalog("destinations")}),ee.on("GetDestination",function(se){return k.ensureCatalog("getDestination",[se.id])}),ee.on("GetPageLabels",function(se){return k.ensureCatalog("pageLabels")}),ee.on("GetPageLayout",function(se){return k.ensureCatalog("pageLayout")}),ee.on("GetPageMode",function(se){return k.ensureCatalog("pageMode")}),ee.on("GetViewerPreferences",function(Z){return k.ensureCatalog("viewerPreferences")}),ee.on("GetOpenAction",function(Z){return k.ensureCatalog("openAction")}),ee.on("GetAttachments",function(se){return k.ensureCatalog("attachments")}),ee.on("GetJavaScript",function(se){return k.ensureCatalog("javaScript")}),ee.on("GetDocJSActions",function(se){return k.ensureCatalog("jsActions")}),ee.on("GetPageJSActions",function({pageIndex:Z}){return k.getPage(Z).then(function(se){return k.ensure(se,"jsActions")})}),ee.on("GetOutline",function(se){return k.ensureCatalog("documentOutline")}),ee.on("GetOptionalContentConfig",function(Z){return k.ensureCatalog("optionalContentConfig")}),ee.on("GetPermissions",function(Z){return k.ensureCatalog("permissions")}),ee.on("GetMetadata",function(se){return Promise.all([k.ensureDoc("documentInfo"),k.ensureCatalog("metadata")])}),ee.on("GetMarkInfo",function(se){return k.ensureCatalog("markInfo")}),ee.on("GetData",function(se){return k.requestLoadedStream(),k.onLoadedStream().then(function($){return $.bytes})}),ee.on("GetAnnotations",function({pageIndex:Z,intent:se}){return k.getPage(Z).then(function($){const X=new M(`GetAnnotations: page ${Z}`);return Y(X),$.getAnnotationsData(ee,X,se).then(ne=>(q(X),ne),ne=>{q(X)})})}),ee.on("GetFieldObjects",function(Z){return k.ensureDoc("fieldObjects")}),ee.on("HasJSActions",function(Z){return k.ensureDoc("hasJSActions")}),ee.on("GetCalculationOrderIds",function(Z){return k.ensureDoc("calculationOrderIds")}),ee.on("SaveDocument",function({isPureXfa:Z,numPages:se,annotationStorage:$,filename:X}){k.requestLoadedStream();const ne=Z?null:(0,m.getNewAnnotationsMap)($),oe=[k.onLoadedStream(),k.ensureCatalog("acroForm"),k.ensureCatalog("acroFormRef"),k.ensureDoc("xref"),k.ensureDoc("startXRef")];if(ne)for(const[ue,fe]of ne)oe.push(k.getPage(ue).then(le=>{const ae=new M(`Save (editor): page ${ue}`);return le.saveNewAnnotations(ee,ae,fe).finally(function(){q(ae)})}));if(Z)oe.push(k.serializeXfaData($));else for(let ue=0;ue<se;ue++)oe.push(k.getPage(ue).then(function(fe){const le=new M(`Save: page ${ue}`);return fe.save(ee,le,$).finally(function(){q(le)})}));return Promise.all(oe).then(function([ue,fe,le,ae,de,...re]){let Q=[],ce=null;if(Z){if(ce=re[0],!ce)return ue.bytes}else if(Q=re.flat(2),Q.length===0)return ue.bytes;const he=fe instanceof g.Dict&&fe.get("XFA")||null;let ge=null,pe=!1;if(Array.isArray(he)){for(let Ae=0,ye=he.length;Ae<ye;Ae+=2)he[Ae]==="datasets"&&(ge=he[Ae+1],le=null,pe=!0);ge===null&&(ge=ae.getNewRef())}else he&&(le=null,(0,s.warn)("Unsupported XFA type."));let me=Object.create(null);if(ae.trailer){const Ae=Object.create(null),ye=ae.trailer.get("Info")||null;ye instanceof g.Dict&&ye.forEach((xe,Ce)=>{typeof Ce=="string"&&(Ae[xe]=(0,s.stringToPDFString)(Ce))}),me={rootRef:ae.trailer.getRaw("Root")||null,encryptRef:ae.trailer.getRaw("Encrypt")||null,newRef:ae.getNewRef(),infoRef:ae.trailer.getRaw("Info")||null,info:Ae,fileIds:ae.trailer.get("ID")||null,startXRef:de,filename:X}}return ae.resetNewRef(),(0,b.incrementalUpdate)({originalData:ue.bytes,xrefInfo:me,newRefs:Q,xref:ae,hasXfa:!!he,xfaDatasetsRef:ge,hasXfaDatasetsEntry:pe,acroFormRef:le,acroForm:fe,xfaData:ce})})}),ee.on("GetOperatorList",function(se,$){const X=se.pageIndex;k.getPage(X).then(function(ne){const oe=new M(`GetOperatorList: page ${X}`);Y(oe);const ue=U>=s.VerbosityLevel.INFOS?Date.now():0;ne.getOperatorList({handler:ee,sink:$,task:oe,intent:se.intent,cacheKey:se.cacheKey,annotationStorage:se.annotationStorage}).then(function(fe){q(oe),ue&&(0,s.info)(`page=${X+1} - getOperatorList: time=${Date.now()-ue}ms, len=${fe.length}`),$.close()},function(fe){q(oe),oe.terminated||(ee.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorOperatorList}),$.error(fe))})})}),ee.on("GetTextContent",function(se,$){const X=se.pageIndex;k.getPage(X).then(function(ne){const oe=new M("GetTextContent: page "+X);Y(oe);const ue=U>=s.VerbosityLevel.INFOS?Date.now():0;ne.extractTextContent({handler:ee,task:oe,sink:$,includeMarkedContent:se.includeMarkedContent,combineTextItems:se.combineTextItems}).then(function(){q(oe),ue&&(0,s.info)(`page=${X+1} - getTextContent: time=`+(Date.now()-ue)+"ms"),$.close()},function(fe){q(oe),oe.terminated||$.error(fe)})})}),ee.on("GetStructTree",function(se){return k.getPage(se.pageIndex).then(function($){return k.ensure($,"getStructTree")})}),ee.on("FontFallback",function(Z){return k.fontFallback(Z.id,ee)}),ee.on("Cleanup",function(se){return k.cleanup(!0)}),ee.on("Terminate",function(se){D=!0;const $=[];if(k){k.terminate(new s.AbortException("Worker was terminated."));const X=k.cleanup();$.push(X),k=null}else(0,t.clearGlobalCaches)();V&&V(new s.AbortException("Worker was terminated."));for(const X of R)$.push(X.finished),X.terminate();return Promise.all($).then(function(){ee.destroy(),ee=null})}),ee.on("Ready",function(se){(function(X){function ne(fe){J(),ee.send("GetDoc",{pdfInfo:fe})}function oe(fe){if(J(),fe instanceof s.PasswordException){const le=new M(`PasswordException: response ${fe.code}`);Y(le),ee.sendWithPromise("PasswordRequest",fe).then(function({password:ae}){q(le),k.updatePassword(ae),ue()}).catch(function(){q(le),ee.send("DocException",fe)})}else fe instanceof s.InvalidPDFException||fe instanceof s.MissingPDFException||fe instanceof s.UnexpectedResponseException||fe instanceof s.UnknownErrorException?ee.send("DocException",fe):ee.send("DocException",new s.UnknownErrorException(fe.message,fe.toString()))}function ue(){J(),F(!1).then(ne,function(fe){J(),fe instanceof m.XRefParseException?(k.requestLoadedStream(),k.onLoadedStream().then(function(){J(),F(!0).then(ne,oe)})):oe(fe)})}J(),O(X,{maxImageSize:X.maxImageSize,disableFontFace:X.disableFontFace,ignoreErrors:X.ignoreErrors,isEvalSupported:X.isEvalSupported,fontExtraProperties:X.fontExtraProperties,useSystemFonts:X.useSystemFonts,cMapUrl:X.cMapUrl,standardFontDataUrl:X.standardFontDataUrl},X.enableXfa).then(function(fe){if(D)throw fe.terminate(new s.AbortException("Worker was terminated.")),new Error("Worker was terminated");k=fe,k.onLoadedStream().then(function(le){ee.send("DataLoaded",{length:le.bytes.byteLength})})}).then(ue,oe)})(P),P=null}),L}static initializeFromPort(P){const _=new w.MessageHandler("worker","main",P);y.setup(_,P),_.send("ready",null)}}o.WorkerMessageHandler=y,typeof window>"u"&&!C.isNodeJS&&typeof self<"u"&&function(P){return typeof P.postMessage=="function"&&"onmessage"in P}(self)&&y.initializeFromPort(self)},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.UNSUPPORTED_FEATURES=o.TextRenderingMode=o.StreamType=o.RenderingIntentFlag=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FontType=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.AnnotationType=o.AnnotationStateModelType=o.AnnotationReviewState=o.AnnotationReplyType=o.AnnotationMode=o.AnnotationMarkedState=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.arrayByteLength=w,o.arraysToBytes=function(_){const k=_.length;if(k===1&&_[0]instanceof Uint8Array)return _[0];let D=0;for(let U=0;U<k;U++)D+=w(_[U]);let V=0;const R=new Uint8Array(D);for(let U=0;U<k;U++){let te=_[U];te instanceof Uint8Array||(te=typeof te=="string"?C(te):new Uint8Array(te));const B=te.byteLength;R.set(te,V),V+=B}return R},o.assert=function(_,k){_||p(k)},o.bytesToString=function(_){typeof _=="object"&&_!==null&&_.length!==void 0||p("Invalid argument for bytesToString");const k=_.length,D=8192;if(k<D)return String.fromCharCode.apply(null,_);const V=[];for(let R=0;R<k;R+=D){const U=Math.min(R+D,k),te=_.subarray(R,U);V.push(String.fromCharCode.apply(null,te))}return V.join("")},o.createPromiseCapability=function(){const _=Object.create(null);let k=!1;return Object.defineProperty(_,"settled",{get:()=>k}),_.promise=new Promise(function(D,V){_.resolve=function(R){k=!0,D(R)},_.reject=function(R){k=!0,V(R)}}),_},o.createValidAbsoluteUrl=function(_,k=null,D=null){if(!_)return null;try{if(D&&typeof _=="string"){if(D.addDefaultProtocol&&_.startsWith("www.")){const R=_.match(/\./g);R&&R.length>=2&&(_=`http://${_}`)}if(D.tryConvertEncoding)try{_=I(_)}catch{}}const V=k?new URL(_,k):new URL(_);if(function(U){if(!U)return!1;switch(U.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(V))return V}catch{}return null},o.escapeString=function(_){return _.replace(/([()\\\n\r])/g,k=>k===`
`?"\\n":k==="\r"?"\\r":`\\${k}`)},o.getModificationDate=function(_=new Date){return[_.getUTCFullYear().toString(),(_.getUTCMonth()+1).toString().padStart(2,"0"),_.getUTCDate().toString().padStart(2,"0"),_.getUTCHours().toString().padStart(2,"0"),_.getUTCMinutes().toString().padStart(2,"0"),_.getUTCSeconds().toString().padStart(2,"0")].join("")},o.getVerbosityLevel=function(){return g},o.info=function(_){g>=s.INFOS&&console.log(`Info: ${_}`)},o.isArrayBuffer=function(_){return typeof _=="object"&&_!==null&&_.byteLength!==void 0},o.isArrayEqual=function(_,k){if(_.length!==k.length)return!1;for(let D=0,V=_.length;D<V;D++)if(_[D]!==k[D])return!1;return!0},o.isAscii=function(_){return/^[\x00-\x7F]*$/.test(_)},o.objectFromMap=function(_){const k=Object.create(null);for(const[D,V]of _)k[D]=V;return k},o.objectSize=function(_){return Object.keys(_).length},o.setVerbosityLevel=function(_){Number.isInteger(_)&&(g=_)},o.shadow=t,o.string32=function(_){return String.fromCharCode(_>>24&255,_>>16&255,_>>8&255,255&_)},o.stringToBytes=C,o.stringToPDFString=function(_){if(_[0]>="ï"){let D;if(_[0]==="þ"&&_[1]==="ÿ"?D="utf-16be":_[0]==="ÿ"&&_[1]==="þ"?D="utf-16le":_[0]==="ï"&&_[1]==="»"&&_[2]==="¿"&&(D="utf-8"),D)try{const V=new TextDecoder(D,{fatal:!0}),R=C(_);return V.decode(R)}catch(V){m(`stringToPDFString: "${V}".`)}}const k=[];for(let D=0,V=_.length;D<V;D++){const R=y[_.charCodeAt(D)];k.push(R?String.fromCharCode(R):_.charAt(D))}return k.join("")},o.stringToUTF16BEString=function(_){const k=["þÿ"];for(let D=0,V=_.length;D<V;D++){const R=_.charCodeAt(D);k.push(String.fromCharCode(R>>8&255),String.fromCharCode(255&R))}return k.join("")},o.stringToUTF8String=I,o.unreachable=p,o.utf8StringToString=function(_){return unescape(encodeURIComponent(_))},o.warn=m,f(3),o.IDENTITY_MATRIX=[1,0,0,1,0,0],o.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],o.LINE_FACTOR=1.35,o.LINE_DESCENT_FACTOR=.35,o.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},o.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},o.AnnotationEditorPrefix="pdfjs_internal_editor_",o.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},o.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},o.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},o.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},o.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},o.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},o.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},o.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},o.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},o.AnnotationReplyType={GROUP:"Group",REPLY:"R"},o.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},o.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},o.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},o.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},o.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},o.PageActionEventType={O:"PageOpen",C:"PageClose"},o.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},o.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const s={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=s,o.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},o.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},o.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},o.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let g=s.WARNINGS;function m(P){g>=s.WARNINGS&&console.log(`Warning: ${P}`)}function p(P){throw new Error(P)}function t(P,_,k){return Object.defineProperty(P,_,{value:k,enumerable:!0,configurable:!0,writable:!1}),k}const b=function(){function _(k,D){this.constructor===_&&p("Cannot initialize BaseException."),this.message=k,this.name=D}return _.prototype=new Error,_.constructor=_,_}();o.BaseException=b,o.PasswordException=class extends b{constructor(_,k){super(_,"PasswordException"),this.code=k}},o.UnknownErrorException=class extends b{constructor(_,k){super(_,"UnknownErrorException"),this.details=k}},o.InvalidPDFException=class extends b{constructor(_){super(_,"InvalidPDFException")}},o.MissingPDFException=class extends b{constructor(_){super(_,"MissingPDFException")}},o.UnexpectedResponseException=class extends b{constructor(_,k){super(_,"UnexpectedResponseException"),this.status=k}},o.FormatError=class extends b{constructor(_){super(_,"FormatError")}},o.AbortException=class extends b{constructor(_){super(_,"AbortException")}};function C(P){typeof P!="string"&&p("Invalid argument for stringToBytes");const _=P.length,k=new Uint8Array(_);for(let D=0;D<_;++D)k[D]=255&P.charCodeAt(D);return k}function w(P){if(P.length!==void 0)return P.length;if(P.byteLength!==void 0)return P.byteLength;p("Invalid argument for arrayByteLength")}o.FeatureTest=class{static get isLittleEndian(){return t(this,"isLittleEndian",function(){const k=new Uint8Array(4);return k[0]=1,new Uint32Array(k.buffer,0,1)[0]===1}())}static get isEvalSupported(){return t(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const v=[...Array(256).keys()].map(P=>P.toString(16).padStart(2,"0"));class M{static makeHexColor(_,k,D){return`#${v[_]}${v[k]}${v[D]}`}static scaleMinMax(_,k){let D;_[0]?(_[0]<0&&(D=k[0],k[0]=k[1],k[1]=D),k[0]*=_[0],k[1]*=_[0],_[3]<0&&(D=k[2],k[2]=k[3],k[3]=D),k[2]*=_[3],k[3]*=_[3]):(D=k[0],k[0]=k[2],k[2]=D,D=k[1],k[1]=k[3],k[3]=D,_[1]<0&&(D=k[2],k[2]=k[3],k[3]=D),k[2]*=_[1],k[3]*=_[1],_[2]<0&&(D=k[0],k[0]=k[1],k[1]=D),k[0]*=_[2],k[1]*=_[2]),k[0]+=_[4],k[1]+=_[4],k[2]+=_[5],k[3]+=_[5]}static transform(_,k){return[_[0]*k[0]+_[2]*k[1],_[1]*k[0]+_[3]*k[1],_[0]*k[2]+_[2]*k[3],_[1]*k[2]+_[3]*k[3],_[0]*k[4]+_[2]*k[5]+_[4],_[1]*k[4]+_[3]*k[5]+_[5]]}static applyTransform(_,k){return[_[0]*k[0]+_[1]*k[2]+k[4],_[0]*k[1]+_[1]*k[3]+k[5]]}static applyInverseTransform(_,k){const D=k[0]*k[3]-k[1]*k[2];return[(_[0]*k[3]-_[1]*k[2]+k[2]*k[5]-k[4]*k[3])/D,(-_[0]*k[1]+_[1]*k[0]+k[4]*k[1]-k[5]*k[0])/D]}static getAxialAlignedBoundingBox(_,k){const D=M.applyTransform(_,k),V=M.applyTransform(_.slice(2,4),k),R=M.applyTransform([_[0],_[3]],k),U=M.applyTransform([_[2],_[1]],k);return[Math.min(D[0],V[0],R[0],U[0]),Math.min(D[1],V[1],R[1],U[1]),Math.max(D[0],V[0],R[0],U[0]),Math.max(D[1],V[1],R[1],U[1])]}static inverseTransform(_){const k=_[0]*_[3]-_[1]*_[2];return[_[3]/k,-_[1]/k,-_[2]/k,_[0]/k,(_[2]*_[5]-_[4]*_[3])/k,(_[4]*_[1]-_[5]*_[0])/k]}static apply3dTransform(_,k){return[_[0]*k[0]+_[1]*k[1]+_[2]*k[2],_[3]*k[0]+_[4]*k[1]+_[5]*k[2],_[6]*k[0]+_[7]*k[1]+_[8]*k[2]]}static singularValueDecompose2dScale(_){const k=[_[0],_[2],_[1],_[3]],D=_[0]*k[0]+_[1]*k[2],V=_[0]*k[1]+_[1]*k[3],R=_[2]*k[0]+_[3]*k[2],U=_[2]*k[1]+_[3]*k[3],te=(D+U)/2,B=Math.sqrt((D+U)**2-4*(D*U-R*V))/2,j=te+B||1,ie=te-B||1;return[Math.sqrt(j),Math.sqrt(ie)]}static normalizeRect(_){const k=_.slice(0);return _[0]>_[2]&&(k[0]=_[2],k[2]=_[0]),_[1]>_[3]&&(k[1]=_[3],k[3]=_[1]),k}static intersect(_,k){const D=Math.max(Math.min(_[0],_[2]),Math.min(k[0],k[2])),V=Math.min(Math.max(_[0],_[2]),Math.max(k[0],k[2]));if(D>V)return null;const R=Math.max(Math.min(_[1],_[3]),Math.min(k[1],k[3])),U=Math.min(Math.max(_[1],_[3]),Math.max(k[1],k[3]));return R>U?null:[D,R,V,U]}static bezierBoundingBox(_,k,D,V,R,U,te,B){const j=[],ie=[[],[]];let E,L,ee,J,Y,q,F,O;for(let X=0;X<2;++X)if(X===0?(L=6*_-12*D+6*R,E=-3*_+9*D-9*R+3*te,ee=3*D-3*_):(L=6*k-12*V+6*U,E=-3*k+9*V-9*U+3*B,ee=3*V-3*k),Math.abs(E)<1e-12){if(Math.abs(L)<1e-12)continue;J=-ee/L,0<J&&J<1&&j.push(J)}else F=L*L-4*ee*E,O=Math.sqrt(F),F<0||(Y=(-L+O)/(2*E),0<Y&&Y<1&&j.push(Y),q=(-L-O)/(2*E),0<q&&q<1&&j.push(q));let Z,se=j.length;const $=se;for(;se--;)J=j[se],Z=1-J,ie[0][se]=Z*Z*Z*_+3*Z*Z*J*D+3*Z*J*J*R+J*J*J*te,ie[1][se]=Z*Z*Z*k+3*Z*Z*J*V+3*Z*J*J*U+J*J*J*B;return ie[0][$]=_,ie[1][$]=k,ie[0][$+1]=te,ie[1][$+1]=B,ie[0].length=ie[1].length=$+2,[Math.min(...ie[0]),Math.min(...ie[1]),Math.max(...ie[0]),Math.max(...ie[1])]}}o.Util=M;const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function I(P){return decodeURIComponent(escape(P))}},(c,o,f)=>{f(4)},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isNodeJS=void 0;const f=!(typeof process!="object"||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=f},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RefSetCache=o.RefSet=o.Ref=o.Name=o.EOF=o.Dict=o.Cmd=o.CIRCULAR_REF=void 0,o.clearPrimitiveCaches=function(){t._clearCache(),p._clearCache(),w._clearCache()},o.isCmd=function(P,_){return P instanceof t&&(_===void 0||P.cmd===_)},o.isDict=function(P,_){return P instanceof C&&(_===void 0||y(P.get("Type"),_))},o.isName=y,o.isRefsEqual=function(P,_){return P.num===_.num&&P.gen===_.gen};var s=f(2);const g=Symbol("CIRCULAR_REF");o.CIRCULAR_REF=g;const m=Symbol("EOF");o.EOF=m;const p=function(){let P=Object.create(null);class _{constructor(D){this.name=D}static get(D){return P[D]||(P[D]=new _(D))}static _clearCache(){P=Object.create(null)}}return _}();o.Name=p;const t=function(){let P=Object.create(null);class _{constructor(D){this.cmd=D}static get(D){return P[D]||(P[D]=new _(D))}static _clearCache(){P=Object.create(null)}}return _}();o.Cmd=t;const b=function(){return b};class C{constructor(P=null){this._map=Object.create(null),this.xref=P,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=b}assignXref(P){this.xref=P}get size(){return Object.keys(this._map).length}get(P,_,k){let D=this._map[P];return D===void 0&&_!==void 0&&(D=this._map[_],D===void 0&&k!==void 0&&(D=this._map[k])),D instanceof w&&this.xref?this.xref.fetch(D,this.suppressEncryption):D}async getAsync(P,_,k){let D=this._map[P];return D===void 0&&_!==void 0&&(D=this._map[_],D===void 0&&k!==void 0&&(D=this._map[k])),D instanceof w&&this.xref?this.xref.fetchAsync(D,this.suppressEncryption):D}getArray(P,_,k){let D=this._map[P];if(D===void 0&&_!==void 0&&(D=this._map[_],D===void 0&&k!==void 0&&(D=this._map[k])),D instanceof w&&this.xref&&(D=this.xref.fetch(D,this.suppressEncryption)),Array.isArray(D)){D=D.slice();for(let V=0,R=D.length;V<R;V++)D[V]instanceof w&&this.xref&&(D[V]=this.xref.fetch(D[V],this.suppressEncryption))}return D}getRaw(P){return this._map[P]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(P,_){this._map[P]=_}has(P){return this._map[P]!==void 0}forEach(P){for(const _ in this._map)P(_,this.get(_))}static get empty(){const P=new C(null);return P.set=(_,k)=>{(0,s.unreachable)("Should not call `set` on the empty dictionary.")},(0,s.shadow)(this,"empty",P)}static merge({xref:P,dictArray:_,mergeSubDicts:k=!1}){const D=new C(P),V=new Map;for(const R of _)if(R instanceof C)for(const[U,te]of Object.entries(R._map)){let B=V.get(U);if(B===void 0)B=[],V.set(U,B);else if(!(k&&te instanceof C))continue;B.push(te)}for(const[R,U]of V){if(U.length===1||!(U[0]instanceof C)){D._map[R]=U[0];continue}const te=new C(P);for(const B of U)for(const[j,ie]of Object.entries(B._map))te._map[j]===void 0&&(te._map[j]=ie);te.size>0&&(D._map[R]=te)}return V.clear(),D.size>0?D:C.empty}}o.Dict=C;const w=function(){let P=Object.create(null);class _{constructor(D,V){this.num=D,this.gen=V}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(D,V){const R=V===0?`${D}R`:`${D}R${V}`;return P[R]||(P[R]=new _(D,V))}static _clearCache(){P=Object.create(null)}}return _}();o.Ref=w;class v{constructor(P=null){this._set=new Set(P&&P._set)}has(P){return this._set.has(P.toString())}put(P){this._set.add(P.toString())}remove(P){this._set.delete(P.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}o.RefSet=v;class M{constructor(){this._map=new Map}get size(){return this._map.size}get(P){return this._map.get(P.toString())}has(P){return this._map.has(P.toString())}put(P,_){this._map.set(P.toString(),_)}putAlias(P,_){this._map.set(P.toString(),this.get(_))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}o.RefSetCache=M;function y(I,P){return I instanceof p&&(P===void 0||I.name===P)}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XRefParseException=o.XRefEntryException=o.ParserEOFException=o.MissingDataException=o.DocStats=void 0,o.collectActions=function(P,_,k){const D=Object.create(null),V=w({dict:_,key:"AA",stopWhenFound:!1});if(V)for(let R=V.length-1;R>=0;R--){const U=V[R];if(U instanceof g.Dict)for(const te of U.getKeys()){const B=k[te];if(!B)continue;const j=U.getRaw(te),ie=new g.RefSet,E=[];M(j,P,E,ie),E.length>0&&(D[B]=E)}}if(_.has("A")){const R=_.get("A"),U=new g.RefSet,te=[];M(R,P,te,U),te.length>0&&(D.Action=te)}return(0,s.objectSize)(D)>0?D:null},o.encodeToXmlString=function(P){const _=[];let k=0;for(let D=0,V=P.length;D<V;D++){const R=P.codePointAt(D);if(32<=R&&R<=126){const U=y[R];U&&(k<D&&_.push(P.substring(k,D)),_.push(U),k=D+1)}else k<D&&_.push(P.substring(k,D)),_.push(`&#x${R.toString(16).toUpperCase()};`),R>55295&&(R<57344||R>65533)&&D++,k=D+1}return _.length===0?P:(k<P.length&&_.push(P.substring(k,P.length)),_.join(""))},o.escapePDFName=function(P){const _=[];let k=0;for(let D=0,V=P.length;D<V;D++){const R=P.charCodeAt(D);(R<33||R>126||R===35||R===40||R===41||R===60||R===62||R===91||R===93||R===123||R===125||R===47||R===37)&&(k<D&&_.push(P.substring(k,D)),_.push(`#${R.toString(16)}`),k=D+1)}return _.length===0?P:(k<P.length&&_.push(P.substring(k,P.length)),_.join(""))},o.getArrayLookupTableFactory=function(P){let _;return function(){if(P){let k=P();P=null,_=Object.create(null);for(let D=0,V=k.length;D<V;D+=2)_[k[D]]=k[D+1];k=null}return _}},o.getInheritableProperty=w,o.getLookupTableFactory=function(P){let _;return function(){return P&&(_=Object.create(null),P(_),P=null),_}},o.getNewAnnotationsMap=function(P){if(!P)return null;const _=new Map;for(const[k,D]of P){if(!k.startsWith(s.AnnotationEditorPrefix))continue;let V=_.get(D.pageIndex);V||(V=[],_.set(D.pageIndex,V)),V.push(D)}return _.size>0?_:null},o.isWhiteSpace=function(P){return P===32||P===9||P===13||P===10},o.log2=function(P){return P<=0?0:Math.ceil(Math.log2(P))},o.numberToString=function(P){if(Number.isInteger(P))return P.toString();const _=Math.round(100*P);return _%100==0?(_/100).toString():_%10==0?P.toFixed(1):P.toFixed(2)},o.parseXFAPath=function(P){const _=/(.+)\[(\d+)\]$/;return P.split(".").map(k=>{const D=k.match(_);return D?{name:D[1],pos:parseInt(D[2],10)}:{name:k,pos:0}})},o.readInt8=function(P,_){return P[_]<<24>>24},o.readUint16=function(P,_){return P[_]<<8|P[_+1]},o.readUint32=function(P,_){return(P[_]<<24|P[_+1]<<16|P[_+2]<<8|P[_+3])>>>0},o.recoverJsURL=function(P){const _=new RegExp("^\\s*("+["app.launchURL","window.open","xfa.host.gotoURL"].join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(P);if(_&&_[2]){const k=_[2];let D=!1;return _[3]==="true"&&_[1]==="app.launchURL"&&(D=!0),{url:k,newWindow:D}}return null},o.toRomanNumerals=function(P,_=!1){(0,s.assert)(Number.isInteger(P)&&P>0,"The number should be a positive integer.");const k=[];let D;for(;P>=1e3;)P-=1e3,k.push("M");D=P/100|0,P%=100,k.push(v[D]),D=P/10|0,P%=10,k.push(v[10+D]),k.push(v[20+P]);const V=k.join("");return _?V.toLowerCase():V},o.validateCSSFont=function(P){const _=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:k,fontWeight:D,italicAngle:V}=P;if(/^".*"$/.test(k)){if(/[^\\]"/.test(k.slice(1,k.length-1)))return(0,s.warn)(`XFA - FontFamily contains some unescaped ": ${k}.`),!1}else if(/^'.*'$/.test(k)){if(/[^\\]'/.test(k.slice(1,k.length-1)))return(0,s.warn)(`XFA - FontFamily contains some unescaped ': ${k}.`),!1}else for(const te of k.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(te)||!/^[\w-\\]+$/.test(te))return(0,s.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${k}.`),!1;const R=D?D.toString():"";P.fontWeight=_.has(R)?R:"400";const U=parseFloat(V);return P.italicAngle=isNaN(U)||U<-90||U>90?"14":V.toString(),!0};var s=f(2),g=f(5),m=f(7);class p extends s.BaseException{constructor(P,_){super(`Missing data [${P}, ${_})`,"MissingDataException"),this.begin=P,this.end=_}}o.MissingDataException=p;class t extends s.BaseException{constructor(P){super(P,"ParserEOFException")}}o.ParserEOFException=t;class b extends s.BaseException{constructor(P){super(P,"XRefEntryException")}}o.XRefEntryException=b;class C extends s.BaseException{constructor(P){super(P,"XRefParseException")}}o.XRefParseException=C,o.DocStats=class{constructor(P){this._handler=P,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const P=Object.create(null),_=Object.create(null);for(const k of this._streamTypes)P[k]=!0;for(const k of this._fontTypes)_[k]=!0;this._handler.send("DocStats",{streamTypes:P,fontTypes:_})}addStreamType(P){this._streamTypes.has(P)||(this._streamTypes.add(P),this._send())}addFontType(P){this._fontTypes.has(P)||(this._fontTypes.add(P),this._send())}};function w({dict:I,key:P,getArray:_=!1,stopWhenFound:k=!0}){let D;const V=new g.RefSet;for(;I instanceof g.Dict&&(!I.objId||!V.has(I.objId));){I.objId&&V.put(I.objId);const R=_?I.getArray(P):I.get(P);if(R!==void 0){if(k)return R;D||(D=[]),D.push(R)}I=I.get("Parent")}return D}const v=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function M(I,P,_,k){if(!I)return;let D=null;if(I instanceof g.Ref){if(k.has(I))return;D=I,k.put(D),I=P.fetch(I)}if(Array.isArray(I))for(const V of I)M(V,P,_,k);else if(I instanceof g.Dict){if((0,g.isName)(I.get("S"),"JavaScript")){const V=I.get("JS");let R;V instanceof m.BaseStream?R=V.getString():typeof V=="string"&&(R=V),R=R&&(0,s.stringToPDFString)(R).replace(/\u0000/g,""),R&&_.push(R)}M(I.getRaw("Next"),P,_,k)}D&&k.remove(D)}const y={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStream=void 0;var s=f(2);class g{constructor(){this.constructor===g&&(0,s.unreachable)("Cannot initialize BaseStream.")}get length(){(0,s.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,s.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,s.shadow)(this,"isDataLoaded",!0)}getByte(){(0,s.unreachable)("Abstract method `getByte` called")}getBytes(p){(0,s.unreachable)("Abstract method `getBytes` called")}peekByte(){const p=this.getByte();return p!==-1&&this.pos--,p}peekBytes(p){const t=this.getBytes(p);return this.pos-=t.length,t}getUint16(){const p=this.getByte(),t=this.getByte();return p===-1||t===-1?-1:(p<<8)+t}getInt32(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}getByteRange(p,t){(0,s.unreachable)("Abstract method `getByteRange` called")}getString(p){return(0,s.bytesToString)(this.getBytes(p))}skip(p){this.pos+=p||1}reset(){(0,s.unreachable)("Abstract method `reset` called")}moveStart(){(0,s.unreachable)("Abstract method `moveStart` called")}makeSubStream(p,t,b=null){(0,s.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}o.BaseStream=g},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NetworkPdfManager=o.LocalPdfManager=void 0;var s=f(2),g=f(9),m=f(6),p=f(11),t=f(10);function b(w){if(w){const v=(0,s.createValidAbsoluteUrl)(w);if(v)return v.href;(0,s.warn)(`Invalid absolute docBaseUrl: "${w}".`)}return null}class C{constructor(){this.constructor===C&&(0,s.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const v=this.pdfDocument.catalog;return(0,s.shadow)(this,"docBaseUrl",v.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,s.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(v,M){return this.ensure(this.pdfDocument,v,M)}ensureXRef(v,M){return this.ensure(this.pdfDocument.xref,v,M)}ensureCatalog(v,M){return this.ensure(this.pdfDocument.catalog,v,M)}getPage(v){return this.pdfDocument.getPage(v)}fontFallback(v,M){return this.pdfDocument.fontFallback(v,M)}loadXfaFonts(v,M){return this.pdfDocument.loadXfaFonts(v,M)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(v){return this.pdfDocument.serializeXfaData(v)}cleanup(v=!1){return this.pdfDocument.cleanup(v)}async ensure(v,M,y){(0,s.unreachable)("Abstract method `ensure` called")}requestRange(v,M){(0,s.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,s.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(v){(0,s.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(v){this._password=v}terminate(v){(0,s.unreachable)("Abstract method `terminate` called")}}o.LocalPdfManager=class extends C{constructor(v,M,y,I,P,_,k){super(),this._docId=v,this._password=y,this._docBaseUrl=b(k),this.msgHandler=I,this.evaluatorOptions=P,this.enableXfa=_;const D=new t.Stream(M);this.pdfDocument=new p.PDFDocument(this,D),this._loadedStreamPromise=Promise.resolve(D)}async ensure(v,M,y){const I=v[M];return typeof I=="function"?I.apply(v,y):I}requestRange(v,M){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(v){}},o.NetworkPdfManager=class extends C{constructor(v,M,y,I,P,_){super(),this._docId=v,this._password=y.password,this._docBaseUrl=b(_),this.msgHandler=y.msgHandler,this.evaluatorOptions=I,this.enableXfa=P,this.streamManager=new g.ChunkedStreamManager(M,{msgHandler:y.msgHandler,length:y.length,disableAutoFetch:y.disableAutoFetch,rangeChunkSize:y.rangeChunkSize}),this.pdfDocument=new p.PDFDocument(this,this.streamManager.getStream())}async ensure(v,M,y){try{const I=v[M];return typeof I=="function"?I.apply(v,y):I}catch(I){if(!(I instanceof m.MissingDataException))throw I;return await this.requestRange(I.begin,I.end),this.ensure(v,M,y)}}requestRange(v,M){return this.streamManager.requestRange(v,M)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(v){this.streamManager.onReceiveData({chunk:v})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(v){this.streamManager.abort(v)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ChunkedStreamManager=o.ChunkedStream=void 0;var s=f(2),g=f(6),m=f(10);class p extends m.Stream{constructor(b,C,w){super(new Uint8Array(b),0,b,null),this.chunkSize=C,this._loadedChunks=new Set,this.numChunks=Math.ceil(b/C),this.manager=w,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const b=[];for(let C=0,w=this.numChunks;C<w;++C)this._loadedChunks.has(C)||b.push(C);return b}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(b,C){const w=this.chunkSize;if(b%w!=0)throw new Error(`Bad begin offset: ${b}`);const v=b+C.byteLength;if(v%w!=0&&v!==this.bytes.length)throw new Error(`Bad end offset: ${v}`);this.bytes.set(new Uint8Array(C),b);const M=Math.floor(b/w),y=Math.floor((v-1)/w)+1;for(let I=M;I<y;++I)this._loadedChunks.add(I)}onReceiveProgressiveData(b){let C=this.progressiveDataLength;const w=Math.floor(C/this.chunkSize);this.bytes.set(new Uint8Array(b),C),C+=b.byteLength,this.progressiveDataLength=C;const v=C>=this.end?this.numChunks:Math.floor(C/this.chunkSize);for(let M=w;M<v;++M)this._loadedChunks.add(M)}ensureByte(b){if(b<this.progressiveDataLength)return;const C=Math.floor(b/this.chunkSize);if(!(C>this.numChunks)&&C!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(C))throw new g.MissingDataException(b,b+1);this.lastSuccessfulEnsureByteChunk=C}}ensureRange(b,C){if(b>=C||C<=this.progressiveDataLength)return;const w=Math.floor(b/this.chunkSize);if(w>this.numChunks)return;const v=Math.min(Math.floor((C-1)/this.chunkSize)+1,this.numChunks);for(let M=w;M<v;++M)if(!this._loadedChunks.has(M))throw new g.MissingDataException(b,C)}nextEmptyChunk(b){const C=this.numChunks;for(let w=0;w<C;++w){const v=(b+w)%C;if(!this._loadedChunks.has(v))return v}return null}hasChunk(b){return this._loadedChunks.has(b)}getByte(){const b=this.pos;return b>=this.end?-1:(b>=this.progressiveDataLength&&this.ensureByte(b),this.bytes[this.pos++])}getBytes(b){const C=this.bytes,w=this.pos,v=this.end;if(!b)return v>this.progressiveDataLength&&this.ensureRange(w,v),C.subarray(w,v);let M=w+b;return M>v&&(M=v),M>this.progressiveDataLength&&this.ensureRange(w,M),this.pos=M,C.subarray(w,M)}getByteRange(b,C){return b<0&&(b=0),C>this.end&&(C=this.end),C>this.progressiveDataLength&&this.ensureRange(b,C),this.bytes.subarray(b,C)}makeSubStream(b,C,w=null){C?b+C>this.progressiveDataLength&&this.ensureRange(b,b+C):b>=this.progressiveDataLength&&this.ensureByte(b);function v(){}v.prototype=Object.create(this),v.prototype.getMissingChunks=function(){const y=this.chunkSize,I=Math.floor(this.start/y),P=Math.floor((this.end-1)/y)+1,_=[];for(let k=I;k<P;++k)this._loadedChunks.has(k)||_.push(k);return _},Object.defineProperty(v.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks||this.getMissingChunks().length===0},configurable:!0});const M=new v;return M.pos=M.start=b,M.end=b+C||this.end,M.dict=w,M}getBaseStreams(){return[this]}}o.ChunkedStream=p,o.ChunkedStreamManager=class{constructor(b,C){this.length=C.length,this.chunkSize=C.rangeChunkSize,this.stream=new p(this.length,this.chunkSize,this),this.pdfNetworkStream=b,this.disableAutoFetch=C.disableAutoFetch,this.msgHandler=C.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,s.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(b,C){const w=this.pdfNetworkStream.getRangeReader(b,C);w.isStreamingSupported||(w.onProgress=this.onProgress.bind(this));let v=[],M=0;return new Promise((y,I)=>{const P=_=>{try{if(!_.done){const D=_.value;v.push(D),M+=(0,s.arrayByteLength)(D),w.isStreamingSupported&&this.onProgress({loaded:M}),w.read().then(P,I);return}const k=(0,s.arraysToBytes)(v);v=null,y(k)}catch(k){I(k)}};w.read().then(P,I)}).then(y=>{this.aborted||this.onReceiveData({chunk:y,begin:b})})}requestAllChunks(){const b=this.stream.getMissingChunks();return this._requestChunks(b),this._loadedStreamCapability.promise}_requestChunks(b){const C=this.currRequestId++,w=new Set;this._chunksNeededByRequest.set(C,w);for(const y of b)this.stream.hasChunk(y)||w.add(y);if(w.size===0)return Promise.resolve();const v=(0,s.createPromiseCapability)();this._promisesByRequest.set(C,v);const M=[];for(const y of w){let I=this._requestsByChunk.get(y);I||(I=[],this._requestsByChunk.set(y,I),M.push(y)),I.push(C)}if(M.length>0){const y=this.groupChunks(M);for(const I of y){const P=I.beginChunk*this.chunkSize,_=Math.min(I.endChunk*this.chunkSize,this.length);this.sendRequest(P,_).catch(v.reject)}}return v.promise.catch(y=>{if(!this.aborted)throw y})}getStream(){return this.stream}requestRange(b,C){C=Math.min(C,this.length);const w=this.getBeginChunk(b),v=this.getEndChunk(C),M=[];for(let y=w;y<v;++y)M.push(y);return this._requestChunks(M)}requestRanges(b=[]){const C=[];for(const w of b){const v=this.getBeginChunk(w.begin),M=this.getEndChunk(w.end);for(let y=v;y<M;++y)C.includes(y)||C.push(y)}return C.sort(function(w,v){return w-v}),this._requestChunks(C)}groupChunks(b){const C=[];let w=-1,v=-1;for(let M=0,y=b.length;M<y;++M){const I=b[M];w<0&&(w=I),v>=0&&v+1!==I&&(C.push({beginChunk:w,endChunk:v+1}),w=I),M+1===b.length&&C.push({beginChunk:w,endChunk:I+1}),v=I}return C}onProgress(b){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+b.loaded,total:this.length})}onReceiveData(b){const C=b.chunk,w=b.begin===void 0,v=w?this.progressiveDataLength:b.begin,M=v+C.byteLength,y=Math.floor(v/this.chunkSize),I=M<this.length?Math.floor(M/this.chunkSize):Math.ceil(M/this.chunkSize);w?(this.stream.onReceiveProgressiveData(C),this.progressiveDataLength=M):this.stream.onReceiveData(v,C),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const P=[];for(let _=y;_<I;++_){const k=this._requestsByChunk.get(_);if(k){this._requestsByChunk.delete(_);for(const D of k){const V=this._chunksNeededByRequest.get(D);V.has(_)&&V.delete(_),V.size>0||P.push(D)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let _;if(this.stream.numChunksLoaded===1){const k=this.stream.numChunks-1;this.stream.hasChunk(k)||(_=k)}else _=this.stream.nextEmptyChunk(I);Number.isInteger(_)&&this._requestChunks([_])}for(const _ of P){const k=this._promisesByRequest.get(_);this._promisesByRequest.delete(_),k.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(b){this._loadedStreamCapability.reject(b)}getBeginChunk(b){return Math.floor(b/this.chunkSize)}getEndChunk(b){return Math.floor((b-1)/this.chunkSize)+1}abort(b){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(b);for(const C of this._promisesByRequest.values())C.reject(b)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StringStream=o.Stream=o.NullStream=void 0;var s=f(7),g=f(2);class m extends s.BaseStream{constructor(t,b,C,w){super(),this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.start=b||0,this.pos=this.start,this.end=b+C||this.bytes.length,this.dict=w}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(t){const b=this.bytes,C=this.pos,w=this.end;if(!t)return b.subarray(C,w);let v=C+t;return v>w&&(v=w),this.pos=v,b.subarray(C,v)}getByteRange(t,b){return t<0&&(t=0),b>this.end&&(b=this.end),this.bytes.subarray(t,b)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(t,b,C=null){return new m(this.bytes.buffer,t,b,C)}}o.Stream=m,o.StringStream=class extends m{constructor(t){super((0,g.stringToBytes)(t))}},o.NullStream=class extends m{constructor(){super(new Uint8Array(0))}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Page=o.PDFDocument=void 0;var s=f(12),g=f(2),m=f(6),p=f(5),t=f(51),b=f(7),C=f(67),w=f(69),v=f(71),M=f(100),y=f(17),I=f(10),P=f(75),_=f(62),k=f(15),D=f(19),V=f(74),R=f(65),U=f(76),te=f(101);const B=[0,0,612,792];class j{constructor({pdfManager:q,xref:F,pageIndex:O,pageDict:Z,ref:se,globalIdFactory:$,fontCache:X,builtInCMapCache:ne,standardFontDataCache:oe,globalImageCache:ue,nonBlendModesSet:fe,xfaFactory:le}){this.pdfManager=q,this.pageIndex=O,this.pageDict=Z,this.xref=F,this.ref=se,this.fontCache=X,this.builtInCMapCache=ne,this.standardFontDataCache=oe,this.globalImageCache=ue,this.nonBlendModesSet=fe,this.evaluatorOptions=q.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=le;const ae={obj:0};this._localIdFactory=class extends ${static createObjId(){return`p${O}_${++ae.obj}`}static getPageObjId(){return`page${se.toString()}`}}}_getInheritableProperty(q,F=!1){const O=(0,m.getInheritableProperty)({dict:this.pageDict,key:q,getArray:F,stopWhenFound:!1});return Array.isArray(O)?O.length!==1&&O[0]instanceof p.Dict?p.Dict.merge({xref:this.xref,dictArray:O}):O[0]:O}get content(){return this.pageDict.getArray("Contents")}get resources(){const q=this._getInheritableProperty("Resources");return(0,g.shadow)(this,"resources",q instanceof p.Dict?q:p.Dict.empty)}_getBoundingBox(q){if(this.xfaData)return this.xfaData.bbox;const F=this._getInheritableProperty(q,!0);if(Array.isArray(F)&&F.length===4){if(F[2]-F[0]!=0&&F[3]-F[1]!=0)return F;(0,g.warn)(`Empty /${q} entry.`)}return null}get mediaBox(){return(0,g.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||B)}get cropBox(){return(0,g.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let q=this.pageDict.get("UserUnit");return(typeof q!="number"||q<=0)&&(q=1),(0,g.shadow)(this,"userUnit",q)}get view(){const{cropBox:q,mediaBox:F}=this;let O;if(q===F||(0,g.isArrayEqual)(q,F))O=F;else{const Z=g.Util.intersect(q,F);Z&&Z[2]-Z[0]!=0&&Z[3]-Z[1]!=0?O=Z:(0,g.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,g.shadow)(this,"view",O||F)}get rotate(){let q=this._getInheritableProperty("Rotate")||0;return q%90!=0?q=0:q>=360?q%=360:q<0&&(q=(q%360+360)%360),(0,g.shadow)(this,"rotate",q)}_onSubStreamError(q,F,O){if(!this.evaluatorOptions.ignoreErrors)throw F;q.send("UnsupportedFeature",{featureId:g.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,g.warn)(`getContentStream - ignoring sub-stream (${O}): "${F}".`)}getContentStream(q){return this.pdfManager.ensure(this,"content").then(F=>F instanceof b.BaseStream?F:Array.isArray(F)?new D.StreamsSequenceStream(F,this._onSubStreamError.bind(this,q)):new I.NullStream)}get xfaData(){return(0,g.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(q,F,O){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const Z=new k.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),se=this.pageDict,$=this.annotations.slice(),X=await s.AnnotationFactory.saveNewAnnotations(Z,F,O);for(const{ref:le}of X.annotations)$.push(le);const ne=se.get("Annots");se.set("Annots",$);const oe=[];let ue=null;this.xref.encrypt&&(ue=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,R.writeObject)(this.ref,se,oe,ue),ne&&se.set("Annots",ne);const fe=X.dependencies;return fe.push({ref:this.ref,data:oe.join("")},...X.annotations),fe}save(q,F,O){const Z=new k.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(se){const $=[];for(const X of se)X.mustBePrinted(O)&&$.push(X.save(Z,F,O).catch(function(ne){return(0,g.warn)(`save - ignoring annotation data during "${F.name}" task: "${ne}".`),null}));return Promise.all($).then(function(X){return X.filter(ne=>!!ne)})})}loadResources(q){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new P.ObjectLoader(this.resources,q,this.xref).load())}getOperatorList({handler:q,sink:F,task:O,intent:Z,cacheKey:se,annotationStorage:$=null}){const X=this.getContentStream(q),ne=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),oe=new k.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),ue=this.xfaFactory?null:(0,m.getNewAnnotationsMap)($);let fe=Promise.resolve(null);if(ue){const ae=ue.get(this.pageIndex);ae&&(fe=s.AnnotationFactory.printNewAnnotations(oe,O,ae))}const le=Promise.all([X,ne]).then(([ae])=>{const de=new _.OperatorList(Z,F);return q.send("StartRenderPage",{transparency:oe.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:se}),oe.getOperatorList({stream:ae,task:O,resources:this.resources,operatorList:de}).then(function(){return de})});return Promise.all([le,this._parsedAnnotations,fe]).then(function([ae,de,re]){if(re&&(de=de.concat(re)),de.length===0||Z&g.RenderingIntentFlag.ANNOTATIONS_DISABLE)return ae.flush(!0),{length:ae.totalLength};const Q=!!(Z&g.RenderingIntentFlag.ANNOTATIONS_FORMS),ce=!!(Z&g.RenderingIntentFlag.ANY),he=!!(Z&g.RenderingIntentFlag.DISPLAY),ge=!!(Z&g.RenderingIntentFlag.PRINT),pe=[];for(const me of de)(ce||he&&me.mustBeViewed($)||ge&&me.mustBePrinted($))&&pe.push(me.getOperatorList(oe,O,Z,Q,$).catch(function(Ae){return(0,g.warn)(`getOperatorList - ignoring annotation data during "${O.name}" task: "${Ae}".`),null}));return Promise.all(pe).then(function(me){let Ae=!1,ye=!1;for(const{opList:xe,separateForm:Ce,separateCanvas:we}of me)ae.addOpList(xe),Ce&&(Ae=Ce),we&&(ye=we);return ae.flush(!0,{form:Ae,canvas:ye}),{length:ae.totalLength}})})}extractTextContent({handler:q,task:F,includeMarkedContent:O,sink:Z,combineTextItems:se}){const $=this.getContentStream(q),X=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([$,X]).then(([ne])=>new k.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:ne,task:F,resources:this.resources,includeMarkedContent:O,combineTextItems:se,sink:Z,viewBox:this.view}))}async getStructTree(){const q=await this.pdfManager.ensureCatalog("structTreeRoot");return q?(await this.pdfManager.ensure(this,"_parseStructTree",[q])).serializable:null}_parseStructTree(q){const F=new V.StructTreePage(q,this.pageDict);return F.parse(),F}async getAnnotationsData(q,F,O){const Z=await this._parsedAnnotations;if(Z.length===0)return[];const se=[],$=[];let X;const ne=!!(O&g.RenderingIntentFlag.ANY),oe=!!(O&g.RenderingIntentFlag.DISPLAY),ue=!!(O&g.RenderingIntentFlag.PRINT);for(const fe of Z){const le=ne||oe&&fe.viewable;(le||ue&&fe.printable)&&$.push(fe.data),fe.hasTextContent&&le&&(X||(X=new k.PartialEvaluator({xref:this.xref,handler:q,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),se.push(fe.extractTextContent(X,F,this.view).catch(function(ae){(0,g.warn)(`getAnnotationsData - ignoring textContent during "${F.name}" task: "${ae}".`)})))}return await Promise.all(se),$}get annotations(){const q=this._getInheritableProperty("Annots");return(0,g.shadow)(this,"annotations",Array.isArray(q)?q:[])}get _parsedAnnotations(){const q=this.pdfManager.ensure(this,"annotations").then(()=>{const F=[];for(const O of this.annotations)F.push(s.AnnotationFactory.create(this.xref,O,this.pdfManager,this._localIdFactory,!1).catch(function(Z){return(0,g.warn)(`_parsedAnnotations: "${Z}".`),null}));return Promise.all(F).then(function(O){if(O.length===0)return O;const Z=[];let se;for(const $ of O)$&&($ instanceof s.PopupAnnotation?(se||(se=[]),se.push($)):Z.push($));return se&&Z.push(...se),Z})});return(0,g.shadow)(this,"_parsedAnnotations",q)}get jsActions(){const q=(0,m.collectActions)(this.xref,this.pageDict,g.PageActionEventType);return(0,g.shadow)(this,"jsActions",q)}}o.Page=j;const ie=new Uint8Array([37,80,68,70,45]),E=new Uint8Array([115,116,97,114,116,120,114,101,102]),L=new Uint8Array([101,110,100,111,98,106]),ee=/^[1-9]\.\d$/;function J(Y,q,F=1024,O=!1){const Z=q.length,se=Y.peekBytes(F),$=se.length-Z;if($<=0)return!1;if(O){const X=Z-1;let ne=se.length-1;for(;ne>=X;){let oe=0;for(;oe<Z&&se[ne-oe]===q[X-oe];)oe++;if(oe>=Z)return Y.pos+=ne-X,!0;ne--}}else{let X=0;for(;X<=$;){let ne=0;for(;ne<Z&&se[X+ne]===q[ne];)ne++;if(ne>=Z)return Y.pos+=X,!0;X++}}return!1}o.PDFDocument=class{constructor(q,F){if(F.length<=0)throw new g.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=q,this.stream=F,this.xref=new te.XRef(F,q),this._pagePromises=new Map,this._version=null;const O={font:0};this._globalIdFactory=class{static getDocId(){return`g_${q.docId}`}static createFontId(){return"f"+ ++O.font}static createObjId(){(0,g.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,g.unreachable)("Abstract method `getPageObjId` called.")}}}parse(q){this.xref.parse(q),this.catalog=new w.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let q=null;try{q=y.Linearization.create(this.stream)}catch(F){if(F instanceof m.MissingDataException)throw F;(0,g.info)(F)}return(0,g.shadow)(this,"linearization",q)}get startXRef(){const q=this.stream;let F=0;if(this.linearization)q.reset(),J(q,L)&&(F=q.pos+6-q.start);else{const Z=E.length;let se=!1,$=q.end;for(;!se&&$>0;)$-=1024-Z,$<0&&($=0),q.pos=$,se=J(q,E,1024,!0);if(se){q.skip(9);let X;do X=q.getByte();while((0,m.isWhiteSpace)(X));let ne="";for(;X>=32&&X<=57;)ne+=String.fromCharCode(X),X=q.getByte();F=parseInt(ne,10),isNaN(F)&&(F=0)}}return(0,g.shadow)(this,"startXRef",F)}checkHeader(){const q=this.stream;if(q.reset(),!J(q,ie))return;q.moveStart();let F,O="";for(;(F=q.getByte())>32&&!(O.length>=12);)O+=String.fromCharCode(F);this._version||(this._version=O.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let q=0;return q=this.catalog.hasActualNumPages?this.catalog.numPages:this.xfaFactory?this.xfaFactory.getNumPages():this.linearization?this.linearization.numPages:this.catalog.numPages,(0,g.shadow)(this,"numPages",q)}_hasOnlyDocumentSignatures(q,F=0){return!!Array.isArray(q)&&q.every(O=>{if(!((O=this.xref.fetchIfRef(O))instanceof p.Dict))return!1;if(O.has("Kids"))return++F>10?((0,g.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(O.get("Kids"),F);const Z=(0,p.isName)(O.get("FT"),"Sig"),se=O.get("Rect"),$=Array.isArray(se)&&se.every(X=>X===0);return Z&&$})}get _xfaStreams(){const q=this.catalog.acroForm;if(!q)return null;const F=q.get("XFA"),O={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(F instanceof b.BaseStream&&!F.isEmpty)return O["xdp:xdp"]=F,O;if(!Array.isArray(F)||F.length===0)return null;for(let Z=0,se=F.length;Z<se;Z+=2){let $;if($=Z===0?"xdp:xdp":Z===se-2?"/xdp:xdp":F[Z],!O.hasOwnProperty($))continue;const X=this.xref.fetchIfRef(F[Z+1]);X instanceof b.BaseStream&&!X.isEmpty&&(O[$]=X)}return O}get xfaDatasets(){const q=this._xfaStreams;if(!q)return(0,g.shadow)(this,"xfaDatasets",null);for(const F of["datasets","xdp:xdp"]){const O=q[F];if(O)try{const Z={[F]:(0,g.stringToUTF8String)(O.getString())};return(0,g.shadow)(this,"xfaDatasets",new M.DatasetReader(Z))}catch{(0,g.warn)("XFA - Invalid utf-8 string.");break}}return(0,g.shadow)(this,"xfaDatasets",null)}get xfaData(){const q=this._xfaStreams;if(!q)return null;const F=Object.create(null);for(const[O,Z]of Object.entries(q))if(Z)try{F[O]=(0,g.stringToUTF8String)(Z.getString())}catch{return(0,g.warn)("XFA - Invalid utf-8 string."),null}return F}get xfaFactory(){let q;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(q=this.xfaData),(0,g.shadow)(this,"xfaFactory",q?new U.XFAFactory(q):null)}get isPureXfa(){return!!this.xfaFactory&&this.xfaFactory.isValid()}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const q=await this.pdfManager.ensureCatalog("xfaImages");if(!q)return;const F=q.getKeys();await new P.ObjectLoader(q,F,this.xref).load();const Z=new Map;for(const se of F){const $=q.get(se);$ instanceof b.BaseStream&&Z.set(se,$.getBytes())}this.xfaFactory.setImages(Z)}async loadXfaFonts(q,F){const O=await this.pdfManager.ensureCatalog("acroForm");if(!O)return;const Z=await O.getAsync("DR");if(!(Z instanceof p.Dict))return;await new P.ObjectLoader(Z,["Font"],this.xref).load();const $=Z.get("Font");if(!($ instanceof p.Dict))return;const X=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);X.useSystemFonts=!1;const ne=new k.PartialEvaluator({xref:this.xref,handler:q,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:X}),oe=new _.OperatorList,ue=[],fe={get font(){return ue.at(-1)},set font(Q){ue.push(Q)},clone(){return this}},le=new Map;$.forEach((Q,ce)=>{le.set(Q,ce)});const ae=[];for(const[Q,ce]of le){const he=ce.get("FontDescriptor");if(!(he instanceof p.Dict))continue;let ge=he.get("FontFamily");ge=ge.replace(/[ ]+(\d)/g,"$1");const pe={fontFamily:ge,fontWeight:he.get("FontWeight"),italicAngle:-he.get("ItalicAngle")};(0,m.validateCSSFont)(pe)&&ae.push(ne.handleSetFont(Z,[p.Name.get(Q),1],null,oe,F,fe,null,pe).catch(function(me){return(0,g.warn)(`loadXfaFonts: "${me}".`),null}))}await Promise.all(ae);const de=this.xfaFactory.setFonts(ue);if(!de)return;X.ignoreErrors=!0,ae.length=0,ue.length=0;const re=new Set;for(const Q of de)(0,t.getXfaFontName)(`${Q}-Regular`)||re.add(Q);re.size&&de.push("PdfJS-Fallback");for(const Q of de)if(!re.has(Q))for(const ce of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const he=`${Q}-${ce.name}`,ge=(0,t.getXfaFontDict)(he);ae.push(ne.handleSetFont(Z,[p.Name.get(he),1],null,oe,F,fe,ge,{fontFamily:Q,fontWeight:ce.fontWeight,italicAngle:ce.italicAngle}).catch(function(pe){return(0,g.warn)(`loadXfaFonts: "${pe}".`),null}))}await Promise.all(ae),this.xfaFactory.appendFonts(ue,re)}async serializeXfaData(q){return this.xfaFactory?this.xfaFactory.serializeData(q):null}get formInfo(){const q={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},F=this.catalog.acroForm;if(!F)return(0,g.shadow)(this,"formInfo",q);try{const O=F.get("Fields"),Z=Array.isArray(O)&&O.length>0;q.hasFields=Z;const se=F.get("XFA");q.hasXfa=Array.isArray(se)&&se.length>0||se instanceof b.BaseStream&&!se.isEmpty;const $=!!(1&F.get("SigFlags")),X=$&&this._hasOnlyDocumentSignatures(O);q.hasAcroForm=Z&&!X,q.hasSignatures=$}catch(O){if(O instanceof m.MissingDataException)throw O;(0,g.warn)(`Cannot fetch form information: "${O}".`)}return(0,g.shadow)(this,"formInfo",q)}get documentInfo(){let q=this._version;(typeof q!="string"||!ee.test(q))&&((0,g.warn)(`Invalid PDF header version number: ${q}`),q=null);const F={PDFFormatVersion:q,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let O;try{O=this.xref.trailer.get("Info")}catch(Z){if(Z instanceof m.MissingDataException)throw Z;(0,g.info)("The document information dictionary is invalid.")}if(!(O instanceof p.Dict))return(0,g.shadow)(this,"documentInfo",F);for(const Z of O.getKeys()){const se=O.get(Z);switch(Z){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof se=="string"){F[Z]=(0,g.stringToPDFString)(se);continue}break;case"Trapped":if(se instanceof p.Name){F[Z]=se;continue}break;default:let $;switch(typeof se){case"string":$=(0,g.stringToPDFString)(se);break;case"number":case"boolean":$=se;break;default:se instanceof p.Name&&($=se)}if($===void 0){(0,g.warn)(`Bad value, for custom key "${Z}", in Info: ${se}.`);continue}F.Custom||(F.Custom=Object.create(null)),F.Custom[Z]=$;continue}(0,g.warn)(`Bad value, for key "${Z}", in Info: ${se}.`)}return(0,g.shadow)(this,"documentInfo",F)}get fingerprints(){function q($){return typeof $=="string"&&$.length>0&&$!=="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function F($){const X=[];for(let ne=0,oe=$.length;ne<oe;ne++){const ue=$[ne].toString(16);X.push(ue.padStart(2,"0"))}return X.join("")}const O=this.xref.trailer.get("ID");let Z,se;return Array.isArray(O)&&q(O[0])?(Z=(0,g.stringToBytes)(O[0]),O[1]!==O[0]&&q(O[1])&&(se=(0,g.stringToBytes)(O[1]))):Z=(0,C.calculateMD5)(this.stream.getByteRange(0,1024),0,1024),(0,g.shadow)(this,"fingerprints",[F(Z),se?F(se):null])}async _getLinearizationPage(q){const{catalog:F,linearization:O,xref:Z}=this,se=p.Ref.get(O.objectNumberFirst,0);try{const $=await Z.fetchAsync(se);if($ instanceof p.Dict){let X=$.getRaw("Type");if(X instanceof p.Ref&&(X=await Z.fetchAsync(X)),(0,p.isName)(X,"Page")||!$.has("Type")&&!$.has("Kids"))return F.pageKidsCountCache.has(se)||F.pageKidsCountCache.put(se,1),F.pageIndexCache.has(se)||F.pageIndexCache.put(se,0),[$,se]}throw new g.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch($){return(0,g.warn)(`_getLinearizationPage: "${$.message}".`),F.getPageDict(q)}}getPage(q){const F=this._pagePromises.get(q);if(F)return F;const{catalog:O,linearization:Z,xfaFactory:se}=this;let $;return $=se?Promise.resolve([p.Dict.empty,null]):Z&&Z.pageFirst===q?this._getLinearizationPage(q):O.getPageDict(q),$=$.then(([X,ne])=>new j({pdfManager:this.pdfManager,xref:this.xref,pageIndex:q,pageDict:X,ref:ne,globalIdFactory:this._globalIdFactory,fontCache:O.fontCache,builtInCMapCache:O.builtInCMapCache,standardFontDataCache:O.standardFontDataCache,globalImageCache:O.globalImageCache,nonBlendModesSet:O.nonBlendModesSet,xfaFactory:se})),this._pagePromises.set(q,$),$}async checkFirstPage(q=!1){if(!q)try{await this.getPage(0)}catch(F){if(F instanceof m.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new m.XRefParseException}}async checkLastPage(q=!1){const{catalog:F,pdfManager:O}=this;F.setActualNumPages();let Z;try{if(await Promise.all([O.ensureDoc("xfaFactory"),O.ensureDoc("linearization"),O.ensureCatalog("numPages")]),this.xfaFactory)return;if(Z=this.linearization?this.linearization.numPages:F.numPages,!Number.isInteger(Z))throw new g.FormatError("Page count is not an integer.");if(Z<=1)return;await this.getPage(Z-1)}catch(se){if(this._pagePromises.delete(Z-1),await this.cleanup(),se instanceof m.XRefEntryException&&!q)throw new m.XRefParseException;(0,g.warn)(`checkLastPage - invalid /Pages tree /Count: ${Z}.`);let $;try{$=await F.getAllPageDicts(q)}catch(X){if(X instanceof m.XRefEntryException&&!q)throw new m.XRefParseException;F.setActualNumPages(1);return}for(const[X,[ne,oe]]of $){let ue;ne instanceof Error?(ue=Promise.reject(ne),ue.catch(()=>{})):ue=Promise.resolve(new j({pdfManager:O,xref:this.xref,pageIndex:X,pageDict:ne,ref:oe,globalIdFactory:this._globalIdFactory,fontCache:F.fontCache,builtInCMapCache:F.builtInCMapCache,standardFontDataCache:F.standardFontDataCache,globalImageCache:F.globalImageCache,nonBlendModesSet:F.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(X,ue)}F.setActualNumPages($.size)}}fontFallback(q,F){return this.catalog.fontFallback(q,F)}async cleanup(q=!1){return this.catalog?this.catalog.cleanup(q):(0,v.clearGlobalCaches)()}_collectFieldObjects(q,F,O){const Z=this.xref.fetchIfRef(F);if(Z.has("T")){const se=(0,g.stringToPDFString)(Z.get("T"));q=q===""?se:`${q}.${se}`}if(O.has(q)||O.set(q,[]),O.get(q).push(s.AnnotationFactory.create(this.xref,F,this.pdfManager,this._localIdFactory,!0).then(se=>se&&se.getFieldObject()).catch(function(se){return(0,g.warn)(`_collectFieldObjects: "${se}".`),null})),Z.has("Kids")){const se=Z.get("Kids");for(const $ of se)this._collectFieldObjects(q,$,O)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,g.shadow)(this,"fieldObjects",Promise.resolve(null));const q=Object.create(null),F=new Map;for(const Z of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",Z,F);const O=[];for(const[Z,se]of F)O.push(Promise.all(se).then($=>{($=$.filter(X=>!!X)).length>0&&(q[Z]=$)}));return(0,g.shadow)(this,"fieldObjects",Promise.all(O).then(()=>q))}get hasJSActions(){const q=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,g.shadow)(this,"hasJSActions",q)}async _parseHasJSActions(){const[q,F]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return!!q||!!F&&Object.values(F).some(O=>O.some(Z=>Z.actions!==null))}get calculationOrderIds(){const q=this.catalog.acroForm;if(!q||!q.has("CO"))return(0,g.shadow)(this,"calculationOrderIds",null);const F=q.get("CO");if(!Array.isArray(F)||F.length===0)return(0,g.shadow)(this,"calculationOrderIds",null);const O=[];for(const Z of F)Z instanceof p.Ref&&O.push(Z.toString());return O.length===0?(0,g.shadow)(this,"calculationOrderIds",null):(0,g.shadow)(this,"calculationOrderIds",O)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PopupAnnotation=o.MarkupAnnotation=o.AnnotationFactory=o.AnnotationBorderStyle=o.Annotation=void 0,o.getQuadPoints=D;var s=f(2),g=f(6),m=f(13),p=f(5),t=f(65),b=f(7),C=f(60),w=f(69),v=f(14),M=f(72),y=f(75),I=f(62),P=f(10),_=f(76);o.AnnotationFactory=class{static create(Q,ce,he,ge,pe){return Promise.all([he.ensureCatalog("acroForm"),he.ensureCatalog("baseUrl"),he.ensureDoc("xfaDatasets"),pe?this._getPageIndex(Q,ce,he):-1]).then(([me,Ae,ye,xe])=>he.ensure(this,"_create",[Q,ce,he,ge,me,ye,pe,xe]))}static _create(Q,ce,he,ge,pe,me,Ae,ye=-1){const xe=Q.fetchIfRef(ce);if(!(xe instanceof p.Dict))return;const Ce=ce instanceof p.Ref?ce.toString():`annot_${ge.createObjId()}`;let we=xe.get("Subtype");we=we instanceof p.Name?we.name:null;const ve={xref:Q,ref:ce,dict:xe,subtype:we,id:Ce,pdfManager:he,acroForm:pe instanceof p.Dict?pe:p.Dict.empty,xfaDatasets:me,collectFields:Ae,pageIndex:ye};switch(we){case"Link":return new J(ve);case"Text":return new ee(ve);case"Widget":let Se=(0,g.getInheritableProperty)({dict:xe,key:"FT"});switch(Se=Se instanceof p.Name?Se.name:null,Se){case"Tx":return new j(ve);case"Btn":return new ie(ve);case"Ch":return new E(ve);case"Sig":return new L(ve)}return(0,s.warn)(`Unimplemented widget field type "${Se}", falling back to base field type.`),new B(ve);case"Popup":return new Y(ve);case"FreeText":return new q(ve);case"Line":return new F(ve);case"Square":return new O(ve);case"Circle":return new Z(ve);case"PolyLine":return new se(ve);case"Polygon":return new $(ve);case"Caret":return new X(ve);case"Ink":return new ne(ve);case"Highlight":return new oe(ve);case"Underline":return new ue(ve);case"Squiggly":return new fe(ve);case"StrikeOut":return new le(ve);case"Stamp":return new ae(ve);case"FileAttachment":return new de(ve);default:return Ae||(we?(0,s.warn)(`Unimplemented annotation type "${we}", falling back to base annotation.`):(0,s.warn)("Annotation is missing the required /Subtype.")),new R(ve)}}static async _getPageIndex(Q,ce,he){try{const ge=await Q.fetchIfRefAsync(ce);if(!(ge instanceof p.Dict))return-1;const pe=ge.getRaw("P");return pe instanceof p.Ref?await he.ensureCatalog("getPageIndex",[pe]):-1}catch(ge){return(0,s.warn)(`_getPageIndex: "${ge}".`),-1}}static async saveNewAnnotations(Q,ce,he){const ge=Q.xref;let pe;const me=[],Ae=[];for(const ye of he)switch(ye.annotationType){case s.AnnotationEditorType.FREETEXT:if(!pe){const xe=new p.Dict(ge);xe.set("BaseFont",p.Name.get("Helvetica")),xe.set("Type",p.Name.get("Font")),xe.set("Subtype",p.Name.get("Type1")),xe.set("Encoding",p.Name.get("WinAnsiEncoding"));const Ce=[];pe=ge.getNewRef(),(0,t.writeObject)(pe,xe,Ce,null),me.push({ref:pe,data:Ce.join("")})}Ae.push(q.createNewAnnotation(ge,ye,me,{evaluator:Q,task:ce,baseFontRef:pe}));break;case s.AnnotationEditorType.INK:Ae.push(ne.createNewAnnotation(ge,ye,me))}return{annotations:await Promise.all(Ae),dependencies:me}}static async printNewAnnotations(Q,ce,he){if(!he)return null;const ge=Q.xref,pe=[];for(const me of he)switch(me.annotationType){case s.AnnotationEditorType.FREETEXT:pe.push(q.createNewPrintAnnotation(ge,me,{evaluator:Q,task:ce}));break;case s.AnnotationEditorType.INK:pe.push(ne.createNewPrintAnnotation(ge,me))}return Promise.all(pe)}};function k(re,Q=new Uint8ClampedArray(3)){if(!Array.isArray(re))return Q;const ce=Q||new Uint8ClampedArray(3);switch(re.length){case 0:return null;case 1:return v.ColorSpace.singletons.gray.getRgbItem(re,0,ce,0),ce;case 3:return v.ColorSpace.singletons.rgb.getRgbItem(re,0,ce,0),ce;case 4:return v.ColorSpace.singletons.cmyk.getRgbItem(re,0,ce,0),ce;default:return Q}}function D(re,Q){if(!re.has("QuadPoints"))return null;const ce=re.getArray("QuadPoints");if(!Array.isArray(ce)||ce.length===0||ce.length%8>0)return null;const he=[];for(let ge=0,pe=ce.length/8;ge<pe;ge++){he.push([]);for(let me=8*ge,Ae=8*ge+8;me<Ae;me+=2){const ye=ce[me],xe=ce[me+1];if(Q!==null&&(ye<Q[0]||ye>Q[2]||xe<Q[1]||xe>Q[3]))return null;he[ge].push({x:ye,y:xe})}}return he.map(ge=>{const[pe,me,Ae,ye]=ge.reduce(([xe,Ce,we,ve],Se)=>[Math.min(xe,Se.x),Math.max(Ce,Se.x),Math.min(we,Se.y),Math.max(ve,Se.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:pe,y:ye},{x:me,y:ye},{x:pe,y:Ae},{x:me,y:Ae}]})}function V(re,Q,ce){const[he,ge,pe,me]=s.Util.getAxialAlignedBoundingBox(Q,ce);if(he===pe||ge===me)return[1,0,0,1,re[0],re[1]];const Ae=(re[2]-re[0])/(pe-he),ye=(re[3]-re[1])/(me-ge);return[Ae,0,0,ye,re[0]-he*Ae,re[1]-ge*ye]}class R{constructor(Q){const ce=Q.dict;this.setTitle(ce.get("T")),this.setContents(ce.get("Contents")),this.setModificationDate(ce.get("M")),this.setFlags(ce.get("F")),this.setRectangle(ce.getArray("Rect")),this.setColor(ce.getArray("C")),this.setBorderStyle(ce),this.setAppearance(ce),this.setOptionalContent(ce);const he=ce.get("MK");if(this.setBorderAndBackgroundColors(he),this.setRotation(he),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:Q.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:Q.subtype,hasOwnCanvas:!1},Q.collectFields){const ge=ce.get("Kids");if(Array.isArray(ge)){const pe=[];for(const me of ge)me instanceof p.Ref&&pe.push(me.toString());pe.length!==0&&(this.data.kidIds=pe)}this.data.actions=(0,g.collectActions)(Q.xref,ce,s.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(ce),this.data.pageIndex=Q.pageIndex}this._fallbackFontDict=null}_hasFlag(Q,ce){return!!(Q&ce)}_isViewable(Q){return!this._hasFlag(Q,s.AnnotationFlag.INVISIBLE)&&!this._hasFlag(Q,s.AnnotationFlag.NOVIEW)}_isPrintable(Q){return this._hasFlag(Q,s.AnnotationFlag.PRINT)&&!this._hasFlag(Q,s.AnnotationFlag.INVISIBLE)}mustBeViewed(Q){const ce=Q&&Q.get(this.data.id);return ce&&ce.hidden!==void 0?!ce.hidden:this.viewable&&!this._hasFlag(this.flags,s.AnnotationFlag.HIDDEN)}mustBePrinted(Q){const ce=Q&&Q.get(this.data.id);return ce&&ce.print!==void 0?ce.print:this.printable}get viewable(){return this.data.quadPoints!==null&&(this.flags===0||this._isViewable(this.flags))}get printable(){return this.data.quadPoints!==null&&this.flags!==0&&this._isPrintable(this.flags)}_parseStringHelper(Q){const ce=typeof Q=="string"?(0,s.stringToPDFString)(Q):"";return{str:ce,dir:ce&&(0,C.bidi)(ce).dir==="rtl"?"rtl":"ltr"}}setTitle(Q){this._title=this._parseStringHelper(Q)}setContents(Q){this._contents=this._parseStringHelper(Q)}setModificationDate(Q){this.modificationDate=typeof Q=="string"?Q:null}setFlags(Q){this.flags=Number.isInteger(Q)&&Q>0?Q:0}hasFlag(Q){return this._hasFlag(this.flags,Q)}setRectangle(Q){Array.isArray(Q)&&Q.length===4?this.rectangle=s.Util.normalizeRect(Q):this.rectangle=[0,0,0,0]}setColor(Q){this.color=k(Q)}setLineEndings(Q){if(this.lineEndings=["None","None"],Array.isArray(Q)&&Q.length===2)for(let ce=0;ce<2;ce++){const he=Q[ce];if(he instanceof p.Name)switch(he.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[ce]=he.name;continue}(0,s.warn)(`Ignoring invalid lineEnding: ${he}`)}}setRotation(Q){if(this.rotation=0,Q instanceof p.Dict){let ce=Q.get("R")||0;Number.isInteger(ce)&&ce!==0&&(ce%=360,ce<0&&(ce+=360),ce%90==0&&(this.rotation=ce))}}setBorderAndBackgroundColors(Q){Q instanceof p.Dict?(this.borderColor=k(Q.getArray("BC"),null),this.backgroundColor=k(Q.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(Q){if(this.borderStyle=new U,Q instanceof p.Dict)if(Q.has("BS")){const ce=Q.get("BS"),he=ce.get("Type");(!he||(0,p.isName)(he,"Border"))&&(this.borderStyle.setWidth(ce.get("W"),this.rectangle),this.borderStyle.setStyle(ce.get("S")),this.borderStyle.setDashArray(ce.getArray("D")))}else if(Q.has("Border")){const ce=Q.getArray("Border");Array.isArray(ce)&&ce.length>=3&&(this.borderStyle.setHorizontalCornerRadius(ce[0]),this.borderStyle.setVerticalCornerRadius(ce[1]),this.borderStyle.setWidth(ce[2],this.rectangle),ce.length===4&&this.borderStyle.setDashArray(ce[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(Q){this.appearance=null;const ce=Q.get("AP");if(!(ce instanceof p.Dict))return;const he=ce.get("N");if(he instanceof b.BaseStream){this.appearance=he;return}if(!(he instanceof p.Dict))return;const ge=Q.get("AS");ge instanceof p.Name&&he.has(ge.name)&&(this.appearance=he.get(ge.name))}setOptionalContent(Q){this.oc=null;const ce=Q.get("OC");ce instanceof p.Name?(0,s.warn)("setOptionalContent: Support for /Name-entry is not implemented."):ce instanceof p.Dict&&(this.oc=ce)}loadResources(Q,ce){return ce.dict.getAsync("Resources").then(he=>{if(he)return new y.ObjectLoader(he,Q,he.xref).load().then(function(){return he})})}async getOperatorList(Q,ce,he,ge,pe){const me=this.data;let Ae=this.appearance;const ye=!!(this.data.hasOwnCanvas&&he&s.RenderingIntentFlag.DISPLAY);if(!Ae){if(!ye)return{opList:new I.OperatorList,separateForm:!1,separateCanvas:!1};Ae=new P.StringStream(""),Ae.dict=new p.Dict}const xe=Ae.dict,Ce=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Ae),we=xe.getArray("BBox")||[0,0,1,1],ve=xe.getArray("Matrix")||[1,0,0,1,0,0],Se=V(me.rect,we,ve),_e=new I.OperatorList;let ke;return this.oc&&(ke=await Q.parseMarkedContentProps(this.oc,null)),ke!==void 0&&_e.addOp(s.OPS.beginMarkedContentProps,["OC",ke]),_e.addOp(s.OPS.beginAnnotation,[me.id,me.rect,Se,ve,ye]),await Q.getOperatorList({stream:Ae,task:ce,resources:Ce,operatorList:_e,fallbackFontDict:this._fallbackFontDict}),_e.addOp(s.OPS.endAnnotation,[]),ke!==void 0&&_e.addOp(s.OPS.endMarkedContent,[]),this.reset(),{opList:_e,separateForm:!1,separateCanvas:ye}}async save(Q,ce,he){return null}get hasTextContent(){return!1}async extractTextContent(Q,ce,he){if(!this.appearance)return;const ge=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),pe=[],me=[],Ae={desiredSize:Math.Infinity,ready:!0,enqueue(ye,xe){for(const Ce of ye.items)me.push(Ce.str),Ce.hasEOL&&(pe.push(me.join("")),me.length=0)}};await Q.getTextContent({stream:this.appearance,task:ce,resources:ge,includeMarkedContent:!0,combineTextItems:!0,sink:Ae,viewBox:he}),this.reset(),me.length&&pe.push(me.join("")),pe.length>0&&(this.data.textContent=pe)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const Q of this._streams)Q.reset()}_constructFieldName(Q){if(!Q.has("T")&&!Q.has("Parent"))return(0,s.warn)("Unknown field name, falling back to empty field name."),"";if(!Q.has("Parent"))return(0,s.stringToPDFString)(Q.get("T"));const ce=[];Q.has("T")&&ce.unshift((0,s.stringToPDFString)(Q.get("T")));let he=Q;const ge=new p.RefSet;for(Q.objId&&ge.put(Q.objId);he.has("Parent")&&(he=he.get("Parent"),!(!(he instanceof p.Dict)||he.objId&&ge.has(he.objId)));)he.objId&&ge.put(he.objId),he.has("T")&&ce.unshift((0,s.stringToPDFString)(he.get("T")));return ce.join(".")}}o.Annotation=R;class U{constructor(){this.width=1,this.style=s.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(Q,ce=[0,0,0,0]){if(Q instanceof p.Name)this.width=0;else if(typeof Q=="number"){if(Q>0){const he=(ce[2]-ce[0])/2,ge=(ce[3]-ce[1])/2;he>0&&ge>0&&(Q>he||Q>ge)&&((0,s.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${Q}`),Q=1)}this.width=Q}}setStyle(Q){if(Q instanceof p.Name)switch(Q.name){case"S":this.style=s.AnnotationBorderStyleType.SOLID;break;case"D":this.style=s.AnnotationBorderStyleType.DASHED;break;case"B":this.style=s.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=s.AnnotationBorderStyleType.INSET;break;case"U":this.style=s.AnnotationBorderStyleType.UNDERLINE}}setDashArray(Q,ce=!1){if(Array.isArray(Q)&&Q.length>0){let he=!0,ge=!0;for(const pe of Q){if(!(+pe>=0)){he=!1;break}pe>0&&(ge=!1)}he&&!ge?(this.dashArray=Q,ce&&this.setStyle(p.Name.get("D"))):this.width=0}else Q&&(this.width=0)}setHorizontalCornerRadius(Q){Number.isInteger(Q)&&(this.horizontalCornerRadius=Q)}setVerticalCornerRadius(Q){Number.isInteger(Q)&&(this.verticalCornerRadius=Q)}}o.AnnotationBorderStyle=U;class te extends R{constructor(Q){super(Q);const ce=Q.dict;if(ce.has("IRT")){const he=ce.getRaw("IRT");this.data.inReplyTo=he instanceof p.Ref?he.toString():null;const ge=ce.get("RT");this.data.replyType=ge instanceof p.Name?ge.name:s.AnnotationReplyType.REPLY}if(this.data.replyType===s.AnnotationReplyType.GROUP){const he=ce.get("IRT");this.setTitle(he.get("T")),this.data.titleObj=this._title,this.setContents(he.get("Contents")),this.data.contentsObj=this._contents,he.has("CreationDate")?(this.setCreationDate(he.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,he.has("M")?(this.setModificationDate(he.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=he.has("Popup"),he.has("C")?(this.setColor(he.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(ce.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=ce.has("Popup"),ce.has("C")||(this.data.color=null);ce.has("RC")&&(this.data.richText=_.XFAFactory.getRichTextAsHtml(ce.get("RC")))}setCreationDate(Q){this.creationDate=typeof Q=="string"?Q:null}_setDefaultAppearance({xref:Q,extra:ce,strokeColor:he,fillColor:ge,blendMode:pe,strokeAlpha:me,fillAlpha:Ae,pointsCallback:ye}){let xe=Number.MAX_VALUE,Ce=Number.MAX_VALUE,we=Number.MIN_VALUE,ve=Number.MIN_VALUE;const Se=["q"];ce&&Se.push(ce),he&&Se.push(`${he[0]} ${he[1]} ${he[2]} RG`),ge&&Se.push(`${ge[0]} ${ge[1]} ${ge[2]} rg`);let _e=this.data.quadPoints;_e||(_e=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Qe of _e){const[ot,Ne,Me,Pe]=ye(Se,Qe);xe=Math.min(xe,ot),we=Math.max(we,Ne),Ce=Math.min(Ce,Me),ve=Math.max(ve,Pe)}Se.push("Q");const ke=new p.Dict(Q),Fe=new p.Dict(Q);Fe.set("Subtype",p.Name.get("Form"));const je=new P.StringStream(Se.join(" "));je.dict=Fe,ke.set("Fm0",je);const Le=new p.Dict(Q);pe&&Le.set("BM",p.Name.get(pe)),typeof me=="number"&&Le.set("CA",me),typeof Ae=="number"&&Le.set("ca",Ae);const ze=new p.Dict(Q);ze.set("GS0",Le);const Re=new p.Dict(Q);Re.set("ExtGState",ze),Re.set("XObject",ke);const et=new p.Dict(Q);et.set("Resources",Re);const st=this.data.rect=[xe,Ce,we,ve];et.set("BBox",st),this.appearance=new P.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=et,this._streams.push(this.appearance,je)}static async createNewAnnotation(Q,ce,he,ge){const pe=Q.getNewRef(),me=Q.getNewRef(),Ae=this.createNewDict(ce,Q,{apRef:me}),ye=await this.createNewAppearanceStream(ce,Q,ge),xe=[];let Ce=Q.encrypt?Q.encrypt.createCipherTransform(me.num,me.gen):null;return(0,t.writeObject)(me,ye,xe,Ce),he.push({ref:me,data:xe.join("")}),xe.length=0,Ce=Q.encrypt?Q.encrypt.createCipherTransform(pe.num,pe.gen):null,(0,t.writeObject)(pe,Ae,xe,Ce),{ref:pe,data:xe.join("")}}static async createNewPrintAnnotation(Q,ce,he){const ge=await this.createNewAppearanceStream(ce,Q,he),pe=this.createNewDict(ce,Q,{ap:ge});return new this.prototype.constructor({dict:pe,xref:Q})}}o.MarkupAnnotation=te;class B extends R{constructor(Q){super(Q);const ce=Q.dict,he=this.data;this.ref=Q.ref,he.annotationType=s.AnnotationType.WIDGET,he.fieldName===void 0&&(he.fieldName=this._constructFieldName(ce)),he.actions===void 0&&(he.actions=(0,g.collectActions)(Q.xref,ce,s.AnnotationActionEventType));let ge=(0,g.getInheritableProperty)({dict:ce,key:"V",getArray:!0});he.fieldValue=this._decodeFormValue(ge);const pe=(0,g.getInheritableProperty)({dict:ce,key:"DV",getArray:!0});if(he.defaultFieldValue=this._decodeFormValue(pe),ge===void 0&&Q.xfaDatasets){const we=this._title.str;we&&(this._hasValueFromXFA=!0,he.fieldValue=ge=Q.xfaDatasets.getValue(we))}ge===void 0&&he.defaultFieldValue!==null&&(he.fieldValue=he.defaultFieldValue),he.alternativeText=(0,s.stringToPDFString)(ce.get("TU")||"");const me=(0,g.getInheritableProperty)({dict:ce,key:"DA"})||Q.acroForm.get("DA");this._defaultAppearance=typeof me=="string"?me:"",he.defaultAppearanceData=(0,m.parseDefaultAppearance)(this._defaultAppearance);const Ae=(0,g.getInheritableProperty)({dict:ce,key:"FT"});he.fieldType=Ae instanceof p.Name?Ae.name:null;const ye=(0,g.getInheritableProperty)({dict:ce,key:"DR"}),xe=Q.acroForm.get("DR"),Ce=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:ye,acroFormResources:xe,appearanceResources:Ce,mergedResources:p.Dict.merge({xref:Q.xref,dictArray:[ye,Ce,xe],mergeSubDicts:!0})},he.fieldFlags=(0,g.getInheritableProperty)({dict:ce,key:"Ff"}),(!Number.isInteger(he.fieldFlags)||he.fieldFlags<0)&&(he.fieldFlags=0),he.readOnly=this.hasFieldFlag(s.AnnotationFieldFlag.READONLY),he.required=this.hasFieldFlag(s.AnnotationFieldFlag.REQUIRED),he.hidden=this._hasFlag(he.annotationFlags,s.AnnotationFlag.HIDDEN)}_decodeFormValue(Q){return Array.isArray(Q)?Q.filter(ce=>typeof ce=="string").map(ce=>(0,s.stringToPDFString)(ce)):Q instanceof p.Name?(0,s.stringToPDFString)(Q.name):typeof Q=="string"?(0,s.stringToPDFString)(Q):null}hasFieldFlag(Q){return!!(this.data.fieldFlags&Q)}static _getRotationMatrix(Q,ce,he){switch(Q){case 90:return[0,1,-1,0,ce,0];case 180:return[-1,0,0,-1,ce,he];case 270:return[0,-1,1,0,0,he];default:throw new Error("Invalid rotation")}}getRotationMatrix(Q){const ce=Q?Q.get(this.data.id):void 0;let he=ce&&ce.rotation;if(he===void 0&&(he=this.rotation),he===0)return s.IDENTITY_MATRIX;const ge=this.data.rect[2]-this.data.rect[0],pe=this.data.rect[3]-this.data.rect[1];return B._getRotationMatrix(he,ge,pe)}getBorderAndBackgroundAppearances(Q){const ce=Q?Q.get(this.data.id):void 0;let he=ce&&ce.rotation;if(he===void 0&&(he=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const ge=this.data.rect[2]-this.data.rect[0],pe=this.data.rect[3]-this.data.rect[1],me=he===0||he===180?`0 0 ${ge} ${pe} re`:`0 0 ${pe} ${ge} re`;let Ae="";return this.backgroundColor&&(Ae=`${(0,m.getPdfColor)(this.backgroundColor,!0)} ${me} f `),this.borderColor&&(Ae+=`${this.borderStyle.width||1} w ${(0,m.getPdfColor)(this.borderColor,!1)} ${me} S `),Ae}async getOperatorList(Q,ce,he,ge,pe){if(ge&&!(this instanceof L))return{opList:new I.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(Q,ce,he,ge,pe);const me=await this._getAppearance(Q,ce,pe);if(this.appearance&&me===null)return super.getOperatorList(Q,ce,he,ge,pe);const Ae=new I.OperatorList;if(!this._defaultAppearance||me===null)return{opList:Ae,separateForm:!1,separateCanvas:!1};const ye=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],xe=V(this.data.rect,ye,[1,0,0,1,0,0]);let Ce;this.oc&&(Ce=await Q.parseMarkedContentProps(this.oc,null)),Ce!==void 0&&Ae.addOp(s.OPS.beginMarkedContentProps,["OC",Ce]),Ae.addOp(s.OPS.beginAnnotation,[this.data.id,this.data.rect,xe,this.getRotationMatrix(pe),!1]);const we=new P.StringStream(me);return await Q.getOperatorList({stream:we,task:ce,resources:this._fieldResources.mergedResources,operatorList:Ae}),Ae.addOp(s.OPS.endAnnotation,[]),Ce!==void 0&&Ae.addOp(s.OPS.endMarkedContent,[]),{opList:Ae,separateForm:!1,separateCanvas:!1}}_getMKDict(Q){const ce=new p.Dict(null);return Q&&ce.set("R",Q),this.borderColor&&ce.set("BC",Array.from(this.borderColor).map(he=>he/255)),this.backgroundColor&&ce.set("BG",Array.from(this.backgroundColor).map(he=>he/255)),ce.size>0?ce:null}async save(Q,ce,he){const ge=he?he.get(this.data.id):void 0;let pe=ge&&ge.value,me=ge&&ge.rotation;if(pe===this.data.fieldValue||pe===void 0){if(!this._hasValueFromXFA&&me===void 0)return null;pe=pe||this.data.fieldValue}if(me===void 0&&!this._hasValueFromXFA&&Array.isArray(pe)&&Array.isArray(this.data.fieldValue)&&pe.length===this.data.fieldValue.length&&pe.every((Qe,ot)=>Qe===this.data.fieldValue[ot]))return null;me===void 0&&(me=this.rotation);let Ae=await this._getAppearance(Q,ce,he);if(Ae===null)return null;const{xref:ye}=Q,xe=ye.fetchIfRef(this.ref);if(!(xe instanceof p.Dict))return null;const Ce=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],we={path:(0,s.stringToPDFString)(xe.get("T")||""),value:pe},ve=ye.getNewRef(),Se=new p.Dict(ye);Se.set("N",ve);const _e=ye.encrypt;let ke=null,Fe=null;_e&&(ke=_e.createCipherTransform(this.ref.num,this.ref.gen),Fe=_e.createCipherTransform(ve.num,ve.gen),Ae=Fe.encryptString(Ae));const je=Qe=>(0,s.isAscii)(Qe)?Qe:(0,s.stringToUTF16BEString)(Qe);xe.set("V",Array.isArray(pe)?pe.map(je):je(pe)),xe.set("AP",Se),xe.set("M",`D:${(0,s.getModificationDate)()}`);const Le=this._getMKDict(me);Le&&xe.set("MK",Le);const ze=new p.Dict(ye);ze.set("Length",Ae.length),ze.set("Subtype",p.Name.get("Form")),ze.set("Resources",this._getSaveFieldResources(ye)),ze.set("BBox",Ce);const Re=this.getRotationMatrix(he);Re!==s.IDENTITY_MATRIX&&ze.set("Matrix",Re);const et=[`${this.ref.num} ${this.ref.gen} obj
`];(0,t.writeDict)(xe,et,ke),et.push(`
endobj
`);const st=[`${ve.num} ${ve.gen} obj
`];return(0,t.writeDict)(ze,st,Fe),st.push(` stream
`,Ae,`
endstream
endobj
`),[{ref:this.ref,data:et.join(""),xfa:we},{ref:ve,data:st.join(""),xfa:null}]}async _getAppearance(Q,ce,he){if(this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD))return null;const ge=he?he.get(this.data.id):void 0;let pe,me;if(ge&&(pe=ge.formattedValue||ge.value,me=ge.rotation),me===void 0&&pe===void 0&&(!this._hasValueFromXFA||this.appearance))return null;if(pe===void 0&&(pe=this.data.fieldValue,!pe)||(Array.isArray(pe)&&pe.length===1&&(pe=pe[0]),(0,s.assert)(typeof pe=="string","Expected `value` to be a string."),pe=pe.trim(),pe===""))return"";me===void 0&&(me=this.rotation);let Ae=-1;this.data.multiLine&&(Ae=pe.split(/\r\n|\r|\n/).length);let ye=this.data.rect[3]-this.data.rect[1],xe=this.data.rect[2]-this.data.rect[0];me!==90&&me!==270||([xe,ye]=[ye,xe]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,m.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Ce=await B._getFontData(Q,ce,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[we,ve]=this._computeFontSize(ye-2,xe-4,pe,Ce,Ae);let Se=Ce.descent;isNaN(Se)&&(Se=0);const _e=Math.min(Math.floor((ye-ve)/2),2)+Math.abs(Se)*ve,ke=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(we,pe,Ce,ve,xe,ye,ke,2,_e,he);const Fe=Ce.encodeString(pe).join("");if(this.data.comb)return this._getCombAppearance(we,Ce,Fe,xe,2,_e,he);const je=this.getBorderAndBackgroundAppearances(he);return ke===0||ke>2?`/Tx BMC q ${je}BT `+we+` 1 0 0 1 2 ${_e} Tm (${(0,s.escapeString)(Fe)}) Tj ET Q EMC`:`/Tx BMC q ${je}BT `+we+` 1 0 0 1 0 0 Tm ${this._renderText(Fe,Ce,ve,xe,ke,2,_e)} ET Q EMC`}static async _getFontData(Q,ce,he,ge){const pe=new I.OperatorList,me={font:null,clone(){return this}},{fontName:Ae,fontSize:ye}=he;return await Q.handleSetFont(ge,[Ae&&p.Name.get(Ae),ye],null,pe,ce,me,null),me.font}_getTextWidth(Q,ce){return ce.charsToGlyphs(Q).reduce((he,ge)=>he+ge.width,0)/1e3}_computeFontSize(Q,ce,he,ge,pe){let{fontSize:me}=this.data.defaultAppearanceData;if(!me){const Ae=Ce=>Math.floor(100*Ce)/100;if(pe===-1){const Ce=this._getTextWidth(he,ge);me=Ae(Math.min(Q/s.LINE_FACTOR,ce/Ce))}else{const Ce=he.split(/\r\n?|\n/),we=[];for(const ke of Ce){const Fe=ge.encodeString(ke).join(""),je=ge.charsToGlyphs(Fe),Le=ge.getCharPositions(Fe);we.push({line:Fe,glyphs:je,positions:Le})}const ve=ke=>{let Fe=0;for(const je of we)if(Fe+=this._splitLine(null,ge,ke,ce,je).length*ke,Fe>Q)return!0;return!1};me=12;let Se=me*s.LINE_FACTOR,_e=Math.round(Q/Se);for(_e=Math.max(_e,pe);Se=Q/_e,me=Ae(Se/s.LINE_FACTOR),!!ve(me);)_e++}const{fontName:ye,fontColor:xe}=this.data.defaultAppearanceData;this._defaultAppearance=(0,m.createDefaultAppearance)({fontSize:me,fontName:ye,fontColor:xe})}return[this._defaultAppearance,me]}_renderText(Q,ce,he,ge,pe,me,Ae){let ye;return pe===1?ye=(ge-this._getTextWidth(Q,ce)*he)/2:pe===2?ye=ge-this._getTextWidth(Q,ce)*he-me:ye=me,ye=(0,g.numberToString)(ye),`${ye} ${Ae=(0,g.numberToString)(Ae)} Td (${(0,s.escapeString)(Q)}) Tj`}_getSaveFieldResources(Q){const{localResources:ce,appearanceResources:he,acroFormResources:ge}=this._fieldResources,pe=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!pe)return ce||p.Dict.empty;for(const me of[ce,he])if(me instanceof p.Dict){const Ae=me.get("Font");if(Ae instanceof p.Dict&&Ae.has(pe))return me}if(ge instanceof p.Dict){const me=ge.get("Font");if(me instanceof p.Dict&&me.has(pe)){const Ae=new p.Dict(Q);Ae.set(pe,me.getRaw(pe));const ye=new p.Dict(Q);return ye.set("Font",Ae),p.Dict.merge({xref:Q,dictArray:[ye,ce],mergeSubDicts:!0})}}return ce||p.Dict.empty}getFieldObject(){return null}}class j extends B{constructor(Q){super(Q),this._hasText=!0;const ce=Q.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let he=(0,g.getInheritableProperty)({dict:ce,key:"Q"});(!Number.isInteger(he)||he<0||he>2)&&(he=null),this.data.textAlignment=he;let ge=(0,g.getInheritableProperty)({dict:ce,key:"MaxLen"});(!Number.isInteger(ge)||ge<0)&&(ge=0),this.data.maxLen=ge,this.data.multiLine=this.hasFieldFlag(s.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(s.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(s.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(s.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(s.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(Q,ce,he,ge,pe,me,Ae){const ye=(0,g.numberToString)(ge/this.data.maxLen),xe=[],Ce=ce.getCharPositions(he);for(const[we,ve]of Ce)xe.push(`(${(0,s.escapeString)(he.substring(we,ve))}) Tj`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(Ae)}BT `+Q+` 1 0 0 1 ${pe} ${me} Tm ${xe.join(` ${ye} 0 Td `)} ET Q EMC`}_getMultilineAppearance(Q,ce,he,ge,pe,me,Ae,ye,xe,Ce){const we=ce.split(/\r\n?|\n/),ve=[],Se=pe-2*ye;for(const ke of we){const Fe=this._splitLine(ke,he,ge,Se);for(const je of Fe){const Le=ve.length===0?ye:0;ve.push(this._renderText(je,he,ge,pe,Ae,Le,-ge))}}const _e=ve.join(`
`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(Ce)}BT `+Q+` 1 0 0 1 0 ${me} Tm ${_e} ET Q EMC`}_splitLine(Q,ce,he,ge,pe={}){Q=pe.line||ce.encodeString(Q).join("");const me=pe.glyphs||ce.charsToGlyphs(Q);if(me.length<=1)return[Q];const Ae=pe.positions||ce.getCharPositions(Q),ye=he/1e3,xe=[];let Ce=-1,we=-1,ve=-1,Se=0,_e=0;for(let ke=0,Fe=me.length;ke<Fe;ke++){const[je,Le]=Ae[ke],ze=me[ke],Re=ze.width*ye;ze.unicode===" "?_e+Re>ge?(xe.push(Q.substring(Se,je)),Se=je,_e=Re,Ce=-1,ve=-1):(_e+=Re,Ce=je,we=Le,ve=ke):_e+Re>ge?Ce!==-1?(xe.push(Q.substring(Se,we)),Se=we,ke=ve+1,Ce=-1,_e=0):(xe.push(Q.substring(Se,je)),Se=je,_e=Re):_e+=Re}return Se<Q.length&&xe.push(Q.substring(Se,Q.length)),xe}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class ie extends B{constructor(Q){super(Q),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(s.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(s.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(Q):this.data.radioButton?this._processRadioButton(Q):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(Q)):(0,s.warn)("Invalid field flags for button widget annotation")}async getOperatorList(Q,ce,he,ge,pe){if(this.data.pushButton)return super.getOperatorList(Q,ce,he,!1,pe);let me=null,Ae=null;if(pe){const xe=pe.get(this.data.id);me=xe?xe.value:null,Ae=xe?xe.rotation:null}if(me===null&&this.appearance)return super.getOperatorList(Q,ce,he,ge,pe);me==null&&(me=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const ye=me?this.checkedAppearance:this.uncheckedAppearance;if(ye){const xe=this.appearance,Ce=ye.dict.getArray("Matrix")||s.IDENTITY_MATRIX;Ae&&ye.dict.set("Matrix",this.getRotationMatrix(pe)),this.appearance=ye;const we=super.getOperatorList(Q,ce,he,ge,pe);return this.appearance=xe,ye.dict.set("Matrix",Ce),we}return{opList:new I.OperatorList,separateForm:!1,separateCanvas:!1}}async save(Q,ce,he){return this.data.checkBox?this._saveCheckbox(Q,ce,he):this.data.radioButton?this._saveRadioButton(Q,ce,he):null}async _saveCheckbox(Q,ce,he){if(!he)return null;const ge=he.get(this.data.id);let pe=ge&&ge.rotation,me=ge&&ge.value;if(pe===void 0&&(me===void 0||this.data.fieldValue===this.data.exportValue===me))return null;const Ae=Q.xref.fetchIfRef(this.ref);if(!(Ae instanceof p.Dict))return null;pe===void 0&&(pe=this.rotation),me===void 0&&(me=this.data.fieldValue===this.data.exportValue);const ye={path:(0,s.stringToPDFString)(Ae.get("T")||""),value:me?this.data.exportValue:""},xe=p.Name.get(me?this.data.exportValue:"Off");Ae.set("V",xe),Ae.set("AS",xe),Ae.set("M",`D:${(0,s.getModificationDate)()}`);const Ce=this._getMKDict(pe);Ce&&Ae.set("MK",Ce);const we=Q.xref.encrypt;let ve=null;we&&(ve=we.createCipherTransform(this.ref.num,this.ref.gen));const Se=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,t.writeDict)(Ae,Se,ve),Se.push(`
endobj
`),[{ref:this.ref,data:Se.join(""),xfa:ye}]}async _saveRadioButton(Q,ce,he){if(!he)return null;const ge=he.get(this.data.id);let pe=ge&&ge.rotation,me=ge&&ge.value;if(pe===void 0&&(me===void 0||this.data.fieldValue===this.data.buttonValue===me))return null;const Ae=Q.xref.fetchIfRef(this.ref);if(!(Ae instanceof p.Dict))return null;me===void 0&&(me=this.data.fieldValue===this.data.buttonValue),pe===void 0&&(pe=this.rotation);const ye={path:(0,s.stringToPDFString)(Ae.get("T")||""),value:me?this.data.buttonValue:""},xe=p.Name.get(me?this.data.buttonValue:"Off");let Ce=null;const we=Q.xref.encrypt;if(me)if(this.parent instanceof p.Ref){const Fe=Q.xref.fetch(this.parent);let je=null;we&&(je=we.createCipherTransform(this.parent.num,this.parent.gen)),Fe.set("V",xe),Ce=[`${this.parent.num} ${this.parent.gen} obj
`],(0,t.writeDict)(Fe,Ce,je),Ce.push(`
endobj
`)}else this.parent instanceof p.Dict&&this.parent.set("V",xe);Ae.set("AS",xe),Ae.set("M",`D:${(0,s.getModificationDate)()}`);const ve=this._getMKDict(pe);ve&&Ae.set("MK",ve);let Se=null;we&&(Se=we.createCipherTransform(this.ref.num,this.ref.gen));const _e=[`${this.ref.num} ${this.ref.gen} obj
`];(0,t.writeDict)(Ae,_e,Se),_e.push(`
endobj
`);const ke=[{ref:this.ref,data:_e.join(""),xfa:ye}];return Ce!==null&&ke.push({ref:this.parent,data:Ce.join(""),xfa:null}),ke}_getDefaultCheckedAppearance(Q,ce){const he=this.data.rect[2]-this.data.rect[0],ge=this.data.rect[3]-this.data.rect[1],pe=[0,0,he,ge],me=.8*Math.min(he,ge);let Ae,ye;ce==="check"?(Ae={width:.755*me,height:.705*me},ye="3"):ce==="disc"?(Ae={width:.791*me,height:.705*me},ye="l"):(0,s.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${ce}`);const xe=`q BT /PdfJsZaDb ${me} Tf 0 g ${(0,g.numberToString)((he-Ae.width)/2)} ${(0,g.numberToString)((ge-Ae.height)/2)} Td (${ye}) Tj ET Q`,Ce=new p.Dict(Q.xref);Ce.set("FormType",1),Ce.set("Subtype",p.Name.get("Form")),Ce.set("Type",p.Name.get("XObject")),Ce.set("BBox",pe),Ce.set("Matrix",[1,0,0,1,0,0]),Ce.set("Length",xe.length);const we=new p.Dict(Q.xref),ve=new p.Dict(Q.xref);ve.set("PdfJsZaDb",this.fallbackFontDict),we.set("Font",ve),Ce.set("Resources",we),this.checkedAppearance=new P.StringStream(xe),this.checkedAppearance.dict=Ce,this._streams.push(this.checkedAppearance)}_processCheckBox(Q){const ce=Q.dict.get("AP");if(!(ce instanceof p.Dict))return;const he=ce.get("N");if(!(he instanceof p.Dict))return;const ge=this._decodeFormValue(Q.dict.get("AS"));typeof ge=="string"&&(this.data.fieldValue=ge);const pe=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",me=he.getKeys();if(me.length===0)me.push("Off",pe);else if(me.length===1)me[0]==="Off"?me.push(pe):me.unshift("Off");else if(me.includes(pe))me.length=0,me.push("Off",pe);else{const Ae=me.find(ye=>ye!=="Off");me.length=0,me.push("Off",Ae)}me.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=me[1],this.checkedAppearance=he.get(this.data.exportValue)||null,this.uncheckedAppearance=he.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Q,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(Q){this.data.fieldValue=this.data.buttonValue=null;const ce=Q.dict.get("Parent");if(ce instanceof p.Dict){this.parent=Q.dict.getRaw("Parent");const pe=ce.get("V");pe instanceof p.Name&&(this.data.fieldValue=this._decodeFormValue(pe))}const he=Q.dict.get("AP");if(!(he instanceof p.Dict))return;const ge=he.get("N");if(ge instanceof p.Dict){for(const pe of ge.getKeys())if(pe!=="Off"){this.data.buttonValue=this._decodeFormValue(pe);break}this.checkedAppearance=ge.get(this.data.buttonValue)||null,this.uncheckedAppearance=ge.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Q,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(Q){Q.dict.has("A")||Q.dict.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!Q.dict.has("A")&&!Q.dict.has("AA"),w.Catalog.parseDestDictionary({destDict:Q.dict,resultObj:this.data,docBaseUrl:Q.pdfManager.docBaseUrl})):(0,s.warn)("Push buttons without action dictionaries are not supported")}getFieldObject(){let Q,ce="button";return this.data.checkBox?(ce="checkbox",Q=this.data.exportValue):this.data.radioButton&&(ce="radiobutton",Q=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:Q,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:ce}}get fallbackFontDict(){const Q=new p.Dict;return Q.set("BaseFont",p.Name.get("ZapfDingbats")),Q.set("Type",p.Name.get("FallbackType")),Q.set("Subtype",p.Name.get("FallbackType")),Q.set("Encoding",p.Name.get("ZapfDingbatsEncoding")),(0,s.shadow)(this,"fallbackFontDict",Q)}}class E extends B{constructor(Q){super(Q),this.data.options=[];const ce=(0,g.getInheritableProperty)({dict:Q.dict,key:"Opt"});if(Array.isArray(ce)){const he=Q.xref;for(let ge=0,pe=ce.length;ge<pe;ge++){const me=he.fetchIfRef(ce[ge]),Ae=Array.isArray(me);this.data.options[ge]={exportValue:this._decodeFormValue(Ae?he.fetchIfRef(me[0]):me),displayValue:this._decodeFormValue(Ae?he.fetchIfRef(me[1]):me)}}}typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(s.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(s.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const Q=this.data.combo?"combobox":"listbox",ce=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:ce,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Q}}async _getAppearance(Q,ce,he){if(this.data.combo)return super._getAppearance(Q,ce,he);if(!he)return null;const ge=he.get(this.data.id);if(!ge)return null;const pe=ge.rotation;let me=ge.value;if(pe===void 0&&me===void 0)return null;me===void 0?me=this.data.fieldValue:Array.isArray(me)||(me=[me]);let Ae=this.data.rect[3]-this.data.rect[1],ye=this.data.rect[2]-this.data.rect[0];pe!==90&&pe!==270||([ye,Ae]=[Ae,ye]);const xe=this.data.options.length,Ce=[];for(let Re=0;Re<xe;Re++){const{exportValue:et}=this.data.options[Re];me.includes(et)&&Ce.push(Re)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,m.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const we=await B._getFontData(Q,ce,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let ve,{fontSize:Se}=this.data.defaultAppearanceData;if(Se)ve=this._defaultAppearance;else{const Re=(Ae-2)/xe;let et,st=-1;for(const{displayValue:Qe}of this.data.options){const ot=this._getTextWidth(Qe,we);ot>st&&(st=ot,et=Qe)}[ve,Se]=this._computeFontSize(Re,ye-4,et,we,-1)}const _e=Se*s.LINE_FACTOR,ke=(_e-Se)/2,Fe=Math.floor(Ae/_e);let je;if(Ce.length===1){const Re=Ce[0];je=Re-Re%Fe}else je=Ce.length?Ce[0]:0;const Le=Math.min(je+Fe+1,xe),ze=["/Tx BMC q",`1 1 ${ye} ${Ae} re W n`];if(Ce.length){ze.push("0.600006 0.756866 0.854904 rg");for(const Re of Ce)je<=Re&&Re<Le&&ze.push(`1 ${Ae-(Re-je+1)*_e} ${ye} ${_e} re f`)}ze.push("BT",ve,`1 0 0 1 0 ${Ae} Tm`);for(let Re=je;Re<Le;Re++){const{displayValue:et}=this.data.options[Re],st=Re===je?2:0,Qe=Re===je?ke:0;ze.push(this._renderText(et,we,Se,ye,0,st,-_e+Qe))}return ze.push("ET Q EMC"),ze.join(`
`)}}class L extends B{constructor(Q){super(Q),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class ee extends te{constructor(Q){super(Q);const ce=Q.dict;this.data.annotationType=s.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=ce.has("Name")?ce.get("Name").name:"Note"),ce.has("State")?(this.data.state=ce.get("State")||null,this.data.stateModel=ce.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class J extends R{constructor(Q){super(Q),this.data.annotationType=s.AnnotationType.LINK;const ce=D(Q.dict,this.rectangle);ce&&(this.data.quadPoints=ce),this.data.borderColor=this.data.borderColor||this.data.color,w.Catalog.parseDestDictionary({destDict:Q.dict,resultObj:this.data,docBaseUrl:Q.pdfManager.docBaseUrl})}}class Y extends R{constructor(Q){super(Q),this.data.annotationType=s.AnnotationType.POPUP;let ce=Q.dict.get("Parent");if(!ce){(0,s.warn)("Popup annotation has a missing or invalid parent annotation.");return}const he=ce.get("Subtype");this.data.parentType=he instanceof p.Name?he.name:null;const ge=Q.dict.getRaw("Parent");this.data.parentId=ge instanceof p.Ref?ge.toString():null;const pe=ce.getArray("Rect");Array.isArray(pe)&&pe.length===4?this.data.parentRect=s.Util.normalizeRect(pe):this.data.parentRect=[0,0,0,0];const me=ce.get("RT");if((0,p.isName)(me,s.AnnotationReplyType.GROUP)&&(ce=ce.get("IRT")),ce.has("M")?(this.setModificationDate(ce.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,ce.has("C")?(this.setColor(ce.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Ae=ce.get("F");this._isViewable(Ae)&&this.setFlags(Ae)}this.setTitle(ce.get("T")),this.data.titleObj=this._title,this.setContents(ce.get("Contents")),this.data.contentsObj=this._contents,ce.has("RC")&&(this.data.richText=_.XFAFactory.getRichTextAsHtml(ce.get("RC")))}}o.PopupAnnotation=Y;class q extends te{constructor(Q){super(Q),this.data.annotationType=s.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(Q,ce,{apRef:he,ap:ge}){const{color:pe,fontSize:me,rect:Ae,rotation:ye,user:xe,value:Ce}=Q,we=new p.Dict(ce);we.set("Type",p.Name.get("Annot")),we.set("Subtype",p.Name.get("FreeText")),we.set("CreationDate",`D:${(0,s.getModificationDate)()}`),we.set("Rect",Ae);const ve=`/Helv ${me} Tf ${(0,m.getPdfColor)(pe,!0)}`;we.set("DA",ve),we.set("Contents",Ce),we.set("F",4),we.set("Border",[0,0,0]),we.set("Rotate",ye),xe&&we.set("T",(0,s.stringToUTF8String)(xe));const Se=new p.Dict(ce);return we.set("AP",Se),he?Se.set("N",he):Se.set("N",ge),we}static async createNewAppearanceStream(Q,ce,he){const{baseFontRef:ge,evaluator:pe,task:me}=he,{color:Ae,fontSize:ye,rect:xe,rotation:Ce,value:we}=Q,ve=new p.Dict(ce),Se=new p.Dict(ce);if(ge)Se.set("Helv",ge);else{const Ie=new p.Dict(ce);Ie.set("BaseFont",p.Name.get("Helvetica")),Ie.set("Type",p.Name.get("Font")),Ie.set("Subtype",p.Name.get("Type1")),Ie.set("Encoding",p.Name.get("WinAnsiEncoding")),Se.set("Helv",Ie)}ve.set("Font",Se);const _e=await B._getFontData(pe,me,{fontName:"Helvetica",fontSize:ye},ve),[ke,Fe,je,Le]=xe;let ze=je-ke,Re=Le-Fe;Ce%180!=0&&([ze,Re]=[Re,ze]);const et=we.split(`
`),st=ye/1e3;let Qe=-1/0;const ot=[];for(let Ie of et){Ie=_e.encodeString(Ie).join(""),ot.push(Ie);let qe=0;const Xe=_e.charsToGlyphs(Ie);for(const Ve of Xe)qe+=Ve.width*st;Qe=Math.max(Qe,qe)}let Ne=1;Qe>ze&&(Ne=ze/Qe);let Me=1;const Pe=s.LINE_FACTOR*ye,Ue=s.LINE_DESCENT_FACTOR*ye,Ge=Pe*et.length;Ge>Re&&(Me=Re/Ge);const Ye=ye*Math.min(Ne,Me),We=["q",`0 0 ${(0,g.numberToString)(ze)} ${(0,g.numberToString)(Re)} re W n`,"BT",`1 0 0 1 0 ${(0,g.numberToString)(Re+Ue)} Tm 0 Tc ${(0,m.getPdfColor)(Ae,!0)}`,`/Helv ${(0,g.numberToString)(Ye)} Tf`],Ze=(0,g.numberToString)(Pe);for(const Ie of ot)We.push(`0 -${Ze} Td (${(0,s.escapeString)(Ie)}) Tj`);We.push("ET","Q");const Ke=We.join(`
`),Oe=new p.Dict(ce);if(Oe.set("FormType",1),Oe.set("Subtype",p.Name.get("Form")),Oe.set("Type",p.Name.get("XObject")),Oe.set("BBox",[0,0,ze,Re]),Oe.set("Length",Ke.length),Oe.set("Resources",ve),Ce){const Ie=B._getRotationMatrix(Ce,ze,Re);Oe.set("Matrix",Ie)}const De=new P.StringStream(Ke);return De.dict=Oe,De}}class F extends te{constructor(Q){super(Q);const{dict:ce}=Q;this.data.annotationType=s.AnnotationType.LINE;const he=ce.getArray("L");if(this.data.lineCoordinates=s.Util.normalizeRect(he),this.setLineEndings(ce.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const ge=this.color?Array.from(this.color).map(ve=>ve/255):[0,0,0],pe=ce.get("CA");let me=null,Ae=ce.getArray("IC");Ae&&(Ae=k(Ae,null),me=Ae?Array.from(Ae).map(ve=>ve/255):null);const ye=me?pe:null,xe=this.borderStyle.width||1,Ce=2*xe,we=[this.data.lineCoordinates[0]-Ce,this.data.lineCoordinates[1]-Ce,this.data.lineCoordinates[2]+Ce,this.data.lineCoordinates[3]+Ce];s.Util.intersect(this.rectangle,we)||(this.rectangle=we),this._setDefaultAppearance({xref:Q.xref,extra:`${xe} w`,strokeColor:ge,fillColor:me,strokeAlpha:pe,fillAlpha:ye,pointsCallback:(ve,Se)=>(ve.push(`${he[0]} ${he[1]} m`,`${he[2]} ${he[3]} l`,"S"),[Se[0].x-xe,Se[1].x+xe,Se[3].y-xe,Se[1].y+xe])})}}}class O extends te{constructor(Q){if(super(Q),this.data.annotationType=s.AnnotationType.SQUARE,!this.appearance){const ce=this.color?Array.from(this.color).map(Ae=>Ae/255):[0,0,0],he=Q.dict.get("CA");let ge=null,pe=Q.dict.getArray("IC");pe&&(pe=k(pe,null),ge=pe?Array.from(pe).map(Ae=>Ae/255):null);const me=ge?he:null;if(this.borderStyle.width===0&&!ge)return;this._setDefaultAppearance({xref:Q.xref,extra:`${this.borderStyle.width} w`,strokeColor:ce,fillColor:ge,strokeAlpha:he,fillAlpha:me,pointsCallback:(Ae,ye)=>{const xe=ye[2].x+this.borderStyle.width/2,Ce=ye[2].y+this.borderStyle.width/2,we=ye[3].x-ye[2].x-this.borderStyle.width,ve=ye[1].y-ye[3].y-this.borderStyle.width;return Ae.push(`${xe} ${Ce} ${we} ${ve} re`),ge?Ae.push("B"):Ae.push("S"),[ye[0].x,ye[1].x,ye[3].y,ye[1].y]}})}}}class Z extends te{constructor(Q){if(super(Q),this.data.annotationType=s.AnnotationType.CIRCLE,!this.appearance){const ce=this.color?Array.from(this.color).map(ye=>ye/255):[0,0,0],he=Q.dict.get("CA");let ge=null,pe=Q.dict.getArray("IC");pe&&(pe=k(pe,null),ge=pe?Array.from(pe).map(ye=>ye/255):null);const me=ge?he:null;if(this.borderStyle.width===0&&!ge)return;const Ae=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:Q.xref,extra:`${this.borderStyle.width} w`,strokeColor:ce,fillColor:ge,strokeAlpha:he,fillAlpha:me,pointsCallback:(ye,xe)=>{const Ce=xe[0].x+this.borderStyle.width/2,we=xe[0].y-this.borderStyle.width/2,ve=xe[3].x-this.borderStyle.width/2,Se=xe[3].y+this.borderStyle.width/2,_e=Ce+(ve-Ce)/2,ke=we+(Se-we)/2,Fe=(ve-Ce)/2*Ae,je=(Se-we)/2*Ae;return ye.push(`${_e} ${Se} m`,`${_e+Fe} ${Se} ${ve} ${ke+je} ${ve} ${ke} c`,`${ve} ${ke-je} ${_e+Fe} ${we} ${_e} ${we} c`,`${_e-Fe} ${we} ${Ce} ${ke-je} ${Ce} ${ke} c`,`${Ce} ${ke+je} ${_e-Fe} ${Se} ${_e} ${Se} c`,"h"),ge?ye.push("B"):ye.push("S"),[xe[0].x,xe[1].x,xe[3].y,xe[1].y]}})}}}class se extends te{constructor(Q){super(Q);const{dict:ce}=Q;this.data.annotationType=s.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof $||(this.setLineEndings(ce.getArray("LE")),this.data.lineEndings=this.lineEndings);const he=ce.getArray("Vertices");if(Array.isArray(he)){for(let ge=0,pe=he.length;ge<pe;ge+=2)this.data.vertices.push({x:he[ge],y:he[ge+1]});if(!this.appearance){const ge=this.color?Array.from(this.color).map(xe=>xe/255):[0,0,0],pe=ce.get("CA"),me=this.borderStyle.width||1,Ae=2*me,ye=[1/0,1/0,-1/0,-1/0];for(const xe of this.data.vertices)ye[0]=Math.min(ye[0],xe.x-Ae),ye[1]=Math.min(ye[1],xe.y-Ae),ye[2]=Math.max(ye[2],xe.x+Ae),ye[3]=Math.max(ye[3],xe.y+Ae);s.Util.intersect(this.rectangle,ye)||(this.rectangle=ye),this._setDefaultAppearance({xref:Q.xref,extra:`${me} w`,strokeColor:ge,strokeAlpha:pe,pointsCallback:(xe,Ce)=>{const we=this.data.vertices;for(let ve=0,Se=we.length;ve<Se;ve++)xe.push(`${we[ve].x} ${we[ve].y} ${ve===0?"m":"l"}`);return xe.push("S"),[Ce[0].x,Ce[1].x,Ce[3].y,Ce[1].y]}})}}}}class $ extends se{constructor(Q){super(Q),this.data.annotationType=s.AnnotationType.POLYGON}}class X extends te{constructor(Q){super(Q),this.data.annotationType=s.AnnotationType.CARET}}class ne extends te{constructor(Q){super(Q),this.data.annotationType=s.AnnotationType.INK,this.data.inkLists=[];const ce=Q.dict.getArray("InkList");if(!Array.isArray(ce))return;const he=Q.xref;for(let ge=0,pe=ce.length;ge<pe;++ge){this.data.inkLists.push([]);for(let me=0,Ae=ce[ge].length;me<Ae;me+=2)this.data.inkLists[ge].push({x:he.fetchIfRef(ce[ge][me]),y:he.fetchIfRef(ce[ge][me+1])})}if(!this.appearance){const ge=this.color?Array.from(this.color).map(xe=>xe/255):[0,0,0],pe=Q.dict.get("CA"),me=this.borderStyle.width||1,Ae=2*me,ye=[1/0,1/0,-1/0,-1/0];for(const xe of this.data.inkLists)for(const Ce of xe)ye[0]=Math.min(ye[0],Ce.x-Ae),ye[1]=Math.min(ye[1],Ce.y-Ae),ye[2]=Math.max(ye[2],Ce.x+Ae),ye[3]=Math.max(ye[3],Ce.y+Ae);s.Util.intersect(this.rectangle,ye)||(this.rectangle=ye),this._setDefaultAppearance({xref:Q.xref,extra:`${me} w`,strokeColor:ge,strokeAlpha:pe,pointsCallback:(xe,Ce)=>{for(const we of this.data.inkLists){for(let ve=0,Se=we.length;ve<Se;ve++)xe.push(`${we[ve].x} ${we[ve].y} ${ve===0?"m":"l"}`);xe.push("S")}return[Ce[0].x,Ce[1].x,Ce[3].y,Ce[1].y]}})}}static createNewDict(Q,ce,{apRef:he,ap:ge}){const{paths:pe,rect:me,rotation:Ae}=Q,ye=new p.Dict(ce);ye.set("Type",p.Name.get("Annot")),ye.set("Subtype",p.Name.get("Ink")),ye.set("CreationDate",`D:${(0,s.getModificationDate)()}`),ye.set("Rect",me),ye.set("InkList",pe.map(Ce=>Ce.points)),ye.set("F",4),ye.set("Border",[0,0,0]),ye.set("Rotate",Ae);const xe=new p.Dict(ce);return ye.set("AP",xe),he?xe.set("N",he):xe.set("N",ge),ye}static async createNewAppearanceStream(Q,ce,he){const{color:ge,rect:pe,rotation:me,paths:Ae,thickness:ye,opacity:xe}=Q,[Ce,we,ve,Se]=pe;let _e=ve-Ce,ke=Se-we;me%180!=0&&([_e,ke]=[ke,_e]);const Fe=[`${ye} w 1 J 1 j`,`${(0,m.getPdfColor)(ge,!1)}`];xe!==1&&Fe.push("/R0 gs");const je=[];for(const{bezier:et}of Ae){je.length=0,je.push(`${(0,g.numberToString)(et[0])} ${(0,g.numberToString)(et[1])} m`);for(let st=2,Qe=et.length;st<Qe;st+=6){const ot=et.slice(st,st+6).map(g.numberToString).join(" ");je.push(`${ot} c`)}je.push("S"),Fe.push(je.join(`
`))}const Le=Fe.join(`
`),ze=new p.Dict(ce);if(ze.set("FormType",1),ze.set("Subtype",p.Name.get("Form")),ze.set("Type",p.Name.get("XObject")),ze.set("BBox",[0,0,_e,ke]),ze.set("Length",Le.length),me){const et=B._getRotationMatrix(me,_e,ke);ze.set("Matrix",et)}if(xe!==1){const et=new p.Dict(ce),st=new p.Dict(ce),Qe=new p.Dict(ce);Qe.set("CA",xe),Qe.set("Type",p.Name.get("ExtGState")),st.set("R0",Qe),et.set("ExtGState",st),ze.set("Resources",et)}const Re=new P.StringStream(Le);return Re.dict=ze,Re}}class oe extends te{constructor(Q){if(super(Q),this.data.annotationType=s.AnnotationType.HIGHLIGHT,this.data.quadPoints=D(Q.dict,null)){const ce=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!ce||!ce.has("ExtGState")){this.appearance&&(0,s.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const he=this.color?Array.from(this.color).map(pe=>pe/255):[1,1,0],ge=Q.dict.get("CA");this._setDefaultAppearance({xref:Q.xref,fillColor:he,blendMode:"Multiply",fillAlpha:ge,pointsCallback:(pe,me)=>(pe.push(`${me[0].x} ${me[0].y} m`,`${me[1].x} ${me[1].y} l`,`${me[3].x} ${me[3].y} l`,`${me[2].x} ${me[2].y} l`,"f"),[me[0].x,me[1].x,me[3].y,me[1].y])})}}else this.data.hasPopup=!1}}class ue extends te{constructor(Q){if(super(Q),this.data.annotationType=s.AnnotationType.UNDERLINE,this.data.quadPoints=D(Q.dict,null)){if(!this.appearance){const ce=this.color?Array.from(this.color).map(ge=>ge/255):[0,0,0],he=Q.dict.get("CA");this._setDefaultAppearance({xref:Q.xref,extra:"[] 0 d 1 w",strokeColor:ce,strokeAlpha:he,pointsCallback:(ge,pe)=>(ge.push(`${pe[2].x} ${pe[2].y} m`,`${pe[3].x} ${pe[3].y} l`,"S"),[pe[0].x,pe[1].x,pe[3].y,pe[1].y])})}}else this.data.hasPopup=!1}}class fe extends te{constructor(Q){if(super(Q),this.data.annotationType=s.AnnotationType.SQUIGGLY,this.data.quadPoints=D(Q.dict,null)){if(!this.appearance){const ce=this.color?Array.from(this.color).map(ge=>ge/255):[0,0,0],he=Q.dict.get("CA");this._setDefaultAppearance({xref:Q.xref,extra:"[] 0 d 1 w",strokeColor:ce,strokeAlpha:he,pointsCallback:(ge,pe)=>{const me=(pe[0].y-pe[2].y)/6;let Ae=me,ye=pe[2].x;const xe=pe[2].y,Ce=pe[3].x;ge.push(`${ye} ${xe+Ae} m`);do ye+=2,Ae=Ae===0?me:0,ge.push(`${ye} ${xe+Ae} l`);while(ye<Ce);return ge.push("S"),[pe[2].x,Ce,xe-2*me,xe+2*me]}})}}else this.data.hasPopup=!1}}class le extends te{constructor(Q){if(super(Q),this.data.annotationType=s.AnnotationType.STRIKEOUT,this.data.quadPoints=D(Q.dict,null)){if(!this.appearance){const ce=this.color?Array.from(this.color).map(ge=>ge/255):[0,0,0],he=Q.dict.get("CA");this._setDefaultAppearance({xref:Q.xref,extra:"[] 0 d 1 w",strokeColor:ce,strokeAlpha:he,pointsCallback:(ge,pe)=>(ge.push((pe[0].x+pe[2].x)/2+" "+(pe[0].y+pe[2].y)/2+" m",(pe[1].x+pe[3].x)/2+" "+(pe[1].y+pe[3].y)/2+" l","S"),[pe[0].x,pe[1].x,pe[3].y,pe[1].y])})}}else this.data.hasPopup=!1}}class ae extends te{constructor(Q){super(Q),this.data.annotationType=s.AnnotationType.STAMP}}class de extends te{constructor(Q){super(Q);const ce=new M.FileSpec(Q.dict.get("FS"),Q.xref);this.data.annotationType=s.AnnotationType.FILEATTACHMENT,this.data.file=ce.serializable}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDefaultAppearance=function({fontSize:M,fontName:y,fontColor:I}){return`/${(0,s.escapePDFName)(y)} ${M} Tf ${w(I,!0)}`},o.getPdfColor=w,o.parseDefaultAppearance=function(M){return new C(M).parse()};var s=f(6),g=f(2),m=f(14),p=f(15),t=f(5),b=f(10);class C extends p.EvaluatorPreprocessor{constructor(M){super(new b.StringStream(M))}parse(){const M={fn:0,args:[]},y={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;M.args.length=0,!!this.read(M);){if(this.savedStatesDepth!==0)continue;const{fn:I,args:P}=M;switch(0|I){case g.OPS.setFont:const[_,k]=P;_ instanceof t.Name&&(y.fontName=_.name),typeof k=="number"&&k>0&&(y.fontSize=k);break;case g.OPS.setFillRGBColor:m.ColorSpace.singletons.rgb.getRgbItem(P,0,y.fontColor,0);break;case g.OPS.setFillGray:m.ColorSpace.singletons.gray.getRgbItem(P,0,y.fontColor,0);break;case g.OPS.setFillColorSpace:m.ColorSpace.singletons.cmyk.getRgbItem(P,0,y.fontColor,0)}}}catch(I){(0,g.warn)(`parseDefaultAppearance - ignoring errors: "${I}".`)}return y}}function w(v,M){if(v[0]===v[1]&&v[1]===v[2]){const y=v[0]/255;return`${(0,s.numberToString)(y)} ${M?"g":"G"}`}return Array.from(v).map(y=>(0,s.numberToString)(y/255)).join(" ")+" "+(M?"rg":"RG")}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorSpace=void 0;var s=f(2),g=f(5),m=f(7),p=f(6);class t{constructor(D,V){this.constructor===t&&(0,s.unreachable)("Cannot initialize ColorSpace."),this.name=D,this.numComps=V}getRgb(D,V){const R=new Uint8ClampedArray(3);return this.getRgbItem(D,V,R,0),R}getRgbItem(D,V,R,U){(0,s.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(D,V,R,U,te,B,j){(0,s.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(D,V){(0,s.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(D){return!1}isDefaultDecode(D,V){return t.isDefaultDecode(D,this.numComps)}fillRgb(D,V,R,U,te,B,j,ie,E){const L=V*R;let ee=null;const J=1<<j,Y=R!==te||V!==U;if(this.isPassthrough(j))ee=ie;else if(this.numComps===1&&L>J&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const q=j<=8?new Uint8Array(J):new Uint16Array(J);for(let O=0;O<J;O++)q[O]=O;const F=new Uint8ClampedArray(3*J);if(this.getRgbBuffer(q,0,J,F,0,j,0),Y){ee=new Uint8Array(3*L);let O=0;for(let Z=0;Z<L;++Z){const se=3*ie[Z];ee[O++]=F[se],ee[O++]=F[se+1],ee[O++]=F[se+2]}}else{let O=0;for(let Z=0;Z<L;++Z){const se=3*ie[Z];D[O++]=F[se],D[O++]=F[se+1],D[O++]=F[se+2],O+=E}}}else Y?(ee=new Uint8ClampedArray(3*L),this.getRgbBuffer(ie,0,L,ee,0,j,0)):this.getRgbBuffer(ie,0,U*B,D,0,j,E);if(ee)if(Y)(function(F,O,Z,se,$,X,ne){ne=ne!==1?0:ne;const oe=Z/$,ue=se/X;let fe,le=0;const ae=new Uint16Array($),de=3*Z;for(let re=0;re<$;re++)ae[re]=3*Math.floor(re*oe);for(let re=0;re<X;re++){const Q=Math.floor(re*ue)*de;for(let ce=0;ce<$;ce++)fe=Q+ae[ce],O[le++]=F[fe++],O[le++]=F[fe++],O[le++]=F[fe++],le+=ne}})(ee,D,V,R,U,te,E);else{let q=0,F=0;for(let O=0,Z=U*B;O<Z;O++)D[q++]=ee[F++],D[q++]=ee[F++],D[q++]=ee[F++],q+=E}}get usesZeroToOneRange(){return(0,s.shadow)(this,"usesZeroToOneRange",!0)}static _cache(D,V,R,U){if(!R)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!U)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let te,B;D instanceof g.Ref&&(B=D,D=V.fetch(D)),D instanceof g.Name&&(te=D.name),(te||B)&&R.set(te,B,U)}static getCached(D,V,R){if(!R)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(D instanceof g.Ref){const U=R.getByRef(D);if(U)return U;try{D=V.fetch(D)}catch(te){if(te instanceof p.MissingDataException)throw te}}if(D instanceof g.Name){const U=R.getByName(D.name);if(U)return U}return null}static async parseAsync({cs:D,xref:V,resources:R=null,pdfFunctionFactory:U,localColorSpaceCache:te}){const B=this._parse(D,V,R,U);return this._cache(D,V,te,B),B}static parse({cs:D,xref:V,resources:R=null,pdfFunctionFactory:U,localColorSpaceCache:te}){const B=this.getCached(D,V,te);if(B)return B;const j=this._parse(D,V,R,U);return this._cache(D,V,te,j),j}static _parse(D,V,R=null,U){if((D=V.fetchIfRef(D))instanceof g.Name)switch(D.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new C(null);default:if(R instanceof g.Dict){const te=R.get("ColorSpace");if(te instanceof g.Dict){const B=te.get(D.name);if(B){if(B instanceof g.Name)return this._parse(B,V,R,U);D=B;break}}}throw new s.FormatError(`Unrecognized ColorSpace: ${D.name}`)}if(Array.isArray(D)){const te=V.fetchIfRef(D[0]).name;let B,j,ie,E,L,ee;switch(te){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return B=V.fetchIfRef(D[1]),E=B.getArray("WhitePoint"),L=B.getArray("BlackPoint"),ee=B.get("Gamma"),new I(E,L,ee);case"CalRGB":B=V.fetchIfRef(D[1]),E=B.getArray("WhitePoint"),L=B.getArray("BlackPoint"),ee=B.getArray("Gamma");const J=B.getArray("Matrix");return new P(E,L,ee,J);case"ICCBased":const Y=V.fetchIfRef(D[1]).dict;j=Y.get("N");const q=Y.get("Alternate");if(q){const X=this._parse(q,V,R,U);if(X.numComps===j)return X;(0,s.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(j===1)return this.singletons.gray;if(j===3)return this.singletons.rgb;if(j===4)return this.singletons.cmyk;break;case"Pattern":return ie=D[1]||null,ie&&(ie=this._parse(ie,V,R,U)),new C(ie);case"I":case"Indexed":ie=this._parse(D[1],V,R,U);const F=V.fetchIfRef(D[2])+1,O=V.fetchIfRef(D[3]);return new w(ie,F,O);case"Separation":case"DeviceN":const Z=V.fetchIfRef(D[1]);j=Array.isArray(Z)?Z.length:1,ie=this._parse(D[2],V,R,U);const se=U.create(D[3]);return new b(j,ie,se);case"Lab":B=V.fetchIfRef(D[1]),E=B.getArray("WhitePoint"),L=B.getArray("BlackPoint");const $=B.getArray("Range");return new _(E,L,$);default:throw new s.FormatError(`Unimplemented ColorSpace object: ${te}`)}}throw new s.FormatError(`Unrecognized ColorSpace object: ${D}`)}static isDefaultDecode(D,V){if(!Array.isArray(D))return!0;if(2*V!==D.length)return(0,s.warn)("The decode map is not the correct length"),!0;for(let R=0,U=D.length;R<U;R+=2)if(D[R]!==0||D[R+1]!==1)return!1;return!0}static get singletons(){return(0,s.shadow)(this,"singletons",{get gray(){return(0,s.shadow)(this,"gray",new v)},get rgb(){return(0,s.shadow)(this,"rgb",new M)},get cmyk(){return(0,s.shadow)(this,"cmyk",new y)}})}}o.ColorSpace=t;class b extends t{constructor(D,V,R){super("Alternate",D),this.base=V,this.tintFn=R,this.tmpBuf=new Float32Array(V.numComps)}getRgbItem(D,V,R,U){const te=this.tmpBuf;this.tintFn(D,V,te,0),this.base.getRgbItem(te,0,R,U)}getRgbBuffer(D,V,R,U,te,B,j){const ie=this.tintFn,E=this.base,L=1/((1<<B)-1),ee=E.numComps,J=E.usesZeroToOneRange,Y=(E.isPassthrough(8)||!J)&&j===0;let q=Y?te:0;const F=Y?U:new Uint8ClampedArray(ee*R),O=this.numComps,Z=new Float32Array(O),se=new Float32Array(ee);let $,X;for($=0;$<R;$++){for(X=0;X<O;X++)Z[X]=D[V++]*L;if(ie(Z,0,se,0),J)for(X=0;X<ee;X++)F[q++]=255*se[X];else E.getRgbItem(se,0,F,q),q+=ee}Y||E.getRgbBuffer(F,0,R,U,te,8,j)}getOutputLength(D,V){return this.base.getOutputLength(D*this.base.numComps/this.numComps,V)}}class C extends t{constructor(D){super("Pattern",null),this.base=D}isDefaultDecode(D,V){(0,s.unreachable)("Should not call PatternCS.isDefaultDecode")}}class w extends t{constructor(D,V,R){super("Indexed",1),this.base=D,this.highVal=V;const U=D.numComps*V;if(this.lookup=new Uint8Array(U),R instanceof m.BaseStream){const te=R.getBytes(U);this.lookup.set(te)}else{if(typeof R!="string")throw new s.FormatError(`IndexedCS - unrecognized lookup table: ${R}`);for(let te=0;te<U;++te)this.lookup[te]=255&R.charCodeAt(te)}}getRgbItem(D,V,R,U){const te=this.base.numComps,B=D[V]*te;this.base.getRgbBuffer(this.lookup,B,1,R,U,8,0)}getRgbBuffer(D,V,R,U,te,B,j){const ie=this.base,E=ie.numComps,L=ie.getOutputLength(E,j),ee=this.lookup;for(let J=0;J<R;++J){const Y=D[V++]*E;ie.getRgbBuffer(ee,Y,1,U,te,8,j),te+=L}}getOutputLength(D,V){return this.base.getOutputLength(D*this.base.numComps,V)}isDefaultDecode(D,V){return Array.isArray(D)?D.length!==2?((0,s.warn)("Decode map length is not correct"),!0):!Number.isInteger(V)||V<1?((0,s.warn)("Bits per component is not correct"),!0):D[0]===0&&D[1]===(1<<V)-1:!0}}class v extends t{constructor(){super("DeviceGray",1)}getRgbItem(D,V,R,U){const te=255*D[V];R[U]=R[U+1]=R[U+2]=te}getRgbBuffer(D,V,R,U,te,B,j){const ie=255/((1<<B)-1);let E=V,L=te;for(let ee=0;ee<R;++ee){const J=ie*D[E++];U[L++]=J,U[L++]=J,U[L++]=J,L+=j}}getOutputLength(D,V){return D*(3+V)}}class M extends t{constructor(){super("DeviceRGB",3)}getRgbItem(D,V,R,U){R[U]=255*D[V],R[U+1]=255*D[V+1],R[U+2]=255*D[V+2]}getRgbBuffer(D,V,R,U,te,B,j){if(B===8&&j===0){U.set(D.subarray(V,V+3*R),te);return}const ie=255/((1<<B)-1);let E=V,L=te;for(let ee=0;ee<R;++ee)U[L++]=ie*D[E++],U[L++]=ie*D[E++],U[L++]=ie*D[E++],L+=j}getOutputLength(D,V){return D*(3+V)/3|0}isPassthrough(D){return D===8}}const y=function(){function D(V,R,U,te,B){const j=V[R]*U,ie=V[R+1]*U,E=V[R+2]*U,L=V[R+3]*U;te[B]=255+j*(-4.387332384609988*j+54.48615194189176*ie+18.82290502165302*E+212.25662451639585*L-285.2331026137004)+ie*(1.7149763477362134*ie-5.6096736904047315*E+-17.873870861415444*L-5.497006427196366)+E*(-2.5217340131683033*E-21.248923337353073*L+17.5119270841813)+L*(-21.86122147463605*L-189.48180835922747),te[B+1]=255+j*(8.841041422036149*j+60.118027045597366*ie+6.871425592049007*E+31.159100130055922*L-79.2970844816548)+ie*(-15.310361306967817*ie+17.575251261109482*E+131.35250912493976*L-190.9453302588951)+E*(4.444339102852739*E+9.8632861493405*L-24.86741582555878)+L*(-20.737325471181034*L-187.80453709719578),te[B+2]=255+j*(.8842522430003296*j+8.078677503112928*ie+30.89978309703729*E-.23883238689178934*L-14.183576799673286)+ie*(10.49593273432072*ie+63.02378494754052*E+50.606957656360734*L-112.23884253719248)+E*(.03296041114873217*E+115.60384449646641*L-193.58209356861505)+L*(-22.33816807309886*L-180.12613974708367)}return class extends t{constructor(){super("DeviceCMYK",4)}getRgbItem(R,U,te,B){D(R,U,1,te,B)}getRgbBuffer(R,U,te,B,j,ie,E){const L=1/((1<<ie)-1);for(let ee=0;ee<te;ee++)D(R,U,L,B,j),U+=4,j+=3+E}getOutputLength(R,U){return R/4*(3+U)|0}}}(),I=function(){function D(V,R,U,te,B,j){const ie=(R[U]*j)**V.G,E=V.YW*ie,L=Math.max(295.8*E**.3333333333333333-40.8,0);te[B]=L,te[B+1]=L,te[B+2]=L}return class extends t{constructor(R,U,te){if(super("CalGray",1),!R)throw new s.FormatError("WhitePoint missing - required for color space CalGray");if(U=U||[0,0,0],te=te||1,this.XW=R[0],this.YW=R[1],this.ZW=R[2],this.XB=U[0],this.YB=U[1],this.ZB=U[2],this.G=te,this.XW<0||this.ZW<0||this.YW!==1)throw new s.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,s.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),this.XB===0&&this.YB===0&&this.ZB===0||(0,s.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,s.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(R,U,te,B){D(this,R,U,te,B,1)}getRgbBuffer(R,U,te,B,j,ie,E){const L=1/((1<<ie)-1);for(let ee=0;ee<te;++ee)D(this,R,U,B,j,L),U+=1,j+=3+E}getOutputLength(R,U){return R*(3+U)}}}(),P=function(){const D=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),V=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),R=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),U=new Float32Array([1,1,1]),te=new Float32Array(3),B=new Float32Array(3),j=new Float32Array(3);function ie(Y,q,F){F[0]=Y[0]*q[0]+Y[1]*q[1]+Y[2]*q[2],F[1]=Y[3]*q[0]+Y[4]*q[1]+Y[5]*q[2],F[2]=Y[6]*q[0]+Y[7]*q[1]+Y[8]*q[2]}function E(Y){return Y<=.0031308?L(0,1,12.92*Y):Y>=.99554525?1:L(0,1,1.055*Y**(1/2.4)-.055)}function L(Y,q,F){return Math.max(Y,Math.min(q,F))}function ee(Y){return Y<0?-ee(-Y):Y>8?((Y+16)/116)**3:.0011070564598794539*Y}function J(Y,q,F,O,Z,se){const $=L(0,1,q[F]*se),X=L(0,1,q[F+1]*se),ne=L(0,1,q[F+2]*se),oe=$===1?1:$**Y.GR,ue=X===1?1:X**Y.GG,fe=ne===1?1:ne**Y.GB,le=Y.MXA*oe+Y.MXB*ue+Y.MXC*fe,ae=Y.MYA*oe+Y.MYB*ue+Y.MYC*fe,de=Y.MZA*oe+Y.MZB*ue+Y.MZC*fe,re=B;re[0]=le,re[1]=ae,re[2]=de;const Q=j;(function(me,Ae,ye){if(me[0]===1&&me[2]===1){ye[0]=Ae[0],ye[1]=Ae[1],ye[2]=Ae[2];return}const xe=ye;ie(D,Ae,xe);const Ce=te;(function(ve,Se,_e){_e[0]=1*Se[0]/ve[0],_e[1]=1*Se[1]/ve[1],_e[2]=1*Se[2]/ve[2]})(me,xe,Ce),ie(V,Ce,ye)})(Y.whitePoint,re,Q);const ce=B;(function(me,Ae,ye){if(me[0]===0&&me[1]===0&&me[2]===0){ye[0]=Ae[0],ye[1]=Ae[1],ye[2]=Ae[2];return}const xe=ee(0),Ce=(1-xe)/(1-ee(me[0])),we=1-Ce,ve=(1-xe)/(1-ee(me[1])),Se=1-ve,_e=(1-xe)/(1-ee(me[2])),ke=1-_e;ye[0]=Ae[0]*Ce+we,ye[1]=Ae[1]*ve+Se,ye[2]=Ae[2]*_e+ke})(Y.blackPoint,Q,ce);const he=j;(function(me,Ae,ye){const xe=ye;ie(D,Ae,xe);const Ce=te;(function(ve,Se,_e){_e[0]=.95047*Se[0]/ve[0],_e[1]=1*Se[1]/ve[1],_e[2]=1.08883*Se[2]/ve[2]})(me,xe,Ce),ie(V,Ce,ye)})(U,ce,he);const ge=B;ie(R,he,ge),O[Z]=255*E(ge[0]),O[Z+1]=255*E(ge[1]),O[Z+2]=255*E(ge[2])}return class extends t{constructor(q,F,O,Z){if(super("CalRGB",3),!q)throw new s.FormatError("WhitePoint missing - required for color space CalRGB");F=F||new Float32Array(3),O=O||new Float32Array([1,1,1]),Z=Z||new Float32Array([1,0,0,0,1,0,0,0,1]);const se=q[0],$=q[1],X=q[2];this.whitePoint=q;const ne=F[0],oe=F[1],ue=F[2];if(this.blackPoint=F,this.GR=O[0],this.GG=O[1],this.GB=O[2],this.MXA=Z[0],this.MYA=Z[1],this.MZA=Z[2],this.MXB=Z[3],this.MYB=Z[4],this.MZB=Z[5],this.MXC=Z[6],this.MYC=Z[7],this.MZC=Z[8],se<0||X<0||$!==1)throw new s.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(ne<0||oe<0||ue<0)&&((0,s.info)(`Invalid BlackPoint for ${this.name} [${ne}, ${oe}, ${ue}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,s.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(q,F,O,Z){J(this,q,F,O,Z,1)}getRgbBuffer(q,F,O,Z,se,$,X){const ne=1/((1<<$)-1);for(let oe=0;oe<O;++oe)J(this,q,F,Z,se,ne),F+=3,se+=3+X}getOutputLength(q,F){return q*(3+F)/3|0}}}(),_=function(){function D(U){let te;return te=U>=6/29?U**3:108/841*(U-4/29),te}function V(U,te,B,j){return B+U*(j-B)/te}function R(U,te,B,j,ie,E){let L=te[B],ee=te[B+1],J=te[B+2];j!==!1&&(L=V(L,j,0,100),ee=V(ee,j,U.amin,U.amax),J=V(J,j,U.bmin,U.bmax)),ee>U.amax?ee=U.amax:ee<U.amin&&(ee=U.amin),J>U.bmax?J=U.bmax:J<U.bmin&&(J=U.bmin);const Y=(L+16)/116,q=Y+ee/500,F=Y-J/200,O=U.XW*D(q),Z=U.YW*D(Y),se=U.ZW*D(F);let $,X,ne;U.ZW<1?($=3.1339*O+-1.617*Z+-.4906*se,X=-.9785*O+1.916*Z+.0333*se,ne=.072*O+-.229*Z+1.4057*se):($=3.2406*O+-1.5372*Z+-.4986*se,X=-.9689*O+1.8758*Z+.0415*se,ne=.0557*O+-.204*Z+1.057*se),ie[E]=255*Math.sqrt($),ie[E+1]=255*Math.sqrt(X),ie[E+2]=255*Math.sqrt(ne)}return class extends t{constructor(te,B,j){if(super("Lab",3),!te)throw new s.FormatError("WhitePoint missing - required for color space Lab");if(B=B||[0,0,0],j=j||[-100,100,-100,100],this.XW=te[0],this.YW=te[1],this.ZW=te[2],this.amin=j[0],this.amax=j[1],this.bmin=j[2],this.bmax=j[3],this.XB=B[0],this.YB=B[1],this.ZB=B[2],this.XW<0||this.ZW<0||this.YW!==1)throw new s.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,s.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,s.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(te,B,j,ie){R(this,te,B,!1,j,ie)}getRgbBuffer(te,B,j,ie,E,L,ee){const J=(1<<L)-1;for(let Y=0;Y<j;Y++)R(this,te,B,J,ie,E),B+=3,E+=3+ee}getOutputLength(te,B){return te*(3+B)/3|0}isDefaultDecode(te,B){return!0}get usesZeroToOneRange(){return(0,s.shadow)(this,"usesZeroToOneRange",!1)}}}()},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PartialEvaluator=o.EvaluatorPreprocessor=void 0;var s=f(2),g=f(16),m=f(5),p=f(34),t=f(38),b=f(37),C=f(41),w=f(40),v=f(50),M=f(51),y=f(42),I=f(57),P=f(17),_=f(59),k=f(10),D=f(7),V=f(60),R=f(14),U=f(19),te=f(39),B=f(6),j=f(45),ie=f(61),E=f(62),L=f(63);const ee=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),J=1,Y=2,q=Promise.resolve();function F(fe,le=!1){if(Array.isArray(fe)){for(let ae=0,de=fe.length;ae<de;ae++){const re=F(fe[ae],!0);if(re)return re}return(0,s.warn)(`Unsupported blend mode Array: ${fe}`),"source-over"}if(!(fe instanceof m.Name))return le?null:"source-over";switch(fe.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return le?null:((0,s.warn)(`Unsupported blend mode: ${fe.name}`),"source-over")}function O(fe){fe.fn===s.OPS.paintImageMaskXObject&&fe.args[0]&&fe.args[0].count>0&&fe.args[0].count++}class Z{static get TIME_SLOT_DURATION_MS(){return(0,s.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,s.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<Z.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+Z.TIME_SLOT_DURATION_MS,this.checked=0}}class se{constructor({xref:le,handler:ae,pageIndex:de,idFactory:re,fontCache:Q,builtInCMapCache:ce,standardFontDataCache:he,globalImageCache:ge,options:pe=null}){this.xref=le,this.handler=ae,this.pageIndex=de,this.idFactory=re,this.fontCache=Q,this.builtInCMapCache=ce,this.standardFontDataCache=he,this.globalImageCache=ge,this.options=pe||ee,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const le=new I.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,s.shadow)(this,"_pdfFunctionFactory",le)}clone(le=null){const ae=Object.create(this);return ae.options=Object.assign(Object.create(null),this.options,le),ae}hasBlendModes(le,ae){if(!(le instanceof m.Dict)||le.objId&&ae.has(le.objId))return!1;const de=new m.RefSet(ae);le.objId&&de.put(le.objId);const re=[le],Q=this.xref;for(;re.length;){const ce=re.shift(),he=ce.get("ExtGState");if(he instanceof m.Dict)for(let pe of he.getRawValues()){if(pe instanceof m.Ref){if(de.has(pe))continue;try{pe=Q.fetch(pe)}catch(Ae){de.put(pe),(0,s.info)(`hasBlendModes - ignoring ExtGState: "${Ae}".`);continue}}if(!(pe instanceof m.Dict))continue;pe.objId&&de.put(pe.objId);const me=pe.get("BM");if(me instanceof m.Name){if(me.name!=="Normal")return!0}else if(me!==void 0&&Array.isArray(me)){for(const Ae of me)if(Ae instanceof m.Name&&Ae.name!=="Normal")return!0}}const ge=ce.get("XObject");if(ge instanceof m.Dict)for(let pe of ge.getRawValues()){if(pe instanceof m.Ref){if(de.has(pe))continue;try{pe=Q.fetch(pe)}catch(Ae){de.put(pe),(0,s.info)(`hasBlendModes - ignoring XObject: "${Ae}".`);continue}}if(!(pe instanceof D.BaseStream))continue;pe.dict.objId&&de.put(pe.dict.objId);const me=pe.dict.get("Resources");me instanceof m.Dict&&(!me.objId||!de.has(me.objId))&&(re.push(me),me.objId&&de.put(me.objId))}}for(const ce of de)ae.put(ce);return!1}async fetchBuiltInCMap(le){const ae=this.builtInCMapCache.get(le);if(ae)return ae;let de;if(this.options.cMapUrl!==null){const re=`${this.options.cMapUrl}${le}.bcmap`,Q=await fetch(re);if(!Q.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${re}" with "${Q.statusText}".`);de={cMapData:new Uint8Array(await Q.arrayBuffer()),compressionType:s.CMapCompressionType.BINARY}}else de=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:le});return de.compressionType!==s.CMapCompressionType.NONE&&this.builtInCMapCache.set(le,de),de}async fetchStandardFontData(le){const ae=this.standardFontDataCache.get(le);if(ae)return new k.Stream(ae);if(this.options.useSystemFonts&&le!=="Symbol"&&le!=="ZapfDingbats")return null;const de=(0,C.getFontNameToFileMap)()[le];let re;if(this.options.standardFontDataUrl!==null){const Q=`${this.options.standardFontDataUrl}${de}`,ce=await fetch(Q);ce.ok?re=await ce.arrayBuffer():(0,s.warn)(`fetchStandardFontData: failed to fetch file "${Q}" with "${ce.statusText}".`)}else try{re=await this.handler.sendWithPromise("FetchStandardFontData",{filename:de})}catch(Q){(0,s.warn)(`fetchStandardFontData: failed to fetch file "${de}" with "${Q}".`)}return re?(this.standardFontDataCache.set(le,re),new k.Stream(re)):null}async buildFormXObject(le,ae,de,re,Q,ce,he){const ge=ae.dict,pe=ge.getArray("Matrix");let me,Ae,ye=ge.getArray("BBox");ye=Array.isArray(ye)&&ye.length===4?s.Util.normalizeRect(ye):null,ge.has("OC")&&(me=await this.parseMarkedContentProps(ge.get("OC"),le)),me!==void 0&&re.addOp(s.OPS.beginMarkedContentProps,["OC",me]);const xe=ge.get("Group");if(xe){Ae={matrix:pe,bbox:ye,smask:de,isolated:!1,knockout:!1};const we=xe.get("S");let ve=null;if((0,m.isName)(we,"Transparency")&&(Ae.isolated=xe.get("I")||!1,Ae.knockout=xe.get("K")||!1,xe.has("CS"))){const Se=xe.getRaw("CS");ve=R.ColorSpace.getCached(Se,this.xref,he)||await this.parseColorSpace({cs:Se,resources:le,localColorSpaceCache:he})}de&&de.backdrop&&(ve=ve||R.ColorSpace.singletons.rgb,de.backdrop=ve.getRgb(de.backdrop,0)),re.addOp(s.OPS.beginGroup,[Ae])}const Ce=xe?[pe,null]:[pe,ye];return re.addOp(s.OPS.paintFormXObjectBegin,Ce),this.getOperatorList({stream:ae,task:Q,resources:ge.get("Resources")||le,operatorList:re,initialState:ce}).then(function(){re.addOp(s.OPS.paintFormXObjectEnd,[]),xe&&re.addOp(s.OPS.endGroup,[Ae]),me!==void 0&&re.addOp(s.OPS.endMarkedContent,[])})}_sendImgData(le,ae,de=!1){const re=ae?[ae.bitmap||ae.data.buffer]:null;return this.parsingType3Font||de?this.handler.send("commonobj",[le,"Image",ae],re):this.handler.send("obj",[le,this.pageIndex,"Image",ae],re)}async buildPaintImageXObject({resources:le,image:ae,isInline:de=!1,operatorList:re,cacheKey:Q,localImageCache:ce,localColorSpaceCache:he}){const ge=ae.dict,pe=ge.objId,me=ge.get("W","Width"),Ae=ge.get("H","Height");if(!me||typeof me!="number"||!Ae||typeof Ae!="number"){(0,s.warn)("Image dimensions are missing, or not numbers.");return}const ye=this.options.maxImageSize;if(ye!==-1&&me*Ae>ye){const Fe="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,s.warn)(Fe);return}throw new Error(Fe)}let xe;ge.has("OC")&&(xe=await this.parseMarkedContentProps(ge.get("OC"),le));let Ce,we;if(ge.get("IM","ImageMask")){const Fe=ge.get("I","Interpolate"),je=me+7>>3,Le=ae.getBytes(je*Ae),ze=ge.getArray("D","Decode");if(this.parsingType3Font){Ce=L.PDFImage.createRawMask({imgArray:Le,width:me,height:Ae,imageIsFromDecodeStream:ae instanceof U.DecodeStream,inverseDecode:!!ze&&ze[0]>0,interpolate:Fe}),Ce.cached=!!Q,we=[Ce],re.addImageOps(s.OPS.paintImageMaskXObject,we,xe),Q&&ce.set(Q,pe,{fn:s.OPS.paintImageMaskXObject,args:we,optionalContent:xe});return}if(Ce=L.PDFImage.createMask({imgArray:Le,width:me,height:Ae,imageIsFromDecodeStream:ae instanceof U.DecodeStream,inverseDecode:!!ze&&ze[0]>0,interpolate:Fe}),Ce.isSingleOpaquePixel){re.addImageOps(s.OPS.paintSolidColorImageMask,[],xe),Q&&ce.set(Q,pe,{fn:s.OPS.paintSolidColorImageMask,args:[],optionalContent:xe});return}const Re=`mask_${this.idFactory.createObjId()}`;re.addDependency(Re),this._sendImgData(Re,Ce),we=[{data:Re,width:Ce.width,height:Ce.height,interpolate:Ce.interpolate,count:1}],re.addImageOps(s.OPS.paintImageMaskXObject,we,xe),Q&&ce.set(Q,pe,{fn:s.OPS.paintImageMaskXObject,args:we,optionalContent:xe});return}const ve=ge.get("SM","SMask")||!1,Se=ge.get("Mask")||!1;if(de&&!ve&&!Se&&me+Ae<200){Ce=new L.PDFImage({xref:this.xref,res:le,image:ae,isInline:de,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:he}).createImageData(!0),re.addImageOps(s.OPS.paintInlineImageXObject,[Ce],xe);return}let _e=`img_${this.idFactory.createObjId()}`,ke=!1;this.parsingType3Font?_e=`${this.idFactory.getDocId()}_type3_${_e}`:pe&&(ke=this.globalImageCache.shouldCache(pe,this.pageIndex),ke&&(_e=`${this.idFactory.getDocId()}_${_e}`)),re.addDependency(_e),we=[_e,me,Ae],L.PDFImage.buildImage({xref:this.xref,res:le,image:ae,isInline:de,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:he}).then(Fe=>(Ce=Fe.createImageData(!1),Q&&pe&&ke&&this.globalImageCache.addByteSize(pe,Ce.data.length),this._sendImgData(_e,Ce,ke))).catch(Fe=>((0,s.warn)(`Unable to decode image "${_e}": "${Fe}".`),this._sendImgData(_e,null,ke))),re.addImageOps(s.OPS.paintImageXObject,we,xe),Q&&(ce.set(Q,pe,{fn:s.OPS.paintImageXObject,args:we,optionalContent:xe}),pe&&((0,s.assert)(!de,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(pe,this.pageIndex),ke&&this.globalImageCache.setData(pe,{objId:_e,fn:s.OPS.paintImageXObject,args:we,optionalContent:xe,byteSize:0})))}handleSMask(le,ae,de,re,Q,ce){const he=le.get("G"),ge={subtype:le.get("S").name,backdrop:le.get("BC")},pe=le.get("TR");if((0,I.isPDFFunction)(pe)){const me=this._pdfFunctionFactory.create(pe),Ae=new Uint8Array(256),ye=new Float32Array(1);for(let xe=0;xe<256;xe++)ye[0]=xe/255,me(ye,0,ye,0),Ae[xe]=255*ye[0]|0;ge.transferMap=Ae}return this.buildFormXObject(ae,he,ge,de,re,Q.state.clone(),ce)}handleTransferFunction(le){let ae;if(Array.isArray(le))ae=le;else{if(!(0,I.isPDFFunction)(le))return null;ae=[le]}const de=[];let re=0,Q=0;for(const ce of ae){const he=this.xref.fetchIfRef(ce);if(re++,(0,m.isName)(he,"Identity")){de.push(null);continue}if(!(0,I.isPDFFunction)(he))return null;const ge=this._pdfFunctionFactory.create(he),pe=new Uint8Array(256),me=new Float32Array(1);for(let Ae=0;Ae<256;Ae++)me[0]=Ae/255,ge(me,0,me,0),pe[Ae]=255*me[0]|0;de.push(pe),Q++}return re!==1&&re!==4||Q===0?null:de}handleTilingType(le,ae,de,re,Q,ce,he,ge){const pe=new E.OperatorList,me=m.Dict.merge({xref:this.xref,dictArray:[Q.get("Resources"),de]});return this.getOperatorList({stream:re,task:he,resources:me,operatorList:pe}).then(function(){const Ae=pe.getIR(),ye=(0,v.getTilingPatternIR)(Ae,Q,ae);ce.addDependencies(pe.dependencies),ce.addOp(le,ye),Q.objId&&ge.set(null,Q.objId,{operatorListIR:Ae,dict:Q})}).catch(Ae=>{if(!(Ae instanceof s.AbortException)){if(!this.options.ignoreErrors)throw Ae;this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,s.warn)(`handleTilingType - ignoring pattern: "${Ae}".`)}})}handleSetFont(le,ae,de,re,Q,ce,he=null,ge=null){const pe=ae&&ae[0]instanceof m.Name?ae[0].name:null;return this.loadFont(pe,de,le,he,ge).then(me=>me.font.isType3Font?me.loadType3Data(this,le,Q).then(function(){return re.addDependencies(me.type3Dependencies),me}).catch(Ae=>(this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontLoadType3}),new $({loadedName:"g_font_error",font:new p.ErrorFont(`Type3 font load error: ${Ae}`),dict:me.font,evaluatorOptions:this.options}))):me).then(me=>(ce.font=me.font,me.send(this.handler),me.loadedName))}handleText(le,ae){const de=ae.font,re=de.charsToGlyphs(le);return de.data&&(ae.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG||ae.fillColorSpace.name==="Pattern"||de.disableFontFace||this.options.disableFontFace)&&se.buildFontPaths(de,re,this.handler,this.options),re}ensureStateFont(le){if(le.font)return;const ae=new s.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(!this.options.ignoreErrors)throw ae;this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontState}),(0,s.warn)(`ensureStateFont: "${ae}".`)}async setGState({resources:le,gState:ae,operatorList:de,cacheKey:re,task:Q,stateManager:ce,localGStateCache:he,localColorSpaceCache:ge}){const pe=ae.objId;let me=!0;const Ae=[],ye=ae.getKeys();let xe=Promise.resolve();for(let Ce=0,we=ye.length;Ce<we;Ce++){const ve=ye[Ce],Se=ae.get(ve);switch(ve){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Ae.push([ve,Se]);break;case"Font":me=!1,xe=xe.then(()=>this.handleSetFont(le,null,Se[0],de,Q,ce.state).then(function(ke){de.addDependency(ke),Ae.push([ve,[ke,Se[1]]])}));break;case"BM":Ae.push([ve,F(Se)]);break;case"SMask":if((0,m.isName)(Se,"None")){Ae.push([ve,!1]);break}Se instanceof m.Dict?(me=!1,xe=xe.then(()=>this.handleSMask(Se,le,de,Q,ce,ge)),Ae.push([ve,!0])):(0,s.warn)("Unsupported SMask type");break;case"TR":const _e=this.handleTransferFunction(Se);Ae.push([ve,_e]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,s.info)("graphic state operator "+ve);break;default:(0,s.info)("Unknown graphic state operator "+ve)}}return xe.then(function(){Ae.length>0&&de.addOp(s.OPS.setGState,[Ae]),me&&he.set(re,pe,Ae)})}loadFont(le,ae,de,re=null,Q=null){const ce=async()=>new $({loadedName:"g_font_error",font:new p.ErrorFont(`Font "${le}" is not available.`),dict:ae,evaluatorOptions:this.options}),he=this.xref;let ge;if(ae)ae instanceof m.Ref&&(ge=ae);else{const we=de.get("Font");we&&(ge=we.getRaw(le))}if(!ge){const we=`Font "${le||ae&&ae.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,s.warn)(`${we}.`),ce();this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontMissing}),(0,s.warn)(`${we} -- attempting to fallback to a default font.`),ge=re||se.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(ge))return ce();if(this.fontCache.has(ge))return this.fontCache.get(ge);if(!((ae=he.fetchIfRef(ge))instanceof m.Dict))return ce();if(ae.cacheKey&&this.fontCache.has(ae.cacheKey))return this.fontCache.get(ae.cacheKey);const pe=(0,s.createPromiseCapability)();let me;try{me=this.preEvaluateFont(ae),me.cssFontInfo=Q}catch(we){return(0,s.warn)(`loadFont - preEvaluateFont failed: "${we}".`),ce()}const{descriptor:Ae,hash:ye}=me,xe=ge instanceof m.Ref;let Ce;if(xe&&(Ce=`f${ge.toString()}`),ye&&Ae instanceof m.Dict){Ae.fontAliases||(Ae.fontAliases=Object.create(null));const we=Ae.fontAliases;if(we[ye]){const ve=we[ye].aliasRef;if(xe&&ve&&this.fontCache.has(ve))return this.fontCache.putAlias(ge,ve),this.fontCache.get(ge)}else we[ye]={fontID:this.idFactory.createFontId()};xe&&(we[ye].aliasRef=ge),Ce=we[ye].fontID}return xe?this.fontCache.put(ge,pe.promise):(Ce||(Ce=this.idFactory.createFontId()),ae.cacheKey=`cacheKey_${Ce}`,this.fontCache.put(ae.cacheKey,pe.promise)),(0,s.assert)(Ce&&Ce.startsWith("f"),'The "fontID" must be (correctly) defined.'),ae.loadedName=`${this.idFactory.getDocId()}_${Ce}`,this.translateFont(me).then(we=>{we.fontType!==void 0&&he.stats.addFontType(we.fontType),pe.resolve(new $({loadedName:ae.loadedName,font:we,dict:ae,evaluatorOptions:this.options}))}).catch(we=>{this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,s.warn)(`loadFont - translateFont failed: "${we}".`);try{const ve=Ae&&Ae.get("FontFile3"),Se=ve&&ve.get("Subtype"),_e=(0,t.getFontType)(me.type,Se&&Se.name);_e!==void 0&&he.stats.addFontType(_e)}catch{}pe.resolve(new $({loadedName:ae.loadedName,font:new p.ErrorFont(we instanceof Error?we.message:we),dict:ae,evaluatorOptions:this.options}))}),pe.promise}buildPath(le,ae,de,re=!1){const Q=le.length-1;de||(de=[]);let ce;if(Q<0||le.fnArray[Q]!==s.OPS.constructPath)re&&((0,s.warn)(`Encountered path operator "${ae}" inside of a text object.`),le.addOp(s.OPS.save,null)),ce=[1/0,-1/0,1/0,-1/0],le.addOp(s.OPS.constructPath,[[ae],de,ce]),re&&le.addOp(s.OPS.restore,null);else{const he=le.argsArray[Q];he[0].push(ae),Array.prototype.push.apply(he[1],de),ce=he[2]}switch(ae){case s.OPS.rectangle:ce[0]=Math.min(ce[0],de[0],de[0]+de[2]),ce[1]=Math.max(ce[1],de[0],de[0]+de[2]),ce[2]=Math.min(ce[2],de[1],de[1]+de[3]),ce[3]=Math.max(ce[3],de[1],de[1]+de[3]);break;case s.OPS.moveTo:case s.OPS.lineTo:ce[0]=Math.min(ce[0],de[0]),ce[1]=Math.max(ce[1],de[0]),ce[2]=Math.min(ce[2],de[1]),ce[3]=Math.max(ce[3],de[1])}}parseColorSpace({cs:le,resources:ae,localColorSpaceCache:de}){return R.ColorSpace.parseAsync({cs:le,xref:this.xref,resources:ae,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:de}).catch(re=>{if(re instanceof s.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorColorSpace}),(0,s.warn)(`parseColorSpace - ignoring ColorSpace: "${re}".`),null;throw re})}parseShading({shading:le,resources:ae,localColorSpaceCache:de,localShadingPatternCache:re}){let Q=re.get(le);if(!Q){const ce=v.Pattern.parseShading(le,this.xref,ae,this.handler,this._pdfFunctionFactory,de).getIR();Q=`pattern_${this.idFactory.createObjId()}`,re.set(le,Q),this.handler.send("obj",[Q,this.pageIndex,"Pattern",ce])}return Q}handleColorN(le,ae,de,re,Q,ce,he,ge,pe,me){const Ae=de.pop();if(Ae instanceof m.Name){const ye=Q.getRaw(Ae.name),xe=ye instanceof m.Ref&&pe.getByRef(ye);if(xe)try{const we=re.base?re.base.getRgb(de,0):null,ve=(0,v.getTilingPatternIR)(xe.operatorListIR,xe.dict,we);le.addOp(ae,ve);return}catch{}const Ce=this.xref.fetchIfRef(ye);if(Ce){const we=Ce instanceof D.BaseStream?Ce.dict:Ce,ve=we.get("PatternType");if(ve===J){const Se=re.base?re.base.getRgb(de,0):null;return this.handleTilingType(ae,Se,ce,Ce,we,le,he,pe)}if(ve===Y){const Se=we.get("Shading"),_e=we.getArray("Matrix"),ke=this.parseShading({shading:Se,resources:ce,localColorSpaceCache:ge,localShadingPatternCache:me});le.addOp(ae,["Shading",ke,_e]);return}throw new s.FormatError(`Unknown PatternType: ${ve}`)}}throw new s.FormatError(`Unknown PatternName: ${Ae}`)}_parseVisibilityExpression(le,ae,de){if(++ae>10){(0,s.warn)("Visibility expression is too deeply nested");return}const re=le.length,Q=this.xref.fetchIfRef(le[0]);if(!(re<2)&&Q instanceof m.Name){switch(Q.name){case"And":case"Or":case"Not":de.push(Q.name);break;default:(0,s.warn)(`Invalid operator ${Q.name} in visibility expression`);return}for(let ce=1;ce<re;ce++){const he=le[ce],ge=this.xref.fetchIfRef(he);if(Array.isArray(ge)){const pe=[];de.push(pe),this._parseVisibilityExpression(ge,ae,pe)}else he instanceof m.Ref&&de.push(he.toString())}}else(0,s.warn)("Invalid visibility expression")}async parseMarkedContentProps(le,ae){let de;if(le instanceof m.Name)de=ae.get("Properties").get(le.name);else{if(!(le instanceof m.Dict))throw new s.FormatError("Optional content properties malformed.");de=le}const re=de.get("Type").name;if(re==="OCG")return{type:re,id:de.objId};if(re==="OCMD"){const Q=de.get("VE");if(Array.isArray(Q)){const he=[];if(this._parseVisibilityExpression(Q,0,he),he.length>0)return{type:"OCMD",expression:he}}const ce=de.get("OCGs");if(Array.isArray(ce)||ce instanceof m.Dict){const he=[];if(Array.isArray(ce))for(const ge of ce)he.push(ge.toString());else he.push(ce.objId);return{type:re,ids:he,policy:de.get("P")instanceof m.Name?de.get("P").name:null,expression:null}}if(ce instanceof m.Ref)return{type:re,id:ce.toString()}}return null}getOperatorList({stream:le,task:ae,resources:de,operatorList:re,initialState:Q=null,fallbackFontDict:ce=null}){if(de=de||m.Dict.empty,Q=Q||new oe,!re)throw new Error('getOperatorList: missing "operatorList" parameter');const he=this,ge=this.xref;let pe=!1;const me=new _.LocalImageCache,Ae=new _.LocalColorSpaceCache,ye=new _.LocalGStateCache,xe=new _.LocalTilingPatternCache,Ce=new Map,we=de.get("XObject")||m.Dict.empty,ve=de.get("Pattern")||m.Dict.empty,Se=new X(Q),_e=new ue(le,ge,Se),ke=new Z;function Fe(je){for(let Le=0,ze=_e.savedStatesDepth;Le<ze;Le++)re.addOp(s.OPS.restore,[])}return new Promise(function je(Le,ze){const Re=function(Ie){Promise.all([Ie,re.ready]).then(function(){try{je(Le,ze)}catch(qe){ze(qe)}},ze)};ae.ensureNotTerminated(),ke.reset();const et={};let st,Qe,ot,Ne,Me,Pe;for(;!(st=ke.check())&&(et.args=null,!!_e.read(et));){let Ie=et.args,qe=et.fn;switch(0|qe){case s.OPS.paintXObject:if(Pe=Ie[0]instanceof m.Name,Me=Ie[0].name,Pe){const Xe=me.getByName(Me);if(Xe){re.addImageOps(Xe.fn,Xe.args,Xe.optionalContent),O(Xe),Ie=null;continue}}Re(new Promise(function(Xe,Ve){if(!Pe)throw new s.FormatError("XObject must be referred to by name.");let nt=we.getRaw(Me);if(nt instanceof m.Ref){const ut=me.getByRef(nt);if(ut){re.addImageOps(ut.fn,ut.args,ut.optionalContent),O(ut),Xe();return}const it=he.globalImageCache.getData(nt,he.pageIndex);if(it){re.addDependency(it.objId),re.addImageOps(it.fn,it.args,it.optionalContent),Xe();return}nt=ge.fetch(nt)}if(!(nt instanceof D.BaseStream))throw new s.FormatError("XObject should be a stream");const ht=nt.dict.get("Subtype");if(!(ht instanceof m.Name))throw new s.FormatError("XObject should have a Name subtype");if(ht.name!=="Form")if(ht.name!=="Image"){if(ht.name!=="PS")throw new s.FormatError(`Unhandled XObject subtype ${ht.name}`);(0,s.info)("Ignored XObject subtype PS"),Xe()}else he.buildPaintImageXObject({resources:de,image:nt,operatorList:re,cacheKey:Me,localImageCache:me,localColorSpaceCache:Ae}).then(Xe,Ve);else Se.save(),he.buildFormXObject(de,nt,null,re,ae,Se.state.clone(),Ae).then(function(){Se.restore(),Xe()},Ve)}).catch(function(Xe){if(!(Xe instanceof s.AbortException)){if(!he.options.ignoreErrors)throw Xe;he.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorXObject}),(0,s.warn)(`getOperatorList - ignoring XObject: "${Xe}".`)}}));return;case s.OPS.setFont:var Ue=Ie[1];Re(he.handleSetFont(de,Ie,null,re,ae,Se.state,ce).then(function(Xe){re.addDependency(Xe),re.addOp(s.OPS.setFont,[Xe,Ue])}));return;case s.OPS.beginText:pe=!0;break;case s.OPS.endText:pe=!1;break;case s.OPS.endInlineImage:var Ge=Ie[0].cacheKey;if(Ge){const Xe=me.getByName(Ge);if(Xe){re.addImageOps(Xe.fn,Xe.args,Xe.optionalContent),O(Xe),Ie=null;continue}}Re(he.buildPaintImageXObject({resources:de,image:Ie[0],isInline:!0,operatorList:re,cacheKey:Ge,localImageCache:me,localColorSpaceCache:Ae}));return;case s.OPS.showText:if(!Se.state.font){he.ensureStateFont(Se.state);continue}Ie[0]=he.handleText(Ie[0],Se.state);break;case s.OPS.showSpacedText:if(!Se.state.font){he.ensureStateFont(Se.state);continue}var Ye=Ie[0],We=[],Ze=Ye.length,Ke=Se.state;for(Qe=0;Qe<Ze;++Qe){const Xe=Ye[Qe];typeof Xe=="string"?Array.prototype.push.apply(We,he.handleText(Xe,Ke)):typeof Xe=="number"&&We.push(Xe)}Ie[0]=We,qe=s.OPS.showText;break;case s.OPS.nextLineShowText:if(!Se.state.font){he.ensureStateFont(Se.state);continue}re.addOp(s.OPS.nextLine),Ie[0]=he.handleText(Ie[0],Se.state),qe=s.OPS.showText;break;case s.OPS.nextLineSetSpacingShowText:if(!Se.state.font){he.ensureStateFont(Se.state);continue}re.addOp(s.OPS.nextLine),re.addOp(s.OPS.setWordSpacing,[Ie.shift()]),re.addOp(s.OPS.setCharSpacing,[Ie.shift()]),Ie[0]=he.handleText(Ie[0],Se.state),qe=s.OPS.showText;break;case s.OPS.setTextRenderingMode:Se.state.textRenderingMode=Ie[0];break;case s.OPS.setFillColorSpace:{const Xe=R.ColorSpace.getCached(Ie[0],ge,Ae);if(Xe){Se.state.fillColorSpace=Xe;continue}Re(he.parseColorSpace({cs:Ie[0],resources:de,localColorSpaceCache:Ae}).then(function(Ve){Ve&&(Se.state.fillColorSpace=Ve)}));return}case s.OPS.setStrokeColorSpace:{const Xe=R.ColorSpace.getCached(Ie[0],ge,Ae);if(Xe){Se.state.strokeColorSpace=Xe;continue}Re(he.parseColorSpace({cs:Ie[0],resources:de,localColorSpaceCache:Ae}).then(function(Ve){Ve&&(Se.state.strokeColorSpace=Ve)}));return}case s.OPS.setFillColor:Ne=Se.state.fillColorSpace,Ie=Ne.getRgb(Ie,0),qe=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeColor:Ne=Se.state.strokeColorSpace,Ie=Ne.getRgb(Ie,0),qe=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillGray:Se.state.fillColorSpace=R.ColorSpace.singletons.gray,Ie=R.ColorSpace.singletons.gray.getRgb(Ie,0),qe=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeGray:Se.state.strokeColorSpace=R.ColorSpace.singletons.gray,Ie=R.ColorSpace.singletons.gray.getRgb(Ie,0),qe=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillCMYKColor:Se.state.fillColorSpace=R.ColorSpace.singletons.cmyk,Ie=R.ColorSpace.singletons.cmyk.getRgb(Ie,0),qe=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeCMYKColor:Se.state.strokeColorSpace=R.ColorSpace.singletons.cmyk,Ie=R.ColorSpace.singletons.cmyk.getRgb(Ie,0),qe=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillRGBColor:Se.state.fillColorSpace=R.ColorSpace.singletons.rgb,Ie=R.ColorSpace.singletons.rgb.getRgb(Ie,0);break;case s.OPS.setStrokeRGBColor:Se.state.strokeColorSpace=R.ColorSpace.singletons.rgb,Ie=R.ColorSpace.singletons.rgb.getRgb(Ie,0);break;case s.OPS.setFillColorN:if(Ne=Se.state.fillColorSpace,Ne.name==="Pattern"){Re(he.handleColorN(re,s.OPS.setFillColorN,Ie,Ne,ve,de,ae,Ae,xe,Ce));return}Ie=Ne.getRgb(Ie,0),qe=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeColorN:if(Ne=Se.state.strokeColorSpace,Ne.name==="Pattern"){Re(he.handleColorN(re,s.OPS.setStrokeColorN,Ie,Ne,ve,de,ae,Ae,xe,Ce));return}Ie=Ne.getRgb(Ie,0),qe=s.OPS.setStrokeRGBColor;break;case s.OPS.shadingFill:var Oe=de.get("Shading");if(!Oe)throw new s.FormatError("No shading resource found");var De=Oe.get(Ie[0].name);if(!De)throw new s.FormatError("No shading object found");Ie=[he.parseShading({shading:De,resources:de,localColorSpaceCache:Ae,localShadingPatternCache:Ce})],qe=s.OPS.shadingFill;break;case s.OPS.setGState:if(Pe=Ie[0]instanceof m.Name,Me=Ie[0].name,Pe){const Xe=ye.getByName(Me);if(Xe){Xe.length>0&&re.addOp(s.OPS.setGState,[Xe]),Ie=null;continue}}Re(new Promise(function(Xe,Ve){if(!Pe)throw new s.FormatError("GState must be referred to by name.");const nt=de.get("ExtGState");if(!(nt instanceof m.Dict))throw new s.FormatError("ExtGState should be a dictionary.");const ht=nt.get(Me);if(!(ht instanceof m.Dict))throw new s.FormatError("GState should be a dictionary.");he.setGState({resources:de,gState:ht,operatorList:re,cacheKey:Me,task:ae,stateManager:Se,localGStateCache:ye,localColorSpaceCache:Ae}).then(Xe,Ve)}).catch(function(Xe){if(!(Xe instanceof s.AbortException)){if(!he.options.ignoreErrors)throw Xe;he.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorExtGState}),(0,s.warn)(`getOperatorList - ignoring ExtGState: "${Xe}".`)}}));return;case s.OPS.moveTo:case s.OPS.lineTo:case s.OPS.curveTo:case s.OPS.curveTo2:case s.OPS.curveTo3:case s.OPS.closePath:case s.OPS.rectangle:he.buildPath(re,qe,Ie,pe);continue;case s.OPS.markPoint:case s.OPS.markPointProps:case s.OPS.beginCompat:case s.OPS.endCompat:continue;case s.OPS.beginMarkedContentProps:if(!(Ie[0]instanceof m.Name)){(0,s.warn)(`Expected name for beginMarkedContentProps arg0=${Ie[0]}`);continue}if(Ie[0].name==="OC"){Re(he.parseMarkedContentProps(Ie[1],de).then(Xe=>{re.addOp(s.OPS.beginMarkedContentProps,["OC",Xe])}).catch(Xe=>{if(!(Xe instanceof s.AbortException)){if(!he.options.ignoreErrors)throw Xe;he.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,s.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Xe}".`)}}));return}Ie=[Ie[0].name,Ie[1]instanceof m.Dict?Ie[1].get("MCID"):null];break;case s.OPS.beginMarkedContent:case s.OPS.endMarkedContent:default:if(Ie!==null){for(Qe=0,ot=Ie.length;Qe<ot&&!(Ie[Qe]instanceof m.Dict);Qe++);if(Qe<ot){(0,s.warn)("getOperatorList - ignoring operator: "+qe);continue}}}re.addOp(qe,Ie)}st?Re(q):(Fe(),Le())}).catch(je=>{if(!(je instanceof s.AbortException)){if(!this.options.ignoreErrors)throw je;this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorOperatorList}),(0,s.warn)(`getOperatorList - ignoring errors during "${ae.name}" task: "${je}".`),Fe()}})}getTextContent({stream:le,task:ae,resources:de,stateManager:re=null,combineTextItems:Q=!1,includeMarkedContent:ce=!1,sink:he,seenStyles:ge=new Set,viewBox:pe}){de=de||m.Dict.empty,re=re||new X(new ne);const me=(0,w.getNormalizedUnicodes)(),Ae={items:[],styles:Object.create(null)},ye={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},xe=[" "," "];let Ce=0;function we(Ke){const Oe=(Ce+1)%2,De=xe[Ce]!==" "&&xe[Oe]===" ";return xe[Ce]=Ke,Ce=Oe,De}function ve(){xe[0]=xe[1]=" ",Ce=0}const Se=this,_e=this.xref,ke=[];let Fe=null;const je=new _.LocalImageCache,Le=new _.LocalGStateCache,ze=new ue(le,_e,re);let Re;function et(){const Ke=Re.font,Oe=[Re.fontSize*Re.textHScale,0,0,Re.fontSize,0,Re.textRise];if(Ke.isType3Font&&(Re.fontSize<=1||Ke.isCharBBox)&&!(0,s.isArrayEqual)(Re.fontMatrix,s.FONT_IDENTITY_MATRIX)){const De=Ke.bbox[3]-Ke.bbox[1];De>0&&(Oe[3]*=De*Re.fontMatrix[3])}return s.Util.transform(Re.ctm,s.Util.transform(Re.textMatrix,Oe))}function st(){if(ye.initialized)return ye;const Ke=Re.font,Oe=Ke.loadedName;ge.has(Oe)||(ge.add(Oe),Ae.styles[Oe]={fontFamily:Ke.fallbackName,ascent:Ke.ascent,descent:Ke.descent,vertical:Ke.vertical}),ye.fontName=Oe;const De=ye.transform=et();Ke.vertical?(ye.width=ye.totalWidth=Math.hypot(De[0],De[1]),ye.height=ye.totalHeight=0,ye.vertical=!0):(ye.width=ye.totalWidth=0,ye.height=ye.totalHeight=Math.hypot(De[2],De[3]),ye.vertical=!1);const Ie=Math.hypot(Re.textLineMatrix[0],Re.textLineMatrix[1]),qe=Math.hypot(Re.ctm[0],Re.ctm[1]);return ye.textAdvanceScale=qe*Ie,ye.trackingSpaceMin=.1*Re.fontSize,ye.notASpace=.03*Re.fontSize,ye.negativeSpaceMax=-.2*Re.fontSize,ye.spaceInFlowMin=.1*Re.fontSize,ye.spaceInFlowMax=.6*Re.fontSize,ye.hasEOL=!1,ye.initialized=!0,ye}function Qe(){if(!ye.initialized)return;const Ke=Math.hypot(Re.textLineMatrix[0],Re.textLineMatrix[1]),Oe=Math.hypot(Re.ctm[0],Re.ctm[1])*Ke;Oe!==ye.textAdvanceScale&&(ye.vertical?(ye.totalHeight+=ye.height*ye.textAdvanceScale,ye.height=0):(ye.totalWidth+=ye.width*ye.textAdvanceScale,ye.width=0),ye.textAdvanceScale=Oe)}function ot(Ke,Oe){return Se.loadFont(Ke,Oe,de).then(function(De){return De.font.isType3Font?De.loadType3Data(Se,de,ae).catch(function(){}).then(function(){return De}):De}).then(function(De){Re.font=De.font,Re.fontMatrix=De.font.fontMatrix||s.FONT_IDENTITY_MATRIX})}function Ne(Ke,Oe,De){const Ie=Math.hypot(De[0],De[1]);return[(De[0]*Ke+De[1]*Oe)/Ie,(De[2]*Ke+De[3]*Oe)/Ie]}function Me(){const Ke=et();let Oe=Ke[4],De=Ke[5];const Ie=Oe-pe[0],qe=De-pe[1];if(Ie<0||Ie>pe[2]||qe<0||qe>pe[3])return!1;if(!Q||!Re.font||!ye.prevTransform)return!0;let Xe=ye.prevTransform[4],Ve=ye.prevTransform[5];if(Xe===Oe&&Ve===De)return!0;let nt=-1;switch(Ke[0]&&Ke[1]===0&&Ke[2]===0?nt=Ke[0]>0?0:180:Ke[1]&&Ke[0]===0&&Ke[3]===0&&(nt=Ke[1]>0?90:270),nt){case 0:break;case 90:[Oe,De]=[De,Oe],[Xe,Ve]=[Ve,Xe];break;case 180:[Oe,De,Xe,Ve]=[-Oe,-De,-Xe,-Ve];break;case 270:[Oe,De]=[-De,-Oe],[Xe,Ve]=[-Ve,-Xe];break;default:[Oe,De]=Ne(Oe,De,Ke),[Xe,Ve]=Ne(Xe,Ve,ye.prevTransform)}if(Re.font.vertical){const gt=(Ve-De)/ye.textAdvanceScale,ft=Oe-Xe,kt=Math.sign(ye.height);return gt<kt*ye.negativeSpaceMax?Math.abs(ft)>.5*ye.width?(Ue(),!0):(ve(),Ye(),!0):Math.abs(ft)>ye.width?(Ue(),!0):(gt<=kt*ye.notASpace&&ve(),gt<=kt*ye.trackingSpaceMin?ye.height+=gt:Ge(gt,ye.prevTransform,kt)||(ye.str.length===0?(ve(),Ae.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(gt),transform:ye.prevTransform,fontName:ye.fontName,hasEOL:!1})):ye.height+=gt),!0)}const ht=(Oe-Xe)/ye.textAdvanceScale,ut=De-Ve,it=Math.sign(ye.width);return ht<it*ye.negativeSpaceMax?Math.abs(ut)>.5*ye.height?(Ue(),!0):(ve(),Ye(),!0):Math.abs(ut)>ye.height?(Ue(),!0):(ht<=it*ye.notASpace&&ve(),ht<=it*ye.trackingSpaceMin?ye.width+=ht:Ge(ht,ye.prevTransform,it)||(ye.str.length===0?(ve(),Ae.items.push({str:" ",dir:"ltr",width:Math.abs(ht),height:0,transform:ye.prevTransform,fontName:ye.fontName,hasEOL:!1})):ye.width+=ht),!0)}function Pe({chars:Ke,extraSpacing:Oe}){const De=Re.font;if(!Ke){const Xe=Re.charSpacing+Oe;Xe&&(De.vertical?Re.translateTextMatrix(0,-Xe):Re.translateTextMatrix(Xe*Re.textHScale,0));return}const Ie=De.charsToGlyphs(Ke),qe=Re.fontMatrix[0]*Re.fontSize;for(let Xe=0,Ve=Ie.length;Xe<Ve;Xe++){const nt=Ie[Xe];if(nt.isInvisibleFormatMark)continue;let ht=Re.charSpacing+(Xe+1===Ve?Oe:0),ut=nt.width;De.vertical&&(ut=nt.vmetric?nt.vmetric[0]:-ut);let it=ut*qe;if(nt.isWhitespace){De.vertical?(ht+=-it+Re.wordSpacing,Re.translateTextMatrix(0,-ht)):(ht+=it+Re.wordSpacing,Re.translateTextMatrix(ht*Re.textHScale,0)),we(" ");continue}if(!Me())continue;const gt=st();nt.isZeroWidthDiacritic&&(it=0),De.vertical?(Re.translateTextMatrix(0,it),it=Math.abs(it),gt.height+=it):(it*=Re.textHScale,Re.translateTextMatrix(it,0),gt.width+=it),it&&(gt.prevTransform=et());let ft=nt.unicode;ft=me[ft]||ft,ft=(0,w.reverseIfRtl)(ft),we(ft)&&gt.str.push(" "),gt.str.push(ft),ht&&(De.vertical?Re.translateTextMatrix(0,-ht):Re.translateTextMatrix(ht*Re.textHScale,0))}}function Ue(){ve(),ye.initialized?(ye.hasEOL=!0,Ye()):Ae.items.push({str:"",dir:"ltr",width:0,height:0,transform:et(),fontName:Re.font.loadedName,hasEOL:!0})}function Ge(Ke,Oe,De){if(De*ye.spaceInFlowMin<=Ke&&Ke<=De*ye.spaceInFlowMax)return ye.initialized&&(ve(),ye.str.push(" ")),!1;const Ie=ye.fontName;let qe=0;return ye.vertical&&(qe=Ke,Ke=0),Ye(),ve(),Ae.items.push({str:" ",dir:"ltr",width:Math.abs(Ke),height:Math.abs(qe),transform:Oe||et(),fontName:Ie,hasEOL:!1}),!0}function Ye(){ye.initialized&&ye.str&&(ye.vertical?ye.totalHeight+=ye.height*ye.textAdvanceScale:ye.totalWidth+=ye.width*ye.textAdvanceScale,Ae.items.push(function(Oe){const De=Oe.str.join(""),Ie=(0,V.bidi)(De,-1,Oe.vertical);return{str:Ie.str,dir:Ie.dir,width:Math.abs(Oe.totalWidth),height:Math.abs(Oe.totalHeight),transform:Oe.transform,fontName:Oe.fontName,hasEOL:Oe.hasEOL}}(ye)),ye.initialized=!1,ye.str.length=0)}function We(Ke=!1){const Oe=Ae.items.length;Oe!==0&&!(Ke&&Oe<10)&&(he.enqueue(Ae,Oe),Ae.items=[],Ae.styles=Object.create(null))}const Ze=new Z;return new Promise(function Ke(Oe,De){const Ie=function(gt){We(!0),Promise.all([gt,he.ready]).then(function(){try{Ke(Oe,De)}catch(ft){De(ft)}},De)};ae.ensureNotTerminated(),Ze.reset();const qe={};let Xe,Ve=[];for(;!(Xe=Ze.check())&&(Ve.length=0,qe.args=Ve,!!ze.read(qe));){Re=re.state;const gt=qe.fn;switch(Ve=qe.args,0|gt){case s.OPS.setFont:var nt=Ve[0].name,ht=Ve[1];if(Re.font&&nt===Re.fontName&&ht===Re.fontSize)break;Ye(),Re.fontName=nt,Re.fontSize=ht,Ie(ot(nt,null));return;case s.OPS.setTextRise:Re.textRise=Ve[0];break;case s.OPS.setHScale:Re.textHScale=Ve[0]/100;break;case s.OPS.setLeading:Re.leading=Ve[0];break;case s.OPS.moveText:Re.translateTextLineMatrix(Ve[0],Ve[1]),Re.textMatrix=Re.textLineMatrix.slice();break;case s.OPS.setLeadingMoveText:Re.leading=-Ve[1],Re.translateTextLineMatrix(Ve[0],Ve[1]),Re.textMatrix=Re.textLineMatrix.slice();break;case s.OPS.nextLine:Re.carriageReturn();break;case s.OPS.setTextMatrix:Re.setTextMatrix(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5]),Re.setTextLineMatrix(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5]),Qe();break;case s.OPS.setCharSpacing:Re.charSpacing=Ve[0];break;case s.OPS.setWordSpacing:Re.wordSpacing=Ve[0];break;case s.OPS.beginText:Re.textMatrix=s.IDENTITY_MATRIX.slice(),Re.textLineMatrix=s.IDENTITY_MATRIX.slice();break;case s.OPS.showSpacedText:if(!re.state.font){Se.ensureStateFont(re.state);continue}const ft=(Re.font.vertical?1:-1)*Re.fontSize/1e3,kt=Ve[0];for(let rt=0,At=kt.length;rt<At-1;rt++){const dt=kt[rt];if(typeof dt=="string")ke.push(dt);else if(typeof dt=="number"&&dt!==0){const yt=ke.join("");ke.length=0,Pe({chars:yt,extraSpacing:dt*ft})}}const wt=kt.at(-1);if(typeof wt=="string"&&ke.push(wt),ke.length>0){const rt=ke.join("");ke.length=0,Pe({chars:rt,extraSpacing:0})}break;case s.OPS.showText:if(!re.state.font){Se.ensureStateFont(re.state);continue}Pe({chars:Ve[0],extraSpacing:0});break;case s.OPS.nextLineShowText:if(!re.state.font){Se.ensureStateFont(re.state);continue}Re.carriageReturn(),Pe({chars:Ve[0],extraSpacing:0});break;case s.OPS.nextLineSetSpacingShowText:if(!re.state.font){Se.ensureStateFont(re.state);continue}Re.wordSpacing=Ve[0],Re.charSpacing=Ve[1],Re.carriageReturn(),Pe({chars:Ve[2],extraSpacing:0});break;case s.OPS.paintXObject:Ye(),Fe||(Fe=de.get("XObject")||m.Dict.empty);var ut=Ve[0]instanceof m.Name,it=Ve[0].name;if(ut&&je.getByName(it))break;Ie(new Promise(function(rt,At){if(!ut)throw new s.FormatError("XObject must be referred to by name.");let dt=Fe.getRaw(it);if(dt instanceof m.Ref){if(je.getByRef(dt)){rt();return}if(Se.globalImageCache.getData(dt,Se.pageIndex)){rt();return}dt=_e.fetch(dt)}if(!(dt instanceof D.BaseStream))throw new s.FormatError("XObject should be a stream");const yt=dt.dict.get("Subtype");if(!(yt instanceof m.Name))throw new s.FormatError("XObject should have a Name subtype");if(yt.name!=="Form"){je.set(it,dt.dict.objId,!0),rt();return}const ct=re.state.clone(),bt=new X(ct),xt=dt.dict.getArray("Matrix");Array.isArray(xt)&&xt.length===6&&bt.transform(xt),We();const Ft={enqueueInvoked:!1,enqueue(Lt,Be){this.enqueueInvoked=!0,he.enqueue(Lt,Be)},get desiredSize(){return he.desiredSize},get ready(){return he.ready}};Se.getTextContent({stream:dt,task:ae,resources:dt.dict.get("Resources")||de,stateManager:bt,combineTextItems:Q,includeMarkedContent:ce,sink:Ft,seenStyles:ge,viewBox:pe}).then(function(){Ft.enqueueInvoked||je.set(it,dt.dict.objId,!0),rt()},At)}).catch(function(rt){if(!(rt instanceof s.AbortException)){if(!Se.options.ignoreErrors)throw rt;(0,s.warn)(`getTextContent - ignoring XObject: "${rt}".`)}}));return;case s.OPS.setGState:if(ut=Ve[0]instanceof m.Name,it=Ve[0].name,ut&&Le.getByName(it))break;Ie(new Promise(function(rt,At){if(!ut)throw new s.FormatError("GState must be referred to by name.");const dt=de.get("ExtGState");if(!(dt instanceof m.Dict))throw new s.FormatError("ExtGState should be a dictionary.");const yt=dt.get(it);if(!(yt instanceof m.Dict))throw new s.FormatError("GState should be a dictionary.");const ct=yt.get("Font");ct?(Ye(),Re.fontName=null,Re.fontSize=ct[1],ot(null,ct[0]).then(rt,At)):(Le.set(it,yt.objId,!0),rt())}).catch(function(rt){if(!(rt instanceof s.AbortException)){if(!Se.options.ignoreErrors)throw rt;(0,s.warn)(`getTextContent - ignoring ExtGState: "${rt}".`)}}));return;case s.OPS.beginMarkedContent:Ye(),ce&&Ae.items.push({type:"beginMarkedContent",tag:Ve[0]instanceof m.Name?Ve[0].name:null});break;case s.OPS.beginMarkedContentProps:if(Ye(),ce){let rt=null;Ve[1]instanceof m.Dict&&(rt=Ve[1].get("MCID")),Ae.items.push({type:"beginMarkedContentProps",id:Number.isInteger(rt)?`${Se.idFactory.getPageObjId()}_mcid${rt}`:null,tag:Ve[0]instanceof m.Name?Ve[0].name:null})}break;case s.OPS.endMarkedContent:Ye(),ce&&Ae.items.push({type:"endMarkedContent"})}if(Ae.items.length>=he.desiredSize){Xe=!0;break}}Xe?Ie(q):(Ye(),We(),Oe())}).catch(Ke=>{if(!(Ke instanceof s.AbortException)){if(!this.options.ignoreErrors)throw Ke;(0,s.warn)(`getTextContent - ignoring errors during "${ae.name}" task: "${Ke}".`),Ye(),We()}})}extractDataStructures(le,ae,de){const re=this.xref;let Q;const ce=this.readToUnicode(de.toUnicode||le.get("ToUnicode")||ae.get("ToUnicode"));if(de.composite){const me=le.get("CIDSystemInfo");me instanceof m.Dict&&(de.cidSystemInfo={registry:(0,s.stringToPDFString)(me.get("Registry")),ordering:(0,s.stringToPDFString)(me.get("Ordering")),supplement:me.get("Supplement")});try{const Ae=le.get("CIDToGIDMap");Ae instanceof D.BaseStream&&(Q=Ae.getBytes())}catch(Ae){if(!this.options.ignoreErrors)throw Ae;(0,s.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Ae}".`)}}const he=[];let ge,pe=null;if(le.has("Encoding")){if(ge=le.get("Encoding"),ge instanceof m.Dict){if(pe=ge.get("BaseEncoding"),pe=pe instanceof m.Name?pe.name:null,ge.has("Differences")){const me=ge.get("Differences");let Ae=0;for(let ye=0,xe=me.length;ye<xe;ye++){const Ce=re.fetchIfRef(me[ye]);if(typeof Ce=="number")Ae=Ce;else{if(!(Ce instanceof m.Name))throw new s.FormatError(`Invalid entry in 'Differences' array: ${Ce}`);he[Ae++]=Ce.name}}}}else if(ge instanceof m.Name)pe=ge.name;else{const me="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new s.FormatError(me);(0,s.warn)(me)}pe!=="MacRomanEncoding"&&pe!=="MacExpertEncoding"&&pe!=="WinAnsiEncoding"&&(pe=null)}if(pe)de.defaultEncoding=(0,b.getEncoding)(pe);else{const me=!!(de.flags&t.FontFlags.Symbolic),Ae=!!(de.flags&t.FontFlags.Nonsymbolic);ge=b.StandardEncoding,de.type!=="TrueType"||Ae||(ge=b.WinAnsiEncoding),me&&(ge=b.MacRomanEncoding,de.file&&!de.isInternalFont||(/Symbol/i.test(de.name)?ge=b.SymbolSetEncoding:/Dingbats|Wingdings/i.test(de.name)&&(ge=b.ZapfDingbatsEncoding))),de.defaultEncoding=ge}return de.differences=he,de.baseEncodingName=pe,de.hasEncoding=!!pe||he.length>0,de.dict=le,ce.then(me=>(de.toUnicode=me,this.buildToUnicode(de))).then(me=>(de.toUnicode=me,Q&&(de.cidToGidMap=this.readCidToGidMap(Q,me)),de))}_simpleFontToUnicode(le,ae=!1){(0,s.assert)(!le.composite,"Must be a simple font.");const de=[],re=le.defaultEncoding.slice(),Q=le.baseEncodingName,ce=le.differences;for(const ge in ce){const pe=ce[ge];pe!==".notdef"&&(re[ge]=pe)}const he=(0,te.getGlyphsUnicode)();for(const ge in re){let pe=re[ge];if(pe!=="")if(he[pe]!==void 0)de[ge]=String.fromCharCode(he[pe]);else{let me=0;switch(pe[0]){case"G":pe.length===3&&(me=parseInt(pe.substring(1),16));break;case"g":pe.length===5&&(me=parseInt(pe.substring(1),16));break;case"C":case"c":if(pe.length>=3&&pe.length<=4){const ye=pe.substring(1);if(ae){me=parseInt(ye,16);break}if(me=+ye,Number.isNaN(me)&&Number.isInteger(parseInt(ye,16)))return this._simpleFontToUnicode(le,!0)}break;default:const Ae=(0,w.getUnicodeForGlyph)(pe,he);Ae!==-1&&(me=Ae)}if(me>0&&me<=1114111&&Number.isInteger(me)){if(Q&&me===+ge){const Ae=(0,b.getEncoding)(Q);if(Ae&&(pe=Ae[ge])){de[ge]=String.fromCharCode(he[pe]);continue}}de[ge]=String.fromCodePoint(me)}}}return de}async buildToUnicode(le){if(le.hasIncludedToUnicodeMap=!!le.toUnicode&&le.toUnicode.length>0,le.hasIncludedToUnicodeMap)return!le.composite&&le.hasEncoding&&(le.fallbackToUnicode=this._simpleFontToUnicode(le)),le.toUnicode;if(!le.composite)return new y.ToUnicodeMap(this._simpleFontToUnicode(le));if(le.composite&&(le.cMap.builtInCMap&&!(le.cMap instanceof g.IdentityCMap)||le.cidSystemInfo.registry==="Adobe"&&(le.cidSystemInfo.ordering==="GB1"||le.cidSystemInfo.ordering==="CNS1"||le.cidSystemInfo.ordering==="Japan1"||le.cidSystemInfo.ordering==="Korea1"))){const{registry:ae,ordering:de}=le.cidSystemInfo,re=m.Name.get(`${ae}-${de}-UCS2`),Q=await g.CMapFactory.create({encoding:re,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),ce=[];return le.cMap.forEach(function(he,ge){if(ge>65535)throw new s.FormatError("Max size of CID is 65,535");const pe=Q.lookup(ge);pe&&(ce[he]=String.fromCharCode((pe.charCodeAt(0)<<8)+pe.charCodeAt(1)))}),new y.ToUnicodeMap(ce)}return new y.IdentityToUnicodeMap(le.firstChar,le.lastChar)}readToUnicode(le){return le?le instanceof m.Name?g.CMapFactory.create({encoding:le,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(ae){return ae instanceof g.IdentityCMap?new y.IdentityToUnicodeMap(0,65535):new y.ToUnicodeMap(ae.getMap())}):le instanceof D.BaseStream?g.CMapFactory.create({encoding:le,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(ae){if(ae instanceof g.IdentityCMap)return new y.IdentityToUnicodeMap(0,65535);const de=new Array(ae.length);return ae.forEach(function(re,Q){if(typeof Q=="number"){de[re]=String.fromCodePoint(Q);return}const ce=[];for(let he=0;he<Q.length;he+=2){const ge=Q.charCodeAt(he)<<8|Q.charCodeAt(he+1);if((63488&ge)!=55296){ce.push(ge);continue}he+=2;const pe=Q.charCodeAt(he)<<8|Q.charCodeAt(he+1);ce.push(((1023&ge)<<10)+(1023&pe)+65536)}de[re]=String.fromCodePoint(...ce)}),new y.ToUnicodeMap(de)},ae=>{if(ae instanceof s.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,s.warn)(`readToUnicode - ignoring ToUnicode data: "${ae}".`),null;throw ae}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(le,ae){const de=[];for(let re=0,Q=le.length;re<Q;re++){const ce=le[re++]<<8|le[re],he=re>>1;(ce!==0||ae.has(he))&&(de[he]=ce)}return de}extractWidths(le,ae,de){const re=this.xref;let Q=[],ce=0;const he=[];let ge,pe,me,Ae,ye,xe,Ce,we;if(de.composite){if(ce=le.has("DW")?le.get("DW"):1e3,we=le.get("W"),we)for(pe=0,me=we.length;pe<me;pe++)if(xe=re.fetchIfRef(we[pe++]),Ce=re.fetchIfRef(we[pe]),Array.isArray(Ce))for(Ae=0,ye=Ce.length;Ae<ye;Ae++)Q[xe++]=re.fetchIfRef(Ce[Ae]);else{const _e=re.fetchIfRef(we[++pe]);for(Ae=xe;Ae<=Ce;Ae++)Q[Ae]=_e}if(de.vertical){let _e=le.getArray("DW2")||[880,-1e3];if(ge=[_e[1],.5*ce,_e[0]],_e=le.get("W2"),_e)for(pe=0,me=_e.length;pe<me;pe++)if(xe=re.fetchIfRef(_e[pe++]),Ce=re.fetchIfRef(_e[pe]),Array.isArray(Ce))for(Ae=0,ye=Ce.length;Ae<ye;Ae++)he[xe++]=[re.fetchIfRef(Ce[Ae++]),re.fetchIfRef(Ce[Ae++]),re.fetchIfRef(Ce[Ae])];else{const ke=[re.fetchIfRef(_e[++pe]),re.fetchIfRef(_e[++pe]),re.fetchIfRef(_e[++pe])];for(Ae=xe;Ae<=Ce;Ae++)he[Ae]=ke}}}else{const _e=de.firstChar;if(we=le.get("Widths"),we){for(Ae=_e,pe=0,me=we.length;pe<me;pe++)Q[Ae++]=re.fetchIfRef(we[pe]);ce=parseFloat(ae.get("MissingWidth"))||0}else{const ke=le.get("BaseFont");if(ke instanceof m.Name){const Fe=this.getBaseFontMetrics(ke.name);Q=this.buildCharCodeToWidth(Fe.widths,de),ce=Fe.defaultWidth}}}let ve=!0,Se=ce;for(const _e in Q){const ke=Q[_e];if(ke)if(Se){if(Se!==ke){ve=!1;break}}else Se=ke}ve&&(de.flags|=t.FontFlags.FixedPitch),de.defaultWidth=ce,de.widths=Q,de.defaultVMetrics=ge,de.vmetrics=he}isSerifFont(le){const ae=le.split("-")[0];return ae in(0,C.getSerifFonts)()||ae.search(/serif/gi)!==-1}getBaseFontMetrics(le){let ae=0,de=Object.create(null),re=!1,Q=(0,C.getStdFontMap)()[le]||le;const ce=(0,j.getMetrics)();Q in ce||(Q=this.isSerifFont(le)?"Times-Roman":"Helvetica");const he=ce[Q];return typeof he=="number"?(ae=he,re=!0):de=he(),{defaultWidth:ae,monospace:re,widths:de}}buildCharCodeToWidth(le,ae){const de=Object.create(null),re=ae.differences,Q=ae.defaultEncoding;for(let ce=0;ce<256;ce++)ce in re&&le[re[ce]]?de[ce]=le[re[ce]]:ce in Q&&le[Q[ce]]&&(de[ce]=le[Q[ce]]);return de}preEvaluateFont(le){const ae=le;let de=le.get("Subtype");if(!(de instanceof m.Name))throw new s.FormatError("invalid font Subtype");let re,Q,ce=!1;if(de.name==="Type0"){const me=le.get("DescendantFonts");if(!me)throw new s.FormatError("Descendant fonts are not specified");if(!((le=Array.isArray(me)?this.xref.fetchIfRef(me[0]):me)instanceof m.Dict))throw new s.FormatError("Descendant font is not a dictionary.");if(de=le.get("Subtype"),!(de instanceof m.Name))throw new s.FormatError("invalid font Subtype");ce=!0}const he=le.get("FirstChar")||0,ge=le.get("LastChar")||(ce?65535:255),pe=le.get("FontDescriptor");if(pe){re=new ie.MurmurHash3_64;const me=ae.getRaw("Encoding");if(me instanceof m.Name)re.update(me.name);else if(me instanceof m.Ref)re.update(me.toString());else if(me instanceof m.Dict){for(const ye of me.getRawValues())if(ye instanceof m.Name)re.update(ye.name);else if(ye instanceof m.Ref)re.update(ye.toString());else if(Array.isArray(ye)){const xe=ye.length,Ce=new Array(xe);for(let we=0;we<xe;we++){const ve=ye[we];ve instanceof m.Name?Ce[we]=ve.name:(typeof ve=="number"||ve instanceof m.Ref)&&(Ce[we]=ve.toString())}re.update(Ce.join())}}if(re.update(`${he}-${ge}`),Q=le.get("ToUnicode")||ae.get("ToUnicode"),Q instanceof D.BaseStream){const ye=Q.str||Q,xe=ye.buffer?new Uint8Array(ye.buffer.buffer,0,ye.bufferLength):new Uint8Array(ye.bytes.buffer,ye.start,ye.end-ye.start);re.update(xe)}else Q instanceof m.Name&&re.update(Q.name);const Ae=le.get("Widths")||ae.get("Widths");if(Array.isArray(Ae)){const ye=[];for(const xe of Ae)(typeof xe=="number"||xe instanceof m.Ref)&&ye.push(xe.toString());re.update(ye.join())}if(ce){re.update("compositeFont");const ye=le.get("W")||ae.get("W");if(Array.isArray(ye)){const Ce=[];for(const we of ye)if(typeof we=="number"||we instanceof m.Ref)Ce.push(we.toString());else if(Array.isArray(we)){const ve=[];for(const Se of we)(typeof Se=="number"||Se instanceof m.Ref)&&ve.push(Se.toString());Ce.push(`[${ve.join()}]`)}re.update(Ce.join())}const xe=le.getRaw("CIDToGIDMap")||ae.getRaw("CIDToGIDMap");xe instanceof m.Name?re.update(xe.name):xe instanceof m.Ref?re.update(xe.toString()):xe instanceof D.BaseStream&&re.update(xe.peekBytes())}}return{descriptor:pe,dict:le,baseDict:ae,composite:ce,type:de.name,firstChar:he,lastChar:ge,toUnicode:Q,hash:re?re.hexdigest():""}}async translateFont({descriptor:le,dict:ae,baseDict:de,composite:re,type:Q,firstChar:ce,lastChar:he,toUnicode:ge,cssFontInfo:pe}){const me=Q==="Type3";let Ae;if(!le){if(!me){let Le=ae.get("BaseFont");if(!(Le instanceof m.Name))throw new s.FormatError("Base font is not specified");Le=Le.name.replace(/[,_]/g,"-");const ze=this.getBaseFontMetrics(Le),Re=Le.split("-")[0],et=(this.isSerifFont(Re)?t.FontFlags.Serif:0)|(ze.monospace?t.FontFlags.FixedPitch:0)|((0,C.getSymbolsFonts)()[Re]?t.FontFlags.Symbolic:t.FontFlags.Nonsymbolic);Ae={type:Q,name:Le,loadedName:de.loadedName,widths:ze.widths,defaultWidth:ze.defaultWidth,isSimulatedFlags:!0,flags:et,firstChar:ce,lastChar:he,toUnicode:ge,xHeight:0,capHeight:0,italicAngle:0,isType3Font:me};const st=ae.get("Widths"),Qe=(0,C.getStandardFontName)(Le);let ot=null;return Qe&&(Ae.isStandardFont=!0,ot=await this.fetchStandardFontData(Qe),Ae.isInternalFont=!!ot),this.extractDataStructures(ae,ae,Ae).then(Ne=>{if(st){const Me=[];let Pe=ce;for(let Ue=0,Ge=st.length;Ue<Ge;Ue++)Me[Pe++]=this.xref.fetchIfRef(st[Ue]);Ne.widths=Me}else Ne.widths=this.buildCharCodeToWidth(ze.widths,Ne);return new p.Font(Le,ot,Ne)})}(le=new m.Dict(null)).set("FontName",m.Name.get(Q)),le.set("FontBBox",ae.getArray("FontBBox")||[0,0,0,0])}let ye,xe,Ce,we,ve,Se=le.get("FontName"),_e=ae.get("BaseFont");if(typeof Se=="string"&&(Se=m.Name.get(Se)),typeof _e=="string"&&(_e=m.Name.get(_e)),!me){const Le=Se&&Se.name,ze=_e&&_e.name;Le!==ze&&((0,s.info)(`The FontDescriptor's FontName is "${Le}" but should be the same as the Font's BaseFont "${ze}".`),Le&&ze&&ze.startsWith(Le)&&(Se=_e))}if(Se=Se||_e,!(Se instanceof m.Name))throw new s.FormatError("invalid font name");try{ye=le.get("FontFile","FontFile2","FontFile3")}catch(Le){if(!this.options.ignoreErrors)throw Le;(0,s.warn)(`translateFont - fetching "${Se.name}" font file: "${Le}".`),ye=new k.NullStream}let ke=!1,Fe=!1,je=null;if(ye){if(ye.dict){const Le=ye.dict.get("Subtype");Le instanceof m.Name&&(xe=Le.name),Ce=ye.dict.get("Length1"),we=ye.dict.get("Length2"),ve=ye.dict.get("Length3")}}else if(pe){const Le=(0,M.getXfaFontName)(Se.name);Le&&(pe.fontFamily=`${pe.fontFamily}-PdfJS-XFA`,pe.metrics=Le.metrics||null,je=Le.factors||null,ye=await this.fetchStandardFontData(Le.name),Fe=!!ye,de=ae=(0,M.getXfaFontDict)(Se.name),re=!0)}else if(!me){const Le=(0,C.getStandardFontName)(Se.name);Le&&(ke=!0,ye=await this.fetchStandardFontData(Le),Fe=!!ye)}if(Ae={type:Q,name:Se.name,subtype:xe,file:ye,length1:Ce,length2:we,length3:ve,isStandardFont:ke,isInternalFont:Fe,loadedName:de.loadedName,composite:re,fixedPitch:!1,fontMatrix:ae.getArray("FontMatrix")||s.FONT_IDENTITY_MATRIX,firstChar:ce,lastChar:he,toUnicode:ge,bbox:le.getArray("FontBBox")||ae.getArray("FontBBox"),ascent:le.get("Ascent"),descent:le.get("Descent"),xHeight:le.get("XHeight")||0,capHeight:le.get("CapHeight")||0,flags:le.get("Flags"),italicAngle:le.get("ItalicAngle")||0,isType3Font:me,cssFontInfo:pe,scaleFactors:je},re){const Le=de.get("Encoding");Le instanceof m.Name&&(Ae.cidEncoding=Le.name);const ze=await g.CMapFactory.create({encoding:Le,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Ae.cMap=ze,Ae.vertical=Ae.cMap.vertical}return this.extractDataStructures(ae,de,Ae).then(Le=>(this.extractWidths(ae,le,Le),new p.Font(Se.name,ye,Le)))}static buildFontPaths(le,ae,de,re){function Q(ce){const he=`${le.loadedName}_path_${ce}`;try{if(le.renderer.hasBuiltPath(ce))return;de.send("commonobj",[he,"FontPath",le.renderer.getPathJs(ce)])}catch(ge){if(re.ignoreErrors){de.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,s.warn)(`buildFontPaths - ignoring ${he} glyph: "${ge}".`);return}throw ge}}for(const ce of ae){Q(ce.fontChar);const he=ce.accent;he&&he.fontChar&&Q(he.fontChar)}}static get fallbackFontDict(){const le=new m.Dict;return le.set("BaseFont",m.Name.get("PDFJS-FallbackFont")),le.set("Type",m.Name.get("FallbackType")),le.set("Subtype",m.Name.get("FallbackType")),le.set("Encoding",m.Name.get("WinAnsiEncoding")),(0,s.shadow)(this,"fallbackFontDict",le)}}o.PartialEvaluator=se;class ${constructor({loadedName:le,font:ae,dict:de,evaluatorOptions:re}){this.loadedName=le,this.font=ae,this.dict=de,this._evaluatorOptions=re||ee,this.type3Loaded=null,this.type3Dependencies=ae.isType3Font?new Set:null,this.sent=!1}send(le){this.sent||(this.sent=!0,le.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(le){this.font.data&&(this.font.disableFontFace=!0,se.buildFontPaths(this.font,this.font.glyphCacheValues,le,this._evaluatorOptions))}loadType3Data(le,ae,de){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const re=le.clone({ignoreErrors:!1});re.parsingType3Font=!0;const Q=new m.RefSet(le.type3FontRefs);this.dict.objId&&!Q.has(this.dict.objId)&&Q.put(this.dict.objId),re.type3FontRefs=Q;const ce=this.font,he=this.type3Dependencies;let ge=Promise.resolve();const pe=this.dict.get("CharProcs"),me=this.dict.get("Resources")||ae,Ae=Object.create(null),ye=s.Util.normalizeRect(ce.bbox||[0,0,0,0]),xe=ye[2]-ye[0],Ce=ye[3]-ye[1],we=Math.hypot(xe,Ce);for(const ve of pe.getKeys())ge=ge.then(()=>{const Se=pe.get(ve),_e=new E.OperatorList;return re.getOperatorList({stream:Se,task:de,resources:me,operatorList:_e}).then(()=>{_e.fnArray[0]===s.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(_e,we),Ae[ve]=_e.getIR();for(const ke of _e.dependencies)he.add(ke)}).catch(function(ke){(0,s.warn)(`Type3 font resource "${ve}" is not available.`);const Fe=new E.OperatorList;Ae[ve]=Fe.getIR()})});return this.type3Loaded=ge.then(()=>{ce.charProcOperatorList=Ae,this._bbox&&(ce.isCharBBox=!0,ce.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(le,ae=NaN){const de=s.Util.normalizeRect(le.argsArray[0].slice(2)),re=de[2]-de[0],Q=de[3]-de[1],ce=Math.hypot(re,Q);re===0||Q===0?(le.fnArray.splice(0,1),le.argsArray.splice(0,1)):(ae===0||Math.round(ce/ae)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],de[0]),this._bbox[1]=Math.min(this._bbox[1],de[1]),this._bbox[2]=Math.max(this._bbox[2],de[2]),this._bbox[3]=Math.max(this._bbox[3],de[3]));let he=0,ge=le.length;for(;he<ge;){switch(le.fnArray[he]){case s.OPS.setCharWidthAndBounds:break;case s.OPS.setStrokeColorSpace:case s.OPS.setFillColorSpace:case s.OPS.setStrokeColor:case s.OPS.setStrokeColorN:case s.OPS.setFillColor:case s.OPS.setFillColorN:case s.OPS.setStrokeGray:case s.OPS.setFillGray:case s.OPS.setStrokeRGBColor:case s.OPS.setFillRGBColor:case s.OPS.setStrokeCMYKColor:case s.OPS.setFillCMYKColor:case s.OPS.shadingFill:case s.OPS.setRenderingIntent:le.fnArray.splice(he,1),le.argsArray.splice(he,1),ge--;continue;case s.OPS.setGState:const[pe]=le.argsArray[he];let me=0,Ae=pe.length;for(;me<Ae;){const[ye]=pe[me];switch(ye){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":pe.splice(me,1),Ae--;continue}me++}}he++}}}class X{constructor(le=new oe){this.state=le,this.stateStack=[]}save(){const le=this.state;this.stateStack.push(this.state),this.state=le.clone()}restore(){const le=this.stateStack.pop();le&&(this.state=le)}transform(le){this.state.ctm=s.Util.transform(this.state.ctm,le)}}class ne{constructor(){this.ctm=new Float32Array(s.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.textMatrix=s.IDENTITY_MATRIX.slice(),this.textLineMatrix=s.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(le,ae,de,re,Q,ce){const he=this.textMatrix;he[0]=le,he[1]=ae,he[2]=de,he[3]=re,he[4]=Q,he[5]=ce}setTextLineMatrix(le,ae,de,re,Q,ce){const he=this.textLineMatrix;he[0]=le,he[1]=ae,he[2]=de,he[3]=re,he[4]=Q,he[5]=ce}translateTextMatrix(le,ae){const de=this.textMatrix;de[4]=de[0]*le+de[2]*ae+de[4],de[5]=de[1]*le+de[3]*ae+de[5]}translateTextLineMatrix(le,ae){const de=this.textLineMatrix;de[4]=de[0]*le+de[2]*ae+de[4],de[5]=de[1]*le+de[3]*ae+de[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const le=Object.create(this);return le.textMatrix=this.textMatrix.slice(),le.textLineMatrix=this.textLineMatrix.slice(),le.fontMatrix=this.fontMatrix.slice(),le}}class oe{constructor(){this.ctm=new Float32Array(s.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=s.TextRenderingMode.FILL,this.fillColorSpace=R.ColorSpace.singletons.gray,this.strokeColorSpace=R.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class ue{static get opMap(){const le=(0,B.getLookupTableFactory)(function(ae){ae.w={id:s.OPS.setLineWidth,numArgs:1,variableArgs:!1},ae.J={id:s.OPS.setLineCap,numArgs:1,variableArgs:!1},ae.j={id:s.OPS.setLineJoin,numArgs:1,variableArgs:!1},ae.M={id:s.OPS.setMiterLimit,numArgs:1,variableArgs:!1},ae.d={id:s.OPS.setDash,numArgs:2,variableArgs:!1},ae.ri={id:s.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},ae.i={id:s.OPS.setFlatness,numArgs:1,variableArgs:!1},ae.gs={id:s.OPS.setGState,numArgs:1,variableArgs:!1},ae.q={id:s.OPS.save,numArgs:0,variableArgs:!1},ae.Q={id:s.OPS.restore,numArgs:0,variableArgs:!1},ae.cm={id:s.OPS.transform,numArgs:6,variableArgs:!1},ae.m={id:s.OPS.moveTo,numArgs:2,variableArgs:!1},ae.l={id:s.OPS.lineTo,numArgs:2,variableArgs:!1},ae.c={id:s.OPS.curveTo,numArgs:6,variableArgs:!1},ae.v={id:s.OPS.curveTo2,numArgs:4,variableArgs:!1},ae.y={id:s.OPS.curveTo3,numArgs:4,variableArgs:!1},ae.h={id:s.OPS.closePath,numArgs:0,variableArgs:!1},ae.re={id:s.OPS.rectangle,numArgs:4,variableArgs:!1},ae.S={id:s.OPS.stroke,numArgs:0,variableArgs:!1},ae.s={id:s.OPS.closeStroke,numArgs:0,variableArgs:!1},ae.f={id:s.OPS.fill,numArgs:0,variableArgs:!1},ae.F={id:s.OPS.fill,numArgs:0,variableArgs:!1},ae["f*"]={id:s.OPS.eoFill,numArgs:0,variableArgs:!1},ae.B={id:s.OPS.fillStroke,numArgs:0,variableArgs:!1},ae["B*"]={id:s.OPS.eoFillStroke,numArgs:0,variableArgs:!1},ae.b={id:s.OPS.closeFillStroke,numArgs:0,variableArgs:!1},ae["b*"]={id:s.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},ae.n={id:s.OPS.endPath,numArgs:0,variableArgs:!1},ae.W={id:s.OPS.clip,numArgs:0,variableArgs:!1},ae["W*"]={id:s.OPS.eoClip,numArgs:0,variableArgs:!1},ae.BT={id:s.OPS.beginText,numArgs:0,variableArgs:!1},ae.ET={id:s.OPS.endText,numArgs:0,variableArgs:!1},ae.Tc={id:s.OPS.setCharSpacing,numArgs:1,variableArgs:!1},ae.Tw={id:s.OPS.setWordSpacing,numArgs:1,variableArgs:!1},ae.Tz={id:s.OPS.setHScale,numArgs:1,variableArgs:!1},ae.TL={id:s.OPS.setLeading,numArgs:1,variableArgs:!1},ae.Tf={id:s.OPS.setFont,numArgs:2,variableArgs:!1},ae.Tr={id:s.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},ae.Ts={id:s.OPS.setTextRise,numArgs:1,variableArgs:!1},ae.Td={id:s.OPS.moveText,numArgs:2,variableArgs:!1},ae.TD={id:s.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},ae.Tm={id:s.OPS.setTextMatrix,numArgs:6,variableArgs:!1},ae["T*"]={id:s.OPS.nextLine,numArgs:0,variableArgs:!1},ae.Tj={id:s.OPS.showText,numArgs:1,variableArgs:!1},ae.TJ={id:s.OPS.showSpacedText,numArgs:1,variableArgs:!1},ae["'"]={id:s.OPS.nextLineShowText,numArgs:1,variableArgs:!1},ae['"']={id:s.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},ae.d0={id:s.OPS.setCharWidth,numArgs:2,variableArgs:!1},ae.d1={id:s.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},ae.CS={id:s.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},ae.cs={id:s.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},ae.SC={id:s.OPS.setStrokeColor,numArgs:4,variableArgs:!0},ae.SCN={id:s.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},ae.sc={id:s.OPS.setFillColor,numArgs:4,variableArgs:!0},ae.scn={id:s.OPS.setFillColorN,numArgs:33,variableArgs:!0},ae.G={id:s.OPS.setStrokeGray,numArgs:1,variableArgs:!1},ae.g={id:s.OPS.setFillGray,numArgs:1,variableArgs:!1},ae.RG={id:s.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},ae.rg={id:s.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},ae.K={id:s.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},ae.k={id:s.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},ae.sh={id:s.OPS.shadingFill,numArgs:1,variableArgs:!1},ae.BI={id:s.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ae.ID={id:s.OPS.beginImageData,numArgs:0,variableArgs:!1},ae.EI={id:s.OPS.endInlineImage,numArgs:1,variableArgs:!1},ae.Do={id:s.OPS.paintXObject,numArgs:1,variableArgs:!1},ae.MP={id:s.OPS.markPoint,numArgs:1,variableArgs:!1},ae.DP={id:s.OPS.markPointProps,numArgs:2,variableArgs:!1},ae.BMC={id:s.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},ae.BDC={id:s.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},ae.EMC={id:s.OPS.endMarkedContent,numArgs:0,variableArgs:!1},ae.BX={id:s.OPS.beginCompat,numArgs:0,variableArgs:!1},ae.EX={id:s.OPS.endCompat,numArgs:0,variableArgs:!1},ae.BM=null,ae.BD=null,ae.true=null,ae.fa=null,ae.fal=null,ae.fals=null,ae.false=null,ae.nu=null,ae.nul=null,ae.null=null});return(0,s.shadow)(this,"opMap",le())}static get MAX_INVALID_PATH_OPS(){return(0,s.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(le,ae,de=new X){this.parser=new P.Parser({lexer:new P.Lexer(le,ue.opMap),xref:ae}),this.stateManager=de,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(le){let ae=le.args;for(;;){const de=this.parser.getObj();if(de instanceof m.Cmd){const re=de.cmd,Q=ue.opMap[re];if(!Q){(0,s.warn)(`Unknown command "${re}".`);continue}const ce=Q.id,he=Q.numArgs;let ge=ae!==null?ae.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=ce>=s.OPS.moveTo&&ce<=s.OPS.endPath,Q.variableArgs)ge>he&&(0,s.info)(`Command ${re}: expected [0, ${he}] args, but received ${ge} args.`);else{if(ge!==he){const pe=this.nonProcessedArgs;for(;ge>he;)pe.push(ae.shift()),ge--;for(;ge<he&&pe.length!==0;)ae===null&&(ae=[]),ae.unshift(pe.pop()),ge++}if(ge<he){const pe=`command ${re}: expected ${he} args, but received ${ge} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>ue.MAX_INVALID_PATH_OPS)throw new s.FormatError(`Invalid ${pe}`);(0,s.warn)(`Skipping ${pe}`),ae!==null&&(ae.length=0);continue}}return this.preprocessCommand(ce,ae),le.fn=ce,le.args=ae,!0}if(de===m.EOF)return!1;if(de!==null&&(ae===null&&(ae=[]),ae.push(de),ae.length>33))throw new s.FormatError("Too many arguments")}}preprocessCommand(le,ae){switch(0|le){case s.OPS.save:this.stateManager.save();break;case s.OPS.restore:this.stateManager.restore();break;case s.OPS.transform:this.stateManager.transform(ae)}}}o.EvaluatorPreprocessor=ue},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IdentityCMap=o.CMapFactory=o.CMap=void 0;var s=f(2),g=f(5),m=f(7),p=f(17),t=f(6),b=f(10);const C=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],w=2**24-1;class v{constructor(_=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=_}addCodespaceRange(_,k,D){this.codespaceRanges[_-1].push(k,D),this.numCodespaceRanges++}mapCidRange(_,k,D){if(k-_>w)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;_<=k;)this._map[_++]=D++}mapBfRange(_,k,D){if(k-_>w)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const V=D.length-1;for(;_<=k;){this._map[_++]=D;const R=D.charCodeAt(V)+1;R>255?D=D.substring(0,V-1)+String.fromCharCode(D.charCodeAt(V-1)+1)+"\0":D=D.substring(0,V)+String.fromCharCode(R)}}mapBfRangeToArray(_,k,D){if(k-_>w)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const V=D.length;let R=0;for(;_<=k&&R<V;)this._map[_]=D[R++],++_}mapOne(_,k){this._map[_]=k}lookup(_){return this._map[_]}contains(_){return this._map[_]!==void 0}forEach(_){const k=this._map,D=k.length;if(D<=65536)for(let V=0;V<D;V++)k[V]!==void 0&&_(V,k[V]);else for(const V in k)_(V,k[V])}charCodeOf(_){const k=this._map;if(k.length<=65536)return k.indexOf(_);for(const D in k)if(k[D]===_)return 0|D;return-1}getMap(){return this._map}readCharCode(_,k,D){let V=0;const R=this.codespaceRanges;for(let U=0,te=R.length;U<te;U++){V=(V<<8|_.charCodeAt(k+U))>>>0;const B=R[U];for(let j=0,ie=B.length;j<ie;){const E=B[j++],L=B[j++];if(V>=E&&V<=L){D.charcode=V,D.length=U+1;return}}}D.charcode=0,D.length=1}getCharCodeLength(_){const k=this.codespaceRanges;for(let D=0,V=k.length;D<V;D++){const R=k[D];for(let U=0,te=R.length;U<te;){const B=R[U++],j=R[U++];if(_>=B&&_<=j)return D+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(this.name!=="Identity-H"&&this.name!=="Identity-V"||this._map.length!==65536)return!1;for(let _=0;_<65536;_++)if(this._map[_]!==_)return!1;return!0}}o.CMap=v;class M extends v{constructor(_,k){super(),this.vertical=_,this.addCodespaceRange(k,0,65535)}mapCidRange(_,k,D){(0,s.unreachable)("should not call mapCidRange")}mapBfRange(_,k,D){(0,s.unreachable)("should not call mapBfRange")}mapBfRangeToArray(_,k,D){(0,s.unreachable)("should not call mapBfRangeToArray")}mapOne(_,k){(0,s.unreachable)("should not call mapCidOne")}lookup(_){return Number.isInteger(_)&&_<=65535?_:void 0}contains(_){return Number.isInteger(_)&&_<=65535}forEach(_){for(let k=0;k<=65535;k++)_(k,k)}charCodeOf(_){return Number.isInteger(_)&&_<=65535?_:-1}getMap(){const _=new Array(65536);for(let k=0;k<=65535;k++)_[k]=k;return _}get length(){return 65536}get isIdentityCMap(){(0,s.unreachable)("should not access .isIdentityCMap")}}o.IdentityCMap=M;const y=function(){function _(te,B){let j=0;for(let ie=0;ie<=B;ie++)j=j<<8|te[ie];return j>>>0}function k(te,B){return B===1?String.fromCharCode(te[0],te[1]):B===3?String.fromCharCode(te[0],te[1],te[2],te[3]):String.fromCharCode.apply(null,te.subarray(0,B+1))}function D(te,B,j){let ie=0;for(let E=j;E>=0;E--)ie+=te[E]+B[E],te[E]=255&ie,ie>>=8}function V(te,B){let j=1;for(let ie=B;ie>=0&&j>0;ie--)j+=te[ie],te[ie]=255&j,j>>=8}const R=16;class U{constructor(B){this.buffer=B,this.pos=0,this.end=B.length,this.tmpBuf=new Uint8Array(19)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let B,j=0;do{const ie=this.readByte();if(ie<0)throw new s.FormatError("unexpected EOF in bcmap");B=!(128&ie),j=j<<7|127&ie}while(!B);return j}readSigned(){const B=this.readNumber();return 1&B?~(B>>>1):B>>>1}readHex(B,j){B.set(this.buffer.subarray(this.pos,this.pos+j+1)),this.pos+=j+1}readHexNumber(B,j){let ie;const E=this.tmpBuf;let L=0;do{const q=this.readByte();if(q<0)throw new s.FormatError("unexpected EOF in bcmap");ie=!(128&q),E[L++]=127&q}while(!ie);let ee=j,J=0,Y=0;for(;ee>=0;){for(;Y<8&&E.length>0;)J|=E[--L]<<Y,Y+=7;B[ee]=255&J,ee--,J>>=8,Y-=8}}readHexSigned(B,j){this.readHexNumber(B,j);const ie=1&B[j]?255:0;let E=0;for(let L=0;L<=j;L++)E=(1&E)<<8|B[L],B[L]=E>>1^ie}readString(){const B=this.readNumber();let j="";for(let ie=0;ie<B;ie++)j+=String.fromCharCode(this.readNumber());return j}}return class{async process(B,j,ie){const E=new U(B),L=E.readByte();j.vertical=!!(1&L);let ee=null;const J=new Uint8Array(R),Y=new Uint8Array(R),q=new Uint8Array(R),F=new Uint8Array(R),O=new Uint8Array(R);let Z,se;for(;(se=E.readByte())>=0;){const $=se>>5;if($===7){switch(31&se){case 0:E.readString();break;case 1:ee=E.readString()}continue}const X=!!(16&se),ne=15&se;if(ne+1>R)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const oe=1,ue=E.readNumber();switch($){case 0:E.readHex(J,ne),E.readHexNumber(Y,ne),D(Y,J,ne),j.addCodespaceRange(ne+1,_(J,ne),_(Y,ne));for(let fe=1;fe<ue;fe++)V(Y,ne),E.readHexNumber(J,ne),D(J,Y,ne),E.readHexNumber(Y,ne),D(Y,J,ne),j.addCodespaceRange(ne+1,_(J,ne),_(Y,ne));break;case 1:E.readHex(J,ne),E.readHexNumber(Y,ne),D(Y,J,ne),E.readNumber();for(let fe=1;fe<ue;fe++)V(Y,ne),E.readHexNumber(J,ne),D(J,Y,ne),E.readHexNumber(Y,ne),D(Y,J,ne),E.readNumber();break;case 2:E.readHex(q,ne),Z=E.readNumber(),j.mapOne(_(q,ne),Z);for(let fe=1;fe<ue;fe++)V(q,ne),X||(E.readHexNumber(O,ne),D(q,O,ne)),Z=E.readSigned()+(Z+1),j.mapOne(_(q,ne),Z);break;case 3:E.readHex(J,ne),E.readHexNumber(Y,ne),D(Y,J,ne),Z=E.readNumber(),j.mapCidRange(_(J,ne),_(Y,ne),Z);for(let fe=1;fe<ue;fe++)V(Y,ne),X?J.set(Y):(E.readHexNumber(J,ne),D(J,Y,ne)),E.readHexNumber(Y,ne),D(Y,J,ne),Z=E.readNumber(),j.mapCidRange(_(J,ne),_(Y,ne),Z);break;case 4:E.readHex(q,oe),E.readHex(F,ne),j.mapOne(_(q,oe),k(F,ne));for(let fe=1;fe<ue;fe++)V(q,oe),X||(E.readHexNumber(O,oe),D(q,O,oe)),V(F,ne),E.readHexSigned(O,ne),D(F,O,ne),j.mapOne(_(q,oe),k(F,ne));break;case 5:E.readHex(J,oe),E.readHexNumber(Y,oe),D(Y,J,oe),E.readHex(F,ne),j.mapBfRange(_(J,oe),_(Y,oe),k(F,ne));for(let fe=1;fe<ue;fe++)V(Y,oe),X?J.set(Y):(E.readHexNumber(J,oe),D(J,Y,oe)),E.readHexNumber(Y,oe),D(Y,J,oe),E.readHex(F,ne),j.mapBfRange(_(J,oe),_(Y,oe),k(F,ne));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${$}`)}}return ee?ie(ee):j}}}(),I=function(){function _(J){let Y=0;for(let q=0;q<J.length;q++)Y=Y<<8|J.charCodeAt(q);return Y>>>0}function k(J){if(typeof J!="string")throw new s.FormatError("Malformed CMap: expected string.")}function D(J){if(!Number.isInteger(J))throw new s.FormatError("Malformed CMap: expected int.")}function V(J,Y){for(;;){let q=Y.getObj();if(q===g.EOF)break;if((0,g.isCmd)(q,"endbfchar"))return;k(q);const F=_(q);q=Y.getObj(),k(q);const O=q;J.mapOne(F,O)}}function R(J,Y){for(;;){let q=Y.getObj();if(q===g.EOF)break;if((0,g.isCmd)(q,"endbfrange"))return;k(q);const F=_(q);q=Y.getObj(),k(q);const O=_(q);if(q=Y.getObj(),Number.isInteger(q)||typeof q=="string"){const Z=Number.isInteger(q)?String.fromCharCode(q):q;J.mapBfRange(F,O,Z)}else{if(!(0,g.isCmd)(q,"["))break;{q=Y.getObj();const Z=[];for(;!(0,g.isCmd)(q,"]")&&q!==g.EOF;)Z.push(q),q=Y.getObj();J.mapBfRangeToArray(F,O,Z)}}}throw new s.FormatError("Invalid bf range.")}function U(J,Y){for(;;){let q=Y.getObj();if(q===g.EOF)break;if((0,g.isCmd)(q,"endcidchar"))return;k(q);const F=_(q);q=Y.getObj(),D(q);const O=q;J.mapOne(F,O)}}function te(J,Y){for(;;){let q=Y.getObj();if(q===g.EOF)break;if((0,g.isCmd)(q,"endcidrange"))return;k(q);const F=_(q);q=Y.getObj(),k(q);const O=_(q);q=Y.getObj(),D(q);const Z=q;J.mapCidRange(F,O,Z)}}function B(J,Y){for(;;){let q=Y.getObj();if(q===g.EOF)break;if((0,g.isCmd)(q,"endcodespacerange"))return;if(typeof q!="string")break;const F=_(q);if(q=Y.getObj(),typeof q!="string")break;const O=_(q);J.addCodespaceRange(q.length,F,O)}throw new s.FormatError("Invalid codespace range.")}function j(J,Y){const q=Y.getObj();Number.isInteger(q)&&(J.vertical=!!q)}function ie(J,Y){const q=Y.getObj();q instanceof g.Name&&(J.name=q.name)}async function E(J,Y,q,F){let O,Z;e:for(;;)try{const se=Y.getObj();if(se===g.EOF)break;if(se instanceof g.Name)se.name==="WMode"?j(J,Y):se.name==="CMapName"&&ie(J,Y),O=se;else if(se instanceof g.Cmd)switch(se.cmd){case"endcmap":break e;case"usecmap":O instanceof g.Name&&(Z=O.name);break;case"begincodespacerange":B(J,Y);break;case"beginbfchar":V(J,Y);break;case"begincidchar":U(J,Y);break;case"beginbfrange":R(J,Y);break;case"begincidrange":te(J,Y)}}catch(se){if(se instanceof t.MissingDataException)throw se;(0,s.warn)("Invalid cMap data: "+se);continue}return!F&&Z&&(F=Z),F?L(J,q,F):J}async function L(J,Y,q){if(J.useCMap=await ee(q,Y),J.numCodespaceRanges===0){const F=J.useCMap.codespaceRanges;for(let O=0;O<F.length;O++)J.codespaceRanges[O]=F[O].slice();J.numCodespaceRanges=J.useCMap.numCodespaceRanges}return J.useCMap.forEach(function(F,O){J.contains(F)||J.mapOne(F,J.useCMap.lookup(F))}),J}async function ee(J,Y){if(J==="Identity-H")return new M(!1,2);if(J==="Identity-V")return new M(!0,2);if(!C.includes(J))throw new Error("Unknown CMap name: "+J);if(!Y)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:q,compressionType:F}=await Y(J),O=new v(!0);if(F===s.CMapCompressionType.BINARY)return new y().process(q,O,Z=>L(O,Y,Z));if(F===s.CMapCompressionType.NONE){const Z=new p.Lexer(new b.Stream(q));return E(O,Z,Y,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(J){const Y=J.encoding,q=J.fetchBuiltInCMap,F=J.useCMap;if(Y instanceof g.Name)return ee(Y.name,q);if(Y instanceof m.BaseStream){const O=await E(new v,new p.Lexer(Y),q,F);return O.isIdentityCMap?ee(O.name,q):O}throw new Error("Encoding required.")}}}();o.CMapFactory=I},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Parser=o.Linearization=o.Lexer=void 0;var s=f(2),g=f(5),m=f(6),p=f(18),t=f(20),b=f(21),C=f(23),w=f(24),v=f(27),M=f(29),y=f(31),I=f(10),P=f(32),_=f(33);function k(te){const B=te.length;let j=1,ie=0;for(let E=0;E<B;++E)j+=255&te[E],ie+=j;return ie%65521<<16|j%65521}class D{constructor({lexer:B,xref:j,allowStreams:ie=!1,recoveryMode:E=!1}){this.lexer=B,this.xref=j,this.allowStreams=ie,this.recoveryMode=E,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof g.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(B){if(B instanceof m.MissingDataException)throw B;return!1}}getObj(B=null){const j=this.buf1;if(this.shift(),j instanceof g.Cmd)switch(j.cmd){case"BI":return this.makeInlineImage(B);case"[":const ie=[];for(;!(0,g.isCmd)(this.buf1,"]")&&this.buf1!==g.EOF;)ie.push(this.getObj(B));if(this.buf1===g.EOF){if(this.recoveryMode)return ie;throw new m.ParserEOFException("End of file inside array.")}return this.shift(),ie;case"<<":const E=new g.Dict(this.xref);for(;!(0,g.isCmd)(this.buf1,">>")&&this.buf1!==g.EOF;){if(!(this.buf1 instanceof g.Name)){(0,s.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const L=this.buf1.name;if(this.shift(),this.buf1===g.EOF)break;E.set(L,this.getObj(B))}if(this.buf1===g.EOF){if(this.recoveryMode)return E;throw new m.ParserEOFException("End of file inside dictionary.")}return(0,g.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(E,B):E:(this.shift(),E);default:return j}if(Number.isInteger(j)){if(Number.isInteger(this.buf1)&&(0,g.isCmd)(this.buf2,"R")){const ie=g.Ref.get(j,this.buf1);return this.shift(),this.shift(),ie}return j}return typeof j=="string"&&B?B.decryptString(j):j}findDefaultInlineStreamEnd(B){const j=this.lexer,ie=B.pos;let E,L,ee=0;for(;(E=B.getByte())!==-1;)if(ee===0)ee=E===69?1:0;else if(ee===1)ee=E===73?2:0;else if((0,s.assert)(ee===2,"findDefaultInlineStreamEnd - invalid state."),E===32||E===10||E===13){L=B.pos;const Y=B.peekBytes(10);for(let q=0,F=Y.length;q<F;q++)if(E=Y[q],(E!==0||Y[q+1]===0)&&E!==10&&E!==13&&(E<32||E>127)){ee=0;break}if(ee!==2)continue;if(j.knownCommands){const q=j.peekObj();q instanceof g.Cmd&&!j.knownCommands[q.cmd]&&(ee=0)}else(0,s.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(ee===2)break}else ee=0;E===-1&&((0,s.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),L&&((0,s.warn)('... trying to recover by using the last "EI" occurrence.'),B.skip(-(B.pos-L))));let J=4;return B.skip(-J),E=B.peekByte(),B.skip(J),(0,m.isWhiteSpace)(E)||J--,B.pos-J-ie}findDCTDecodeInlineStreamEnd(B){const j=B.pos;let ie,E,L=!1;for(;(ie=B.getByte())!==-1;)if(ie===255){switch(B.getByte()){case 0:break;case 255:B.skip(-1);break;case 217:L=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:E=B.getUint16(),E>2?B.skip(E-2):B.skip(-2)}if(L)break}const ee=B.pos-j;return ie===-1?((0,s.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),B.skip(-ee),this.findDefaultInlineStreamEnd(B)):(this.inlineStreamSkipEI(B),ee)}findASCII85DecodeInlineStreamEnd(B){const j=B.pos;let ie;for(;(ie=B.getByte())!==-1;)if(ie===126){const L=B.pos;for(ie=B.peekByte();(0,m.isWhiteSpace)(ie);)B.skip(),ie=B.peekByte();if(ie===62){B.skip();break}if(B.pos>L){const ee=B.peekBytes(2);if(ee[0]===69&&ee[1]===73)break}}const E=B.pos-j;return ie===-1?((0,s.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),B.skip(-E),this.findDefaultInlineStreamEnd(B)):(this.inlineStreamSkipEI(B),E)}findASCIIHexDecodeInlineStreamEnd(B){const j=B.pos;let ie;for(;(ie=B.getByte())!==-1&&ie!==62;);const E=B.pos-j;return ie===-1?((0,s.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),B.skip(-E),this.findDefaultInlineStreamEnd(B)):(this.inlineStreamSkipEI(B),E)}inlineStreamSkipEI(B){let j,ie=0;for(;(j=B.getByte())!==-1;)if(ie===0)ie=j===69?1:0;else if(ie===1)ie=j===73?2:0;else if(ie===2)break}makeInlineImage(B){const j=this.lexer,ie=j.stream,E=new g.Dict(this.xref);let L;for(;!(0,g.isCmd)(this.buf1,"ID")&&this.buf1!==g.EOF;){if(!(this.buf1 instanceof g.Name))throw new s.FormatError("Dictionary key must be a name object");const Z=this.buf1.name;if(this.shift(),this.buf1===g.EOF)break;E.set(Z,this.getObj(B))}j.beginInlineImagePos!==-1&&(L=ie.pos-j.beginInlineImagePos);const ee=E.get("F","Filter");let J;if(ee instanceof g.Name)J=ee.name;else if(Array.isArray(ee)){const Z=this.xref.fetchIfRef(ee[0]);Z instanceof g.Name&&(J=Z.name)}const Y=ie.pos;let q;switch(J){case"DCT":case"DCTDecode":q=this.findDCTDecodeInlineStreamEnd(ie);break;case"A85":case"ASCII85Decode":q=this.findASCII85DecodeInlineStreamEnd(ie);break;case"AHx":case"ASCIIHexDecode":q=this.findASCIIHexDecodeInlineStreamEnd(ie);break;default:q=this.findDefaultInlineStreamEnd(ie)}let F,O=ie.makeSubStream(Y,q,E);if(q<1e3&&L<5552){const Z=O.getBytes();O.reset();const se=ie.pos;ie.pos=j.beginInlineImagePos;const $=ie.getBytes(L);ie.pos=se,F=k(Z)+"_"+k($);const X=this.imageCache[F];if(X!==void 0)return this.buf2=g.Cmd.get("EI"),this.shift(),X.reset(),X}return B&&(O=B.createStream(O,q)),O=this.filter(O,E,q),O.dict=E,F!==void 0&&(O.cacheKey=`inline_${q}_${F}`,this.imageCache[F]=O),this.buf2=g.Cmd.get("EI"),this.shift(),O}_findStreamLength(B,j){const{stream:ie}=this.lexer;ie.pos=B;const E=j.length;for(;ie.pos<ie.end;){const L=ie.peekBytes(2048),ee=L.length-E;if(ee<=0)break;let J=0;for(;J<ee;){let Y=0;for(;Y<E&&L[J+Y]===j[Y];)Y++;if(Y>=E)return ie.pos+=J,ie.pos-B;J++}ie.pos+=ee}return-1}makeStream(B,j){const ie=this.lexer;let E=ie.stream;ie.skipToNextLine();const L=E.pos-1;let ee=B.get("Length");if(Number.isInteger(ee)||((0,s.info)(`Bad length "${ee&&ee.toString()}" in stream.`),ee=0),E.pos=L+ee,ie.nextChar(),this.tryShift()&&(0,g.isCmd)(this.buf2,"endstream"))this.shift();else{const J=new Uint8Array([101,110,100,115,116,114,101,97,109]);let Y=this._findStreamLength(L,J);if(Y<0){for(let F=1;F<=1;F++){const O=J.length-F,Z=J.slice(0,O),se=this._findStreamLength(L,Z);if(se>=0){const $=E.peekBytes(O+1)[O];if(!(0,m.isWhiteSpace)($))break;(0,s.info)(`Found "${(0,s.bytesToString)(Z)}" when searching for endstream command.`),Y=se;break}}if(Y<0)throw new s.FormatError("Missing endstream command.")}ee=Y,ie.nextChar(),this.shift(),this.shift()}return this.shift(),E=E.makeSubStream(L,ee,B),j&&(E=j.createStream(E,ee)),E=this.filter(E,B,ee),E.dict=B,E}filter(B,j,ie){let E=j.get("F","Filter"),L=j.get("DP","DecodeParms");if(E instanceof g.Name)return Array.isArray(L)&&(0,s.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(B,E.name,ie,L);let ee=ie;if(Array.isArray(E)){const J=E,Y=L;for(let q=0,F=J.length;q<F;++q){if(E=this.xref.fetchIfRef(J[q]),!(E instanceof g.Name))throw new s.FormatError(`Bad filter name "${E}"`);L=null,Array.isArray(Y)&&q in Y&&(L=this.xref.fetchIfRef(Y[q])),B=this.makeFilter(B,E.name,ee,L),ee=null}}return B}makeFilter(B,j,ie,E){if(ie===0)return(0,s.warn)(`Empty "${j}" stream.`),new I.NullStream;const L=this.xref.stats;try{switch(j){case"Fl":case"FlateDecode":return L.addStreamType(s.StreamType.FLATE),E?new P.PredictorStream(new C.FlateStream(B,ie),ie,E):new C.FlateStream(B,ie);case"LZW":case"LZWDecode":L.addStreamType(s.StreamType.LZW);let ee=1;return E?(E.has("EarlyChange")&&(ee=E.get("EarlyChange")),new P.PredictorStream(new y.LZWStream(B,ie,ee),ie,E)):new y.LZWStream(B,ie,ee);case"DCT":case"DCTDecode":return L.addStreamType(s.StreamType.DCT),new v.JpegStream(B,ie,E);case"JPX":case"JPXDecode":return L.addStreamType(s.StreamType.JPX),new M.JpxStream(B,ie,E);case"A85":case"ASCII85Decode":return L.addStreamType(s.StreamType.A85),new p.Ascii85Stream(B,ie);case"AHx":case"ASCIIHexDecode":return L.addStreamType(s.StreamType.AHX),new t.AsciiHexStream(B,ie);case"CCF":case"CCITTFaxDecode":return L.addStreamType(s.StreamType.CCF),new b.CCITTFaxStream(B,ie,E);case"RL":case"RunLengthDecode":return L.addStreamType(s.StreamType.RLX),new _.RunLengthStream(B,ie);case"JBIG2Decode":return L.addStreamType(s.StreamType.JBIG),new w.Jbig2Stream(B,ie,E)}return(0,s.warn)(`Filter "${j}" is not supported.`),B}catch(ee){if(ee instanceof m.MissingDataException)throw ee;return(0,s.warn)(`Invalid stream: "${ee}"`),new I.NullStream}}}o.Parser=D;const V=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function R(te){return te>=48&&te<=57?15&te:te>=65&&te<=70||te>=97&&te<=102?9+(15&te):-1}class U{constructor(B,j=null){this.stream=B,this.nextChar(),this.strBuf=[],this.knownCommands=j,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let B=this.currentChar,j=!1,ie=0,E=0;if(B===45?(E=-1,B=this.nextChar(),B===45&&(B=this.nextChar())):B===43&&(E=1,B=this.nextChar()),B===10||B===13)do B=this.nextChar();while(B===10||B===13);if(B===46&&(ie=10,B=this.nextChar()),B<48||B>57){if((0,m.isWhiteSpace)(B)||B===-1){if(ie===10&&E===0)return(0,s.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(ie===0&&E===-1)return(0,s.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new s.FormatError(`Invalid number: ${String.fromCharCode(B)} (charCode ${B})`)}E=E||1;let L=B-48,ee=0,J=1;for(;(B=this.nextChar())>=0;)if(B>=48&&B<=57){const Y=B-48;j?ee=10*ee+Y:(ie!==0&&(ie*=10),L=10*L+Y)}else if(B===46){if(ie!==0)break;ie=1}else if(B===45)(0,s.warn)("Badly formatted number: minus sign in the middle");else{if(B!==69&&B!==101)break;if(B=this.peekChar(),B===43||B===45)J=B===45?-1:1,this.nextChar();else if(B<48||B>57)break;j=!0}return ie!==0&&(L/=ie),j&&(L*=10**(J*ee)),E*L}getString(){let B=1,j=!1;const ie=this.strBuf;ie.length=0;let E=this.nextChar();for(;;){let L=!1;switch(0|E){case-1:(0,s.warn)("Unterminated string"),j=!0;break;case 40:++B,ie.push("(");break;case 41:--B==0?(this.nextChar(),j=!0):ie.push(")");break;case 92:switch(E=this.nextChar(),E){case-1:(0,s.warn)("Unterminated string"),j=!0;break;case 110:ie.push(`
`);break;case 114:ie.push("\r");break;case 116:ie.push("	");break;case 98:ie.push("\b");break;case 102:ie.push("\f");break;case 92:case 40:case 41:ie.push(String.fromCharCode(E));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let ee=15&E;E=this.nextChar(),L=!0,E>=48&&E<=55&&(ee=(ee<<3)+(15&E),E=this.nextChar(),E>=48&&E<=55&&(L=!1,ee=(ee<<3)+(15&E))),ie.push(String.fromCharCode(ee));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:ie.push(String.fromCharCode(E))}break;default:ie.push(String.fromCharCode(E))}if(j)break;L||(E=this.nextChar())}return ie.join("")}getName(){let B,j;const ie=this.strBuf;for(ie.length=0;(B=this.nextChar())>=0&&!V[B];)if(B===35){if(B=this.nextChar(),V[B]){(0,s.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),ie.push("#");break}const E=R(B);if(E!==-1){j=B,B=this.nextChar();const L=R(B);if(L===-1){if((0,s.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(B)}) in hexadecimal number.`),ie.push("#",String.fromCharCode(j)),V[B])break;ie.push(String.fromCharCode(B));continue}ie.push(String.fromCharCode(E<<4|L))}else ie.push("#",String.fromCharCode(B))}else ie.push(String.fromCharCode(B));return ie.length>127&&(0,s.warn)(`Name token is longer than allowed by the spec: ${ie.length}`),g.Name.get(ie.join(""))}_hexStringWarn(B){this._hexStringNumWarn++!=5?this._hexStringNumWarn>5||(0,s.warn)(`getHexString - ignoring invalid character: ${B}`):(0,s.warn)("getHexString - ignoring additional invalid characters.")}getHexString(){const B=this.strBuf;B.length=0;let j,ie,E=this.currentChar,L=!0;for(this._hexStringNumWarn=0;;){if(E<0){(0,s.warn)("Unterminated hex string");break}if(E===62){this.nextChar();break}if(V[E]!==1){if(L){if(j=R(E),j===-1){this._hexStringWarn(E),E=this.nextChar();continue}}else{if(ie=R(E),ie===-1){this._hexStringWarn(E),E=this.nextChar();continue}B.push(String.fromCharCode(j<<4|ie))}L=!L,E=this.nextChar()}else E=this.nextChar()}return B.join("")}getObj(){let B=!1,j=this.currentChar;for(;;){if(j<0)return g.EOF;if(B)j!==10&&j!==13||(B=!1);else if(j===37)B=!0;else if(V[j]!==1)break;j=this.nextChar()}switch(0|j){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),g.Cmd.get("[");case 93:return this.nextChar(),g.Cmd.get("]");case 60:return j=this.nextChar(),j===60?(this.nextChar(),g.Cmd.get("<<")):this.getHexString();case 62:return j=this.nextChar(),j===62?(this.nextChar(),g.Cmd.get(">>")):g.Cmd.get(">");case 123:return this.nextChar(),g.Cmd.get("{");case 125:return this.nextChar(),g.Cmd.get("}");case 41:throw this.nextChar(),new s.FormatError(`Illegal character: ${j}`)}let ie=String.fromCharCode(j);if(j<32||j>127){const ee=this.peekChar();if(ee>=32&&ee<=127)return this.nextChar(),g.Cmd.get(ie)}const E=this.knownCommands;let L=E&&E[ie]!==void 0;for(;(j=this.nextChar())>=0&&!V[j];){const ee=ie+String.fromCharCode(j);if(L&&E[ee]===void 0)break;if(ie.length===128)throw new s.FormatError(`Command token too long: ${ie.length}`);ie=ee,L=E&&E[ie]!==void 0}return ie==="true"?!0:ie==="false"?!1:ie==="null"?null:(ie==="BI"&&(this.beginInlineImagePos=this.stream.pos),g.Cmd.get(ie))}peekObj(){const B=this.stream.pos,j=this.currentChar,ie=this.beginInlineImagePos;let E;try{E=this.getObj()}catch(L){if(L instanceof m.MissingDataException)throw L;(0,s.warn)(`peekObj: ${L}`)}return this.stream.pos=B,this.currentChar=j,this.beginInlineImagePos=ie,E}skipToNextLine(){let B=this.currentChar;for(;B>=0;){if(B===13){B=this.nextChar(),B===10&&this.nextChar();break}if(B===10){this.nextChar();break}B=this.nextChar()}}}o.Lexer=U,o.Linearization=class{static create(B){function j(F,O,Z=!1){const se=F.get(O);if(Number.isInteger(se)&&(Z?se>=0:se>0))return se;throw new Error(`The "${O}" parameter in the linearization dictionary is invalid.`)}const ie=new D({lexer:new U(B),xref:null}),E=ie.getObj(),L=ie.getObj(),ee=ie.getObj(),J=ie.getObj();let Y,q;if(!(Number.isInteger(E)&&Number.isInteger(L)&&(0,g.isCmd)(ee,"obj")&&J instanceof g.Dict&&typeof(Y=J.get("Linearized"))=="number"&&Y>0))return null;if((q=j(J,"L"))!==B.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:q,hints:function(O){const Z=O.get("H");let se;if(Array.isArray(Z)&&((se=Z.length)===2||se===4)){for(let $=0;$<se;$++){const X=Z[$];if(!(Number.isInteger(X)&&X>0))throw new Error(`Hint (${$}) in the linearization dictionary is invalid.`)}return Z}throw new Error("Hint array in the linearization dictionary is invalid.")}(J),objectNumberFirst:j(J,"O"),endFirst:j(J,"E"),numPages:j(J,"N"),mainXRefEntriesOffset:j(J,"T"),pageFirst:J.has("P")?j(J,"P",!0):0}}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Ascii85Stream=void 0;var s=f(19),g=f(6);class m extends s.DecodeStream{constructor(t,b){b&&(b*=.8),super(b),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const t=this.str;let b=t.getByte();for(;(0,g.isWhiteSpace)(b);)b=t.getByte();if(b===-1||b===126){this.eof=!0;return}const C=this.bufferLength;let w,v;if(b===122){for(w=this.ensureBuffer(C+4),v=0;v<4;++v)w[C+v]=0;this.bufferLength+=4}else{const M=this.input;for(M[0]=b,v=1;v<5;++v){for(b=t.getByte();(0,g.isWhiteSpace)(b);)b=t.getByte();if(M[v]=b,b===-1||b===126)break}if(w=this.ensureBuffer(C+v-1),this.bufferLength+=v-1,v<5){for(;v<5;++v)M[v]=117;this.eof=!0}let y=0;for(v=0;v<5;++v)y=85*y+(M[v]-33);for(v=3;v>=0;--v)w[C+v]=255&y,y>>=8}}}o.Ascii85Stream=m},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StreamsSequenceStream=o.DecodeStream=void 0;var s=f(7),g=f(10);const m=new Uint8Array(0);class p extends s.BaseStream{constructor(b){if(super(),this._rawMinBufferLength=b||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=m,this.minBufferLength=512,b)for(;this.minBufferLength<b;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(b){const C=this.buffer;if(b<=C.byteLength)return C;let w=this.minBufferLength;for(;w<b;)w*=2;const v=new Uint8Array(w);return v.set(C),this.buffer=v}getByte(){const b=this.pos;for(;this.bufferLength<=b;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(b){const C=this.pos;let w;if(b){for(this.ensureBuffer(C+b),w=C+b;!this.eof&&this.bufferLength<w;)this.readBlock();const v=this.bufferLength;w>v&&(w=v)}else{for(;!this.eof;)this.readBlock();w=this.bufferLength}return this.pos=w,this.buffer.subarray(C,w)}reset(){this.pos=0}makeSubStream(b,C,w=null){if(C===void 0)for(;!this.eof;)this.readBlock();else{const v=b+C;for(;this.bufferLength<=v&&!this.eof;)this.readBlock()}return new g.Stream(this.buffer,b,C,w)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}o.DecodeStream=p,o.StreamsSequenceStream=class extends p{constructor(b,C=null){let w=0;for(const v of b)w+=v instanceof p?v._rawMinBufferLength:v.length;super(w),this.streams=b,this._onError=C}readBlock(){const b=this.streams;if(b.length===0){this.eof=!0;return}const C=b.shift();let w;try{w=C.getBytes()}catch(y){if(this._onError){this._onError(y,C.dict&&C.dict.objId);return}throw y}const v=this.bufferLength,M=v+w.length;this.ensureBuffer(M).set(w,v),this.bufferLength=M}getBaseStreams(){const b=[];for(const C of this.streams){const w=C.getBaseStreams();w&&b.push(...w)}return b.length>0?b:null}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AsciiHexStream=void 0;var s=f(19);class g extends s.DecodeStream{constructor(p,t){t&&(t*=.5),super(t),this.str=p,this.dict=p.dict,this.firstDigit=-1}readBlock(){const p=this.str.getBytes(8e3);if(!p.length){this.eof=!0;return}const t=p.length+1>>1,b=this.ensureBuffer(this.bufferLength+t);let C=this.bufferLength,w=this.firstDigit;for(const v of p){let M;if(v>=48&&v<=57)M=15&v;else{if(!(v>=65&&v<=70||v>=97&&v<=102)){if(v===62){this.eof=!0;break}continue}M=9+(15&v)}w<0?w=M:(b[C++]=w<<4|M,w=-1)}w>=0&&this.eof&&(b[C++]=w<<4,w=-1),this.firstDigit=w,this.bufferLength=C}}o.AsciiHexStream=g},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CCITTFaxStream=void 0;var s=f(22),g=f(19),m=f(5);class p extends g.DecodeStream{constructor(b,C,w){super(C),this.str=b,this.dict=b.dict,w instanceof m.Dict||(w=m.Dict.empty);const v={next:()=>b.getByte()};this.ccittFaxDecoder=new s.CCITTFaxDecoder(v,{K:w.get("K"),EndOfLine:w.get("EndOfLine"),EncodedByteAlign:w.get("EncodedByteAlign"),Columns:w.get("Columns"),Rows:w.get("Rows"),EndOfBlock:w.get("EndOfBlock"),BlackIs1:w.get("BlackIs1")})}readBlock(){for(;!this.eof;){const b=this.ccittFaxDecoder.readNextChar();if(b===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=b}}}o.CCITTFaxStream=p},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CCITTFaxDecoder=void 0;var s=f(2);const g=-1,m=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],p=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],t=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],b=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],C=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],w=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];o.CCITTFaxDecoder=class{constructor(M,y={}){if(!M||typeof M.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=M,this.eof=!1,this.encoding=y.K||0,this.eoline=y.EndOfLine||!1,this.byteAlign=y.EncodedByteAlign||!1,this.columns=y.Columns||1728,this.rows=y.Rows||0;let I,P=y.EndOfBlock;for(P==null&&(P=!0),this.eoblock=P,this.black=y.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;(I=this._lookBits(12))===0;)this._eatBits(1);I===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const M=this.refLine,y=this.codingLine,I=this.columns;let P,_,k,D,V;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let R,U,te;if(this.nextLine2D){for(D=0;y[D]<I;++D)M[D]=y[D];for(M[D++]=I,M[D]=I,y[0]=0,this.codingPos=0,P=0,_=0;y[this.codingPos]<I;)switch(R=this._getTwoDimCode(),R){case 0:this._addPixels(M[P+1],_),M[P+1]<I&&(P+=2);break;case 1:if(R=U=0,_){do R+=te=this._getBlackCode();while(te>=64);do U+=te=this._getWhiteCode();while(te>=64)}else{do R+=te=this._getWhiteCode();while(te>=64);do U+=te=this._getBlackCode();while(te>=64)}for(this._addPixels(y[this.codingPos]+R,_),y[this.codingPos]<I&&this._addPixels(y[this.codingPos]+U,1^_);M[P]<=y[this.codingPos]&&M[P]<I;)P+=2;break;case 7:if(this._addPixels(M[P]+3,_),_^=1,y[this.codingPos]<I)for(++P;M[P]<=y[this.codingPos]&&M[P]<I;)P+=2;break;case 5:if(this._addPixels(M[P]+2,_),_^=1,y[this.codingPos]<I)for(++P;M[P]<=y[this.codingPos]&&M[P]<I;)P+=2;break;case 3:if(this._addPixels(M[P]+1,_),_^=1,y[this.codingPos]<I)for(++P;M[P]<=y[this.codingPos]&&M[P]<I;)P+=2;break;case 2:if(this._addPixels(M[P],_),_^=1,y[this.codingPos]<I)for(++P;M[P]<=y[this.codingPos]&&M[P]<I;)P+=2;break;case 8:if(this._addPixelsNeg(M[P]-3,_),_^=1,y[this.codingPos]<I)for(P>0?--P:++P;M[P]<=y[this.codingPos]&&M[P]<I;)P+=2;break;case 6:if(this._addPixelsNeg(M[P]-2,_),_^=1,y[this.codingPos]<I)for(P>0?--P:++P;M[P]<=y[this.codingPos]&&M[P]<I;)P+=2;break;case 4:if(this._addPixelsNeg(M[P]-1,_),_^=1,y[this.codingPos]<I)for(P>0?--P:++P;M[P]<=y[this.codingPos]&&M[P]<I;)P+=2;break;case g:this._addPixels(I,0),this.eof=!0;break;default:(0,s.info)("bad 2d code"),this._addPixels(I,0),this.err=!0}}else for(y[0]=0,this.codingPos=0,_=0;y[this.codingPos]<I;){if(R=0,_)do R+=te=this._getBlackCode();while(te>=64);else do R+=te=this._getWhiteCode();while(te>=64);this._addPixels(y[this.codingPos]+R,_),_^=1}let B=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(R=this._lookBits(12),this.eoline)for(;R!==g&&R!==1;)this._eatBits(1),R=this._lookBits(12);else for(;R===0;)this._eatBits(1),R=this._lookBits(12);R===1?(this._eatBits(12),B=!0):R===g&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&B&&this.byteAlign){if(R=this._lookBits(12),R===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(D=0;D<4;++D)R=this._lookBits(12),R!==1&&(0,s.info)("bad rtc code: "+R),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(R=this._lookBits(13),R===g)return this.eof=!0,-1;if(R>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&R))}y[0]>0?this.outputBits=y[this.codingPos=0]:this.outputBits=y[this.codingPos=1],this.row++}if(this.outputBits>=8)V=1&this.codingPos?0:255,this.outputBits-=8,this.outputBits===0&&y[this.codingPos]<I&&(this.codingPos++,this.outputBits=y[this.codingPos]-y[this.codingPos-1]);else{k=8,V=0;do{if(typeof this.outputBits!="number")throw new s.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>k?(V<<=k,1&this.codingPos||(V|=255>>8-k),this.outputBits-=k,k=0):(V<<=this.outputBits,1&this.codingPos||(V|=255>>8-this.outputBits),k-=this.outputBits,this.outputBits=0,y[this.codingPos]<I?(this.codingPos++,this.outputBits=y[this.codingPos]-y[this.codingPos-1]):k>0&&(V<<=k,k=0))}while(k)}return this.black&&(V^=255),V}_addPixels(M,y){const I=this.codingLine;let P=this.codingPos;M>I[P]&&(M>this.columns&&((0,s.info)("row is wrong length"),this.err=!0,M=this.columns),1&P^y&&++P,I[P]=M),this.codingPos=P}_addPixelsNeg(M,y){const I=this.codingLine;let P=this.codingPos;if(M>I[P])M>this.columns&&((0,s.info)("row is wrong length"),this.err=!0,M=this.columns),1&P^y&&++P,I[P]=M;else if(M<I[P]){for(M<0&&((0,s.info)("invalid code"),this.err=!0,M=0);P>0&&M<I[P-1];)--P;I[P]=M}this.codingPos=P}_findTableCode(M,y,I,P){const _=P||0;for(let k=M;k<=y;++k){let D=this._lookBits(k);if(D===g)return[!0,1,!1];if(k<y&&(D<<=y-k),!_||D>=_){const V=I[D-_];if(V[0]===k)return this._eatBits(k),[!0,V[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let M,y=0;if(this.eoblock){if(y=this._lookBits(7),M=m[y],M&&M[0]>0)return this._eatBits(M[0]),M[1]}else{const I=this._findTableCode(1,7,m);if(I[0]&&I[2])return I[1]}return(0,s.info)("Bad two dim code"),g}_getWhiteCode(){let M,y=0;if(this.eoblock){if(y=this._lookBits(12),y===g)return 1;if(M=y>>5?t[y>>3]:p[y],M[0]>0)return this._eatBits(M[0]),M[1]}else{let I=this._findTableCode(1,9,t);if(I[0]||(I=this._findTableCode(11,12,p),I[0]))return I[1]}return(0,s.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let M,y;if(this.eoblock){if(M=this._lookBits(13),M===g)return 1;if(y=M>>7?!(M>>9)&&M>>7?C[(M>>1)-64]:w[M>>7]:b[M],y[0]>0)return this._eatBits(y[0]),y[1]}else{let I=this._findTableCode(2,6,w);if(I[0]||(I=this._findTableCode(7,12,C,64),I[0])||(I=this._findTableCode(10,13,b),I[0]))return I[1]}return(0,s.info)("bad black code"),this._eatBits(1),1}_lookBits(M){let y;for(;this.inputBits<M;){if((y=this.source.next())===-1)return this.inputBits===0?g:this.inputBuf<<M-this.inputBits&65535>>16-M;this.inputBuf=this.inputBuf<<8|y,this.inputBits+=8}return this.inputBuf>>this.inputBits-M&65535>>16-M}_eatBits(M){(this.inputBits-=M)<0&&(this.inputBits=0)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FlateStream=void 0;var s=f(19),g=f(2);const m=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),b=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],C=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class w extends s.DecodeStream{constructor(M,y){super(y),this.str=M,this.dict=M.dict;const I=M.getByte(),P=M.getByte();if(I===-1||P===-1)throw new g.FormatError(`Invalid header in flate stream: ${I}, ${P}`);if((15&I)!=8)throw new g.FormatError(`Unknown compression method in flate stream: ${I}, ${P}`);if(((I<<8)+P)%31!=0)throw new g.FormatError(`Bad FCHECK in flate stream: ${I}, ${P}`);if(32&P)throw new g.FormatError(`FDICT bit set in flate stream: ${I}, ${P}`);this.codeSize=0,this.codeBuf=0}getBits(M){const y=this.str;let I,P=this.codeSize,_=this.codeBuf;for(;P<M;){if((I=y.getByte())===-1)throw new g.FormatError("Bad encoding in flate stream");_|=I<<P,P+=8}return I=_&(1<<M)-1,this.codeBuf=_>>M,this.codeSize=P-=M,I}getCode(M){const y=this.str,I=M[0],P=M[1];let _,k=this.codeSize,D=this.codeBuf;for(;k<P&&(_=y.getByte())!==-1;)D|=_<<k,k+=8;const V=I[D&(1<<P)-1],R=V>>16,U=65535&V;if(R<1||k<R)throw new g.FormatError("Bad encoding in flate stream");return this.codeBuf=D>>R,this.codeSize=k-R,U}generateHuffmanTable(M){const y=M.length;let I,P=0;for(I=0;I<y;++I)M[I]>P&&(P=M[I]);const _=1<<P,k=new Int32Array(_);for(let D=1,V=0,R=2;D<=P;++D,V<<=1,R<<=1)for(let U=0;U<y;++U)if(M[U]===D){let te=0,B=V;for(I=0;I<D;++I)te=te<<1|1&B,B>>=1;for(I=te;I<_;I+=R)k[I]=D<<16|U;++V}return[k,P]}readBlock(){let M,y;const I=this.str;let P,_,k=this.getBits(3);if(1&k&&(this.eof=!0),k>>=1,k===0){let R;if((R=I.getByte())===-1)throw new g.FormatError("Bad block header in flate stream");let U=R;if((R=I.getByte())===-1)throw new g.FormatError("Bad block header in flate stream");if(U|=R<<8,(R=I.getByte())===-1)throw new g.FormatError("Bad block header in flate stream");let te=R;if((R=I.getByte())===-1)throw new g.FormatError("Bad block header in flate stream");if(te|=R<<8,te!==(65535&~U)&&(U!==0||te!==0))throw new g.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const B=this.bufferLength,j=B+U;if(M=this.ensureBuffer(j),this.bufferLength=j,U===0)I.peekByte()===-1&&(this.eof=!0);else{const ie=I.getBytes(U);M.set(ie,B),ie.length<U&&(this.eof=!0)}return}if(k===1)P=b,_=C;else{if(k!==2)throw new g.FormatError("Unknown block type in flate stream");{const R=this.getBits(5)+257,U=this.getBits(5)+1,te=this.getBits(4)+4,B=new Uint8Array(m.length);let j;for(j=0;j<te;++j)B[m[j]]=this.getBits(3);const ie=this.generateHuffmanTable(B);y=0,j=0;const E=R+U,L=new Uint8Array(E);let ee,J,Y;for(;j<E;){const q=this.getCode(ie);if(q===16)ee=2,J=3,Y=y;else if(q===17)ee=3,J=3,Y=y=0;else{if(q!==18){L[j++]=y=q;continue}ee=7,J=11,Y=y=0}let F=this.getBits(ee)+J;for(;F-- >0;)L[j++]=Y}P=this.generateHuffmanTable(L.subarray(0,R)),_=this.generateHuffmanTable(L.subarray(R,E))}}M=this.buffer;let D=M?M.length:0,V=this.bufferLength;for(;;){let R=this.getCode(P);if(R<256){V+1>=D&&(M=this.ensureBuffer(V+1),D=M.length),M[V++]=R;continue}if(R===256){this.bufferLength=V;return}R-=257,R=p[R];let U=R>>16;U>0&&(U=this.getBits(U)),y=(65535&R)+U,R=this.getCode(_),R=t[R],U=R>>16,U>0&&(U=this.getBits(U));const te=(65535&R)+U;V+y>=D&&(M=this.ensureBuffer(V+y),D=M.length);for(let B=0;B<y;++B,++V)M[V]=M[V-te]}}}o.FlateStream=w},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Jbig2Stream=void 0;var s=f(7),g=f(19),m=f(5),p=f(25),t=f(2);class b extends g.DecodeStream{constructor(w,v,M){super(v),this.stream=w,this.dict=w.dict,this.maybeLength=v,this.params=M}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(w){}readBlock(){if(this.eof)return;const w=new p.Jbig2Image,v=[];if(this.params instanceof m.Dict){const I=this.params.get("JBIG2Globals");if(I instanceof s.BaseStream){const P=I.getBytes();v.push({data:P,start:0,end:P.length})}}v.push({data:this.bytes,start:0,end:this.bytes.length});const M=w.parseChunks(v),y=M.length;for(let I=0;I<y;I++)M[I]^=255;this.buffer=M,this.bufferLength=y,this.eof=!0}}o.Jbig2Stream=b},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Jbig2Image=void 0;var s=f(2),g=f(6),m=f(26),p=f(22);class t extends s.BaseException{constructor(X){super(`JBIG2 error: ${X}`,"Jbig2Error")}}class b{getContexts(X){return X in this?this[X]:this[X]=new Int8Array(65536)}}class C{constructor(X,ne,oe){this.data=X,this.start=ne,this.end=oe}get decoder(){const X=new m.ArithmeticDecoder(this.data,this.start,this.end);return(0,s.shadow)(this,"decoder",X)}get contextCache(){const X=new b;return(0,s.shadow)(this,"contextCache",X)}}function w($,X,ne){const oe=$.getContexts(X);let ue=1;function fe(de){let re=0;for(let Q=0;Q<de;Q++){const ce=ne.readBit(oe,ue);ue=ue<256?ue<<1|ce:511&(ue<<1|ce)|256,re=re<<1|ce}return re>>>0}const le=fe(1),ae=fe(1)?fe(1)?fe(1)?fe(1)?fe(1)?fe(32)+4436:fe(12)+340:fe(8)+84:fe(6)+20:fe(4)+4:fe(2);return le===0?ae:ae>0?-ae:null}function v($,X,ne){const oe=$.getContexts("IAID");let ue=1;for(let fe=0;fe<ne;fe++)ue=ue<<1|X.readBit(oe,ue);return ne<31?ue&(1<<ne)-1:2147483647&ue}const M=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],y=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],I=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],P=[39717,1941,229,405],_=[32,8];function k($,X,ne,oe,ue,fe,le,ae){if($)return se(new F(ae.data,ae.start,ae.end),X,ne,!1);if(oe===0&&!fe&&!ue&&le.length===4&&le[0].x===3&&le[0].y===-1&&le[1].x===-3&&le[1].y===-1&&le[2].x===2&&le[2].y===-2&&le[3].x===-2&&le[3].y===-2)return function(We,Ze,Ke){const Oe=Ke.decoder,De=Ke.contextCache.getContexts("GB"),Ie=[];let qe,Xe,Ve,nt,ht,ut,it;for(Xe=0;Xe<Ze;Xe++)for(ht=Ie[Xe]=new Uint8Array(We),ut=Xe<1?ht:Ie[Xe-1],it=Xe<2?ht:Ie[Xe-2],qe=it[0]<<13|it[1]<<12|it[2]<<11|ut[0]<<7|ut[1]<<6|ut[2]<<5|ut[3]<<4,Ve=0;Ve<We;Ve++)ht[Ve]=nt=Oe.readBit(De,qe),qe=(31735&qe)<<1|(Ve+3<We?it[Ve+3]<<11:0)|(Ve+4<We?ut[Ve+4]<<4:0)|nt;return Ie}(X,ne,ae);const de=!!fe,re=y[oe].concat(le);re.sort(function(Ye,We){return Ye.y-We.y||Ye.x-We.x});const Q=re.length,ce=new Int8Array(Q),he=new Int8Array(Q),ge=[];let pe,me,Ae=0,ye=0,xe=0,Ce=0;for(me=0;me<Q;me++)ce[me]=re[me].x,he[me]=re[me].y,ye=Math.min(ye,re[me].x),xe=Math.max(xe,re[me].x),Ce=Math.min(Ce,re[me].y),me<Q-1&&re[me].y===re[me+1].y&&re[me].x===re[me+1].x-1?Ae|=1<<Q-1-me:ge.push(me);const we=ge.length,ve=new Int8Array(we),Se=new Int8Array(we),_e=new Uint16Array(we);for(pe=0;pe<we;pe++)me=ge[pe],ve[pe]=re[me].x,Se[pe]=re[me].y,_e[pe]=1<<Q-1-me;const ke=-ye,Fe=-Ce,je=X-xe,Le=P[oe];let ze=new Uint8Array(X);const Re=[],et=ae.decoder,st=ae.contextCache.getContexts("GB");let Qe,ot,Ne,Me,Pe,Ue=0,Ge=0;for(let Ye=0;Ye<ne;Ye++){if(ue&&(Ue^=et.readBit(st,Le),Ue)){Re.push(ze);continue}for(ze=new Uint8Array(ze),Re.push(ze),Qe=0;Qe<X;Qe++){if(de&&fe[Ye][Qe]){ze[Qe]=0;continue}if(Qe>=ke&&Qe<je&&Ye>=Fe)for(Ge=Ge<<1&Ae,me=0;me<we;me++)ot=Ye+Se[me],Ne=Qe+ve[me],Me=Re[ot][Ne],Me&&(Me=_e[me],Ge|=Me);else for(Ge=0,Pe=Q-1,me=0;me<Q;me++,Pe--)Ne=Qe+ce[me],Ne>=0&&Ne<X&&(ot=Ye+he[me],ot>=0&&(Me=Re[ot][Ne],Me&&(Ge|=Me<<Pe)));const We=et.readBit(st,Ge);ze[Qe]=We}}return Re}function D($,X,ne,oe,ue,fe,le,ae,de){let re=I[ne].coding;ne===0&&(re=re.concat([ae[0]]));const Q=re.length,ce=new Int32Array(Q),he=new Int32Array(Q);let ge;for(ge=0;ge<Q;ge++)ce[ge]=re[ge].x,he[ge]=re[ge].y;let pe=I[ne].reference;ne===0&&(pe=pe.concat([ae[1]]));const me=pe.length,Ae=new Int32Array(me),ye=new Int32Array(me);for(ge=0;ge<me;ge++)Ae[ge]=pe[ge].x,ye[ge]=pe[ge].y;const xe=oe[0].length,Ce=oe.length,we=_[ne],ve=[],Se=de.decoder,_e=de.contextCache.getContexts("GR");let ke=0;for(let Fe=0;Fe<X;Fe++){if(le&&(ke^=Se.readBit(_e,we),ke))throw new t("prediction is not supported");const je=new Uint8Array($);ve.push(je);for(let Le=0;Le<$;Le++){let ze,Re,et=0;for(ge=0;ge<Q;ge++)ze=Fe+he[ge],Re=Le+ce[ge],ze<0||Re<0||Re>=$?et<<=1:et=et<<1|ve[ze][Re];for(ge=0;ge<me;ge++)ze=Fe+ye[ge]-fe,Re=Le+Ae[ge]-ue,ze<0||ze>=Ce||Re<0||Re>=xe?et<<=1:et=et<<1|oe[ze][Re];const st=Se.readBit(_e,et);je[Le]=st}}return ve}function V($,X,ne,oe,ue,fe,le,ae,de,re,Q,ce,he,ge,pe,me,Ae,ye,xe){if($&&X)throw new t("refinement with Huffman is not supported");const Ce=[];let we,ve;for(we=0;we<oe;we++){if(ve=new Uint8Array(ne),ue)for(let je=0;je<ne;je++)ve[je]=ue;Ce.push(ve)}const Se=Ae.decoder,_e=Ae.contextCache;let ke=$?-ge.tableDeltaT.decode(xe):-w(_e,"IADT",Se),Fe=0;for(we=0;we<fe;){ke+=$?ge.tableDeltaT.decode(xe):w(_e,"IADT",Se),Fe+=$?ge.tableFirstS.decode(xe):w(_e,"IAFS",Se);let je=Fe;for(;;){let Le=0;le>1&&(Le=$?xe.readBits(ye):w(_e,"IAIT",Se));const ze=le*ke+Le,Re=$?ge.symbolIDTable.decode(xe):v(_e,Se,de),et=X&&($?xe.readBit():w(_e,"IARI",Se));let st=ae[Re],Qe=st[0].length,ot=st.length;if(et){const We=w(_e,"IARDW",Se),Ze=w(_e,"IARDH",Se),Ke=w(_e,"IARDX",Se),Oe=w(_e,"IARDY",Se);Qe+=We,ot+=Ze,st=D(Qe,ot,pe,st,(We>>1)+Ke,(Ze>>1)+Oe,!1,me,Ae)}const Ne=ze-(1&ce?0:ot-1),Me=je-(2&ce?Qe-1:0);let Pe,Ue,Ge;if(re){for(Pe=0;Pe<ot;Pe++){if(ve=Ce[Me+Pe],!ve)continue;Ge=st[Pe];const We=Math.min(ne-Ne,Qe);switch(he){case 0:for(Ue=0;Ue<We;Ue++)ve[Ne+Ue]|=Ge[Ue];break;case 2:for(Ue=0;Ue<We;Ue++)ve[Ne+Ue]^=Ge[Ue];break;default:throw new t(`operator ${he} is not supported`)}}je+=ot-1}else{for(Ue=0;Ue<ot;Ue++)if(ve=Ce[Ne+Ue],ve)switch(Ge=st[Ue],he){case 0:for(Pe=0;Pe<Qe;Pe++)ve[Me+Pe]|=Ge[Pe];break;case 2:for(Pe=0;Pe<Qe;Pe++)ve[Me+Pe]^=Ge[Pe];break;default:throw new t(`operator ${he} is not supported`)}je+=Qe-1}we++;const Ye=$?ge.tableDeltaS.decode(xe):w(_e,"IADS",Se);if(Ye===null)break;je+=Ye+Q}}return Ce}function R($,X){const ne={};ne.number=(0,g.readUint32)($,X);const oe=$[X+4],ue=63&oe;if(!M[ue])throw new t("invalid segment type: "+ue);ne.type=ue,ne.typeName=M[ue],ne.deferredNonRetain=!!(128&oe);const fe=!!(64&oe),le=$[X+5];let ae=le>>5&7;const de=[31&le];let re=X+6;if(le===7){ae=536870911&(0,g.readUint32)($,re-1),re+=3;let pe=ae+7>>3;for(de[0]=$[re++];--pe>0;)de.push($[re++])}else if(le===5||le===6)throw new t("invalid referred-to flags");ne.retainBits=de;let Q=4;ne.number<=256?Q=1:ne.number<=65536&&(Q=2);const ce=[];let he,ge;for(he=0;he<ae;he++){let pe;pe=Q===1?$[re]:Q===2?(0,g.readUint16)($,re):(0,g.readUint32)($,re),ce.push(pe),re+=Q}if(ne.referredTo=ce,fe?(ne.pageAssociation=(0,g.readUint32)($,re),re+=4):ne.pageAssociation=$[re++],ne.length=(0,g.readUint32)($,re),re+=4,ne.length===4294967295){if(ue!==38)throw new t("invalid unknown segment length");{const pe=te($,re),me=!!(1&$[re+B]),Ae=6,ye=new Uint8Array(Ae);for(me||(ye[0]=255,ye[1]=172),ye[2]=pe.height>>>24&255,ye[3]=pe.height>>16&255,ye[4]=pe.height>>8&255,ye[5]=255&pe.height,he=re,ge=$.length;he<ge;he++){let xe=0;for(;xe<Ae&&ye[xe]===$[he+xe];)xe++;if(xe===Ae){ne.length=he+Ae;break}}if(ne.length===4294967295)throw new t("segment end was not found")}}return ne.headerEnd=re,ne}function U($,X,ne,oe){const ue=[];let fe=ne;for(;fe<oe;){const le=R(X,fe);fe=le.headerEnd;const ae={header:le,data:X};if($.randomAccess||(ae.start=fe,fe+=le.length,ae.end=fe),ue.push(ae),le.type===51)break}if($.randomAccess)for(let le=0,ae=ue.length;le<ae;le++)ue[le].start=fe,fe+=ue[le].header.length,ue[le].end=fe;return ue}function te($,X){return{width:(0,g.readUint32)($,X),height:(0,g.readUint32)($,X+4),x:(0,g.readUint32)($,X+8),y:(0,g.readUint32)($,X+12),combinationOperator:7&$[X+16]}}const B=17;function j($,X){const ne=$.header,oe=$.data,ue=$.end;let fe,le,ae,de,re=$.start;switch(ne.type){case 0:const ce={},he=(0,g.readUint16)(oe,re);if(ce.huffman=!!(1&he),ce.refinement=!!(2&he),ce.huffmanDHSelector=he>>2&3,ce.huffmanDWSelector=he>>4&3,ce.bitmapSizeSelector=he>>6&1,ce.aggregationInstancesSelector=he>>7&1,ce.bitmapCodingContextUsed=!!(256&he),ce.bitmapCodingContextRetained=!!(512&he),ce.template=he>>10&3,ce.refinementTemplate=he>>12&1,re+=2,!ce.huffman){for(de=ce.template===0?4:1,le=[],ae=0;ae<de;ae++)le.push({x:(0,g.readInt8)(oe,re),y:(0,g.readInt8)(oe,re+1)}),re+=2;ce.at=le}if(ce.refinement&&!ce.refinementTemplate){for(le=[],ae=0;ae<2;ae++)le.push({x:(0,g.readInt8)(oe,re),y:(0,g.readInt8)(oe,re+1)}),re+=2;ce.refinementAt=le}ce.numberOfExportedSymbols=(0,g.readUint32)(oe,re),re+=4,ce.numberOfNewSymbols=(0,g.readUint32)(oe,re),re+=4,fe=[ce,ne.number,ne.referredTo,oe,re,ue];break;case 6:case 7:const ge={};ge.info=te(oe,re),re+=B;const pe=(0,g.readUint16)(oe,re);if(re+=2,ge.huffman=!!(1&pe),ge.refinement=!!(2&pe),ge.logStripSize=pe>>2&3,ge.stripSize=1<<ge.logStripSize,ge.referenceCorner=pe>>4&3,ge.transposed=!!(64&pe),ge.combinationOperator=pe>>7&3,ge.defaultPixelValue=pe>>9&1,ge.dsOffset=pe<<17>>27,ge.refinementTemplate=pe>>15&1,ge.huffman){const _e=(0,g.readUint16)(oe,re);re+=2,ge.huffmanFS=3&_e,ge.huffmanDS=_e>>2&3,ge.huffmanDT=_e>>4&3,ge.huffmanRefinementDW=_e>>6&3,ge.huffmanRefinementDH=_e>>8&3,ge.huffmanRefinementDX=_e>>10&3,ge.huffmanRefinementDY=_e>>12&3,ge.huffmanRefinementSizeSelector=!!(16384&_e)}if(ge.refinement&&!ge.refinementTemplate){for(le=[],ae=0;ae<2;ae++)le.push({x:(0,g.readInt8)(oe,re),y:(0,g.readInt8)(oe,re+1)}),re+=2;ge.refinementAt=le}ge.numberOfSymbolInstances=(0,g.readUint32)(oe,re),re+=4,fe=[ge,ne.referredTo,oe,re,ue];break;case 16:const me={},Ae=oe[re++];me.mmr=!!(1&Ae),me.template=Ae>>1&3,me.patternWidth=oe[re++],me.patternHeight=oe[re++],me.maxPatternIndex=(0,g.readUint32)(oe,re),re+=4,fe=[me,ne.number,oe,re,ue];break;case 22:case 23:const ye={};ye.info=te(oe,re),re+=B;const xe=oe[re++];ye.mmr=!!(1&xe),ye.template=xe>>1&3,ye.enableSkip=!!(8&xe),ye.combinationOperator=xe>>4&7,ye.defaultPixelValue=xe>>7&1,ye.gridWidth=(0,g.readUint32)(oe,re),re+=4,ye.gridHeight=(0,g.readUint32)(oe,re),re+=4,ye.gridOffsetX=4294967295&(0,g.readUint32)(oe,re),re+=4,ye.gridOffsetY=4294967295&(0,g.readUint32)(oe,re),re+=4,ye.gridVectorX=(0,g.readUint16)(oe,re),re+=2,ye.gridVectorY=(0,g.readUint16)(oe,re),re+=2,fe=[ye,ne.referredTo,oe,re,ue];break;case 38:case 39:const Ce={};Ce.info=te(oe,re),re+=B;const we=oe[re++];if(Ce.mmr=!!(1&we),Ce.template=we>>1&3,Ce.prediction=!!(8&we),!Ce.mmr){for(de=Ce.template===0?4:1,le=[],ae=0;ae<de;ae++)le.push({x:(0,g.readInt8)(oe,re),y:(0,g.readInt8)(oe,re+1)}),re+=2;Ce.at=le}fe=[Ce,oe,re,ue];break;case 48:const ve={width:(0,g.readUint32)(oe,re),height:(0,g.readUint32)(oe,re+4),resolutionX:(0,g.readUint32)(oe,re+8),resolutionY:(0,g.readUint32)(oe,re+12)};ve.height===4294967295&&delete ve.height;const Se=oe[re+16];(0,g.readUint16)(oe,re+17),ve.lossless=!!(1&Se),ve.refinement=!!(2&Se),ve.defaultPixelValue=Se>>2&1,ve.combinationOperator=Se>>3&3,ve.requiresBuffer=!!(32&Se),ve.combinationOperatorOverride=!!(64&Se),fe=[ve];break;case 49:case 50:case 51:case 62:break;case 53:fe=[ne.number,oe,re,ue];break;default:throw new t(`segment type ${ne.typeName}(${ne.type}) is not implemented`)}const Q="on"+ne.typeName;Q in X&&X[Q].apply(X,fe)}function ie($,X){for(let ne=0,oe=$.length;ne<oe;ne++)j($[ne],X)}class E{onPageInformation(X){this.currentPageInfo=X;const ne=X.width+7>>3,oe=new Uint8ClampedArray(ne*X.height);X.defaultPixelValue&&oe.fill(255),this.buffer=oe}drawBitmap(X,ne){const oe=this.currentPageInfo,ue=X.width,fe=X.height,le=oe.width+7>>3,ae=oe.combinationOperatorOverride?X.combinationOperator:oe.combinationOperator,de=this.buffer,re=128>>(7&X.x);let Q,ce,he,ge,pe=X.y*le+(X.x>>3);switch(ae){case 0:for(Q=0;Q<fe;Q++){for(he=re,ge=pe,ce=0;ce<ue;ce++)ne[Q][ce]&&(de[ge]|=he),he>>=1,he||(he=128,ge++);pe+=le}break;case 2:for(Q=0;Q<fe;Q++){for(he=re,ge=pe,ce=0;ce<ue;ce++)ne[Q][ce]&&(de[ge]^=he),he>>=1,he||(he=128,ge++);pe+=le}break;default:throw new t(`operator ${ae} is not supported`)}}onImmediateGenericRegion(X,ne,oe,ue){const fe=X.info,le=new C(ne,oe,ue),ae=k(X.mmr,fe.width,fe.height,X.template,X.prediction,null,X.at,le);this.drawBitmap(fe,ae)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(X,ne,oe,ue,fe,le){let ae,de;X.huffman&&(ae=function(ge,pe,me){let Ae,ye,xe,Ce,we=0;switch(ge.huffmanDHSelector){case 0:case 1:Ae=q(ge.huffmanDHSelector+4);break;case 3:Ae=O(we,pe,me),we++;break;default:throw new t("invalid Huffman DH selector")}switch(ge.huffmanDWSelector){case 0:case 1:ye=q(ge.huffmanDWSelector+2);break;case 3:ye=O(we,pe,me),we++;break;default:throw new t("invalid Huffman DW selector")}return ge.bitmapSizeSelector?(xe=O(we,pe,me),we++):xe=q(1),Ce=ge.aggregationInstancesSelector?O(we,pe,me):q(1),{tableDeltaHeight:Ae,tableDeltaWidth:ye,tableBitmapSize:xe,tableAggregateInstances:Ce}}(X,oe,this.customTables),de=new F(ue,fe,le));let re=this.symbols;re||(this.symbols=re={});const Q=[];for(const he of oe){const ge=re[he];ge&&Q.push(...ge)}const ce=new C(ue,fe,le);re[ne]=function(ge,pe,me,Ae,ye,xe,Ce,we,ve,Se,_e,ke){if(ge&&pe)throw new t("symbol refinement with Huffman is not supported");const Fe=[];let je=0,Le=(0,g.log2)(me.length+Ae);const ze=_e.decoder,Re=_e.contextCache;let et,st;for(ge&&(et=q(1),st=[],Le=Math.max(Le,1));Fe.length<Ae;){je+=ge?xe.tableDeltaHeight.decode(ke):w(Re,"IADH",ze);let Ge=0,Ye=0;const We=ge?st.length:0;for(;;){const Ze=ge?xe.tableDeltaWidth.decode(ke):w(Re,"IADW",ze);if(Ze===null)break;Ge+=Ze,Ye+=Ge;let Ke;if(pe){const Oe=w(Re,"IAAI",ze);if(Oe>1)Ke=V(ge,pe,Ge,je,0,Oe,1,me.concat(Fe),Le,0,0,1,0,xe,ve,Se,_e,0,ke);else{const De=v(Re,ze,Le),Ie=w(Re,"IARDX",ze),qe=w(Re,"IARDY",ze);Ke=D(Ge,je,ve,De<me.length?me[De]:Fe[De-me.length],Ie,qe,!1,Se,_e)}Fe.push(Ke)}else ge?st.push(Ge):(Ke=k(!1,Ge,je,Ce,!1,null,we,_e),Fe.push(Ke))}if(ge&&!pe){const Ze=xe.tableBitmapSize.decode(ke);ke.byteAlign();let Ke;if(Ze===0)Ke=Z(ke,Ye,je);else{const De=ke.end,Ie=ke.position+Ze;ke.end=Ie,Ke=se(ke,Ye,je,!1),ke.end=De,ke.position=Ie}const Oe=st.length;if(We===Oe-1)Fe.push(Ke);else{let De,Ie,qe,Xe,Ve,nt=0;for(De=We;De<Oe;De++){for(Xe=st[De],qe=nt+Xe,Ve=[],Ie=0;Ie<je;Ie++)Ve.push(Ke[Ie].subarray(nt,qe));Fe.push(Ve),nt=qe}}}}const Qe=[],ot=[];let Ne,Me,Pe=!1;const Ue=me.length+Ae;for(;ot.length<Ue;){let Ge=ge?et.decode(ke):w(Re,"IAEX",ze);for(;Ge--;)ot.push(Pe);Pe=!Pe}for(Ne=0,Me=me.length;Ne<Me;Ne++)ot[Ne]&&Qe.push(me[Ne]);for(let Ge=0;Ge<Ae;Ne++,Ge++)ot[Ne]&&Qe.push(Fe[Ge]);return Qe}(X.huffman,X.refinement,Q,X.numberOfNewSymbols,X.numberOfExportedSymbols,ae,X.template,X.at,X.refinementTemplate,X.refinementAt,ce,de)}onImmediateTextRegion(X,ne,oe,ue,fe){const le=X.info;let ae,de;const re=this.symbols,Q=[];for(const pe of ne){const me=re[pe];me&&Q.push(...me)}const ce=(0,g.log2)(Q.length);X.huffman&&(de=new F(oe,ue,fe),ae=function(me,Ae,ye,xe,Ce){const we=[];for(let Le=0;Le<=34;Le++){const ze=Ce.readBits(4);we.push(new L([Le,ze,0,0]))}const ve=new J(we,!1);we.length=0;for(let Le=0;Le<xe;){const ze=ve.decode(Ce);if(ze>=32){let Re,et,st;switch(ze){case 32:if(Le===0)throw new t("no previous value in symbol ID table");et=Ce.readBits(2)+3,Re=we[Le-1].prefixLength;break;case 33:et=Ce.readBits(3)+3,Re=0;break;case 34:et=Ce.readBits(7)+11,Re=0;break;default:throw new t("invalid code length in symbol ID table")}for(st=0;st<et;st++)we.push(new L([Le,Re,0,0])),Le++}else we.push(new L([Le,ze,0,0])),Le++}Ce.byteAlign();const Se=new J(we,!1);let _e,ke,Fe,je=0;switch(me.huffmanFS){case 0:case 1:_e=q(me.huffmanFS+6);break;case 3:_e=O(je,Ae,ye),je++;break;default:throw new t("invalid Huffman FS selector")}switch(me.huffmanDS){case 0:case 1:case 2:ke=q(me.huffmanDS+8);break;case 3:ke=O(je,Ae,ye),je++;break;default:throw new t("invalid Huffman DS selector")}switch(me.huffmanDT){case 0:case 1:case 2:Fe=q(me.huffmanDT+11);break;case 3:Fe=O(je,Ae,ye),je++;break;default:throw new t("invalid Huffman DT selector")}if(me.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:Se,tableFirstS:_e,tableDeltaS:ke,tableDeltaT:Fe}}(X,ne,this.customTables,Q.length,de));const he=new C(oe,ue,fe),ge=V(X.huffman,X.refinement,le.width,le.height,X.defaultPixelValue,X.numberOfSymbolInstances,X.stripSize,Q,ce,X.transposed,X.dsOffset,X.referenceCorner,X.combinationOperator,ae,X.refinementTemplate,X.refinementAt,he,X.logStripSize,de);this.drawBitmap(le,ge)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(X,ne,oe,ue,fe){let le=this.patterns;le||(this.patterns=le={});const ae=new C(oe,ue,fe);le[ne]=function(re,Q,ce,he,ge,pe){const me=[];re||(me.push({x:-Q,y:0}),ge===0&&me.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Ae=k(re,(he+1)*Q,ce,ge,!1,null,me,pe),ye=[];for(let xe=0;xe<=he;xe++){const Ce=[],we=Q*xe,ve=we+Q;for(let Se=0;Se<ce;Se++)Ce.push(Ae[Se].subarray(we,ve));ye.push(Ce)}return ye}(X.mmr,X.patternWidth,X.patternHeight,X.maxPatternIndex,X.template,ae)}onImmediateHalftoneRegion(X,ne,oe,ue,fe){const le=this.patterns[ne[0]],ae=X.info,de=new C(oe,ue,fe),re=function(ce,he,ge,pe,me,Ae,ye,xe,Ce,we,ve,Se,_e,ke,Fe){if(ye)throw new t("skip is not supported");if(xe!==0)throw new t(`operator "${xe}" is not supported in halftone region`);const je=[];let Le,ze,Re;for(Le=0;Le<me;Le++){if(Re=new Uint8Array(pe),Ae)for(ze=0;ze<pe;ze++)Re[ze]=Ae;je.push(Re)}const et=he.length,st=he[0],Qe=st[0].length,ot=st.length,Ne=(0,g.log2)(et),Me=[];ce||(Me.push({x:ge<=1?3:2,y:-1}),ge===0&&Me.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Pe=[];let Ue,Ge,Ye,We,Ze,Ke,Oe,De,Ie,qe,Xe;for(ce&&(Ue=new F(Fe.data,Fe.start,Fe.end)),Le=Ne-1;Le>=0;Le--)Ge=ce?se(Ue,Ce,we,!0):k(!1,Ce,we,ge,!1,null,Me,Fe),Pe[Le]=Ge;for(Ye=0;Ye<we;Ye++)for(We=0;We<Ce;We++){for(Ze=0,Ke=0,ze=Ne-1;ze>=0;ze--)Ze^=Pe[ze][Ye][We],Ke|=Ze<<ze;if(Oe=he[Ke],De=ve+Ye*ke+We*_e>>8,Ie=Se+Ye*_e-We*ke>>8,De>=0&&De+Qe<=pe&&Ie>=0&&Ie+ot<=me)for(Le=0;Le<ot;Le++)for(Xe=je[Ie+Le],qe=Oe[Le],ze=0;ze<Qe;ze++)Xe[De+ze]|=qe[ze];else{let Ve,nt;for(Le=0;Le<ot;Le++)if(nt=Ie+Le,!(nt<0||nt>=me))for(Xe=je[nt],qe=Oe[Le],ze=0;ze<Qe;ze++)Ve=De+ze,Ve>=0&&Ve<pe&&(Xe[Ve]|=qe[ze])}}return je}(X.mmr,le,X.template,ae.width,ae.height,X.defaultPixelValue,X.enableSkip,X.combinationOperator,X.gridWidth,X.gridHeight,X.gridOffsetX,X.gridOffsetY,X.gridVectorX,X.gridVectorY,de);this.drawBitmap(ae,re)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(X,ne,oe,ue){let fe=this.customTables;fe||(this.customTables=fe={}),fe[X]=function(ae,de,re){const Q=ae[de],ce=4294967295&(0,g.readUint32)(ae,de+1),he=4294967295&(0,g.readUint32)(ae,de+5),ge=new F(ae,de+9,re),pe=1+(Q>>1&7),me=1+(Q>>4&7),Ae=[];let ye,xe,Ce=ce;do ye=ge.readBits(pe),xe=ge.readBits(me),Ae.push(new L([Ce,ye,xe,0])),Ce+=1<<xe;while(Ce<he);return ye=ge.readBits(pe),Ae.push(new L([ce-1,ye,32,0,"lower"])),ye=ge.readBits(pe),Ae.push(new L([he,ye,32,0])),1&Q&&(ye=ge.readBits(pe),Ae.push(new L([ye,0]))),new J(Ae,!1)}(ne,oe,ue)}}class L{constructor(X){X.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=X[0],this.rangeLength=0,this.prefixCode=X[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=X[0],this.prefixLength=X[1],this.rangeLength=X[2],this.prefixCode=X[3],this.isLowerRange=X[4]==="lower")}}class ee{constructor(X){this.children=[],X?(this.isLeaf=!0,this.rangeLength=X.rangeLength,this.rangeLow=X.rangeLow,this.isLowerRange=X.isLowerRange,this.isOOB=X.isOOB):this.isLeaf=!1}buildTree(X,ne){const oe=X.prefixCode>>ne&1;if(ne<=0)this.children[oe]=new ee(X);else{let ue=this.children[oe];ue||(this.children[oe]=ue=new ee(null)),ue.buildTree(X,ne-1)}}decodeNode(X){if(this.isLeaf){if(this.isOOB)return null;const oe=X.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-oe:oe)}const ne=this.children[X.readBit()];if(!ne)throw new t("invalid Huffman data");return ne.decodeNode(X)}}class J{constructor(X,ne){ne||this.assignPrefixCodes(X),this.rootNode=new ee(null);for(let oe=0,ue=X.length;oe<ue;oe++){const fe=X[oe];fe.prefixLength>0&&this.rootNode.buildTree(fe,fe.prefixLength-1)}}decode(X){return this.rootNode.decodeNode(X)}assignPrefixCodes(X){const ne=X.length;let oe=0;for(let Q=0;Q<ne;Q++)oe=Math.max(oe,X[Q].prefixLength);const ue=new Uint32Array(oe+1);for(let Q=0;Q<ne;Q++)ue[X[Q].prefixLength]++;let fe,le,ae,de=1,re=0;for(ue[0]=0;de<=oe;){for(re=re+ue[de-1]<<1,fe=re,le=0;le<ne;)ae=X[le],ae.prefixLength===de&&(ae.prefixCode=fe,fe++),le++;de++}}}const Y={};function q($){let X,ne=Y[$];if(ne)return ne;switch($){case 1:X=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:X=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:X=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:X=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:X=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:X=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:X=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:X=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:X=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:X=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:X=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:X=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:X=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:X=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:X=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${$} does not exist`)}for(let oe=0,ue=X.length;oe<ue;oe++)X[oe]=new L(X[oe]);return ne=new J(X,!0),Y[$]=ne,ne}class F{constructor(X,ne,oe){this.data=X,this.start=ne,this.end=oe,this.position=ne,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const X=this.currentByte>>this.shift&1;return this.shift--,X}readBits(X){let ne,oe=0;for(ne=X-1;ne>=0;ne--)oe|=this.readBit()<<ne;return oe}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function O($,X,ne){let oe=0;for(let ue=0,fe=X.length;ue<fe;ue++){const le=ne[X[ue]];if(le){if($===oe)return le;oe++}}throw new t("can't find custom Huffman table")}function Z($,X,ne){const oe=[];for(let ue=0;ue<ne;ue++){const fe=new Uint8Array(X);oe.push(fe);for(let le=0;le<X;le++)fe[le]=$.readBit();$.byteAlign()}return oe}function se($,X,ne,oe){const ue={K:-1,Columns:X,Rows:ne,BlackIs1:!0,EndOfBlock:oe},fe=new p.CCITTFaxDecoder($,ue),le=[];let ae,de=!1;for(let re=0;re<ne;re++){const Q=new Uint8Array(X);le.push(Q);let ce=-1;for(let he=0;he<X;he++)ce<0&&(ae=fe.readNextChar(),ae===-1&&(ae=0,de=!0),ce=7),Q[he]=ae>>ce&1,ce--}if(oe&&!de)for(let Q=0;Q<5&&fe.readNextChar()!==-1;Q++);return le}o.Jbig2Image=class{parseChunks(X){return function(oe){const ue=new E;for(let fe=0,le=oe.length;fe<le;fe++){const ae=oe[fe];ie(U({},ae.data,ae.start,ae.end),ue)}return ue.buffer}(X)}parse(X){throw new Error("Not implemented: Jbig2Image.parse")}}},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ArithmeticDecoder=void 0;const f=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];o.ArithmeticDecoder=class{constructor(g,m,p){this.data=g,this.bp=m,this.dataEnd=p,this.chigh=g[m],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const g=this.data;let m=this.bp;g[m]===255?g[m+1]>143?(this.clow+=65280,this.ct=8):(m++,this.clow+=g[m]<<9,this.ct=7,this.bp=m):(m++,this.clow+=m<this.dataEnd?g[m]<<8:65280,this.ct=8,this.bp=m),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(g,m){let p=g[m]>>1,t=1&g[m];const b=f[p],C=b.qe;let w,v=this.a-C;if(this.chigh<C)v<C?(v=C,w=t,p=b.nmps):(v=C,w=1^t,b.switchFlag===1&&(t=w),p=b.nlps);else{if(this.chigh-=C,32768&v)return this.a=v,t;v<C?(w=1^t,b.switchFlag===1&&(t=w),p=b.nlps):(w=t,p=b.nmps)}do this.ct===0&&this.byteIn(),v<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(32768&v));return this.a=v,g[m]=p<<1|t,w}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JpegStream=void 0;var s=f(19),g=f(5),m=f(28),p=f(2);class t extends s.DecodeStream{constructor(C,w,v){let M;for(;(M=C.getByte())!==-1;)if(M===255){C.skip(-1);break}super(w),this.stream=C,this.dict=C.dict,this.maybeLength=w,this.params=v}get bytes(){return(0,p.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(C){}readBlock(){if(this.eof)return;const C={decodeTransform:void 0,colorTransform:void 0},w=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(w)){const y=this.dict.get("BPC","BitsPerComponent")||8,I=w.length,P=new Int32Array(I);let _=!1;const k=(1<<y)-1;for(let D=0;D<I;D+=2)P[D]=256*(w[D+1]-w[D])|0,P[D+1]=w[D]*k|0,P[D]===256&&P[D+1]===0||(_=!0);_&&(C.decodeTransform=P)}if(this.params instanceof g.Dict){const y=this.params.get("ColorTransform");Number.isInteger(y)&&(C.colorTransform=y)}const v=new m.JpegImage(C);v.parse(this.bytes);const M=v.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=M,this.bufferLength=M.length,this.eof=!0}}o.JpegStream=t},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JpegImage=void 0;var s=f(2),g=f(6);class m extends s.BaseException{constructor(j){super(`JPEG error: ${j}`,"JpegError")}}class p extends s.BaseException{constructor(j,ie){super(j,"DNLMarkerError"),this.scanLines=ie}}class t extends s.BaseException{constructor(j){super(j,"EOIMarkerError")}}const b=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),C=4017,w=799,v=3406,M=2276,y=1567,I=3784,P=5793,_=2896;function k(B,j){let ie,E,L=0,ee=16;for(;ee>0&&!B[ee-1];)ee--;const J=[{children:[],index:0}];let Y,q=J[0];for(ie=0;ie<ee;ie++){for(E=0;E<B[ie];E++){for(q=J.pop(),q.children[q.index]=j[L];q.index>0;)q=J.pop();for(q.index++,J.push(q);J.length<=ie;)J.push(Y={children:[],index:0}),q.children[q.index]=Y.children,q=Y;L++}ie+1<ee&&(J.push(Y={children:[],index:0}),q.children[q.index]=Y.children,q=Y)}return J[0].children}function D(B,j,ie){return 64*((B.blocksPerLine+1)*j+ie)}function V(B,j,ie,E,L,ee,J,Y,q,F=!1){const O=ie.mcusPerLine,Z=ie.progressive,se=j;let $=0,X=0;function ne(){if(X>0)return X--,$>>X&1;if($=B[j++],$===255){const ke=B[j++];if(ke){if(ke===220&&F){j+=2;const Fe=(0,g.readUint16)(B,j);if(j+=2,Fe>0&&Fe!==ie.scanLines)throw new p("Found DNL marker (0xFFDC) while parsing scan data",Fe)}else if(ke===217){if(F){const Fe=re*(ie.precision===8?8:0);if(Fe>0&&Math.round(ie.scanLines/Fe)>=10)throw new p("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Fe)}throw new t("Found EOI marker (0xFFD9) while parsing scan data")}throw new m(`unexpected marker ${($<<8|ke).toString(16)}`)}}return X=7,$>>>7}function oe(ke){let Fe=ke;for(;;){switch(Fe=Fe[ne()],typeof Fe){case"number":return Fe;case"object":continue}throw new m("invalid huffman sequence")}}function ue(ke){let Fe=0;for(;ke>0;)Fe=Fe<<1|ne(),ke--;return Fe}function fe(ke){if(ke===1)return ne()===1?1:-1;const Fe=ue(ke);return Fe>=1<<ke-1?Fe:Fe+(-1<<ke)+1}let le=0,ae,de=0,re=0;function Q(ke,Fe,je,Le,ze){const Re=je%O;re=(je/O|0)*ke.v+Le;const et=Re*ke.h+ze;Fe(ke,D(ke,re,et))}function ce(ke,Fe,je){re=je/ke.blocksPerLine|0;const Le=je%ke.blocksPerLine;Fe(ke,D(ke,re,Le))}const he=E.length;let ge,pe,me,Ae,ye,xe;xe=Z?ee===0?Y===0?function(Fe,je){const Le=oe(Fe.huffmanTableDC),ze=Le===0?0:fe(Le)<<q;Fe.blockData[je]=Fe.pred+=ze}:function(Fe,je){Fe.blockData[je]|=ne()<<q}:Y===0?function(Fe,je){if(le>0){le--;return}let Le=ee;const ze=J;for(;Le<=ze;){const Re=oe(Fe.huffmanTableAC),et=15&Re,st=Re>>4;if(et===0){if(st<15){le=ue(st)+(1<<st)-1;break}Le+=16;continue}Le+=st;const Qe=b[Le];Fe.blockData[je+Qe]=fe(et)*(1<<q),Le++}}:function(Fe,je){let Le=ee;const ze=J;let Re,et,st=0;for(;Le<=ze;){const Qe=je+b[Le],ot=Fe.blockData[Qe]<0?-1:1;switch(de){case 0:if(et=oe(Fe.huffmanTableAC),Re=15&et,st=et>>4,Re===0)st<15?(le=ue(st)+(1<<st),de=4):(st=16,de=1);else{if(Re!==1)throw new m("invalid ACn encoding");ae=fe(Re),de=st?2:3}continue;case 1:case 2:Fe.blockData[Qe]?Fe.blockData[Qe]+=ot*(ne()<<q):(st--,st===0&&(de=de===2?3:0));break;case 3:Fe.blockData[Qe]?Fe.blockData[Qe]+=ot*(ne()<<q):(Fe.blockData[Qe]=ae<<q,de=0);break;case 4:Fe.blockData[Qe]&&(Fe.blockData[Qe]+=ot*(ne()<<q))}Le++}de===4&&(le--,le===0&&(de=0))}:function(Fe,je){const Le=oe(Fe.huffmanTableDC),ze=Le===0?0:fe(Le);Fe.blockData[je]=Fe.pred+=ze;let Re=1;for(;Re<64;){const et=oe(Fe.huffmanTableAC),st=15&et,Qe=et>>4;if(st===0){if(Qe<15)break;Re+=16;continue}Re+=Qe;const ot=b[Re];Fe.blockData[je+ot]=fe(st),Re++}};let Ce,we,ve,Se,_e=0;for(we=he===1?E[0].blocksPerLine*E[0].blocksPerColumn:O*ie.mcusPerColumn;_e<=we;){const ke=L?Math.min(we-_e,L):we;if(ke>0){for(pe=0;pe<he;pe++)E[pe].pred=0;if(le=0,he===1)for(ge=E[0],ye=0;ye<ke;ye++)ce(ge,xe,_e),_e++;else for(ye=0;ye<ke;ye++){for(pe=0;pe<he;pe++)for(ge=E[pe],ve=ge.h,Se=ge.v,me=0;me<Se;me++)for(Ae=0;Ae<ve;Ae++)Q(ge,xe,_e,me,Ae);_e++}}if(X=0,Ce=te(B,j),!Ce)break;if(Ce.invalid){const Fe=ke>0?"unexpected":"excessive";(0,s.warn)(`decodeScan - ${Fe} MCU data, current marker is: ${Ce.invalid}`),j=Ce.offset}if(!(Ce.marker>=65488&&Ce.marker<=65495))break;j+=2}return j-se}function R(B,j,ie){const E=B.quantizationTable,L=B.blockData;let ee,J,Y,q,F,O,Z,se,$,X,ne,oe,ue,fe,le,ae,de;if(!E)throw new m("missing required Quantization Table.");for(let re=0;re<64;re+=8)$=L[j+re],X=L[j+re+1],ne=L[j+re+2],oe=L[j+re+3],ue=L[j+re+4],fe=L[j+re+5],le=L[j+re+6],ae=L[j+re+7],$*=E[re],X|ne|oe|ue|fe|le|ae?(X*=E[re+1],ne*=E[re+2],oe*=E[re+3],ue*=E[re+4],fe*=E[re+5],le*=E[re+6],ae*=E[re+7],ee=P*$+128>>8,J=P*ue+128>>8,Y=ne,q=le,F=_*(X-ae)+128>>8,se=_*(X+ae)+128>>8,O=oe<<4,Z=fe<<4,ee=ee+J+1>>1,J=ee-J,de=Y*I+q*y+128>>8,Y=Y*y-q*I+128>>8,q=de,F=F+Z+1>>1,Z=F-Z,se=se+O+1>>1,O=se-O,ee=ee+q+1>>1,q=ee-q,J=J+Y+1>>1,Y=J-Y,de=F*M+se*v+2048>>12,F=F*v-se*M+2048>>12,se=de,de=O*w+Z*C+2048>>12,O=O*C-Z*w+2048>>12,Z=de,ie[re]=ee+se,ie[re+7]=ee-se,ie[re+1]=J+Z,ie[re+6]=J-Z,ie[re+2]=Y+O,ie[re+5]=Y-O,ie[re+3]=q+F,ie[re+4]=q-F):(de=P*$+512>>10,ie[re]=de,ie[re+1]=de,ie[re+2]=de,ie[re+3]=de,ie[re+4]=de,ie[re+5]=de,ie[re+6]=de,ie[re+7]=de);for(let re=0;re<8;++re)$=ie[re],X=ie[re+8],ne=ie[re+16],oe=ie[re+24],ue=ie[re+32],fe=ie[re+40],le=ie[re+48],ae=ie[re+56],X|ne|oe|ue|fe|le|ae?(ee=P*$+2048>>12,J=P*ue+2048>>12,Y=ne,q=le,F=_*(X-ae)+2048>>12,se=_*(X+ae)+2048>>12,O=oe,Z=fe,ee=4112+(ee+J+1>>1),J=ee-J,de=Y*I+q*y+2048>>12,Y=Y*y-q*I+2048>>12,q=de,F=F+Z+1>>1,Z=F-Z,se=se+O+1>>1,O=se-O,ee=ee+q+1>>1,q=ee-q,J=J+Y+1>>1,Y=J-Y,de=F*M+se*v+2048>>12,F=F*v-se*M+2048>>12,se=de,de=O*w+Z*C+2048>>12,O=O*C-Z*w+2048>>12,Z=de,$=ee+se,ae=ee-se,X=J+Z,le=J-Z,ne=Y+O,fe=Y-O,oe=q+F,ue=q-F,$<16?$=0:$>=4080?$=255:$>>=4,X<16?X=0:X>=4080?X=255:X>>=4,ne<16?ne=0:ne>=4080?ne=255:ne>>=4,oe<16?oe=0:oe>=4080?oe=255:oe>>=4,ue<16?ue=0:ue>=4080?ue=255:ue>>=4,fe<16?fe=0:fe>=4080?fe=255:fe>>=4,le<16?le=0:le>=4080?le=255:le>>=4,ae<16?ae=0:ae>=4080?ae=255:ae>>=4,L[j+re]=$,L[j+re+8]=X,L[j+re+16]=ne,L[j+re+24]=oe,L[j+re+32]=ue,L[j+re+40]=fe,L[j+re+48]=le,L[j+re+56]=ae):(de=P*$+8192>>14,de=de<-2040?0:de>=2024?255:de+2056>>4,L[j+re]=de,L[j+re+8]=de,L[j+re+16]=de,L[j+re+24]=de,L[j+re+32]=de,L[j+re+40]=de,L[j+re+48]=de,L[j+re+56]=de)}function U(B,j){const ie=j.blocksPerLine,E=j.blocksPerColumn,L=new Int16Array(64);for(let ee=0;ee<E;ee++)for(let J=0;J<ie;J++)R(j,D(j,ee,J),L);return j.blockData}function te(B,j,ie=j){const E=B.length-1;let L=ie<j?ie:j;if(j>=E)return null;const ee=(0,g.readUint16)(B,j);if(ee>=65472&&ee<=65534)return{invalid:null,marker:ee,offset:j};let J=(0,g.readUint16)(B,L);for(;!(J>=65472&&J<=65534);){if(++L>=E)return null;J=(0,g.readUint16)(B,L)}return{invalid:ee.toString(16),marker:J,offset:L}}o.JpegImage=class{constructor({decodeTransform:j=null,colorTransform:ie=-1}={}){this._decodeTransform=j,this._colorTransform=ie}parse(j,{dnlScanLines:ie=null}={}){function E(){const ne=(0,g.readUint16)(j,Y);Y+=2;let oe=Y+ne-2;const ue=te(j,oe,Y);ue&&ue.invalid&&((0,s.warn)("readDataBlock - incorrect length, current marker is: "+ue.invalid),oe=ue.offset);const fe=j.subarray(Y,oe);return Y+=fe.length,fe}function L(ne){const oe=Math.ceil(ne.samplesPerLine/8/ne.maxH),ue=Math.ceil(ne.scanLines/8/ne.maxV);for(let fe=0,le=ne.components.length;fe<le;fe++){const ae=ne.components[fe],de=Math.ceil(Math.ceil(ne.samplesPerLine/8)*ae.h/ne.maxH),re=Math.ceil(Math.ceil(ne.scanLines/8)*ae.v/ne.maxV),Q=oe*ae.h,ce=64*(ue*ae.v)*(Q+1);ae.blockData=new Int16Array(ce),ae.blocksPerLine=de,ae.blocksPerColumn=re}ne.mcusPerLine=oe,ne.mcusPerColumn=ue}let ee,J,Y=0,q=null,F=null,O=0;const Z=[],se=[],$=[];let X=(0,g.readUint16)(j,Y);if(Y+=2,X!==65496)throw new m("SOI not found");X=(0,g.readUint16)(j,Y),Y+=2;e:for(;X!==65497;){let ne,oe,ue;switch(X){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const fe=E();X===65504&&fe[0]===74&&fe[1]===70&&fe[2]===73&&fe[3]===70&&fe[4]===0&&(q={version:{major:fe[5],minor:fe[6]},densityUnits:fe[7],xDensity:fe[8]<<8|fe[9],yDensity:fe[10]<<8|fe[11],thumbWidth:fe[12],thumbHeight:fe[13],thumbData:fe.subarray(14,14+3*fe[12]*fe[13])}),X===65518&&fe[0]===65&&fe[1]===100&&fe[2]===111&&fe[3]===98&&fe[4]===101&&(F={version:fe[5]<<8|fe[6],flags0:fe[7]<<8|fe[8],flags1:fe[9]<<8|fe[10],transformCode:fe[11]});break;case 65499:const le=(0,g.readUint16)(j,Y);Y+=2;const ae=le+Y-2;let de;for(;Y<ae;){const ve=j[Y++],Se=new Uint16Array(64);if(ve>>4){if(ve>>4!=1)throw new m("DQT - invalid table spec");for(oe=0;oe<64;oe++)de=b[oe],Se[de]=(0,g.readUint16)(j,Y),Y+=2}else for(oe=0;oe<64;oe++)de=b[oe],Se[de]=j[Y++];Z[15&ve]=Se}break;case 65472:case 65473:case 65474:if(ee)throw new m("Only single frame JPEGs supported");Y+=2,ee={},ee.extended=X===65473,ee.progressive=X===65474,ee.precision=j[Y++];const re=(0,g.readUint16)(j,Y);Y+=2,ee.scanLines=ie||re,ee.samplesPerLine=(0,g.readUint16)(j,Y),Y+=2,ee.components=[],ee.componentIds={};const Q=j[Y++];let ce=0,he=0;for(ne=0;ne<Q;ne++){const ve=j[Y],Se=j[Y+1]>>4,_e=15&j[Y+1];ce<Se&&(ce=Se),he<_e&&(he=_e);const ke=j[Y+2];ue=ee.components.push({h:Se,v:_e,quantizationId:ke,quantizationTable:null}),ee.componentIds[ve]=ue-1,Y+=3}ee.maxH=ce,ee.maxV=he,L(ee);break;case 65476:const ge=(0,g.readUint16)(j,Y);for(Y+=2,ne=2;ne<ge;){const ve=j[Y++],Se=new Uint8Array(16);let _e=0;for(oe=0;oe<16;oe++,Y++)_e+=Se[oe]=j[Y];const ke=new Uint8Array(_e);for(oe=0;oe<_e;oe++,Y++)ke[oe]=j[Y];ne+=17+_e,(ve>>4?se:$)[15&ve]=k(Se,ke)}break;case 65501:Y+=2,J=(0,g.readUint16)(j,Y),Y+=2;break;case 65498:const pe=++O==1&&!ie;Y+=2;const me=j[Y++],Ae=[];for(ne=0;ne<me;ne++){const ve=j[Y++],Se=ee.componentIds[ve],_e=ee.components[Se];_e.index=ve;const ke=j[Y++];_e.huffmanTableDC=$[ke>>4],_e.huffmanTableAC=se[15&ke],Ae.push(_e)}const ye=j[Y++],xe=j[Y++],Ce=j[Y++];try{const ve=V(j,Y,ee,Ae,J,ye,xe,Ce>>4,15&Ce,pe);Y+=ve}catch(ve){if(ve instanceof p)return(0,s.warn)(`${ve.message} -- attempting to re-parse the JPEG image.`),this.parse(j,{dnlScanLines:ve.scanLines});if(ve instanceof t){(0,s.warn)(`${ve.message} -- ignoring the rest of the image data.`);break e}throw ve}break;case 65500:Y+=4;break;case 65535:j[Y]!==255&&Y--;break;default:const we=te(j,Y-2,Y-3);if(we&&we.invalid){(0,s.warn)("JpegImage.parse - unexpected data, current marker is: "+we.invalid),Y=we.offset;break}if(!we||Y>=j.length-1){(0,s.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new m("JpegImage.parse - unknown marker: "+X.toString(16))}X=(0,g.readUint16)(j,Y),Y+=2}this.width=ee.samplesPerLine,this.height=ee.scanLines,this.jfif=q,this.adobe=F,this.components=[];for(let ne=0,oe=ee.components.length;ne<oe;ne++){const ue=ee.components[ne],fe=Z[ue.quantizationId];fe&&(ue.quantizationTable=fe),this.components.push({index:ue.index,output:U(0,ue),scaleX:ue.h/ee.maxH,scaleY:ue.v/ee.maxV,blocksPerLine:ue.blocksPerLine,blocksPerColumn:ue.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(j,ie,E=!1){const L=this.width/j,ee=this.height/ie;let J,Y,q,F,O,Z,se,$,X,ne,oe,ue=0;const fe=this.components.length,le=j*ie*fe,ae=new Uint8ClampedArray(le),de=new Uint32Array(j),re=4294967288;let Q;for(se=0;se<fe;se++){if(J=this.components[se],Y=J.scaleX*L,q=J.scaleY*ee,ue=se,oe=J.output,F=J.blocksPerLine+1<<3,Y!==Q){for(O=0;O<j;O++)$=0|O*Y,de[O]=($&re)<<3|7&$;Q=Y}for(Z=0;Z<ie;Z++)for($=0|Z*q,ne=F*($&re)|(7&$)<<3,O=0;O<j;O++)ae[ue]=oe[ne+de[O]],ue+=fe}let ce=this._decodeTransform;if(E||fe!==4||ce||(ce=new Int32Array([-256,255,-256,255,-256,255,-256,255])),ce)for(se=0;se<le;)for($=0,X=0;$<fe;$++,se++,X+=2)ae[se]=(ae[se]*ce[X]>>8)+ce[X+1];return ae}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform!==0&&(this.components[0].index!==82||this.components[1].index!==71||this.components[2].index!==66):this._colorTransform===1}_convertYccToRgb(j){let ie,E,L;for(let ee=0,J=j.length;ee<J;ee+=3)ie=j[ee],E=j[ee+1],L=j[ee+2],j[ee]=ie-179.456+1.402*L,j[ee+1]=ie+135.459-.344*E-.714*L,j[ee+2]=ie-226.816+1.772*E;return j}_convertYcckToRgb(j){let ie,E,L,ee,J=0;for(let Y=0,q=j.length;Y<q;Y+=4)ie=j[Y],E=j[Y+1],L=j[Y+2],ee=j[Y+3],j[J++]=E*(-660635669420364e-19*E+.000437130475926232*L-54080610064599e-18*ie+.00048449797120281*ee-.154362151871126)-122.67195406894+L*(-.000957964378445773*L+.000817076911346625*ie-.00477271405408747*ee+1.53380253221734)+ie*(.000961250184130688*ie-.00266257332283933*ee+.48357088451265)+ee*(-.000336197177618394*ee+.484791561490776),j[J++]=107.268039397724+E*(219927104525741e-19*E-.000640992018297945*L+.000659397001245577*ie+.000426105652938837*ee-.176491792462875)+L*(-.000778269941513683*L+.00130872261408275*ie+.000770482631801132*ee-.151051492775562)+ie*(.00126935368114843*ie-.00265090189010898*ee+.25802910206845)+ee*(-.000318913117588328*ee-.213742400323665),j[J++]=E*(-.000570115196973677*E-263409051004589e-19*L+.0020741088115012*ie-.00288260236853442*ee+.814272968359295)-20.810012546947+L*(-153496057440975e-19*L-.000132689043961446*ie+.000560833691242812*ee-.195152027534049)+ie*(.00174418132927582*ie-.00255243321439347*ee+.116935020465145)+ee*(-.000343531996510555*ee+.24165260232407);return j.subarray(0,J)}_convertYcckToCmyk(j){let ie,E,L;for(let ee=0,J=j.length;ee<J;ee+=4)ie=j[ee],E=j[ee+1],L=j[ee+2],j[ee]=434.456-ie-1.402*L,j[ee+1]=119.541-ie+.344*E+.714*L,j[ee+2]=481.816-ie-1.772*E;return j}_convertCmykToRgb(j){let ie,E,L,ee,J=0;for(let Y=0,q=j.length;Y<q;Y+=4)ie=j[Y],E=j[Y+1],L=j[Y+2],ee=j[Y+3],j[J++]=255+ie*(-6747147073602441e-20*ie+.0008379262121013727*E+.0002894718188643294*L+.003264231057537806*ee-1.1185611867203937)+E*(26374107616089405e-21*E-8626949158638572e-20*L-.0002748769067499491*ee-.02155688794978967)+L*(-3878099212869363e-20*L-.0003267808279485286*ee+.0686742238595345)-ee*(.0003361971776183937*ee+.7430659151342254),j[J++]=255+ie*(.00013596372813588848*ie+.000924537132573585*E+.00010567359618683593*L+.0004791864687436512*ee-.3109689587515875)+E*(-.00023545346108370344*E+.0002702845253534714*L+.0020200308977307156*ee-.7488052167015494)+L*(6834815998235662e-20*L+.00015168452363460973*ee-.09751927774728933)-ee*(.0003189131175883281*ee+.7364883807733168),j[J++]=255+ie*(13598650411385307e-21*ie+.00012423956175490851*E+.0004751985097583589*L-36729317476630422e-22*ee-.05562186980264034)+E*(.00016141380598724676*E+.0009692239130725186*L+.0007782692450036253*ee-.44015232367526463)+L*(5068882914068769e-22*L+.0017778369011375071*ee-.7591454649749609)-ee*(.0003435319965105553*ee+.7063770186160144);return j.subarray(0,J)}getData({width:j,height:ie,forceRGB:E=!1,isSourcePDF:L=!1}){if(this.numComponents>4)throw new m("Unsupported color mode");const ee=this._getLinearizedBlockData(j,ie,L);if(this.numComponents===1&&E){const J=ee.length,Y=new Uint8ClampedArray(3*J);let q=0;for(let F=0;F<J;F++){const O=ee[F];Y[q++]=O,Y[q++]=O,Y[q++]=O}return Y}if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(ee);if(this.numComponents===4){if(this._isColorConversionNeeded)return E?this._convertYcckToRgb(ee):this._convertYcckToCmyk(ee);if(E)return this._convertCmykToRgb(ee)}return ee}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JpxStream=void 0;var s=f(19),g=f(30),m=f(2);class p extends s.DecodeStream{constructor(b,C,w){super(C),this.stream=b,this.dict=b.dict,this.maybeLength=C,this.params=w}get bytes(){return(0,m.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(b){}readBlock(){if(this.eof)return;const b=new g.JpxImage;b.parse(this.bytes);const C=b.width,w=b.height,v=b.componentsCount,M=b.tiles.length;if(M===1)this.buffer=b.tiles[0].items;else{const y=new Uint8ClampedArray(C*w*v);for(let I=0;I<M;I++){const P=b.tiles[I],_=P.width,k=P.height,D=P.left,V=P.top,R=P.items;let U=0,te=(C*V+D)*v;const B=C*v,j=_*v;for(let ie=0;ie<k;ie++){const E=R.subarray(U,U+j);y.set(E,te),U+=j,te+=B}}this.buffer=y}this.bufferLength=this.buffer.length,this.eof=!0}}o.JpxStream=p},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.JpxImage=void 0;var s=f(2),g=f(6),m=f(26);class p extends s.BaseException{constructor(O){super(`JPX error: ${O}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};o.JpxImage=class{constructor(){this.failOnCorruptedImage=!1}parse(O){if((0,g.readUint16)(O,0)===65359){this.parseCodestream(O,0,O.length);return}const Z=O.length;let se=0;for(;se<Z;){let $=8,X=(0,g.readUint32)(O,se);const ne=(0,g.readUint32)(O,se+4);if(se+=$,X===1&&(X=4294967296*(0,g.readUint32)(O,se)+(0,g.readUint32)(O,se+4),se+=8,$+=8),X===0&&(X=Z-se+$),X<$)throw new p("Invalid box field size");const oe=X-$;let ue=!0;switch(ne){case 1785737832:ue=!1;break;case 1668246642:const fe=O[se];if(fe===1){const ae=(0,g.readUint32)(O,se+3);switch(ae){case 16:case 17:case 18:break;default:(0,s.warn)("Unknown colorspace "+ae)}}else fe===2&&(0,s.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(O,se,se+oe);break;case 1783636e3:(0,g.readUint32)(O,se)!==218793738&&(0,s.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const le=String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,255&ne);(0,s.warn)(`Unsupported header type ${ne} (${le}).`)}ue&&(se+=oe)}}parseImageProperties(O){let Z=O.getByte();for(;Z>=0;){const se=Z;if(Z=O.getByte(),(se<<8|Z)===65361){O.skip(4);const $=O.getInt32()>>>0,X=O.getInt32()>>>0,ne=O.getInt32()>>>0,oe=O.getInt32()>>>0;O.skip(16);const ue=O.getUint16();this.width=$-ne,this.height=X-oe,this.componentsCount=ue,this.bitsPerComponent=8;return}}throw new p("No size marker found in JPX stream")}parseCodestream(O,Z,se){const $={};let X=!1;try{let ne=Z;for(;ne+1<se;){const oe=(0,g.readUint16)(O,ne);ne+=2;let ue,fe,le,ae,de,re,Q=0;switch(oe){case 65359:$.mainHeader=!0;break;case 65497:break;case 65361:Q=(0,g.readUint16)(O,ne);const ce={};ce.Xsiz=(0,g.readUint32)(O,ne+4),ce.Ysiz=(0,g.readUint32)(O,ne+8),ce.XOsiz=(0,g.readUint32)(O,ne+12),ce.YOsiz=(0,g.readUint32)(O,ne+16),ce.XTsiz=(0,g.readUint32)(O,ne+20),ce.YTsiz=(0,g.readUint32)(O,ne+24),ce.XTOsiz=(0,g.readUint32)(O,ne+28),ce.YTOsiz=(0,g.readUint32)(O,ne+32);const he=(0,g.readUint16)(O,ne+36);ce.Csiz=he;const ge=[];ue=ne+38;for(let ve=0;ve<he;ve++){const Se={precision:1+(127&O[ue]),isSigned:!!(128&O[ue]),XRsiz:O[ue+1],YRsiz:O[ue+2]};ue+=3,b(Se,ce),ge.push(Se)}$.SIZ=ce,$.components=ge,C($,ge),$.QCC=[],$.COC=[];break;case 65372:Q=(0,g.readUint16)(O,ne);const pe={};switch(ue=ne+2,fe=O[ue++],31&fe){case 0:ae=8,de=!0;break;case 1:ae=16,de=!1;break;case 2:ae=16,de=!0;break;default:throw new Error("Invalid SQcd value "+fe)}for(pe.noQuantization=ae===8,pe.scalarExpounded=de,pe.guardBits=fe>>5,le=[];ue<Q+ne;){const ve={};ae===8?(ve.epsilon=O[ue++]>>3,ve.mu=0):(ve.epsilon=O[ue]>>3,ve.mu=(7&O[ue])<<8|O[ue+1],ue+=2),le.push(ve)}pe.SPqcds=le,$.mainHeader?$.QCD=pe:($.currentTile.QCD=pe,$.currentTile.QCC=[]);break;case 65373:Q=(0,g.readUint16)(O,ne);const me={};ue=ne+2;let Ae;switch($.SIZ.Csiz<257?Ae=O[ue++]:(Ae=(0,g.readUint16)(O,ue),ue+=2),fe=O[ue++],31&fe){case 0:ae=8,de=!0;break;case 1:ae=16,de=!1;break;case 2:ae=16,de=!0;break;default:throw new Error("Invalid SQcd value "+fe)}for(me.noQuantization=ae===8,me.scalarExpounded=de,me.guardBits=fe>>5,le=[];ue<Q+ne;){const ve={};ae===8?(ve.epsilon=O[ue++]>>3,ve.mu=0):(ve.epsilon=O[ue]>>3,ve.mu=(7&O[ue])<<8|O[ue+1],ue+=2),le.push(ve)}me.SPqcds=le,$.mainHeader?$.QCC[Ae]=me:$.currentTile.QCC[Ae]=me;break;case 65362:Q=(0,g.readUint16)(O,ne);const ye={};ue=ne+2;const xe=O[ue++];ye.entropyCoderWithCustomPrecincts=!!(1&xe),ye.sopMarkerUsed=!!(2&xe),ye.ephMarkerUsed=!!(4&xe),ye.progressionOrder=O[ue++],ye.layersCount=(0,g.readUint16)(O,ue),ue+=2,ye.multipleComponentTransform=O[ue++],ye.decompositionLevelsCount=O[ue++],ye.xcb=2+(15&O[ue++]),ye.ycb=2+(15&O[ue++]);const Ce=O[ue++];if(ye.selectiveArithmeticCodingBypass=!!(1&Ce),ye.resetContextProbabilities=!!(2&Ce),ye.terminationOnEachCodingPass=!!(4&Ce),ye.verticallyStripe=!!(8&Ce),ye.predictableTermination=!!(16&Ce),ye.segmentationSymbolUsed=!!(32&Ce),ye.reversibleTransformation=O[ue++],ye.entropyCoderWithCustomPrecincts){const ve=[];for(;ue<Q+ne;){const Se=O[ue++];ve.push({PPx:15&Se,PPy:Se>>4})}ye.precinctsSizes=ve}const we=[];ye.selectiveArithmeticCodingBypass&&we.push("selectiveArithmeticCodingBypass"),ye.terminationOnEachCodingPass&&we.push("terminationOnEachCodingPass"),ye.verticallyStripe&&we.push("verticallyStripe"),ye.predictableTermination&&we.push("predictableTermination"),we.length>0&&(X=!0,(0,s.warn)(`JPX: Unsupported COD options (${we.join(", ")}).`)),$.mainHeader?$.COD=ye:($.currentTile.COD=ye,$.currentTile.COC=[]);break;case 65424:Q=(0,g.readUint16)(O,ne),re={},re.index=(0,g.readUint16)(O,ne+2),re.length=(0,g.readUint32)(O,ne+4),re.dataEnd=re.length+ne-2,re.partIndex=O[ne+8],re.partsCount=O[ne+9],$.mainHeader=!1,re.partIndex===0&&(re.COD=$.COD,re.COC=$.COC.slice(0),re.QCD=$.QCD,re.QCC=$.QCC.slice(0)),$.currentTile=re;break;case 65427:re=$.currentTile,re.partIndex===0&&(ie($,re.index),U($)),Q=re.dataEnd-ne,te($,O,ne,Q);break;case 65363:(0,s.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:Q=(0,g.readUint16)(O,ne);break;default:throw new Error("Unknown codestream code: "+oe.toString(16))}ne+=Q}}catch(ne){if(X||this.failOnCorruptedImage)throw new p(ne.message);(0,s.warn)(`JPX: Trying to recover from: "${ne.message}".`)}this.tiles=function(oe){const ue=oe.SIZ,fe=oe.components,le=ue.Csiz,ae=[];for(let de=0,re=oe.tiles.length;de<re;de++){const Q=oe.tiles[de],ce=[];for(let _e=0;_e<le;_e++)ce[_e]=j(oe,Q,_e);const he=ce[0],ge=new Uint8ClampedArray(he.items.length*le),pe={left:he.left,top:he.top,width:he.width,height:he.height,items:ge};let me,Ae,ye,xe,Ce,we,ve,Se=0;if(Q.codingStyleDefaultParameters.multipleComponentTransform){const _e=le===4,ke=ce[0].items,Fe=ce[1].items,je=ce[2].items,Le=_e?ce[3].items:null;me=fe[0].precision-8,Ae=.5+(128<<me);const ze=Q.components[0],Re=le-3;if(xe=ke.length,ze.codingStyleParameters.reversibleTransformation)for(ye=0;ye<xe;ye++,Se+=Re){Ce=ke[ye]+Ae,we=Fe[ye],ve=je[ye];const et=Ce-(ve+we>>2);ge[Se++]=et+ve>>me,ge[Se++]=et>>me,ge[Se++]=et+we>>me}else for(ye=0;ye<xe;ye++,Se+=Re)Ce=ke[ye]+Ae,we=Fe[ye],ve=je[ye],ge[Se++]=Ce+1.402*ve>>me,ge[Se++]=Ce-.34413*we-.71414*ve>>me,ge[Se++]=Ce+1.772*we>>me;if(_e)for(ye=0,Se=3;ye<xe;ye++,Se+=4)ge[Se]=Le[ye]+Ae>>me}else for(let _e=0;_e<le;_e++){const ke=ce[_e].items;for(me=fe[_e].precision-8,Ae=.5+(128<<me),Se=_e,ye=0,xe=ke.length;ye<xe;ye++)ge[Se]=ke[ye]+Ae>>me,Se+=le}ae.push(pe)}return ae}($),this.width=$.SIZ.Xsiz-$.SIZ.XOsiz,this.height=$.SIZ.Ysiz-$.SIZ.YOsiz,this.componentsCount=$.SIZ.Csiz}};function b(F,O){F.x0=Math.ceil(O.XOsiz/F.XRsiz),F.x1=Math.ceil(O.Xsiz/F.XRsiz),F.y0=Math.ceil(O.YOsiz/F.YRsiz),F.y1=Math.ceil(O.Ysiz/F.YRsiz),F.width=F.x1-F.x0,F.height=F.y1-F.y0}function C(F,O){const Z=F.SIZ,se=[];let $;const X=Math.ceil((Z.Xsiz-Z.XTOsiz)/Z.XTsiz),ne=Math.ceil((Z.Ysiz-Z.YTOsiz)/Z.YTsiz);for(let oe=0;oe<ne;oe++)for(let ue=0;ue<X;ue++)$={},$.tx0=Math.max(Z.XTOsiz+ue*Z.XTsiz,Z.XOsiz),$.ty0=Math.max(Z.YTOsiz+oe*Z.YTsiz,Z.YOsiz),$.tx1=Math.min(Z.XTOsiz+(ue+1)*Z.XTsiz,Z.Xsiz),$.ty1=Math.min(Z.YTOsiz+(oe+1)*Z.YTsiz,Z.Ysiz),$.width=$.tx1-$.tx0,$.height=$.ty1-$.ty0,$.components=[],se.push($);F.tiles=se;for(let oe=0,ue=Z.Csiz;oe<ue;oe++){const fe=O[oe];for(let le=0,ae=se.length;le<ae;le++){const de={};$=se[le],de.tcx0=Math.ceil($.tx0/fe.XRsiz),de.tcy0=Math.ceil($.ty0/fe.YRsiz),de.tcx1=Math.ceil($.tx1/fe.XRsiz),de.tcy1=Math.ceil($.ty1/fe.YRsiz),de.width=de.tcx1-de.tcx0,de.height=de.tcy1-de.tcy0,$.components[oe]=de}}}function w(F,O,Z){const se=O.codingStyleParameters,$={};return se.entropyCoderWithCustomPrecincts?($.PPx=se.precinctsSizes[Z].PPx,$.PPy=se.precinctsSizes[Z].PPy):($.PPx=15,$.PPy=15),$.xcb_=Z>0?Math.min(se.xcb,$.PPx-1):Math.min(se.xcb,$.PPx),$.ycb_=Z>0?Math.min(se.ycb,$.PPy-1):Math.min(se.ycb,$.PPy),$}function v(F,O,Z){const se=1<<Z.PPx,$=1<<Z.PPy,X=O.resLevel===0,ne=1<<Z.PPx+(X?0:-1),oe=1<<Z.PPy+(X?0:-1),ue=O.trx1>O.trx0?Math.ceil(O.trx1/se)-Math.floor(O.trx0/se):0,fe=O.try1>O.try0?Math.ceil(O.try1/$)-Math.floor(O.try0/$):0,le=ue*fe;O.precinctParameters={precinctWidth:se,precinctHeight:$,numprecinctswide:ue,numprecinctshigh:fe,numprecincts:le,precinctWidthInSubband:ne,precinctHeightInSubband:oe}}function M(F,O,Z){const se=Z.xcb_,$=Z.ycb_,X=1<<se,ne=1<<$,oe=O.tbx0>>se,ue=O.tby0>>$,fe=O.tbx1+X-1>>se,le=O.tby1+ne-1>>$,ae=O.resolution.precinctParameters,de=[],re=[];let Q,ce,he,ge;for(ce=ue;ce<le;ce++)for(Q=oe;Q<fe;Q++){if(he={cbx:Q,cby:ce,tbx0:X*Q,tby0:ne*ce,tbx1:X*(Q+1),tby1:ne*(ce+1)},he.tbx0_=Math.max(O.tbx0,he.tbx0),he.tby0_=Math.max(O.tby0,he.tby0),he.tbx1_=Math.min(O.tbx1,he.tbx1),he.tby1_=Math.min(O.tby1,he.tby1),ge=Math.floor((he.tbx0_-O.tbx0)/ae.precinctWidthInSubband)+Math.floor((he.tby0_-O.tby0)/ae.precinctHeightInSubband)*ae.numprecinctswide,he.precinctNumber=ge,he.subbandType=O.type,he.Lblock=3,he.tbx1_<=he.tbx0_||he.tby1_<=he.tby0_)continue;de.push(he);let pe=re[ge];pe!==void 0?(Q<pe.cbxMin?pe.cbxMin=Q:Q>pe.cbxMax&&(pe.cbxMax=Q),ce<pe.cbyMin?pe.cbxMin=ce:ce>pe.cbyMax&&(pe.cbyMax=ce)):re[ge]=pe={cbxMin:Q,cbyMin:ce,cbxMax:Q,cbyMax:ce},he.precinct=pe}O.codeblockParameters={codeblockWidth:se,codeblockHeight:$,numcodeblockwide:fe-oe+1,numcodeblockhigh:le-ue+1},O.codeblocks=de,O.precincts=re}function y(F,O,Z){const se=[],$=F.subbands;for(let X=0,ne=$.length;X<ne;X++){const oe=$[X].codeblocks;for(let ue=0,fe=oe.length;ue<fe;ue++){const le=oe[ue];le.precinctNumber===O&&se.push(le)}}return{layerNumber:Z,codeblocks:se}}function I(F){const O=F.SIZ,Z=F.currentTile.index,se=F.tiles[Z],$=se.codingStyleDefaultParameters.layersCount,X=O.Csiz;let ne=0;for(let ae=0;ae<X;ae++)ne=Math.max(ne,se.components[ae].codingStyleParameters.decompositionLevelsCount);let oe=0,ue=0,fe=0,le=0;this.nextPacket=function(){for(;oe<$;oe++){for(;ue<=ne;ue++){for(;fe<X;fe++){const de=se.components[fe];if(ue>de.codingStyleParameters.decompositionLevelsCount)continue;const re=de.resolutions[ue],Q=re.precinctParameters.numprecincts;for(;le<Q;){const ce=y(re,le,oe);return le++,ce}le=0}fe=0}ue=0}throw new p("Out of packets")}}function P(F){const O=F.SIZ,Z=F.currentTile.index,se=F.tiles[Z],$=se.codingStyleDefaultParameters.layersCount,X=O.Csiz;let ne=0;for(let ae=0;ae<X;ae++)ne=Math.max(ne,se.components[ae].codingStyleParameters.decompositionLevelsCount);let oe=0,ue=0,fe=0,le=0;this.nextPacket=function(){for(;oe<=ne;oe++){for(;ue<$;ue++){for(;fe<X;fe++){const de=se.components[fe];if(oe>de.codingStyleParameters.decompositionLevelsCount)continue;const re=de.resolutions[oe],Q=re.precinctParameters.numprecincts;for(;le<Q;){const ce=y(re,le,ue);return le++,ce}le=0}fe=0}ue=0}throw new p("Out of packets")}}function _(F){const O=F.SIZ,Z=F.currentTile.index,se=F.tiles[Z],$=se.codingStyleDefaultParameters.layersCount,X=O.Csiz;let ne,oe,ue,fe,le=0;for(ue=0;ue<X;ue++){const de=se.components[ue];le=Math.max(le,de.codingStyleParameters.decompositionLevelsCount)}const ae=new Int32Array(le+1);for(oe=0;oe<=le;++oe){let de=0;for(ue=0;ue<X;++ue){const re=se.components[ue].resolutions;oe<re.length&&(de=Math.max(de,re[oe].precinctParameters.numprecincts))}ae[oe]=de}ne=0,oe=0,ue=0,fe=0,this.nextPacket=function(){for(;oe<=le;oe++){for(;fe<ae[oe];fe++){for(;ue<X;ue++){const re=se.components[ue];if(oe>re.codingStyleParameters.decompositionLevelsCount)continue;const Q=re.resolutions[oe],ce=Q.precinctParameters.numprecincts;if(!(fe>=ce)){for(;ne<$;){const he=y(Q,fe,ne);return ne++,he}ne=0}}ue=0}fe=0}throw new p("Out of packets")}}function k(F){const O=F.SIZ,Z=F.currentTile.index,se=F.tiles[Z],$=se.codingStyleDefaultParameters.layersCount,X=O.Csiz,ne=R(se),oe=ne;let ue=0,fe=0,le=0,ae=0,de=0;this.nextPacket=function(){for(;de<oe.maxNumHigh;de++){for(;ae<oe.maxNumWide;ae++){for(;le<X;le++){const Q=se.components[le],ce=Q.codingStyleParameters.decompositionLevelsCount;for(;fe<=ce;fe++){const he=Q.resolutions[fe],ge=ne.components[le].resolutions[fe],pe=V(ae,de,ge,oe,he);if(pe!==null){for(;ue<$;){const me=y(he,pe,ue);return ue++,me}ue=0}}fe=0}le=0}ae=0}throw new p("Out of packets")}}function D(F){const O=F.SIZ,Z=F.currentTile.index,se=F.tiles[Z],$=se.codingStyleDefaultParameters.layersCount,X=O.Csiz,ne=R(se);let oe=0,ue=0,fe=0,le=0,ae=0;this.nextPacket=function(){for(;fe<X;++fe){const re=se.components[fe],Q=ne.components[fe],ce=re.codingStyleParameters.decompositionLevelsCount;for(;ae<Q.maxNumHigh;ae++){for(;le<Q.maxNumWide;le++){for(;ue<=ce;ue++){const he=re.resolutions[ue],ge=Q.resolutions[ue],pe=V(le,ae,ge,Q,he);if(pe!==null){for(;oe<$;){const me=y(he,pe,oe);return oe++,me}oe=0}}ue=0}le=0}ae=0}throw new p("Out of packets")}}function V(F,O,Z,se,$){const X=F*se.minWidth,ne=O*se.minHeight;if(X%Z.width!=0||ne%Z.height!=0)return null;const oe=ne/Z.width*$.precinctParameters.numprecinctswide;return X/Z.height+oe}function R(F){const O=F.components.length;let Z=Number.MAX_VALUE,se=Number.MAX_VALUE,$=0,X=0;const ne=new Array(O);for(let oe=0;oe<O;oe++){const ue=F.components[oe],fe=ue.codingStyleParameters.decompositionLevelsCount,le=new Array(fe+1);let ae=Number.MAX_VALUE,de=Number.MAX_VALUE,re=0,Q=0,ce=1;for(let he=fe;he>=0;--he){const ge=ue.resolutions[he],pe=ce*ge.precinctParameters.precinctWidth,me=ce*ge.precinctParameters.precinctHeight;ae=Math.min(ae,pe),de=Math.min(de,me),re=Math.max(re,ge.precinctParameters.numprecinctswide),Q=Math.max(Q,ge.precinctParameters.numprecinctshigh),le[he]={width:pe,height:me},ce<<=1}Z=Math.min(Z,ae),se=Math.min(se,de),$=Math.max($,re),X=Math.max(X,Q),ne[oe]={resolutions:le,minWidth:ae,minHeight:de,maxNumWide:re,maxNumHigh:Q}}return{components:ne,minWidth:Z,minHeight:se,maxNumWide:$,maxNumHigh:X}}function U(F){const O=F.SIZ,Z=F.currentTile.index,se=F.tiles[Z],$=O.Csiz;for(let ne=0;ne<$;ne++){const oe=se.components[ne],ue=oe.codingStyleParameters.decompositionLevelsCount,fe=[],le=[];for(let ae=0;ae<=ue;ae++){const de=w(0,oe,ae),re={},Q=1<<ue-ae;re.trx0=Math.ceil(oe.tcx0/Q),re.try0=Math.ceil(oe.tcy0/Q),re.trx1=Math.ceil(oe.tcx1/Q),re.try1=Math.ceil(oe.tcy1/Q),re.resLevel=ae,v(0,re,de),fe.push(re);let ce;if(ae===0)ce={},ce.type="LL",ce.tbx0=Math.ceil(oe.tcx0/Q),ce.tby0=Math.ceil(oe.tcy0/Q),ce.tbx1=Math.ceil(oe.tcx1/Q),ce.tby1=Math.ceil(oe.tcy1/Q),ce.resolution=re,M(0,ce,de),le.push(ce),re.subbands=[ce];else{const he=1<<ue-ae+1,ge=[];ce={},ce.type="HL",ce.tbx0=Math.ceil(oe.tcx0/he-.5),ce.tby0=Math.ceil(oe.tcy0/he),ce.tbx1=Math.ceil(oe.tcx1/he-.5),ce.tby1=Math.ceil(oe.tcy1/he),ce.resolution=re,M(0,ce,de),le.push(ce),ge.push(ce),ce={},ce.type="LH",ce.tbx0=Math.ceil(oe.tcx0/he),ce.tby0=Math.ceil(oe.tcy0/he-.5),ce.tbx1=Math.ceil(oe.tcx1/he),ce.tby1=Math.ceil(oe.tcy1/he-.5),ce.resolution=re,M(0,ce,de),le.push(ce),ge.push(ce),ce={},ce.type="HH",ce.tbx0=Math.ceil(oe.tcx0/he-.5),ce.tby0=Math.ceil(oe.tcy0/he-.5),ce.tbx1=Math.ceil(oe.tcx1/he-.5),ce.tby1=Math.ceil(oe.tcy1/he-.5),ce.resolution=re,M(0,ce,de),le.push(ce),ge.push(ce),re.subbands=ge}}oe.resolutions=fe,oe.subbands=le}const X=se.codingStyleDefaultParameters.progressionOrder;switch(X){case 0:se.packetsIterator=new I(F);break;case 1:se.packetsIterator=new P(F);break;case 2:se.packetsIterator=new _(F);break;case 3:se.packetsIterator=new k(F);break;case 4:se.packetsIterator=new D(F);break;default:throw new p(`Unsupported progression order ${X}`)}}function te(F,O,Z,se){let $,X=0,ne=0,oe=!1;function ue(pe){for(;ne<pe;){const me=O[Z+X];X++,oe?($=$<<7|me,ne+=7,oe=!1):($=$<<8|me,ne+=8),me===255&&(oe=!0)}return ne-=pe,$>>>ne&(1<<pe)-1}function fe(pe){return O[Z+X-1]===255&&O[Z+X]===pe?(le(1),!0):O[Z+X]===255&&O[Z+X+1]===pe?(le(2),!0):!1}function le(pe){X+=pe}function ae(){ne=0,oe&&(X++,oe=!1)}function de(){if(ue(1)===0)return 1;if(ue(1)===0)return 2;let pe=ue(2);return pe<3?pe+3:(pe=ue(5),pe<31?pe+6:(pe=ue(7),pe+37))}const re=F.currentTile.index,Q=F.tiles[re],ce=F.COD.sopMarkerUsed,he=F.COD.ephMarkerUsed,ge=Q.packetsIterator;for(;X<se;){ae(),ce&&fe(145)&&le(4);const pe=ge.nextPacket();if(!ue(1))continue;const me=pe.layerNumber,Ae=[];let ye;for(let xe=0,Ce=pe.codeblocks.length;xe<Ce;xe++){ye=pe.codeblocks[xe];let we=ye.precinct;const ve=ye.cbx-we.cbxMin,Se=ye.cby-we.cbyMin;let _e,ke,Fe=!1,je=!1;if(ye.included!==void 0)Fe=!!ue(1);else{we=ye.precinct;let et;if(we.inclusionTree!==void 0)et=we.inclusionTree;else{const st=we.cbxMax-we.cbxMin+1,Qe=we.cbyMax-we.cbyMin+1;et=new L(st,Qe,me),ke=new E(st,Qe),we.inclusionTree=et,we.zeroBitPlanesTree=ke;for(let ot=0;ot<me;ot++)if(ue(1)!==0)throw new p("Invalid tag tree")}if(et.reset(ve,Se,me))for(;;){if(!ue(1)){et.incrementValue(me);break}if(_e=!et.nextLevel(),_e){ye.included=!0,Fe=je=!0;break}}}if(!Fe)continue;if(je){for(ke=we.zeroBitPlanesTree,ke.reset(ve,Se);;)if(ue(1)){if(_e=!ke.nextLevel(),_e)break}else ke.incrementValue();ye.zeroBitPlanes=ke.value}const Le=de();for(;ue(1);)ye.Lblock++;const ze=(0,g.log2)(Le),Re=ue((Le<1<<ze?ze-1:ze)+ye.Lblock);Ae.push({codeblock:ye,codingpasses:Le,dataLength:Re})}for(ae(),he&&fe(146);Ae.length>0;){const xe=Ae.shift();ye=xe.codeblock,ye.data===void 0&&(ye.data=[]),ye.data.push({data:O,start:Z+X,end:Z+X+xe.dataLength,codingpasses:xe.codingpasses}),X+=xe.dataLength}}return X}function B(F,O,Z,se,$,X,ne,oe,ue){const fe=se.tbx0,le=se.tby0,ae=se.tbx1-se.tbx0,de=se.codeblocks,re=se.type.charAt(0)==="H"?1:0,Q=se.type.charAt(1)==="H"?O:0;for(let ce=0,he=de.length;ce<he;++ce){const ge=de[ce],pe=ge.tbx1_-ge.tbx0_,me=ge.tby1_-ge.tby0_;if(pe===0||me===0||ge.data===void 0)continue;const Ae=new ee(pe,me,ge.subbandType,ge.zeroBitPlanes,X);let ye=2;const xe=ge.data;let Ce,we,ve,Se=0,_e=0;for(Ce=0,we=xe.length;Ce<we;Ce++)ve=xe[Ce],Se+=ve.end-ve.start,_e+=ve.codingpasses;const ke=new Uint8Array(Se);let Fe=0;for(Ce=0,we=xe.length;Ce<we;Ce++){ve=xe[Ce];const Pe=ve.data.subarray(ve.start,ve.end);ke.set(Pe,Fe),Fe+=Pe.length}const je=new m.ArithmeticDecoder(ke,0,Se);for(Ae.setDecoder(je),Ce=0;Ce<_e;Ce++){switch(ye){case 0:Ae.runSignificancePropagationPass();break;case 1:Ae.runMagnitudeRefinementPass();break;case 2:Ae.runCleanupPass(),oe&&Ae.checkSegmentationSymbol()}ue&&Ae.reset(),ye=(ye+1)%3}let Le=ge.tbx0_-fe+(ge.tby0_-le)*ae;const ze=Ae.coefficentsSign,Re=Ae.coefficentsMagnitude,et=Ae.bitsDecoded,st=ne?0:.5;let Qe,ot,Ne;Fe=0;const Me=se.type!=="LL";for(Ce=0;Ce<me;Ce++){const Pe=2*(Le/ae|0)*(O-ae)+re+Q;for(Qe=0;Qe<pe;Qe++){if(ot=Re[Fe],ot!==0){ot=(ot+st)*$,ze[Fe]!==0&&(ot=-ot),Ne=et[Fe];const Ue=Me?Pe+(Le<<1):Le;F[Ue]=ne&&Ne>=X?ot:ot*(1<<X-Ne)}Le++,Fe++}Le+=ae-pe}}}function j(F,O,Z){const se=O.components[Z],$=se.codingStyleParameters,X=se.quantizationParameters,ne=$.decompositionLevelsCount,oe=X.SPqcds,ue=X.scalarExpounded,fe=X.guardBits,le=$.segmentationSymbolUsed,ae=$.resetContextProbabilities,de=F.components[Z].precision,re=$.reversibleTransformation,Q=re?new q:new Y,ce=[];let he=0;for(let pe=0;pe<=ne;pe++){const me=se.resolutions[pe],Ae=me.trx1-me.trx0,ye=me.try1-me.try0,xe=new Float32Array(Ae*ye);for(let Ce=0,we=me.subbands.length;Ce<we;Ce++){let ve,Se;ue?(ve=oe[he].mu,Se=oe[he].epsilon,he++):(ve=oe[0].mu,Se=oe[0].epsilon+(pe>0?1-pe:0));const _e=me.subbands[Ce],ke=t[_e.type];B(xe,Ae,0,_e,re?1:2**(de+ke-Se)*(1+ve/2048),fe+Se-1,re,le,ae)}ce.push({width:Ae,height:ye,items:xe})}const ge=Q.calculate(ce,se.tcx0,se.tcy0);return{left:se.tcx0,top:se.tcy0,width:ge.width,height:ge.height,items:ge.items}}function ie(F,O){const Z=F.SIZ.Csiz,se=F.tiles[O];for(let $=0;$<Z;$++){const X=se.components[$],ne=F.currentTile.QCC[$]!==void 0?F.currentTile.QCC[$]:F.currentTile.QCD;X.quantizationParameters=ne;const oe=F.currentTile.COC[$]!==void 0?F.currentTile.COC[$]:F.currentTile.COD;X.codingStyleParameters=oe}se.codingStyleDefaultParameters=F.currentTile.COD}class E{constructor(O,Z){const se=(0,g.log2)(Math.max(O,Z))+1;this.levels=[];for(let $=0;$<se;$++){const X={width:O,height:Z,items:[]};this.levels.push(X),O=Math.ceil(O/2),Z=Math.ceil(Z/2)}}reset(O,Z){let se,$=0,X=0;for(;$<this.levels.length;){se=this.levels[$];const ne=O+Z*se.width;if(se.items[ne]!==void 0){X=se.items[ne];break}se.index=ne,O>>=1,Z>>=1,$++}$--,se=this.levels[$],se.items[se.index]=X,this.currentLevel=$,delete this.value}incrementValue(){const O=this.levels[this.currentLevel];O.items[O.index]++}nextLevel(){let O=this.currentLevel,Z=this.levels[O];const se=Z.items[Z.index];return O--,O<0?(this.value=se,!1):(this.currentLevel=O,Z=this.levels[O],Z.items[Z.index]=se,!0)}}class L{constructor(O,Z,se){const $=(0,g.log2)(Math.max(O,Z))+1;this.levels=[];for(let X=0;X<$;X++){const ne=new Uint8Array(O*Z);for(let ue=0,fe=ne.length;ue<fe;ue++)ne[ue]=se;const oe={width:O,height:Z,items:ne};this.levels.push(oe),O=Math.ceil(O/2),Z=Math.ceil(Z/2)}}reset(O,Z,se){let $=0;for(;$<this.levels.length;){const X=this.levels[$],ne=O+Z*X.width;X.index=ne;const oe=X.items[ne];if(oe===255)break;if(oe>se)return this.currentLevel=$,this.propagateValues(),!1;O>>=1,Z>>=1,$++}return this.currentLevel=$-1,!0}incrementValue(O){const Z=this.levels[this.currentLevel];Z.items[Z.index]=O+1,this.propagateValues()}propagateValues(){let O=this.currentLevel,Z=this.levels[O];const se=Z.items[Z.index];for(;--O>=0;)Z=this.levels[O],Z.items[Z.index]=se}nextLevel(){let O=this.currentLevel,Z=this.levels[O];const se=Z.items[Z.index];return Z.items[Z.index]=255,O--,O<0?!1:(this.currentLevel=O,Z=this.levels[O],Z.items[Z.index]=se,!0)}}const ee=function(){const Z=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),se=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),$=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return class{constructor(ne,oe,ue,fe,le){this.width=ne,this.height=oe;let ae;ae=ue==="HH"?$:ue==="HL"?se:Z,this.contextLabelTable=ae;const de=ne*oe;this.neighborsSignificance=new Uint8Array(de),this.coefficentsSign=new Uint8Array(de);let re;re=le>14?new Uint32Array(de):le>6?new Uint16Array(de):new Uint8Array(de),this.coefficentsMagnitude=re,this.processingFlags=new Uint8Array(de);const Q=new Uint8Array(de);if(fe!==0)for(let ce=0;ce<de;ce++)Q[ce]=fe;this.bitsDecoded=Q,this.reset()}setDecoder(ne){this.decoder=ne}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(ne,oe,ue){const fe=this.neighborsSignificance,le=this.width,ae=this.height,de=oe>0,re=oe+1<le;let Q;ne>0&&(Q=ue-le,de&&(fe[Q-1]+=16),re&&(fe[Q+1]+=16),fe[Q]+=4),ne+1<ae&&(Q=ue+le,de&&(fe[Q-1]+=16),re&&(fe[Q+1]+=16),fe[Q]+=4),de&&(fe[ue-1]+=1),re&&(fe[ue+1]+=1),fe[ue]|=128}runSignificancePropagationPass(){const ne=this.decoder,oe=this.width,ue=this.height,fe=this.coefficentsMagnitude,le=this.coefficentsSign,ae=this.neighborsSignificance,de=this.processingFlags,re=this.contexts,Q=this.contextLabelTable,ce=this.bitsDecoded;for(let he=0;he<ue;he+=4)for(let ge=0;ge<oe;ge++){let pe=he*oe+ge;for(let me=0;me<4;me++,pe+=oe){const Ae=he+me;if(Ae>=ue)break;if(de[pe]&=-2,fe[pe]||!ae[pe])continue;const ye=Q[ae[pe]];if(ne.readBit(re,ye)){const xe=this.decodeSignBit(Ae,ge,pe);le[pe]=xe,fe[pe]=1,this.setNeighborsSignificance(Ae,ge,pe),de[pe]|=2}ce[pe]++,de[pe]|=1}}}decodeSignBit(ne,oe,ue){const fe=this.width,le=this.height,ae=this.coefficentsMagnitude,de=this.coefficentsSign;let re,Q,ce,he,ge,pe;he=oe>0&&ae[ue-1]!==0,oe+1<fe&&ae[ue+1]!==0?(ce=de[ue+1],he?(Q=de[ue-1],re=1-ce-Q):re=1-ce-ce):he?(Q=de[ue-1],re=1-Q-Q):re=0;const me=3*re;return he=ne>0&&ae[ue-fe]!==0,ne+1<le&&ae[ue+fe]!==0?(ce=de[ue+fe],he?(Q=de[ue-fe],re=1-ce-Q+me):re=1-ce-ce+me):he?(Q=de[ue-fe],re=1-Q-Q+me):re=me,re>=0?(ge=9+re,pe=this.decoder.readBit(this.contexts,ge)):(ge=9-re,pe=1^this.decoder.readBit(this.contexts,ge)),pe}runMagnitudeRefinementPass(){const ne=this.decoder,oe=this.width,ue=this.height,fe=this.coefficentsMagnitude,le=this.neighborsSignificance,ae=this.contexts,de=this.bitsDecoded,re=this.processingFlags,Q=oe*ue,ce=4*oe;for(let he,ge=0;ge<Q;ge=he){he=Math.min(Q,ge+ce);for(let pe=0;pe<oe;pe++)for(let me=ge+pe;me<he;me+=oe){if(!fe[me]||1&re[me])continue;let Ae=16;2&re[me]&&(re[me]^=2,Ae=127&le[me]?14:15);const ye=ne.readBit(ae,Ae);fe[me]=fe[me]<<1|ye,de[me]++,re[me]|=1}}}runCleanupPass(){const ne=this.decoder,oe=this.width,ue=this.height,fe=this.neighborsSignificance,le=this.coefficentsMagnitude,ae=this.coefficentsSign,de=this.contexts,re=this.contextLabelTable,Q=this.bitsDecoded,ce=this.processingFlags,he=oe,ge=2*oe,pe=3*oe;let me;for(let Ae=0;Ae<ue;Ae=me){me=Math.min(Ae+4,ue);const ye=Ae*oe,xe=Ae+3<ue;for(let Ce=0;Ce<oe;Ce++){const we=ye+Ce;let ve,Se=0,_e=we,ke=Ae;if(xe&&ce[we]===0&&ce[we+he]===0&&ce[we+ge]===0&&ce[we+pe]===0&&fe[we]===0&&fe[we+he]===0&&fe[we+ge]===0&&fe[we+pe]===0){if(!ne.readBit(de,18)){Q[we]++,Q[we+he]++,Q[we+ge]++,Q[we+pe]++;continue}Se=ne.readBit(de,17)<<1|ne.readBit(de,17),Se!==0&&(ke=Ae+Se,_e+=Se*oe),ve=this.decodeSignBit(ke,Ce,_e),ae[_e]=ve,le[_e]=1,this.setNeighborsSignificance(ke,Ce,_e),ce[_e]|=2,_e=we;for(let Fe=Ae;Fe<=ke;Fe++,_e+=oe)Q[_e]++;Se++}for(ke=Ae+Se;ke<me;ke++,_e+=oe){if(le[_e]||1&ce[_e])continue;const Fe=re[fe[_e]];ne.readBit(de,Fe)===1&&(ve=this.decodeSignBit(ke,Ce,_e),ae[_e]=ve,le[_e]=1,this.setNeighborsSignificance(ke,Ce,_e),ce[_e]|=2),Q[_e]++}}}}checkSegmentationSymbol(){const ne=this.decoder,oe=this.contexts;if((ne.readBit(oe,17)<<3|ne.readBit(oe,17)<<2|ne.readBit(oe,17)<<1|ne.readBit(oe,17))!==10)throw new p("Invalid segmentation symbol")}}}();class J{constructor(){this.constructor===J&&(0,s.unreachable)("Cannot initialize Transform.")}calculate(O,Z,se){let $=O[0];for(let X=1,ne=O.length;X<ne;X++)$=this.iterate($,O[X],Z,se);return $}extend(O,Z,se){let $=Z-1,X=Z+1,ne=Z+se-2,oe=Z+se;O[$--]=O[X++],O[oe++]=O[ne--],O[$--]=O[X++],O[oe++]=O[ne--],O[$--]=O[X++],O[oe++]=O[ne--],O[$]=O[X],O[oe]=O[ne]}filter(O,Z,se){(0,s.unreachable)("Abstract method `filter` called")}iterate(O,Z,se,$){const X=O.width,ne=O.height;let oe=O.items;const ue=Z.width,fe=Z.height,le=Z.items;let ae,de,re,Q,ce,he;for(re=0,ae=0;ae<ne;ae++)for(Q=2*ae*ue,de=0;de<X;de++,re++,Q+=2)le[Q]=oe[re];oe=O.items=null;const ge=new Float32Array(ue+8);if(ue===1){if(1&se)for(he=0,re=0;he<fe;he++,re+=ue)le[re]*=.5}else for(he=0,re=0;he<fe;he++,re+=ue)ge.set(le.subarray(re,re+ue),4),this.extend(ge,4,ue),this.filter(ge,4,ue),le.set(ge.subarray(4,4+ue),re);let pe=16;const me=[];for(ae=0;ae<pe;ae++)me.push(new Float32Array(fe+8));let Ae,ye=0;if(O=4+fe,fe===1){if(1&$)for(ce=0;ce<ue;ce++)le[ce]*=.5}else for(ce=0;ce<ue;ce++){if(ye===0){for(pe=Math.min(ue-ce,pe),re=ce,Q=4;Q<O;re+=ue,Q++)for(Ae=0;Ae<pe;Ae++)me[Ae][Q]=le[re+Ae];ye=pe}ye--;const xe=me[ye];if(this.extend(xe,4,fe),this.filter(xe,4,fe),ye===0)for(re=ce-pe+1,Q=4;Q<O;re+=ue,Q++)for(Ae=0;Ae<pe;Ae++)le[re+Ae]=me[Ae][Q]}return{width:ue,height:fe,items:le}}}class Y extends J{filter(O,Z,se){const $=se>>1;let X,ne,oe,ue;const fe=-1.586134342059924,le=-.052980118572961,ae=.882911075530934,de=.443506852043971,re=1.230174104914001;for(X=(Z|=0)-3,ne=$+4;ne--;X+=2)O[X]*=.8128930661159609;for(X=Z-2,oe=de*O[X-1],ne=$+3;ne--&&(ue=de*O[X+1],O[X]=re*O[X]-oe-ue,!!ne--);X+=2)X+=2,oe=de*O[X+1],O[X]=re*O[X]-oe-ue;for(X=Z-1,oe=ae*O[X-1],ne=$+2;ne--&&(ue=ae*O[X+1],O[X]-=oe+ue,!!ne--);X+=2)X+=2,oe=ae*O[X+1],O[X]-=oe+ue;for(X=Z,oe=le*O[X-1],ne=$+1;ne--&&(ue=le*O[X+1],O[X]-=oe+ue,!!ne--);X+=2)X+=2,oe=le*O[X+1],O[X]-=oe+ue;if($!==0)for(X=Z+1,oe=fe*O[X-1],ne=$;ne--&&(ue=fe*O[X+1],O[X]-=oe+ue,!!ne--);X+=2)X+=2,oe=fe*O[X+1],O[X]-=oe+ue}}class q extends J{filter(O,Z,se){const $=se>>1;let X,ne;for(X=Z|=0,ne=$+1;ne--;X+=2)O[X]-=O[X-1]+O[X+1]+2>>2;for(X=Z+1,ne=$;ne--;X+=2)O[X]+=O[X-1]+O[X+1]>>1}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LZWStream=void 0;var s=f(19);class g extends s.DecodeStream{constructor(p,t,b){super(t),this.str=p,this.dict=p.dict,this.cachedData=0,this.bitsCached=0;const C=4096,w={earlyChange:b,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(C),dictionaryLengths:new Uint16Array(C),dictionaryPrevCodes:new Uint16Array(C),currentSequence:new Uint8Array(C),currentSequenceLength:0};for(let v=0;v<256;++v)w.dictionaryValues[v]=v,w.dictionaryLengths[v]=1;this.lzwState=w}readBits(p){let t=this.bitsCached,b=this.cachedData;for(;t<p;){const C=this.str.getByte();if(C===-1)return this.eof=!0,null;b=b<<8|C,t+=8}return this.bitsCached=t-=p,this.cachedData=b,this.lastCode=null,b>>>t&(1<<p)-1}readBlock(){let p,t,b,C=1024;const w=this.lzwState;if(!w)return;const v=w.earlyChange;let M=w.nextCode;const y=w.dictionaryValues,I=w.dictionaryLengths,P=w.dictionaryPrevCodes;let _=w.codeLength,k=w.prevCode;const D=w.currentSequence;let V=w.currentSequenceLength,R=0,U=this.bufferLength,te=this.ensureBuffer(this.bufferLength+C);for(p=0;p<512;p++){const B=this.readBits(_),j=V>0;if(B<256)D[0]=B,V=1;else{if(!(B>=258)){if(B===256){_=9,M=258,V=0;continue}this.eof=!0,delete this.lzwState;break}if(B<M)for(V=I[B],t=V-1,b=B;t>=0;t--)D[t]=y[b],b=P[b];else D[V++]=D[0]}if(j&&(P[M]=k,I[M]=I[k]+1,y[M]=D[0],M++,_=M+v&M+v-1?_:0|Math.min(Math.log(M+v)/.6931471805599453+1,12)),k=B,R+=V,C<R){do C+=512;while(C<R);te=this.ensureBuffer(this.bufferLength+C)}for(t=0;t<V;t++)te[U++]=D[t]}w.nextCode=M,w.codeLength=_,w.prevCode=k,w.currentSequenceLength=V,this.bufferLength=U}}o.LZWStream=g},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PredictorStream=void 0;var s=f(19),g=f(5),m=f(2);class p extends s.DecodeStream{constructor(b,C,w){if(super(C),!(w instanceof g.Dict))return b;const v=this.predictor=w.get("Predictor")||1;if(v<=1)return b;if(v!==2&&(v<10||v>15))throw new m.FormatError(`Unsupported predictor: ${v}`);this.readBlock=v===2?this.readBlockTiff:this.readBlockPng,this.str=b,this.dict=b.dict;const M=this.colors=w.get("Colors")||1,y=this.bits=w.get("BPC","BitsPerComponent")||8,I=this.columns=w.get("Columns")||1;return this.pixBytes=M*y+7>>3,this.rowBytes=I*M*y+7>>3,this}readBlockTiff(){const b=this.rowBytes,C=this.bufferLength,w=this.ensureBuffer(C+b),v=this.bits,M=this.colors,y=this.str.getBytes(b);if(this.eof=!y.length,this.eof)return;let I,P=0,_=0,k=0,D=0,V=C;if(v===1&&M===1)for(I=0;I<b;++I){let R=y[I]^P;R^=R>>1,R^=R>>2,R^=R>>4,P=(1&R)<<7,w[V++]=R}else if(v===8){for(I=0;I<M;++I)w[V++]=y[I];for(;I<b;++I)w[V]=w[V-M]+y[I],V++}else if(v===16){const R=2*M;for(I=0;I<R;++I)w[V++]=y[I];for(;I<b;I+=2){const U=((255&y[I])<<8)+(255&y[I+1])+((255&w[V-R])<<8)+(255&w[V-R+1]);w[V++]=U>>8&255,w[V++]=255&U}}else{const R=new Uint8Array(M+1),U=(1<<v)-1;let te=0,B=C;const j=this.columns;for(I=0;I<j;++I)for(let ie=0;ie<M;++ie)k<v&&(P=P<<8|255&y[te++],k+=8),R[ie]=R[ie]+(P>>k-v)&U,k-=v,_=_<<v|R[ie],D+=v,D>=8&&(w[B++]=_>>D-8&255,D-=8);D>0&&(w[B++]=(_<<8-D)+(P&(1<<8-D)-1))}this.bufferLength+=b}readBlockPng(){const b=this.rowBytes,C=this.pixBytes,w=this.str.getByte(),v=this.str.getBytes(b);if(this.eof=!v.length,this.eof)return;const M=this.bufferLength,y=this.ensureBuffer(M+b);let I=y.subarray(M-b,M);I.length===0&&(I=new Uint8Array(b));let P,_,k,D=M;switch(w){case 0:for(P=0;P<b;++P)y[D++]=v[P];break;case 1:for(P=0;P<C;++P)y[D++]=v[P];for(;P<b;++P)y[D]=y[D-C]+v[P]&255,D++;break;case 2:for(P=0;P<b;++P)y[D++]=I[P]+v[P]&255;break;case 3:for(P=0;P<C;++P)y[D++]=(I[P]>>1)+v[P];for(;P<b;++P)y[D]=(I[P]+y[D-C]>>1)+v[P]&255,D++;break;case 4:for(P=0;P<C;++P)_=I[P],k=v[P],y[D++]=_+k;for(;P<b;++P){_=I[P];const V=I[P-C],R=y[D-C],U=R+_-V;let te=U-R;te<0&&(te=-te);let B=U-_;B<0&&(B=-B);let j=U-V;j<0&&(j=-j),k=v[P],y[D++]=te<=B&&te<=j?R+k:B<=j?_+k:V+k}break;default:throw new m.FormatError(`Unsupported predictor: ${w}`)}this.bufferLength+=b}}o.PredictorStream=p},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RunLengthStream=void 0;var s=f(19);class g extends s.DecodeStream{constructor(p,t){super(t),this.str=p,this.dict=p.dict}readBlock(){const p=this.str.getBytes(2);if(!p||p.length<2||p[0]===128){this.eof=!0;return}let t,b=this.bufferLength,C=p[0];if(C<128){if(t=this.ensureBuffer(b+C+1),t[b++]=p[1],C>0){const w=this.str.getBytes(C);t.set(w,b),b+=C}}else{C=257-C;const w=p[1];t=this.ensureBuffer(b+C+1);for(let v=0;v<C;v++)t[b++]=w}this.bufferLength=b}}o.RunLengthStream=g},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Font=o.ErrorFont=void 0;var s=f(2),g=f(35),m=f(38),p=f(40),t=f(39),b=f(37),C=f(41),w=f(42),v=f(43),M=f(44),y=f(45),I=f(46),P=f(16),_=f(47),k=f(6),D=f(10),V=f(48);const R=[[57344,63743],[1048576,1114109]],U=1e3,te=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],B=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function j(ae){if(!ae.fontMatrix||ae.fontMatrix[0]===s.FONT_IDENTITY_MATRIX[0])return;const de=.001/ae.fontMatrix[0],re=ae.widths;for(const Q in re)re[Q]*=de;ae.defaultWidth*=de}function ie(ae){if(!ae.fallbackToUnicode||ae.toUnicode instanceof w.IdentityToUnicodeMap)return;const de=[];for(const re in ae.fallbackToUnicode)ae.toUnicode.has(re)||(de[re]=ae.fallbackToUnicode[re]);de.length>0&&ae.toUnicode.amend(de)}class E{constructor(de,re,Q,ce,he,ge,pe,me,Ae){this.originalCharCode=de,this.fontChar=re,this.unicode=Q,this.accent=ce,this.width=he,this.vmetric=ge,this.operatorListId=pe,this.isSpace=me,this.isInFont=Ae;const ye=(0,p.getCharUnicodeCategory)(Q);this.isWhitespace=ye.isWhitespace,this.isZeroWidthDiacritic=ye.isZeroWidthDiacritic,this.isInvisibleFormatMark=ye.isInvisibleFormatMark}matchesForCache(de,re,Q,ce,he,ge,pe,me,Ae){return this.originalCharCode===de&&this.fontChar===re&&this.unicode===Q&&this.accent===ce&&this.width===he&&this.vmetric===ge&&this.operatorListId===pe&&this.isSpace===me&&this.isInFont===Ae}}function L(ae,de){return(ae<<8)+de}function ee(ae,de,re){ae[de+1]=re,ae[de]=re>>>8}function J(ae,de){const re=(ae<<8)+de;return 32768&re?re-65536:re}function Y(ae){return String.fromCharCode(ae>>8&255,255&ae)}function q(ae){return ae>32767?ae=32767:ae<-32768&&(ae=-32768),String.fromCharCode(ae>>8&255,255&ae)}function F(ae){const de=ae.peekBytes(4);return(0,s.bytesToString)(de)==="ttcf"}function O(ae,{type:de,subtype:re,composite:Q}){let ce,he;return function(pe){const me=pe.peekBytes(4);return(0,k.readUint32)(me,0)===65536||(0,s.bytesToString)(me)==="true"}(ae)||F(ae)?ce=Q?"CIDFontType2":"TrueType":function(pe){const me=pe.peekBytes(4);return(0,s.bytesToString)(me)==="OTTO"}(ae)?ce=Q?"CIDFontType2":"OpenType":function(pe){const me=pe.peekBytes(2);return me[0]===37&&me[1]===33||me[0]===128&&me[1]===1}(ae)?ce=Q?"CIDFontType0":de==="MMType1"?"MMType1":"Type1":function(pe){const me=pe.peekBytes(4);return me[0]>=1&&me[3]>=1&&me[3]<=4}(ae)?Q?(ce="CIDFontType0",he="CIDFontType0C"):(ce=de==="MMType1"?"MMType1":"Type1",he="Type1C"):((0,s.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),ce=de,he=re),[ce,he]}function Z(ae,de){for(const re in de)ae[+re]=de[re]}function se(ae,de,re){const Q=[];let ce;for(let he=0,ge=ae.length;he<ge;he++)ce=(0,p.getUnicodeForGlyph)(ae[he],de),ce!==-1&&(Q[he]=ce);for(const he in re)ce=(0,p.getUnicodeForGlyph)(re[he],de),ce!==-1&&(Q[+he]=ce);return Q}function $(ae,de,re=!1){switch(de.length){case 1:return de.charCodeAt(0);case 2:return de.charCodeAt(0)<<8|de.charCodeAt(1)}const Q=`Unsupported CID string (charCode ${ae}): "${de}".`;if(re)throw new s.FormatError(Q);return(0,s.warn)(Q),de}function X(ae,de,re,Q){const ce=Object.create(null),he=new Map,ge=[],pe=new Set;let me=0;const Ae=R[me][0];let ye=Ae,xe=R[me][1];for(let Ce in ae){Ce|=0;let we=ae[Ce];if(!de(we))continue;if(ye>xe){if(me++,me>=R.length){(0,s.warn)("Ran out of space in font private use area.");break}ye=R[me][0],xe=R[me][1]}const ve=ye++;we===0&&(we=re);let Se=Q.get(Ce);typeof Se=="string"&&(Se=Se.codePointAt(0)),Se&&Se<Ae&&!pe.has(we)&&(he.set(Se,we),pe.add(we)),ce[ve]=we,ge[Ce]=ve}return{toFontChar:ge,charCodeToGlyphId:ce,toUnicodeExtraMap:he,nextAvailableFontCharCode:ye}}function ne(ae,de,re){const Q=function(Me,Pe,Ue){const Ge=[];for(const Ze in Me)Me[Ze]>=Ue||Ge.push({fontCharCode:0|Ze,glyphId:Me[Ze]});if(Pe)for(const[Ze,Ke]of Pe)Ke>=Ue||Ge.push({fontCharCode:Ze,glyphId:Ke});Ge.length===0&&Ge.push({fontCharCode:0,glyphId:0}),Ge.sort(function(Ke,Oe){return Ke.fontCharCode-Oe.fontCharCode});const Ye=[],We=Ge.length;for(let Ze=0;Ze<We;){const Ke=Ge[Ze].fontCharCode,Oe=[Ge[Ze].glyphId];++Ze;let De=Ke;for(;Ze<We&&De+1===Ge[Ze].fontCharCode&&(Oe.push(Ge[Ze].glyphId),++De,++Ze,De!==65535););Ye.push([Ke,De,Oe])}return Ye}(ae,de,re),ce=Q.at(-1)[1]>65535?2:1;let he,ge,pe,me,Ae="\0\0"+Y(ce)+"\0\0"+(0,s.string32)(4+8*ce);for(he=Q.length-1;he>=0&&!(Q[he][0]<=65535);--he);const ye=he+1;Q[he][0]<65535&&Q[he][1]===65535&&(Q[he][1]=65534);const xe=Q[he][1]<65535?1:0,Ce=ye+xe,we=_.OpenTypeFileBuilder.getSearchParams(Ce,2);let ve,Se,_e,ke,Fe="",je="",Le="",ze="",Re="",et=0;for(he=0,ge=ye;he<ge;he++){ve=Q[he],Se=ve[0],_e=ve[1],Fe+=Y(Se),je+=Y(_e),ke=ve[2];let Ne=!0;for(pe=1,me=ke.length;pe<me;++pe)if(ke[pe]!==ke[pe-1]+1){Ne=!1;break}if(Ne)Le+=Y(ke[0]-Se&65535),ze+=Y(0);else{const Me=2*(Ce-he)+2*et;for(et+=_e-Se+1,Le+=Y(0),ze+=Y(Me),pe=0,me=ke.length;pe<me;++pe)Re+=Y(ke[pe])}}xe>0&&(je+="ÿÿ",Fe+="ÿÿ",Le+="\0",ze+="\0\0");const st="\0\0"+Y(2*Ce)+Y(we.range)+Y(we.entry)+Y(we.rangeShift)+je+"\0\0"+Fe+Le+ze+Re;let Qe="",ot="";if(ce>1){for(Ae+=`\0\0
`+(0,s.string32)(4+8*ce+4+st.length),Qe="",he=0,ge=Q.length;he<ge;he++){ve=Q[he],Se=ve[0],ke=ve[2];let Ne=ke[0];for(pe=1,me=ke.length;pe<me;++pe)ke[pe]!==ke[pe-1]+1&&(_e=ve[0]+pe-1,Qe+=(0,s.string32)(Se)+(0,s.string32)(_e)+(0,s.string32)(Ne),Se=_e+1,Ne=ke[pe]);Qe+=(0,s.string32)(Se)+(0,s.string32)(ve[1])+(0,s.string32)(Ne)}ot="\0\f\0\0"+(0,s.string32)(Qe.length+16)+"\0\0\0\0"+(0,s.string32)(Qe.length/12)}return Ae+"\0"+Y(st.length+4)+st+ot+Qe}function oe(ae,de,re){re=re||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let Q=0,ce=0,he=0,ge=0,pe=null,me=0;if(de){for(let _e in de){_e|=0,(pe>_e||!pe)&&(pe=_e),me<_e&&(me=_e);const ke=(0,p.getUnicodeRangeFor)(_e);if(ke<32)Q|=1<<ke;else if(ke<64)ce|=1<<ke-32;else if(ke<96)he|=1<<ke-64;else{if(!(ke<123))throw new s.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");ge|=1<<ke-96}}me>65535&&(me=65535)}else pe=0,me=255;const Ae=ae.bbox||[0,0,0,0],ye=re.unitsPerEm||1/(ae.fontMatrix||s.FONT_IDENTITY_MATRIX)[0],xe=ae.ascentScaled?1:ye/U,Ce=re.ascent||Math.round(xe*(ae.ascent||Ae[3]));let we=re.descent||Math.round(xe*(ae.descent||Ae[1]));we>0&&ae.descent>0&&Ae[1]<0&&(we=-we);const ve=re.yMax||Ce,Se=-re.yMin||-we;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(ae.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,s.string32)(Q)+(0,s.string32)(ce)+(0,s.string32)(he)+(0,s.string32)(ge)+"*21*"+Y(ae.italicAngle?1:0)+Y(pe||ae.firstChar)+Y(me||ae.lastChar)+Y(Ce)+Y(we)+"\0d"+Y(ve)+Y(Se)+"\0\0\0\0\0\0\0\0"+Y(ae.xHeight)+Y(ae.capHeight)+Y(0)+Y(pe||ae.firstChar)+"\0"}function ue(ae){const de=Math.floor(65536*ae.italicAngle);return"\0\0\0"+(0,s.string32)(de)+"\0\0\0\0"+(0,s.string32)(ae.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function fe(ae){return ae.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function le(ae,de){de||(de=[[],[]]);const re=[de[0][0]||"Original licence",de[0][1]||ae,de[0][2]||"Unknown",de[0][3]||"uniqueID",de[0][4]||ae,de[0][5]||"Version 0.11",de[0][6]||fe(ae),de[0][7]||"Unknown",de[0][8]||"Unknown",de[0][9]||"Unknown"],Q=[];let ce,he,ge,pe,me;for(ce=0,he=re.length;ce<he;ce++){me=de[1][ce]||re[ce];const _e=[];for(ge=0,pe=me.length;ge<pe;ge++)_e.push(Y(me.charCodeAt(ge)));Q.push(_e.join(""))}const Ae=[re,Q],ye=["\0","\0"],xe=["\0\0","\0"],Ce=["\0\0","	"],we=re.length*ye.length;let ve="\0\0"+Y(we)+Y(12*we+6),Se=0;for(ce=0,he=ye.length;ce<he;ce++){const _e=Ae[ce];for(ge=0,pe=_e.length;ge<pe;ge++)me=_e[ge],ve+=ye[ce]+xe[ce]+Ce[ce]+Y(ge)+Y(me.length)+Y(Se),Se+=me.length}return ve+=re.join("")+Q.join(""),ve}o.Font=class{constructor(de,re,Q){this.name=de,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=Q.loadedName,this.isType3Font=Q.isType3Font,this.missingFile=!1,this.cssFontInfo=Q.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let ce=!!(Q.flags&m.FontFlags.Serif);if(!ce&&!Q.isSimulatedFlags){const Ae=de.replace(/[,_]/g,"-").split("-")[0],ye=(0,C.getSerifFonts)();for(const xe of Ae.split("+"))if(ye[xe]){ce=!0;break}}this.isSerifFont=ce,this.isSymbolicFont=!!(Q.flags&m.FontFlags.Symbolic),this.isMonospace=!!(Q.flags&m.FontFlags.FixedPitch);let he=Q.type,ge=Q.subtype;this.type=he,this.subtype=ge;let pe,me="sans-serif";if(this.isMonospace?me="monospace":this.isSerifFont&&(me="serif"),this.fallbackName=me,this.differences=Q.differences,this.widths=Q.widths,this.defaultWidth=Q.defaultWidth,this.composite=Q.composite,this.cMap=Q.cMap,this.capHeight=Q.capHeight/U,this.ascent=Q.ascent/U,this.descent=Q.descent/U,this.lineHeight=this.ascent-this.descent,this.fontMatrix=Q.fontMatrix,this.bbox=Q.bbox,this.defaultEncoding=Q.defaultEncoding,this.toUnicode=Q.toUnicode,this.toFontChar=[],Q.type!=="Type3")if(this.cidEncoding=Q.cidEncoding||"",this.vertical=!!Q.vertical,this.vertical&&(this.vmetrics=Q.vmetrics,this.defaultVMetrics=Q.defaultVMetrics),re&&!re.isEmpty){[he,ge]=O(re,Q),he===this.type&&ge===this.subtype||(0,s.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${he}/${ge}.`);try{switch(he){case"MMType1":(0,s.info)("MMType1 font ("+de+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Ae=ge==="Type1C"||ge==="CIDFontType0C"?new v.CFFFont(re,Q):new V.Type1Font(de,re,Q);j(Q),pe=this.convert(de,Ae,Q);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",pe=this.checkAndRepair(de,re,Q),this.isOpenType&&(j(Q),he="OpenType");break;default:throw new s.FormatError(`Font ${he} is not supported`)}}catch(Ae){(0,s.warn)(Ae),this.fallbackToSystemFont(Q);return}ie(Q),this.data=pe,this.fontType=(0,m.getFontType)(he,ge,Q.isStandardFont),this.fontMatrix=Q.fontMatrix,this.widths=Q.widths,this.defaultWidth=Q.defaultWidth,this.toUnicode=Q.toUnicode,this.seacMap=Q.seacMap}else re&&(0,s.warn)('Font file is empty in "'+de+'" ('+this.loadedName+")"),this.fallbackToSystemFont(Q);else{for(let Ae=0;Ae<256;Ae++)this.toFontChar[Ae]=this.differences[Ae]||Q.defaultEncoding[Ae];this.fontType=s.FontType.TYPE3}}get renderer(){const de=M.FontRendererFactory.create(this,m.SEAC_ANALYSIS_ENABLED);return(0,s.shadow)(this,"renderer",de)}exportData(de=!1){const re=de?[...te,...B]:te,Q=Object.create(null);let ce,he;for(ce of re)he=this[ce],he!==void 0&&(Q[ce]=he);return Q}fallbackToSystemFont(de){this.missingFile=!0;const re=this.name,Q=this.type,ce=this.subtype;let he=(0,m.normalizeFontName)(re);const ge=(0,C.getStdFontMap)(),pe=(0,C.getNonStdFontMap)(),me=!!ge[he],Ae=!(!pe[he]||!ge[pe[he]]);he=ge[he]||pe[he]||he;const ye=(0,y.getFontBasicMetrics)()[he];ye&&(isNaN(this.ascent)&&(this.ascent=ye.ascent/U),isNaN(this.descent)&&(this.descent=ye.descent/U),isNaN(this.capHeight)&&(this.capHeight=ye.capHeight/U)),this.bold=he.search(/bold/gi)!==-1,this.italic=he.search(/oblique/gi)!==-1||he.search(/italic/gi)!==-1,this.black=re.search(/Black/g)!==-1;const xe=re.search(/Narrow/g)!==-1;if(this.remeasure=(!me||xe)&&Object.keys(this.widths).length>0,(me||Ae)&&Q==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Ce=de.cidToGidMap,we=[];if(Z(we,(0,C.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(re)?Z(we,(0,C.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(re)&&Z(we,(0,C.getSupplementalGlyphMapForCalibri)()),Ce){for(const ve in we){const Se=we[ve];Ce[Se]!==void 0&&(we[+ve]=Ce[Se])}Ce.length!==this.toUnicode.length&&de.hasIncludedToUnicodeMap&&this.toUnicode instanceof w.IdentityToUnicodeMap&&this.toUnicode.forEach(function(ve,Se){const _e=we[ve];Ce[_e]===void 0&&(we[+ve]=Se)})}this.toUnicode instanceof w.IdentityToUnicodeMap||this.toUnicode.forEach(function(ve,Se){we[+ve]=Se}),this.toFontChar=we,this.toUnicode=new w.ToUnicodeMap(we)}else if(/Symbol/i.test(he))this.toFontChar=se(b.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(he))/Wingdings/i.test(re)&&(0,s.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=se(b.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(me){const Ce=se(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);Q!=="CIDFontType2"||this.cidEncoding.startsWith("Identity-")||this.toUnicode instanceof w.IdentityToUnicodeMap||this.toUnicode.forEach(function(we,ve){Ce[+we]=ve}),this.toFontChar=Ce}else{const Ce=(0,t.getGlyphsUnicode)(),we=[];this.toUnicode.forEach((ve,Se)=>{if(!this.composite){const _e=this.differences[ve]||this.defaultEncoding[ve],ke=(0,p.getUnicodeForGlyph)(_e,Ce);ke!==-1&&(Se=ke)}we[+ve]=Se}),this.composite&&this.toUnicode instanceof w.IdentityToUnicodeMap&&/Verdana/i.test(re)&&Z(we,(0,C.getGlyphMapForStandardFonts)()),this.toFontChar=we}ie(de),this.loadedName=he.split("-")[0],this.fontType=(0,m.getFontType)(Q,ce,de.isStandardFont)}checkAndRepair(de,re,Q){const ce=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function he(Ue,Ge){const Ye=Object.create(null);Ye["OS/2"]=null,Ye.cmap=null,Ye.head=null,Ye.hhea=null,Ye.hmtx=null,Ye.maxp=null,Ye.name=null,Ye.post=null;for(let We=0;We<Ge;We++){const Ze=ge(Ue);ce.includes(Ze.tag)&&Ze.length!==0&&(Ye[Ze.tag]=Ze)}return Ye}function ge(Ue){const Ge=Ue.getString(4),Ye=Ue.getInt32()>>>0,We=Ue.getInt32()>>>0,Ze=Ue.getInt32()>>>0,Ke=Ue.pos;Ue.pos=Ue.start||0,Ue.skip(We);const Oe=Ue.getBytes(Ze);return Ue.pos=Ke,Ge==="head"&&(Oe[8]=Oe[9]=Oe[10]=Oe[11]=0,Oe[17]|=32),{tag:Ge,checksum:Ye,length:Ze,offset:We,data:Oe}}function pe(Ue){return{version:Ue.getString(4),numTables:Ue.getUint16(),searchRange:Ue.getUint16(),entrySelector:Ue.getUint16(),rangeShift:Ue.getUint16()}}function me(Ue,Ge,Ye,We,Ze,Ke){const Oe={length:0,sizeOfInstructions:0};if(Ye-Ge<=12)return Oe;const De=Ue.subarray(Ge,Ye);let Ie=J(De[0],De[1]);if(Ie<0)return Ie=-1,ee(De,0,Ie),We.set(De,Ze),Oe.length=De.length,Oe;let qe,Xe=10,Ve=0;for(qe=0;qe<Ie;qe++)Ve=(De[Xe]<<8|De[Xe+1])+1,Xe+=2;const nt=Xe,ht=De[Xe]<<8|De[Xe+1];Oe.sizeOfInstructions=ht,Xe+=2+ht;const ut=Xe;let it=0;for(qe=0;qe<Ve;qe++){const ft=De[Xe++];192&ft&&(De[Xe-1]=63&ft);let kt=2;2&ft?kt=1:16&ft&&(kt=0);let wt=2;4&ft?wt=1:32&ft&&(wt=0);const rt=kt+wt;if(it+=rt,8&ft){const At=De[Xe++];qe+=At,it+=At*rt}}if(it===0)return Oe;let gt=Xe+it;return gt>De.length?Oe:!Ke&&ht>0?(We.set(De.subarray(0,nt),Ze),We.set([0,0],Ze+nt),We.set(De.subarray(ut,gt),Ze+nt+2),gt-=ht,De.length-gt>3&&(gt=gt+3&-4),Oe.length=gt,Oe):De.length-gt>3?(gt=gt+3&-4,We.set(De.subarray(0,gt),Ze),Oe.length=gt,Oe):(We.set(De,Ze),Oe.length=De.length,Oe)}function Ae(Ue){const Ge=(re.start||0)+Ue.offset;re.pos=Ge;const Ye=[[],[]],We=Ue.length,Ze=Ge+We;if(re.getUint16()!==0||We<6)return Ye;const Ke=re.getUint16(),Oe=re.getUint16(),De=[];let Ie,qe;for(Ie=0;Ie<Ke&&re.pos+12<=Ze;Ie++){const Xe={platform:re.getUint16(),encoding:re.getUint16(),language:re.getUint16(),name:re.getUint16(),length:re.getUint16(),offset:re.getUint16()};(Xe.platform===1&&Xe.encoding===0&&Xe.language===0||Xe.platform===3&&Xe.encoding===1&&Xe.language===1033)&&De.push(Xe)}for(Ie=0,qe=De.length;Ie<qe;Ie++){const Xe=De[Ie];if(Xe.length<=0)continue;const Ve=Ge+Oe+Xe.offset;if(Ve+Xe.length>Ze)continue;re.pos=Ve;const nt=Xe.name;if(Xe.encoding){let ht="";for(let ut=0,it=Xe.length;ut<it;ut+=2)ht+=String.fromCharCode(re.getUint16());Ye[1][nt]=ht}else Ye[0][nt]=re.getString(Xe.length)}return Ye}const ye=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function xe(Ue,Ge){let Ye,We,Ze,Ke,Oe,De=Ue.data,Ie=0,qe=0,Xe=0;const Ve=[],nt=[],ht=[];let ut=Ge.tooComplexToFollowFunctions,it=!1,gt=0,ft=0;for(let wt=De.length;Ie<wt;){const rt=De[Ie++];if(rt===64)if(We=De[Ie++],it||ft)Ie+=We;else for(Ye=0;Ye<We;Ye++)Ve.push(De[Ie++]);else if(rt===65)if(We=De[Ie++],it||ft)Ie+=2*We;else for(Ye=0;Ye<We;Ye++)Ze=De[Ie++],Ve.push(Ze<<8|De[Ie++]);else if((248&rt)==176)if(We=rt-176+1,it||ft)Ie+=We;else for(Ye=0;Ye<We;Ye++)Ve.push(De[Ie++]);else if((248&rt)==184)if(We=rt-184+1,it||ft)Ie+=2*We;else for(Ye=0;Ye<We;Ye++)Ze=De[Ie++],Ve.push(Ze<<8|De[Ie++]);else if(rt!==43||ut)if(rt!==44||ut){if(rt===45)if(it)it=!1,qe=Ie;else{if(Oe=nt.pop(),!Oe){(0,s.warn)("TT: ENDF bad stack"),Ge.hintsValid=!1;return}Ke=ht.pop(),De=Oe.data,Ie=Oe.i,Ge.functionsStackDeltas[Ke]=Ve.length-Oe.stackTop}else if(rt===137)(it||ft)&&((0,s.warn)("TT: nested IDEFs not allowed"),ut=!0),it=!0,Xe=Ie;else if(rt===88)++gt;else if(rt===27)ft=gt;else if(rt===89)ft===gt&&(ft=0),--gt;else if(rt===28&&!it&&!ft){const At=Ve.at(-1);At>0&&(Ie+=At-1)}}else(it||ft)&&((0,s.warn)("TT: nested FDEFs not allowed"),ut=!0),it=!0,Xe=Ie,Ke=Ve.pop(),Ge.functionsDefined[Ke]={data:De,i:Ie};else if(!it&&!ft){if(Ke=Ve.at(-1),isNaN(Ke))(0,s.info)("TT: CALL empty stack (or invalid entry).");else if(Ge.functionsUsed[Ke]=!0,Ke in Ge.functionsStackDeltas){const At=Ve.length+Ge.functionsStackDeltas[Ke];if(At<0){(0,s.warn)("TT: CALL invalid functions stack delta."),Ge.hintsValid=!1;return}Ve.length=At}else if(Ke in Ge.functionsDefined&&!ht.includes(Ke)){if(nt.push({data:De,i:Ie,stackTop:Ve.length-1}),ht.push(Ke),Oe=Ge.functionsDefined[Ke],!Oe){(0,s.warn)("TT: CALL non-existent function"),Ge.hintsValid=!1;return}De=Oe.data,Ie=Oe.i}}if(!it&&!ft){let At=0;for(rt<=142?At=ye[rt]:rt>=192&&rt<=223?At=-1:rt>=224&&(At=-2),rt>=113&&rt<=117&&(We=Ve.pop(),isNaN(We)||(At=2*-We));At<0&&Ve.length>0;)Ve.pop(),At++;for(;At>0;)Ve.push(NaN),At--}}Ge.tooComplexToFollowFunctions=ut;const kt=[De];Ie>De.length&&kt.push(new Uint8Array(Ie-De.length)),Xe>qe&&((0,s.warn)("TT: complementing a missing function tail"),kt.push(new Uint8Array([34,45]))),function(rt,At){if(At.length>1){let dt,yt,ct=0;for(dt=0,yt=At.length;dt<yt;dt++)ct+=At[dt].length;ct=ct+3&-4;const bt=new Uint8Array(ct);let xt=0;for(dt=0,yt=At.length;dt<yt;dt++)bt.set(At[dt],xt),xt+=At[dt].length;rt.data=bt,rt.length=ct}}(Ue,kt)}let Ce,we,ve,Se;if(F(re=new D.Stream(new Uint8Array(re.getBytes())))){const Ue=function(Ye,We){const{numFonts:Ze,offsetTable:Ke}=function(qe){const Xe=qe.getString(4);(0,s.assert)(Xe==="ttcf","Must be a TrueType Collection font.");const Ve=qe.getUint16(),nt=qe.getUint16(),ht=qe.getInt32()>>>0,ut=[];for(let gt=0;gt<ht;gt++)ut.push(qe.getInt32()>>>0);const it={ttcTag:Xe,majorVersion:Ve,minorVersion:nt,numFonts:ht,offsetTable:ut};switch(Ve){case 1:return it;case 2:return it.dsigTag=qe.getInt32()>>>0,it.dsigLength=qe.getInt32()>>>0,it.dsigOffset=qe.getInt32()>>>0,it}throw new s.FormatError(`Invalid TrueType Collection majorVersion: ${Ve}.`)}(Ye),Oe=We.split("+");let De;for(let Ie=0;Ie<Ze;Ie++){Ye.pos=(Ye.start||0)+Ke[Ie];const qe=pe(Ye),Xe=he(Ye,qe.numTables);if(!Xe.name)throw new s.FormatError('TrueType Collection font must contain a "name" table.');const Ve=Ae(Xe.name);for(let nt=0,ht=Ve.length;nt<ht;nt++)for(let ut=0,it=Ve[nt].length;ut<it;ut++){const gt=Ve[nt][ut]&&Ve[nt][ut].replace(/\s/g,"");if(gt){if(gt===We)return{header:qe,tables:Xe};if(!(Oe.length<2))for(const ft of Oe)gt===ft&&(De={name:ft,header:qe,tables:Xe})}}}if(De)return(0,s.warn)(`TrueType Collection does not contain "${We}" font, falling back to "${De.name}" font instead.`),{header:De.header,tables:De.tables};throw new s.FormatError(`TrueType Collection does not contain "${We}" font.`)}(re,this.name);Ce=Ue.header,we=Ue.tables}else Ce=pe(re),we=he(re,Ce.numTables);const _e=!we["CFF "];if(_e){if(!we.loca)throw new s.FormatError('Required "loca" table is not found');we.glyf||((0,s.warn)('Required "glyf" table is not found -- trying to recover.'),we.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Ue=Q.composite&&((Q.cidToGidMap||[]).length>0||!(Q.cMap instanceof P.IdentityCMap));if(Ce.version==="OTTO"&&!Ue||!we.head||!we.hhea||!we.maxp||!we.post)return Se=new D.Stream(we["CFF "].data),ve=new v.CFFFont(Se,Q),j(Q),this.convert(de,ve,Q);delete we.glyf,delete we.loca,delete we.fpgm,delete we.prep,delete we["cvt "],this.isOpenType=!0}if(!we.maxp)throw new s.FormatError('Required "maxp" table is not found');re.pos=(re.start||0)+we.maxp.offset;const ke=re.getInt32(),Fe=re.getUint16();if(Q.scaleFactors&&Q.scaleFactors.length===Fe&&_e){const{scaleFactors:Ue}=Q,Ge=L(we.head.data[50],we.head.data[51]),Ye=new I.GlyfTable({glyfTable:we.glyf.data,isGlyphLocationsLong:Ge,locaTable:we.loca.data,numGlyphs:Fe});Ye.scale(Ue);const{glyf:We,loca:Ze,isLocationLong:Ke}=Ye.write();we.glyf.data=We,we.loca.data=Ze,Ke!==!!Ge&&(we.head.data[50]=0,we.head.data[51]=Ke?1:0);const Oe=we.hmtx.data;for(let De=0;De<Fe;De++){const Ie=4*De,qe=Math.round(Ue[De]*L(Oe[Ie],Oe[Ie+1]));Oe[Ie]=qe>>8&255,Oe[Ie+1]=255&qe,ee(Oe,Ie+2,Math.round(Ue[De]*J(Oe[Ie+2],Oe[Ie+3])))}}let je=Fe+1,Le=!0;je>65535&&(Le=!1,je=Fe,(0,s.warn)("Not enough space in glyfs to duplicate first glyph."));let ze=0,Re=0;ke>=65536&&we.maxp.length>=22&&(re.pos+=8,re.getUint16()>2&&(we.maxp.data[14]=0,we.maxp.data[15]=2),re.pos+=4,ze=re.getUint16(),re.pos+=4,Re=re.getUint16()),we.maxp.data[4]=je>>8,we.maxp.data[5]=255&je;const et=function(Ge,Ye,We,Ze){const Ke={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Ge&&xe(Ge,Ke),Ye&&xe(Ye,Ke),Ge&&function(De,Ie){if(!De.tooComplexToFollowFunctions)if(De.functionsDefined.length>Ie)(0,s.warn)("TT: more functions defined than expected"),De.hintsValid=!1;else for(let qe=0,Xe=De.functionsUsed.length;qe<Xe;qe++){if(qe>Ie){(0,s.warn)("TT: invalid function id: "+qe),De.hintsValid=!1;return}if(De.functionsUsed[qe]&&!De.functionsDefined[qe]){(0,s.warn)("TT: undefined function: "+qe),De.hintsValid=!1;return}}}(Ke,Ze),We&&1&We.length){const Oe=new Uint8Array(We.length+1);Oe.set(We.data),We.data=Oe}return Ke.hintsValid}(we.fpgm,we.prep,we["cvt "],ze);if(et||(delete we.fpgm,delete we.prep,delete we["cvt "]),function(Ge,Ye,We,Ze,Ke,Oe){if(!Ye){We&&(We.data=null);return}Ge.pos=(Ge.start||0)+Ye.offset,Ge.pos+=4,Ge.pos+=2,Ge.pos+=2,Ge.pos+=2,Ge.pos+=2,Ge.pos+=2,Ge.pos+=2,Ge.pos+=2,Ge.pos+=2,Ge.pos+=2;const De=Ge.getUint16();Ge.pos+=8,Ge.pos+=2;let Ie=Ge.getUint16();De!==0&&(2&L(Ze.data[44],Ze.data[45])||(Ye.data[22]=0,Ye.data[23]=0)),Ie>Ke&&((0,s.info)(`The numOfMetrics (${Ie}) should not be greater than the numGlyphs (${Ke}).`),Ie=Ke,Ye.data[34]=(65280&Ie)>>8,Ye.data[35]=255&Ie);const qe=Ke-Ie-(We.length-4*Ie>>1);if(qe>0){const Xe=new Uint8Array(We.length+2*qe);Xe.set(We.data),Oe&&(Xe[We.length]=We.data[2],Xe[We.length+1]=We.data[3]),We.data=Xe}}(re,we.hhea,we.hmtx,we.head,je,Le),!we.head)throw new s.FormatError('Required "head" table is not found');(function(Ge,Ye,We){const Ze=Ge.data,Ke=function(Ie,qe,Xe,Ve){return(Ie<<24)+(qe<<16)+(Xe<<8)+Ve}(Ze[0],Ze[1],Ze[2],Ze[3]);Ke>>16!=1&&((0,s.info)("Attempting to fix invalid version in head table: "+Ke),Ze[0]=0,Ze[1]=1,Ze[2]=0,Ze[3]=0);const Oe=L(Ze[50],Ze[51]);if(Oe<0||Oe>1){(0,s.info)("Attempting to fix invalid indexToLocFormat in head table: "+Oe);const De=Ye+1;if(We===De<<1)Ze[50]=0,Ze[51]=0;else{if(We!==De<<2)throw new s.FormatError("Could not fix indexToLocFormat: "+Oe);Ze[50]=0,Ze[51]=1}}})(we.head,Fe,_e?we.loca.length:0);let st=Object.create(null);if(_e){const Ue=L(we.head.data[50],we.head.data[51]),Ge=function(We,Ze,Ke,Oe,De,Ie,qe){let Xe,Ve,nt;Oe?(Xe=4,Ve=function(bt,xt){return bt[xt]<<24|bt[xt+1]<<16|bt[xt+2]<<8|bt[xt+3]},nt=function(bt,xt,Ft){bt[xt]=Ft>>>24&255,bt[xt+1]=Ft>>16&255,bt[xt+2]=Ft>>8&255,bt[xt+3]=255&Ft}):(Xe=2,Ve=function(bt,xt){return bt[xt]<<9|bt[xt+1]<<1},nt=function(bt,xt,Ft){bt[xt]=Ft>>9&255,bt[xt+1]=Ft>>1&255});const ht=Ie?Ke+1:Ke,ut=Xe*(1+ht),it=new Uint8Array(ut);it.set(We.data.subarray(0,ut)),We.data=it;const gt=Ze.data,ft=gt.length,kt=new Uint8Array(ft);let wt,rt;const At=[];for(wt=0,rt=0;wt<Ke+1;wt++,rt+=Xe){let ct=Ve(it,rt);ct>ft&&(ct=ft),At.push({index:wt,offset:ct,endOffset:0})}for(At.sort((ct,bt)=>ct.offset-bt.offset),wt=0;wt<Ke;wt++)At[wt].endOffset=At[wt+1].offset;for(At.sort((ct,bt)=>ct.index-bt.index),wt=0;wt<Ke;wt++){const{offset:ct,endOffset:bt}=At[wt];if(ct!==0||bt!==0)break;const xt=At[wt+1].offset;if(xt!==0){At[wt].endOffset=xt;break}}const dt=Object.create(null);let yt=0;for(nt(it,0,yt),wt=0,rt=Xe;wt<Ke;wt++,rt+=Xe){const ct=me(gt,At[wt].offset,At[wt].endOffset,kt,yt,De),bt=ct.length;bt===0&&(dt[wt]=!0),ct.sizeOfInstructions>qe&&(qe=ct.sizeOfInstructions),yt+=bt,nt(it,rt,yt)}if(yt===0){const ct=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(wt=0,rt=Xe;wt<ht;wt++,rt+=Xe)nt(it,rt,ct.length);Ze.data=ct}else if(Ie){const ct=Ve(it,Xe);kt.length>ct+yt?Ze.data=kt.subarray(0,ct+yt):(Ze.data=new Uint8Array(ct+yt),Ze.data.set(kt.subarray(0,yt))),Ze.data.set(kt.subarray(0,ct),yt),nt(We.data,it.length-Xe,yt+ct)}else Ze.data=kt.subarray(0,yt);return{missingGlyphs:dt,maxSizeOfInstructions:qe}}(we.loca,we.glyf,Fe,Ue,et,Le,Re);st=Ge.missingGlyphs,ke>=65536&&we.maxp.length>=22&&(we.maxp.data[26]=Ge.maxSizeOfInstructions>>8,we.maxp.data[27]=255&Ge.maxSizeOfInstructions)}if(!we.hhea)throw new s.FormatError('Required "hhea" table is not found');we.hhea.data[10]===0&&we.hhea.data[11]===0&&(we.hhea.data[10]=255,we.hhea.data[11]=255);const Qe={unitsPerEm:L(we.head.data[18],we.head.data[19]),yMax:L(we.head.data[42],we.head.data[43]),yMin:J(we.head.data[38],we.head.data[39]),ascent:J(we.hhea.data[4],we.hhea.data[5]),descent:J(we.hhea.data[6],we.hhea.data[7]),lineGap:J(we.hhea.data[8],we.hhea.data[9])};this.ascent=Qe.ascent/Qe.unitsPerEm,this.descent=Qe.descent/Qe.unitsPerEm,this.lineGap=Qe.lineGap/Qe.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,we.post&&function(Ge,Ye,We){const Ze=(re.start||0)+Ge.offset;re.pos=Ze;const Ke=Ze+Ge.length,Oe=re.getInt32();re.skip(28);let De,Ie,qe=!0;switch(Oe){case 65536:De=m.MacStandardGlyphOrdering;break;case 131072:const Xe=re.getUint16();if(Xe!==We){qe=!1;break}const Ve=[];for(Ie=0;Ie<Xe;++Ie){const ut=re.getUint16();if(ut>=32768){qe=!1;break}Ve.push(ut)}if(!qe)break;const nt=[],ht=[];for(;re.pos<Ke;){const ut=re.getByte();for(ht.length=ut,Ie=0;Ie<ut;++Ie)ht[Ie]=String.fromCharCode(re.getByte());nt.push(ht.join(""))}for(De=[],Ie=0;Ie<Xe;++Ie){const ut=Ve[Ie];ut<258?De.push(m.MacStandardGlyphOrdering[ut]):De.push(nt[ut-258])}break;case 196608:break;default:(0,s.warn)("Unknown/unsupported post table version "+Oe),qe=!1,Ye.defaultEncoding&&(De=Ye.defaultEncoding)}return Ye.glyphNames=De,qe}(we.post,Q,Fe),we.post={tag:"post",data:ue(Q)};const ot=[];function Ne(Ue){return!st[Ue]}if(Q.composite){const Ue=Q.cidToGidMap||[],Ge=Ue.length===0;Q.cMap.forEach(function(Ye,We){if(typeof We=="string"&&(We=$(Ye,We,!0)),We>65535)throw new s.FormatError("Max size of CID is 65,535");let Ze=-1;Ge?Ze=We:Ue[We]!==void 0&&(Ze=Ue[We]),Ze>=0&&Ze<Fe&&Ne(Ze)&&(ot[Ye]=Ze)})}else{const Ue=function(Ie,qe,Xe,Ve){if(!Ie)return(0,s.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let nt,ht=(qe.start||0)+Ie.offset;qe.pos=ht,qe.skip(2);const ut=qe.getUint16();let it,gt=!1;for(let dt=0;dt<ut;dt++){const yt=qe.getUint16(),ct=qe.getUint16(),bt=qe.getInt32()>>>0;let xt=!1;if(!it||it.platformId!==yt||it.encodingId!==ct){if(yt!==0||ct!==0&&ct!==1&&ct!==3)if(yt===1&&ct===0)xt=!0;else if(yt!==3||ct!==1||!Ve&&it){if(Xe&&yt===3&&ct===0){xt=!0;let Ft=!0;if(dt<ut-1){const Lt=qe.peekBytes(2);L(Lt[0],Lt[1])<yt&&(Ft=!1)}Ft&&(gt=!0)}}else xt=!0,Xe||(gt=!0);else xt=!0;if(xt&&(it={platformId:yt,encodingId:ct,offset:bt}),gt)break}}if(it&&(qe.pos=ht+it.offset),!it||qe.peekByte()===-1)return(0,s.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const ft=qe.getUint16();let kt=!1;const wt=[];let rt,At;if(ft===0){for(qe.skip(4),rt=0;rt<256;rt++){const dt=qe.getByte();dt&&wt.push({charCode:rt,glyphId:dt})}kt=!0}else if(ft===2){qe.skip(4);const dt=[];let yt=0;for(let bt=0;bt<256;bt++){const xt=qe.getUint16()>>3;dt.push(xt),yt=Math.max(xt,yt)}const ct=[];for(let bt=0;bt<=yt;bt++)ct.push({firstCode:qe.getUint16(),entryCount:qe.getUint16(),idDelta:J(qe.getByte(),qe.getByte()),idRangePos:qe.pos+qe.getUint16()});for(let bt=0;bt<256;bt++)if(dt[bt]===0)qe.pos=ct[0].idRangePos+2*bt,At=qe.getUint16(),wt.push({charCode:bt,glyphId:At});else{const xt=ct[dt[bt]];for(rt=0;rt<xt.entryCount;rt++){const Ft=(bt<<8)+rt+xt.firstCode;qe.pos=xt.idRangePos+2*rt,At=qe.getUint16(),At!==0&&(At=(At+xt.idDelta)%65536),wt.push({charCode:Ft,glyphId:At})}}}else if(ft===4){qe.skip(4);const dt=qe.getUint16()>>1;qe.skip(6);const yt=[];let ct;for(ct=0;ct<dt;ct++)yt.push({end:qe.getUint16()});for(qe.skip(2),ct=0;ct<dt;ct++)yt[ct].start=qe.getUint16();for(ct=0;ct<dt;ct++)yt[ct].delta=qe.getUint16();let bt,xt=0;for(ct=0;ct<dt;ct++){nt=yt[ct];const Lt=qe.getUint16();Lt?(bt=(Lt>>1)-(dt-ct),nt.offsetIndex=bt,xt=Math.max(xt,bt+nt.end-nt.start+1)):nt.offsetIndex=-1}const Ft=[];for(rt=0;rt<xt;rt++)Ft.push(qe.getUint16());for(ct=0;ct<dt;ct++){nt=yt[ct],ht=nt.start;const Lt=nt.end,Be=nt.delta;for(bt=nt.offsetIndex,rt=ht;rt<=Lt;rt++)rt!==65535&&(At=bt<0?rt:Ft[bt+rt-ht],At=At+Be&65535,wt.push({charCode:rt,glyphId:At}))}}else if(ft===6){qe.skip(4);const dt=qe.getUint16(),yt=qe.getUint16();for(rt=0;rt<yt;rt++){At=qe.getUint16();const ct=dt+rt;wt.push({charCode:ct,glyphId:At})}}else{if(ft!==12)return(0,s.warn)("cmap table has unsupported format: "+ft),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};{qe.skip(10);const dt=qe.getInt32()>>>0;for(rt=0;rt<dt;rt++){const yt=qe.getInt32()>>>0,ct=qe.getInt32()>>>0;let bt=qe.getInt32()>>>0;for(let xt=yt;xt<=ct;xt++)wt.push({charCode:xt,glyphId:bt++})}}}wt.sort(function(dt,yt){return dt.charCode-yt.charCode});for(let dt=1;dt<wt.length;dt++)wt[dt-1].charCode===wt[dt].charCode&&(wt.splice(dt,1),dt--);return{platformId:it.platformId,encodingId:it.encodingId,mappings:wt,hasShortCmap:kt}}(we.cmap,re,this.isSymbolicFont,Q.hasEncoding),Ge=Ue.platformId,Ye=Ue.encodingId,We=Ue.mappings,Ze=We.length;let Ke=[],Oe=!1;if(!Q.hasEncoding||Q.baseEncodingName!=="MacRomanEncoding"&&Q.baseEncodingName!=="WinAnsiEncoding"||(Ke=(0,b.getEncoding)(Q.baseEncodingName)),Q.hasEncoding&&!this.isSymbolicFont&&(Ge===3&&Ye===1||Ge===1&&Ye===0)){const De=(0,t.getGlyphsUnicode)();for(let Ie=0;Ie<256;Ie++){let qe;if(qe=this.differences[Ie]!==void 0?this.differences[Ie]:Ke.length&&Ke[Ie]!==""?Ke[Ie]:b.StandardEncoding[Ie],!qe)continue;const Xe=(0,m.recoverGlyphName)(qe,De);let Ve;if(Ge===3&&Ye===1?Ve=De[Xe]:Ge===1&&Ye===0&&(Ve=b.MacRomanEncoding.indexOf(Xe)),Ve===void 0){if(!Q.glyphNames&&Q.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof w.IdentityToUnicodeMap)){const nt=this.toUnicode.get(Ie);nt&&(Ve=nt.codePointAt(0))}if(Ve===void 0)continue}for(let nt=0;nt<Ze;++nt)if(We[nt].charCode===Ve){ot[Ie]=We[nt].glyphId;break}}}else if(Ge===0){for(let De=0;De<Ze;++De)ot[We[De].charCode]=We[De].glyphId;Oe=!0}else for(let De=0;De<Ze;++De){let Ie=We[De].charCode;Ge===3&&Ie>=61440&&Ie<=61695&&(Ie&=255),ot[Ie]=We[De].glyphId}if(Q.glyphNames&&(Ke.length||this.differences.length))for(let De=0;De<256;++De){if(!Oe&&ot[De]!==void 0)continue;const Ie=this.differences[De]||Ke[De];if(!Ie)continue;const qe=Q.glyphNames.indexOf(Ie);qe>0&&Ne(qe)&&(ot[De]=qe)}}ot.length===0&&(ot[0]=0);let Me=je-1;if(Le||(Me=0),!Q.cssFontInfo){const Ue=X(ot,Ne,Me,this.toUnicode);this.toFontChar=Ue.toFontChar,we.cmap={tag:"cmap",data:ne(Ue.charCodeToGlyphId,Ue.toUnicodeExtraMap,je)},we["OS/2"]&&function(Ye,We){We.pos=(We.start||0)+Ye.offset;const Ze=We.getUint16();We.skip(60);const Ke=We.getUint16();return Ze<4&&768&Ke||We.getUint16()>We.getUint16()||(We.skip(6),We.getUint16()===0)?!1:(Ye.data[8]=Ye.data[9]=0,!0)}(we["OS/2"],re)||(we["OS/2"]={tag:"OS/2",data:oe(Q,Ue.charCodeToGlyphId,Qe)})}if(!_e)try{Se=new D.Stream(we["CFF "].data),ve=new g.CFFParser(Se,Q,m.SEAC_ANALYSIS_ENABLED).parse(),ve.duplicateFirstGlyph();const Ue=new g.CFFCompiler(ve);we["CFF "].data=Ue.compile()}catch{(0,s.warn)("Failed to compile font "+Q.loadedName)}if(we.name){const Ue=Ae(we.name);we.name.data=le(de,Ue),this.psName=Ue[0][6]||null}else we.name={tag:"name",data:le(this.name)};const Pe=new _.OpenTypeFileBuilder(Ce.version);for(const Ue in we)Pe.addTable(Ue,we[Ue].data);return Pe.toArray()}convert(de,re,Q){Q.fixedPitch=!1,Q.builtInEncoding&&function(_e,ke){if(_e.isInternalFont||ke===_e.defaultEncoding||_e.toUnicode instanceof w.IdentityToUnicodeMap)return;const Fe=[],je=(0,t.getGlyphsUnicode)();for(const Le in ke){if(_e.hasIncludedToUnicodeMap){if(_e.toUnicode.has(Le))continue}else if(_e.hasEncoding&&(_e.differences.length===0||_e.differences[Le]!==void 0))continue;const ze=ke[Le],Re=(0,p.getUnicodeForGlyph)(ze,je);Re!==-1&&(Fe[Le]=String.fromCharCode(Re))}Fe.length>0&&_e.toUnicode.amend(Fe)}(Q,Q.builtInEncoding);let ce=1;re instanceof v.CFFFont&&(ce=re.numGlyphs-1);const he=re.getGlyphMapping(Q);let ge=null,pe=he,me=null;Q.cssFontInfo||(ge=X(he,re.hasGlyphId.bind(re),ce,this.toUnicode),this.toFontChar=ge.toFontChar,pe=ge.charCodeToGlyphId,me=ge.toUnicodeExtraMap);const Ae=re.numGlyphs;function ye(Se,_e){let ke=null;for(const Fe in Se)_e===Se[Fe]&&(ke||(ke=[]),ke.push(0|Fe));return ke}function xe(Se,_e){for(const ke in Se)if(_e===Se[ke])return 0|ke;return ge.charCodeToGlyphId[ge.nextAvailableFontCharCode]=_e,ge.nextAvailableFontCharCode++}const Ce=re.seacs;if(ge&&m.SEAC_ANALYSIS_ENABLED&&Ce&&Ce.length){const Se=Q.fontMatrix||s.FONT_IDENTITY_MATRIX,_e=re.getCharset(),ke=Object.create(null);for(let Fe in Ce){Fe|=0;const je=Ce[Fe],Le=b.StandardEncoding[je[2]],ze=b.StandardEncoding[je[3]],Re=_e.indexOf(Le),et=_e.indexOf(ze);if(Re<0||et<0)continue;const st={x:je[0]*Se[0]+je[1]*Se[2]+Se[4],y:je[0]*Se[1]+je[1]*Se[3]+Se[5]},Qe=ye(he,Fe);if(Qe)for(let ot=0,Ne=Qe.length;ot<Ne;ot++){const Me=Qe[ot],Pe=ge.charCodeToGlyphId,Ue=xe(Pe,Re),Ge=xe(Pe,et);ke[Me]={baseFontCharCode:Ue,accentFontCharCode:Ge,accentOffset:st}}}Q.seacMap=ke}const we=1/(Q.fontMatrix||s.FONT_IDENTITY_MATRIX)[0],ve=new _.OpenTypeFileBuilder("OTTO");return ve.addTable("CFF ",re.data),ve.addTable("OS/2",oe(Q,pe)),ve.addTable("cmap",ne(pe,me,Ae)),ve.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+q(we)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+q(Q.descent)+"ÿ"+q(Q.ascent)+Y(Q.italicAngle?2:0)+"\0\0\0\0\0\0\0"),ve.addTable("hhea","\0\0\0"+q(Q.ascent)+q(Q.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+q(Q.capHeight)+q(Math.tan(Q.italicAngle)*Q.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+Y(Ae)),ve.addTable("hmtx",function(){const _e=re.charstrings,ke=re.cff?re.cff.widths:null;let Fe="\0\0\0\0";for(let je=1,Le=Ae;je<Le;je++){let ze=0;if(_e){const Re=_e[je-1];ze="width"in Re?Re.width:0}else ke&&(ze=Math.ceil(ke[je]||0));Fe+=Y(ze)+Y(0)}return Fe}()),ve.addTable("maxp","\0\0P\0"+Y(Ae)),ve.addTable("name",le(de)),ve.addTable("post",ue(Q)),ve.toArray()}get spaceWidth(){const de=["space","minus","one","i","I"];let re;for(let Q=0,ce=de.length;Q<ce;Q++){const he=de[Q];if(he in this.widths){re=this.widths[he];break}const ge=(0,t.getGlyphsUnicode)()[he];let pe=0;if(this.composite&&this.cMap.contains(ge)&&(pe=this.cMap.lookup(ge),typeof pe=="string"&&(pe=$(ge,pe))),!pe&&this.toUnicode&&(pe=this.toUnicode.charCodeOf(ge)),pe<=0&&(pe=ge),re=this.widths[pe],re)break}return re=re||this.defaultWidth,(0,s.shadow)(this,"spaceWidth",re)}_charToGlyph(de,re=!1){let Q,ce,he,ge=de;this.cMap&&this.cMap.contains(de)&&(ge=this.cMap.lookup(de),typeof ge=="string"&&(ge=$(de,ge))),ce=this.widths[ge],typeof ce!="number"&&(ce=this.defaultWidth);const pe=this.vmetrics&&this.vmetrics[ge];let me=this.toUnicode.get(de)||de;typeof me=="number"&&(me=String.fromCharCode(me));let Ae=this.toFontChar[de]!==void 0;if(Q=this.toFontChar[de]||de,this.missingFile){const we=this.differences[de]||this.defaultEncoding[de];we!==".notdef"&&we!==""||this.type!=="Type1"||(Q=32),Q=(0,p.mapSpecialUnicodeValues)(Q)}this.isType3Font&&(he=Q);let ye=null;if(this.seacMap&&this.seacMap[de]){Ae=!0;const we=this.seacMap[de];Q=we.baseFontCharCode,ye={fontChar:String.fromCodePoint(we.accentFontCharCode),offset:we.accentOffset}}let xe="";typeof Q=="number"&&(Q<=1114111?xe=String.fromCodePoint(Q):(0,s.warn)(`charToGlyph - invalid fontCharCode: ${Q}`));let Ce=this._glyphCache[de];return(!Ce||!Ce.matchesForCache(de,xe,me,ye,ce,pe,he,re,Ae))&&(Ce=new E(de,xe,me,ye,ce,pe,he,re,Ae),this._glyphCache[de]=Ce),Ce}charsToGlyphs(de){let re=this._charsCache[de];if(re)return re;if(re=[],this.cMap){const Q=Object.create(null),ce=de.length;let he=0;for(;he<ce;){this.cMap.readCharCode(de,he,Q);const{charcode:ge,length:pe}=Q;he+=pe;const me=this._charToGlyph(ge,pe===1&&de.charCodeAt(he-1)===32);re.push(me)}}else for(let Q=0,ce=de.length;Q<ce;++Q){const he=de.charCodeAt(Q),ge=this._charToGlyph(he,he===32);re.push(ge)}return this._charsCache[de]=re}getCharPositions(de){const re=[];if(this.cMap){const Q=Object.create(null);let ce=0;for(;ce<de.length;){this.cMap.readCharCode(de,ce,Q);const he=Q.length;re.push([ce,ce+he]),ce+=he}}else for(let Q=0,ce=de.length;Q<ce;++Q)re.push([Q,Q+1]);return re}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(de){const re=[],Q=[],ce=()=>re.length%2==1,he=this.toUnicode instanceof w.IdentityToUnicodeMap?ge=>this.toUnicode.charCodeOf(ge):ge=>this.toUnicode.charCodeOf(String.fromCodePoint(ge));for(let ge=0,pe=de.length;ge<pe;ge++){const me=de.codePointAt(ge);if(me>55295&&(me<57344||me>65533)&&ge++,this.toUnicode){const Ae=he(me);if(Ae!==-1){ce()&&(re.push(Q.join("")),Q.length=0);for(let ye=(this.cMap?this.cMap.getCharCodeLength(Ae):1)-1;ye>=0;ye--)Q.push(String.fromCharCode(Ae>>8*ye&255));continue}}ce()||(re.push(Q.join("")),Q.length=0),Q.push(String.fromCodePoint(me))}return re.push(Q.join("")),re}},o.ErrorFont=class{constructor(de){this.error=de,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(de){return[de]}exportData(de=!1){return{error:this.error}}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CFFTopDict=o.CFFStrings=o.CFFStandardStrings=o.CFFPrivateDict=o.CFFParser=o.CFFIndex=o.CFFHeader=o.CFFFDSelect=o.CFFCompiler=o.CFFCharset=o.CFF=void 0;var s=f(2),g=f(36),m=f(37);const p=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];o.CFFStandardStrings=p;const t=391,b=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],C=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(ie,E){ie[E-2]=ie[E-2]+ie[E-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(ie,E){ie[E-2]=ie[E-2]-ie[E-1]}},{id:"div",min:2,stackDelta:-1,stackFn(ie,E){ie[E-2]=ie[E-2]/ie[E-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(ie,E){ie[E-1]=-ie[E-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(ie,E){ie[E-2]=ie[E-2]*ie[E-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];o.CFFParser=class{constructor(E,L,ee){this.bytes=E.getBytes(),this.properties=L,this.seacAnalysisEnabled=!!ee}parse(){const E=this.properties,L=new w;this.cff=L;const ee=this.parseHeader(),J=this.parseIndex(ee.endPos),Y=this.parseIndex(J.endPos),q=this.parseIndex(Y.endPos),F=this.parseIndex(q.endPos),O=this.parseDict(Y.obj.get(0)),Z=this.createDict(_,O,L.strings);L.header=ee.obj,L.names=this.parseNameIndex(J.obj),L.strings=this.parseStringIndex(q.obj),L.topDict=Z,L.globalSubrIndex=F.obj,this.parsePrivateDict(L.topDict),L.isCIDFont=Z.hasName("ROS");const se=Z.getByName("CharStrings"),$=this.parseIndex(se).obj,X=Z.getByName("FontMatrix");X&&(E.fontMatrix=X);const ne=Z.getByName("FontBBox");ne&&(E.ascent=Math.max(ne[3],ne[1]),E.descent=Math.min(ne[1],ne[3]),E.ascentScaled=!0);let oe,ue;if(L.isCIDFont){const le=this.parseIndex(Z.getByName("FDArray")).obj;for(let ae=0,de=le.count;ae<de;++ae){const re=le.get(ae),Q=this.createDict(_,this.parseDict(re),L.strings);this.parsePrivateDict(Q),L.fdArray.push(Q)}ue=null,oe=this.parseCharsets(Z.getByName("charset"),$.count,L.strings,!0),L.fdSelect=this.parseFDSelect(Z.getByName("FDSelect"),$.count)}else oe=this.parseCharsets(Z.getByName("charset"),$.count,L.strings,!1),ue=this.parseEncoding(Z.getByName("Encoding"),E,L.strings,oe.charset);L.charset=oe,L.encoding=ue;const fe=this.parseCharStrings({charStrings:$,localSubrIndex:Z.privateDict.subrsIndex,globalSubrIndex:F.obj,fdSelect:L.fdSelect,fdArray:L.fdArray,privateDict:Z.privateDict});return L.charStrings=fe.charStrings,L.seacs=fe.seacs,L.widths=fe.widths,L}parseHeader(){let E=this.bytes;const L=E.length;let ee=0;for(;ee<L&&E[ee]!==1;)++ee;if(ee>=L)throw new s.FormatError("Invalid CFF header");ee!==0&&((0,s.info)("cff data is shifted"),E=E.subarray(ee),this.bytes=E);const J=E[0],Y=E[1],q=E[2],F=E[3];return{obj:new v(J,Y,q,F),endPos:q}}parseDict(E){let L=0;function ee(){let F=E[L++];return F===30?function(){let Z="";const $=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],X=E.length;for(;L<X;){const ne=E[L++],oe=ne>>4,ue=15&ne;if(oe===15||(Z+=$[oe],ue===15))break;Z+=$[ue]}return parseFloat(Z)}():F===28?(F=E[L++],F=(F<<24|E[L++]<<16)>>16,F):F===29?(F=E[L++],F=F<<8|E[L++],F=F<<8|E[L++],F=F<<8|E[L++],F):F>=32&&F<=246?F-139:F>=247&&F<=250?256*(F-247)+E[L++]+108:F>=251&&F<=254?-256*(F-251)-E[L++]-108:((0,s.warn)('CFFParser_parseDict: "'+F+'" is a reserved command.'),NaN)}let J=[];const Y=[];L=0;const q=E.length;for(;L<q;){let F=E[L];F<=21?(F===12&&(F=F<<8|E[++L]),Y.push([F,J]),J=[],++L):J.push(ee())}return Y}parseIndex(E){const L=new y,ee=this.bytes,J=ee[E++]<<8|ee[E++],Y=[];let q,F,O=E;if(J!==0){const Z=ee[E++],se=E+(J+1)*Z-1;for(q=0,F=J+1;q<F;++q){let $=0;for(let X=0;X<Z;++X)$<<=8,$+=ee[E++];Y.push(se+$)}O=Y[J]}for(q=0,F=Y.length-1;q<F;++q){const Z=Y[q],se=Y[q+1];L.add(ee.subarray(Z,se))}return{obj:L,endPos:O}}parseNameIndex(E){const L=[];for(let ee=0,J=E.count;ee<J;++ee){const Y=E.get(ee);L.push((0,s.bytesToString)(Y))}return L}parseStringIndex(E){const L=new M;for(let ee=0,J=E.count;ee<J;++ee){const Y=E.get(ee);L.add((0,s.bytesToString)(Y))}return L}createDict(E,L,ee){const J=new E(ee);for(let Y=0,q=L.length;Y<q;++Y){const F=L[Y],O=F[0],Z=F[1];J.setByKey(O,Z)}return J}parseCharString(E,L,ee,J){if(!L||E.callDepth>10)return!1;let Y=E.stackSize;const q=E.stack,F=L.length;for(let O=0;O<F;){const Z=L[O++];let se=null;if(Z===12){const $=L[O++];$===0?(L[O-2]=139,L[O-1]=22,Y=0):se=C[$]}else if(Z===28)q[Y]=(L[O]<<24|L[O+1]<<16)>>16,O+=2,Y++;else if(Z===14){if(Y>=4&&(Y-=4,this.seacAnalysisEnabled))return E.seac=q.slice(Y,Y+4),!1;se=b[Z]}else if(Z>=32&&Z<=246)q[Y]=Z-139,Y++;else if(Z>=247&&Z<=254)q[Y]=Z<251?(Z-247<<8)+L[O]+108:-(Z-251<<8)-L[O]-108,O++,Y++;else if(Z===255)q[Y]=(L[O]<<24|L[O+1]<<16|L[O+2]<<8|L[O+3])/65536,O+=4,Y++;else if(Z===19||Z===20)E.hints+=Y>>1,O+=E.hints+7>>3,Y%=2,se=b[Z];else{if(Z===10||Z===29){let $;if($=Z===10?ee:J,!$)return se=b[Z],(0,s.warn)("Missing subrsIndex for "+se.id),!1;let X=32768;$.count<1240?X=107:$.count<33900&&(X=1131);const ne=q[--Y]+X;if(ne<0||ne>=$.count||isNaN(ne))return se=b[Z],(0,s.warn)("Out of bounds subrIndex for "+se.id),!1;if(E.stackSize=Y,E.callDepth++,!this.parseCharString(E,$.get(ne),ee,J))return!1;E.callDepth--,Y=E.stackSize;continue}if(Z===11)return E.stackSize=Y,!0;Z===0&&O===L.length?(L[O-1]=14,se=b[14]):se=b[Z]}if(se){if(se.stem&&(E.hints+=Y>>1,Z===3||Z===23?E.hasVStems=!0:E.hasVStems&&(Z===1||Z===18)&&((0,s.warn)("CFF stem hints are in wrong order"),L[O-1]=Z===1?3:23)),"min"in se&&!E.undefStack&&Y<se.min)return(0,s.warn)("Not enough parameters for "+se.id+"; actual: "+Y+", expected: "+se.min),Y===0?(L[O-1]=14,!0):!1;E.firstStackClearing&&se.stackClearing&&(E.firstStackClearing=!1,Y-=se.min,Y>=2&&se.stem?Y%=2:Y>1&&(0,s.warn)("Found too many parameters for stack-clearing command"),Y>0&&(E.width=q[Y-1])),"stackDelta"in se?("stackFn"in se&&se.stackFn(q,Y),Y+=se.stackDelta):se.stackClearing?Y=0:se.resetStack?(Y=0,E.undefStack=!1):se.undefStack&&(Y=0,E.undefStack=!0,E.firstStackClearing=!1)}}return E.stackSize=Y,!0}parseCharStrings({charStrings:E,localSubrIndex:L,globalSubrIndex:ee,fdSelect:J,fdArray:Y,privateDict:q}){const F=[],O=[],Z=E.count;for(let se=0;se<Z;se++){const $=E.get(se),X={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let ne=!0,oe=null,ue=q;if(J&&Y.length){const fe=J.getFDIndex(se);fe===-1&&((0,s.warn)("Glyph index is not in fd select."),ne=!1),fe>=Y.length&&((0,s.warn)("Invalid fd index for glyph index."),ne=!1),ne&&(ue=Y[fe].privateDict,oe=ue.subrsIndex)}else L&&(oe=L);if(ne&&(ne=this.parseCharString(X,$,oe,ee)),X.width!==null){const fe=ue.getByName("nominalWidthX");O[se]=fe+X.width}else{const fe=ue.getByName("defaultWidthX");O[se]=fe}X.seac!==null&&(F[se]=X.seac),ne||E.set(se,new Uint8Array([14]))}return{charStrings:E,seacs:F,widths:O}}emptyPrivateDictionary(E){const L=this.createDict(D,[],E.strings);E.setByKey(18,[0,0]),E.privateDict=L}parsePrivateDict(E){if(!E.hasName("Private")){this.emptyPrivateDictionary(E);return}const L=E.getByName("Private");if(!Array.isArray(L)||L.length!==2){E.removeByName("Private");return}const ee=L[0],J=L[1];if(ee===0||J>=this.bytes.length){this.emptyPrivateDictionary(E);return}const Y=J+ee,q=this.bytes.subarray(J,Y),F=this.parseDict(q),O=this.createDict(D,F,E.strings);if(E.privateDict=O,!O.getByName("Subrs"))return;const Z=O.getByName("Subrs"),se=J+Z;if(Z===0||se>=this.bytes.length){this.emptyPrivateDictionary(E);return}const $=this.parseIndex(se);O.subrsIndex=$.obj}parseCharsets(E,L,ee,J){if(E===0)return new R(!0,V.ISO_ADOBE,g.ISOAdobeCharset);if(E===1)return new R(!0,V.EXPERT,g.ExpertCharset);if(E===2)return new R(!0,V.EXPERT_SUBSET,g.ExpertSubsetCharset);const Y=this.bytes,q=E,F=Y[E++],O=[J?0:".notdef"];let Z,se,$;switch(L-=1,F){case 0:for($=0;$<L;$++)Z=Y[E++]<<8|Y[E++],O.push(J?Z:ee.get(Z));break;case 1:for(;O.length<=L;)for(Z=Y[E++]<<8|Y[E++],se=Y[E++],$=0;$<=se;$++)O.push(J?Z++:ee.get(Z++));break;case 2:for(;O.length<=L;)for(Z=Y[E++]<<8|Y[E++],se=Y[E++]<<8|Y[E++],$=0;$<=se;$++)O.push(J?Z++:ee.get(Z++));break;default:throw new s.FormatError("Unknown charset format")}const X=E,ne=Y.subarray(q,X);return new R(!1,F,O,ne)}parseEncoding(E,L,ee,J){const Y=Object.create(null),q=this.bytes;let F,O,Z,se=!1,$=null;if(E===0||E===1){se=!0,F=E;const X=E?m.ExpertEncoding:m.StandardEncoding;for(O=0,Z=J.length;O<Z;O++){const ne=X.indexOf(J[O]);ne!==-1&&(Y[ne]=O)}}else{const X=E;switch(F=q[E++],127&F){case 0:const oe=q[E++];for(O=1;O<=oe;O++)Y[q[E++]]=O;break;case 1:const ue=q[E++];let fe=1;for(O=0;O<ue;O++){const le=q[E++],ae=q[E++];for(let de=le;de<=le+ae;de++)Y[de]=fe++}break;default:throw new s.FormatError(`Unknown encoding format: ${F} in CFF`)}const ne=E;128&F&&(q[X]&=127,function(){const ue=q[E++];for(O=0;O<ue;O++){const fe=q[E++],le=(q[E++]<<8)+(255&q[E++]);Y[fe]=J.indexOf(ee.get(le))}}()),$=q.subarray(X,ne)}return F&=127,new U(se,F,Y,$)}parseFDSelect(E,L){const ee=this.bytes,J=ee[E++],Y=[];let q;switch(J){case 0:for(q=0;q<L;++q){const O=ee[E++];Y.push(O)}break;case 3:const F=ee[E++]<<8|ee[E++];for(q=0;q<F;++q){let O=ee[E++]<<8|ee[E++];q===0&&O!==0&&((0,s.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),O=0);const Z=ee[E++],se=ee[E]<<8|ee[E+1];for(let $=O;$<se;++$)Y.push(Z)}E+=2;break;default:throw new s.FormatError(`parseFDSelect: Unknown format "${J}".`)}if(Y.length!==L)throw new s.FormatError("parseFDSelect: Invalid font data.");return new te(J,Y)}};class w{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new M,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,s.warn)("Not enough space in charstrings to duplicate first glyph.");return}const E=this.charStrings.get(0);this.charStrings.add(E),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(E){return E<0||E>=this.charStrings.count?!1:this.charStrings.get(E).length>0}}o.CFF=w;class v{constructor(E,L,ee,J){this.major=E,this.minor=L,this.hdrSize=ee,this.offSize=J}}o.CFFHeader=v;class M{constructor(){this.strings=[]}get(E){return E>=0&&E<=390?p[E]:E-t<=this.strings.length?this.strings[E-t]:p[0]}getSID(E){let L=p.indexOf(E);return L!==-1?L:(L=this.strings.indexOf(E),L!==-1?L+t:-1)}add(E){this.strings.push(E)}get count(){return this.strings.length}}o.CFFStrings=M;class y{constructor(){this.objects=[],this.length=0}add(E){this.length+=E.length,this.objects.push(E)}set(E,L){this.length+=L.length-this.objects[E].length,this.objects[E]=L}get(E){return this.objects[E]}get count(){return this.objects.length}}o.CFFIndex=y;class I{constructor(E,L){this.keyToNameMap=E.keyToNameMap,this.nameToKeyMap=E.nameToKeyMap,this.defaults=E.defaults,this.types=E.types,this.opcodes=E.opcodes,this.order=E.order,this.strings=L,this.values=Object.create(null)}setByKey(E,L){if(!(E in this.keyToNameMap))return!1;const ee=L.length;if(ee===0)return!0;for(let Y=0;Y<ee;Y++)if(isNaN(L[Y]))return(0,s.warn)('Invalid CFFDict value: "'+L+'" for key "'+E+'".'),!0;const J=this.types[E];return J!=="num"&&J!=="sid"&&J!=="offset"||(L=L[0]),this.values[E]=L,!0}setByName(E,L){if(!(E in this.nameToKeyMap))throw new s.FormatError(`Invalid dictionary name "${E}"`);this.values[this.nameToKeyMap[E]]=L}hasName(E){return this.nameToKeyMap[E]in this.values}getByName(E){if(!(E in this.nameToKeyMap))throw new s.FormatError(`Invalid dictionary name ${E}"`);const L=this.nameToKeyMap[E];return L in this.values?this.values[L]:this.defaults[L]}removeByName(E){delete this.values[this.nameToKeyMap[E]]}static createTables(E){const L={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let ee=0,J=E.length;ee<J;++ee){const Y=E[ee],q=Array.isArray(Y[0])?(Y[0][0]<<8)+Y[0][1]:Y[0];L.keyToNameMap[q]=Y[1],L.nameToKeyMap[Y[1]]=q,L.types[q]=Y[2],L.defaults[q]=Y[3],L.opcodes[q]=Array.isArray(Y[0])?Y[0]:[Y[0]],L.order.push(q)}return L}}const P=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class _ extends I{static get tables(){return(0,s.shadow)(this,"tables",this.createTables(P))}constructor(E){super(_.tables,E),this.privateDict=null}}o.CFFTopDict=_;const k=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class D extends I{static get tables(){return(0,s.shadow)(this,"tables",this.createTables(k))}constructor(E){super(D.tables,E),this.subrsIndex=null}}o.CFFPrivateDict=D;const V={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class R{constructor(E,L,ee,J){this.predefined=E,this.format=L,this.charset=ee,this.raw=J}}o.CFFCharset=R;class U{constructor(E,L,ee,J){this.predefined=E,this.format=L,this.encoding=ee,this.raw=J}}class te{constructor(E,L){this.format=E,this.fdSelect=L}getFDIndex(E){return E<0||E>=this.fdSelect.length?-1:this.fdSelect[E]}}o.CFFFDSelect=te;class B{constructor(){this.offsets=Object.create(null)}isTracking(E){return E in this.offsets}track(E,L){if(E in this.offsets)throw new s.FormatError(`Already tracking location of ${E}`);this.offsets[E]=L}offset(E){for(const L in this.offsets)this.offsets[L]+=E}setEntryLocation(E,L,ee){if(!(E in this.offsets))throw new s.FormatError(`Not tracking location of ${E}`);const J=ee.data,Y=this.offsets[E];for(let q=0,F=L.length;q<F;++q){const O=5*q+Y,Z=O+1,se=O+2,$=O+3,X=O+4;if(J[O]!==29||J[Z]!==0||J[se]!==0||J[$]!==0||J[X]!==0)throw new s.FormatError("writing to an offset that is not empty");const ne=L[q];J[O]=29,J[Z]=ne>>24&255,J[se]=ne>>16&255,J[$]=ne>>8&255,J[X]=255&ne}}}class j{constructor(E){this.cff=E}compile(){const E=this.cff,L={data:[],length:0,add(X){this.data=this.data.concat(X),this.length=this.data.length}},ee=this.compileHeader(E.header);L.add(ee);const J=this.compileNameIndex(E.names);if(L.add(J),E.isCIDFont&&E.topDict.hasName("FontMatrix")){const X=E.topDict.getByName("FontMatrix");E.topDict.removeByName("FontMatrix");for(let ne=0,oe=E.fdArray.length;ne<oe;ne++){const ue=E.fdArray[ne];let fe=X.slice(0);ue.hasName("FontMatrix")&&(fe=s.Util.transform(fe,ue.getByName("FontMatrix"))),ue.setByName("FontMatrix",fe)}}const Y=E.topDict.getByName("XUID");Y&&Y.length>16&&E.topDict.removeByName("XUID"),E.topDict.setByName("charset",0);let q=this.compileTopDicts([E.topDict],L.length,E.isCIDFont);L.add(q.output);const F=q.trackers[0],O=this.compileStringIndex(E.strings.strings);L.add(O);const Z=this.compileIndex(E.globalSubrIndex);if(L.add(Z),E.encoding&&E.topDict.hasName("Encoding"))if(E.encoding.predefined)F.setEntryLocation("Encoding",[E.encoding.format],L);else{const X=this.compileEncoding(E.encoding);F.setEntryLocation("Encoding",[L.length],L),L.add(X)}const se=this.compileCharset(E.charset,E.charStrings.count,E.strings,E.isCIDFont);F.setEntryLocation("charset",[L.length],L),L.add(se);const $=this.compileCharStrings(E.charStrings);if(F.setEntryLocation("CharStrings",[L.length],L),L.add($),E.isCIDFont){F.setEntryLocation("FDSelect",[L.length],L);const X=this.compileFDSelect(E.fdSelect);L.add(X),q=this.compileTopDicts(E.fdArray,L.length,!0),F.setEntryLocation("FDArray",[L.length],L),L.add(q.output);const ne=q.trackers;this.compilePrivateDicts(E.fdArray,ne,L)}return this.compilePrivateDicts([E.topDict],[F],L),L.add([0]),L.data}encodeNumber(E){return Number.isInteger(E)?this.encodeInteger(E):this.encodeFloat(E)}static get EncodeFloatRegExp(){return(0,s.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(E){let L=E.toString();const ee=j.EncodeFloatRegExp.exec(L);if(ee){const O=parseFloat("1e"+((ee[2]?+ee[2]:0)+ee[1].length));L=(Math.round(E*O)/O).toString()}let J,Y,q="";for(J=0,Y=L.length;J<Y;++J){const O=L[J];q+=O==="e"?L[++J]==="-"?"c":"b":O==="."?"a":O==="-"?"e":O}q+=1&q.length?"f":"ff";const F=[30];for(J=0,Y=q.length;J<Y;J+=2)F.push(parseInt(q.substring(J,J+2),16));return F}encodeInteger(E){let L;return L=E>=-107&&E<=107?[E+139]:E>=108&&E<=1131?[247+((E-=108)>>8),255&E]:E>=-1131&&E<=-108?[251+((E=-E-108)>>8),255&E]:E>=-32768&&E<=32767?[28,E>>8&255,255&E]:[29,E>>24&255,E>>16&255,E>>8&255,255&E],L}compileHeader(E){return[E.major,E.minor,4,E.offSize]}compileNameIndex(E){const L=new y;for(let ee=0,J=E.length;ee<J;++ee){const Y=E[ee],q=Math.min(Y.length,127);let F=new Array(q);for(let O=0;O<q;O++){let Z=Y[O];(Z<"!"||Z>"~"||Z==="["||Z==="]"||Z==="("||Z===")"||Z==="{"||Z==="}"||Z==="<"||Z===">"||Z==="/"||Z==="%")&&(Z="_"),F[O]=Z}F=F.join(""),F===""&&(F="Bad_Font_Name"),L.add((0,s.stringToBytes)(F))}return this.compileIndex(L)}compileTopDicts(E,L,ee){const J=[];let Y=new y;for(let q=0,F=E.length;q<F;++q){const O=E[q];ee&&(O.removeByName("CIDFontVersion"),O.removeByName("CIDFontRevision"),O.removeByName("CIDFontType"),O.removeByName("CIDCount"),O.removeByName("UIDBase"));const Z=new B,se=this.compileDict(O,Z);J.push(Z),Y.add(se),Z.offset(L)}return Y=this.compileIndex(Y,J),{trackers:J,output:Y}}compilePrivateDicts(E,L,ee){for(let J=0,Y=E.length;J<Y;++J){const q=E[J],F=q.privateDict;if(!F||!q.hasName("Private"))throw new s.FormatError("There must be a private dictionary.");const O=new B,Z=this.compileDict(F,O);let se=ee.length;if(O.offset(se),Z.length||(se=0),L[J].setEntryLocation("Private",[Z.length,se],ee),ee.add(Z),F.subrsIndex&&F.hasName("Subrs")){const $=this.compileIndex(F.subrsIndex);O.setEntryLocation("Subrs",[Z.length],ee),ee.add($)}}}compileDict(E,L){const ee=[];for(const J of E.order){if(!(J in E.values))continue;let Y=E.values[J],q=E.types[J];if(Array.isArray(q)||(q=[q]),Array.isArray(Y)||(Y=[Y]),Y.length!==0){for(let F=0,O=q.length;F<O;++F){const Z=q[F],se=Y[F];switch(Z){case"num":case"sid":ee.push(...this.encodeNumber(se));break;case"offset":const $=E.keyToNameMap[J];L.isTracking($)||L.track($,ee.length),ee.push(29,0,0,0,0);break;case"array":case"delta":ee.push(...this.encodeNumber(se));for(let X=1,ne=Y.length;X<ne;++X)ee.push(...this.encodeNumber(Y[X]));break;default:throw new s.FormatError(`Unknown data type of ${Z}`)}}ee.push(...E.opcodes[J])}}return ee}compileStringIndex(E){const L=new y;for(let ee=0,J=E.length;ee<J;++ee)L.add((0,s.stringToBytes)(E[ee]));return this.compileIndex(L)}compileGlobalSubrIndex(){const E=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(E))}compileCharStrings(E){const L=new y;for(let ee=0;ee<E.count;ee++){const J=E.get(ee);J.length!==0?L.add(J):L.add(new Uint8Array([139,14]))}return this.compileIndex(L)}compileCharset(E,L,ee,J){let Y;const q=L-1;if(J)Y=new Uint8Array([2,0,0,q>>8&255,255&q]);else{Y=new Uint8Array(1+2*q),Y[0]=0;let F=0;const O=E.charset.length;let Z=!1;for(let se=1;se<Y.length;se+=2){let $=0;if(F<O){const X=E.charset[F++];$=ee.getSID(X),$===-1&&($=0,Z||(Z=!0,(0,s.warn)(`Couldn't find ${X} in CFF strings`)))}Y[se]=$>>8&255,Y[se+1]=255&$}}return this.compileTypedArray(Y)}compileEncoding(E){return this.compileTypedArray(E.raw)}compileFDSelect(E){const L=E.format;let ee,J;switch(L){case 0:for(ee=new Uint8Array(1+E.fdSelect.length),ee[0]=L,J=0;J<E.fdSelect.length;J++)ee[J+1]=E.fdSelect[J];break;case 3:const Y=0;let q=E.fdSelect[0];const F=[L,0,0,Y>>8&255,255&Y,q];for(J=1;J<E.fdSelect.length;J++){const Z=E.fdSelect[J];Z!==q&&(F.push(J>>8&255,255&J,Z),q=Z)}const O=(F.length-3)/3;F[1]=O>>8&255,F[2]=255&O,F.push(J>>8&255,255&J),ee=new Uint8Array(F)}return this.compileTypedArray(ee)}compileTypedArray(E){const L=[];for(let ee=0,J=E.length;ee<J;++ee)L[ee]=E[ee];return L}compileIndex(E,L=[]){const ee=E.objects,J=ee.length;if(J===0)return[0,0];const Y=[J>>8&255,255&J];let q,F,O=1;for(q=0;q<J;++q)O+=ee[q].length;F=O<256?1:O<65536?2:O<16777216?3:4,Y.push(F);let Z=1;for(q=0;q<J+1;q++)F===1?Y.push(255&Z):F===2?Y.push(Z>>8&255,255&Z):F===3?Y.push(Z>>16&255,Z>>8&255,255&Z):Y.push(Z>>>24&255,Z>>16&255,Z>>8&255,255&Z),ee[q]&&(Z+=ee[q].length);for(q=0;q<J;q++){L[q]&&L[q].offset(Y.length);for(let se=0,$=ee[q].length;se<$;se++)Y.push(ee[q][se])}return Y}}o.CFFCompiler=j},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ISOAdobeCharset=o.ExpertSubsetCharset=o.ExpertCharset=void 0,o.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],o.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],o.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ZapfDingbatsEncoding=o.WinAnsiEncoding=o.SymbolSetEncoding=o.StandardEncoding=o.MacRomanEncoding=o.ExpertEncoding=void 0,o.getEncoding=function(w){switch(w){case"WinAnsiEncoding":return p;case"StandardEncoding":return m;case"MacRomanEncoding":return g;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return b;case"ExpertEncoding":return f;case"MacExpertEncoding":return s;default:return null}};const f=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];o.ExpertEncoding=f;const s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],g=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];o.MacRomanEncoding=g;const m=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];o.StandardEncoding=m;const p=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];o.WinAnsiEncoding=p;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];o.SymbolSetEncoding=t;const b=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];o.ZapfDingbatsEncoding=b},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SEAC_ANALYSIS_ENABLED=o.MacStandardGlyphOrdering=o.FontFlags=void 0,o.getFontType=function(w,v,M=!1){switch(w){case"Type1":return M?s.FontType.TYPE1STANDARD:v==="Type1C"?s.FontType.TYPE1C:s.FontType.TYPE1;case"CIDFontType0":return v==="CIDFontType0C"?s.FontType.CIDFONTTYPE0C:s.FontType.CIDFONTTYPE0;case"OpenType":return s.FontType.OPENTYPE;case"TrueType":return s.FontType.TRUETYPE;case"CIDFontType2":return s.FontType.CIDFONTTYPE2;case"MMType1":return s.FontType.MMTYPE1;case"Type0":return s.FontType.TYPE0;default:return s.FontType.UNKNOWN}},o.normalizeFontName=function(w){return w.replace(/[,_]/g,"-").replace(/\s/g,"")},o.recoverGlyphName=b,o.type1FontGlyphMapping=function(w,v,M){const y=Object.create(null);let I,P,_;const k=!!(w.flags&t.Symbolic);if(w.isInternalFont)for(_=v,P=0;P<_.length;P++)I=M.indexOf(_[P]),y[P]=I>=0?I:0;else if(w.baseEncodingName)for(_=(0,g.getEncoding)(w.baseEncodingName),P=0;P<_.length;P++)I=M.indexOf(_[P]),y[P]=I>=0?I:0;else if(k)for(P in v)y[P]=v[P];else for(_=g.StandardEncoding,P=0;P<_.length;P++)I=M.indexOf(_[P]),y[P]=I>=0?I:0;const D=w.differences;let V;if(D)for(P in D){const R=D[P];if(I=M.indexOf(R),I===-1){V||(V=(0,m.getGlyphsUnicode)());const U=b(R,V);U!==R&&(I=M.indexOf(U))}y[P]=I>=0?I:0}return y};var s=f(2),g=f(37),m=f(39),p=f(40);o.SEAC_ANALYSIS_ENABLED=!0;const t={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};o.FontFlags=t,o.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function b(C,w){if(w[C]!==void 0)return C;const v=(0,p.getUnicodeForGlyph)(C,w);if(v!==-1){for(const M in w)if(w[M]===v)return M}return(0,s.info)("Unable to recover a standard glyph name for: "+C),C}},(c,o,f)=>{f.r(o),f.d(o,{getDingbatsGlyphsUnicode:()=>m,getGlyphsUnicode:()=>g});var s=f(6);const g=(0,s.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),m=(0,s.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(c,o,f)=>{f.r(o),f.d(o,{clearUnicodeCaches:()=>I,getCharUnicodeCategory:()=>y,getNormalizedUnicodes:()=>C,getUnicodeForGlyph:()=>p,getUnicodeRangeFor:()=>b,mapSpecialUnicodeValues:()=>m,reverseIfRtl:()=>w});var s=f(6);const g=(0,s.getLookupTableFactory)(function(P){P[63721]=169,P[63193]=169,P[63720]=174,P[63194]=174,P[63722]=8482,P[63195]=8482,P[63729]=9127,P[63730]=9128,P[63731]=9129,P[63740]=9131,P[63741]=9132,P[63742]=9133,P[63726]=9121,P[63727]=9122,P[63728]=9123,P[63737]=9124,P[63738]=9125,P[63739]=9126,P[63723]=9115,P[63724]=9116,P[63725]=9117,P[63734]=9118,P[63735]=9119,P[63736]=9120});function m(P){return P>=65520&&P<=65535?0:P>=62976&&P<=63743?g()[P]||P:P===173?45:P}function p(P,_){let k=_[P];if(k!==void 0)return k;if(!P)return-1;if(P[0]==="u"){const D=P.length;let V;if(D===7&&P[1]==="n"&&P[2]==="i")V=P.substring(3);else{if(!(D>=5&&D<=7))return-1;V=P.substring(1)}if(V===V.toUpperCase()&&(k=parseInt(V,16),k>=0))return k}return-1}const t=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function b(P){for(let _=0,k=t.length;_<k;_++){const D=t[_];if(P>=D.begin&&P<D.end)return _}return-1}const C=(0,s.getArrayLookupTableFactory)(function(){return["¨"," ̈","¯"," ̄","´"," ́","µ","μ","¸"," ̧","Ĳ","IJ","ĳ","ij","Ŀ","L·","ŀ","l·","ŉ","ʼn","ſ","s","Ǆ","DŽ","ǅ","Dž","ǆ","dž","Ǉ","LJ","ǈ","Lj","ǉ","lj","Ǌ","NJ","ǋ","Nj","ǌ","nj","Ǳ","DZ","ǲ","Dz","ǳ","dz","˘"," ̆","˙"," ̇","˚"," ̊","˛"," ̨","˜"," ̃","˝"," ̋","ͺ"," ͅ","΄"," ́","ϐ","β","ϑ","θ","ϒ","Υ","ϕ","φ","ϖ","π","ϰ","κ","ϱ","ρ","ϲ","ς","ϴ","Θ","ϵ","ε","Ϲ","Σ","և","եւ","ٵ","اٴ","ٶ","وٴ","ٷ","ۇٴ","ٸ","يٴ","ำ","ํา","ຳ","ໍາ","ໜ","ຫນ","ໝ","ຫມ","ཷ","ྲཱྀ","ཹ","ླཱྀ","ẚ","aʾ","᾽"," ̓","᾿"," ̓","῀"," ͂","῾"," ̔"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","‗"," ̳","․",".","‥","..","…","...","″","′′","‴","′′′","‶","‵‵","‷","‵‵‵","‼","!!","‾"," ̅","⁇","??","⁈","?!","⁉","!?","⁗","′′′′"," "," ","₨","Rs","℀","a/c","℁","a/s","℃","°C","℅","c/o","℆","c/u","ℇ","Ɛ","℉","°F","№","No","℡","TEL","ℵ","א","ℶ","ב","ℷ","ג","ℸ","ד","℻","FAX","Ⅰ","I","Ⅱ","II","Ⅲ","III","Ⅳ","IV","Ⅴ","V","Ⅵ","VI","Ⅶ","VII","Ⅷ","VIII","Ⅸ","IX","Ⅹ","X","Ⅺ","XI","Ⅻ","XII","Ⅼ","L","Ⅽ","C","Ⅾ","D","Ⅿ","M","ⅰ","i","ⅱ","ii","ⅲ","iii","ⅳ","iv","ⅴ","v","ⅵ","vi","ⅶ","vii","ⅷ","viii","ⅸ","ix","ⅹ","x","ⅺ","xi","ⅻ","xii","ⅼ","l","ⅽ","c","ⅾ","d","ⅿ","m","∬","∫∫","∭","∫∫∫","∯","∮∮","∰","∮∮∮","⑴","(1)","⑵","(2)","⑶","(3)","⑷","(4)","⑸","(5)","⑹","(6)","⑺","(7)","⑻","(8)","⑼","(9)","⑽","(10)","⑾","(11)","⑿","(12)","⒀","(13)","⒁","(14)","⒂","(15)","⒃","(16)","⒄","(17)","⒅","(18)","⒆","(19)","⒇","(20)","⒈","1.","⒉","2.","⒊","3.","⒋","4.","⒌","5.","⒍","6.","⒎","7.","⒏","8.","⒐","9.","⒑","10.","⒒","11.","⒓","12.","⒔","13.","⒕","14.","⒖","15.","⒗","16.","⒘","17.","⒙","18.","⒚","19.","⒛","20.","⒜","(a)","⒝","(b)","⒞","(c)","⒟","(d)","⒠","(e)","⒡","(f)","⒢","(g)","⒣","(h)","⒤","(i)","⒥","(j)","⒦","(k)","⒧","(l)","⒨","(m)","⒩","(n)","⒪","(o)","⒫","(p)","⒬","(q)","⒭","(r)","⒮","(s)","⒯","(t)","⒰","(u)","⒱","(v)","⒲","(w)","⒳","(x)","⒴","(y)","⒵","(z)","⨌","∫∫∫∫","⩴","::=","⩵","==","⩶","===","⺟","母","⻳","龟","⼀","一","⼁","丨","⼂","丶","⼃","丿","⼄","乙","⼅","亅","⼆","二","⼇","亠","⼈","人","⼉","儿","⼊","入","⼋","八","⼌","冂","⼍","冖","⼎","冫","⼏","几","⼐","凵","⼑","刀","⼒","力","⼓","勹","⼔","匕","⼕","匚","⼖","匸","⼗","十","⼘","卜","⼙","卩","⼚","厂","⼛","厶","⼜","又","⼝","口","⼞","囗","⼟","土","⼠","士","⼡","夂","⼢","夊","⼣","夕","⼤","大","⼥","女","⼦","子","⼧","宀","⼨","寸","⼩","小","⼪","尢","⼫","尸","⼬","屮","⼭","山","⼮","巛","⼯","工","⼰","己","⼱","巾","⼲","干","⼳","幺","⼴","广","⼵","廴","⼶","廾","⼷","弋","⼸","弓","⼹","彐","⼺","彡","⼻","彳","⼼","心","⼽","戈","⼾","戶","⼿","手","⽀","支","⽁","攴","⽂","文","⽃","斗","⽄","斤","⽅","方","⽆","无","⽇","日","⽈","曰","⽉","月","⽊","木","⽋","欠","⽌","止","⽍","歹","⽎","殳","⽏","毋","⽐","比","⽑","毛","⽒","氏","⽓","气","⽔","水","⽕","火","⽖","爪","⽗","父","⽘","爻","⽙","爿","⽚","片","⽛","牙","⽜","牛","⽝","犬","⽞","玄","⽟","玉","⽠","瓜","⽡","瓦","⽢","甘","⽣","生","⽤","用","⽥","田","⽦","疋","⽧","疒","⽨","癶","⽩","白","⽪","皮","⽫","皿","⽬","目","⽭","矛","⽮","矢","⽯","石","⽰","示","⽱","禸","⽲","禾","⽳","穴","⽴","立","⽵","竹","⽶","米","⽷","糸","⽸","缶","⽹","网","⽺","羊","⽻","羽","⽼","老","⽽","而","⽾","耒","⽿","耳","⾀","聿","⾁","肉","⾂","臣","⾃","自","⾄","至","⾅","臼","⾆","舌","⾇","舛","⾈","舟","⾉","艮","⾊","色","⾋","艸","⾌","虍","⾍","虫","⾎","血","⾏","行","⾐","衣","⾑","襾","⾒","見","⾓","角","⾔","言","⾕","谷","⾖","豆","⾗","豕","⾘","豸","⾙","貝","⾚","赤","⾛","走","⾜","足","⾝","身","⾞","車","⾟","辛","⾠","辰","⾡","辵","⾢","邑","⾣","酉","⾤","釆","⾥","里","⾦","金","⾧","長","⾨","門","⾩","阜","⾪","隶","⾫","隹","⾬","雨","⾭","靑","⾮","非","⾯","面","⾰","革","⾱","韋","⾲","韭","⾳","音","⾴","頁","⾵","風","⾶","飛","⾷","食","⾸","首","⾹","香","⾺","馬","⾻","骨","⾼","高","⾽","髟","⾾","鬥","⾿","鬯","⿀","鬲","⿁","鬼","⿂","魚","⿃","鳥","⿄","鹵","⿅","鹿","⿆","麥","⿇","麻","⿈","黃","⿉","黍","⿊","黑","⿋","黹","⿌","黽","⿍","鼎","⿎","鼓","⿏","鼠","⿐","鼻","⿑","齊","⿒","齒","⿓","龍","⿔","龜","⿕","龠","〶","〒","〸","十","〹","卄","〺","卅","゛"," ゙","゜"," ゚","ㄱ","ᄀ","ㄲ","ᄁ","ㄳ","ᆪ","ㄴ","ᄂ","ㄵ","ᆬ","ㄶ","ᆭ","ㄷ","ᄃ","ㄸ","ᄄ","ㄹ","ᄅ","ㄺ","ᆰ","ㄻ","ᆱ","ㄼ","ᆲ","ㄽ","ᆳ","ㄾ","ᆴ","ㄿ","ᆵ","ㅀ","ᄚ","ㅁ","ᄆ","ㅂ","ᄇ","ㅃ","ᄈ","ㅄ","ᄡ","ㅅ","ᄉ","ㅆ","ᄊ","ㅇ","ᄋ","ㅈ","ᄌ","ㅉ","ᄍ","ㅊ","ᄎ","ㅋ","ᄏ","ㅌ","ᄐ","ㅍ","ᄑ","ㅎ","ᄒ","ㅏ","ᅡ","ㅐ","ᅢ","ㅑ","ᅣ","ㅒ","ᅤ","ㅓ","ᅥ","ㅔ","ᅦ","ㅕ","ᅧ","ㅖ","ᅨ","ㅗ","ᅩ","ㅘ","ᅪ","ㅙ","ᅫ","ㅚ","ᅬ","ㅛ","ᅭ","ㅜ","ᅮ","ㅝ","ᅯ","ㅞ","ᅰ","ㅟ","ᅱ","ㅠ","ᅲ","ㅡ","ᅳ","ㅢ","ᅴ","ㅣ","ᅵ","ㅤ","ᅠ","ㅥ","ᄔ","ㅦ","ᄕ","ㅧ","ᇇ","ㅨ","ᇈ","ㅩ","ᇌ","ㅪ","ᇎ","ㅫ","ᇓ","ㅬ","ᇗ","ㅭ","ᇙ","ㅮ","ᄜ","ㅯ","ᇝ","ㅰ","ᇟ","ㅱ","ᄝ","ㅲ","ᄞ","ㅳ","ᄠ","ㅴ","ᄢ","ㅵ","ᄣ","ㅶ","ᄧ","ㅷ","ᄩ","ㅸ","ᄫ","ㅹ","ᄬ","ㅺ","ᄭ","ㅻ","ᄮ","ㅼ","ᄯ","ㅽ","ᄲ","ㅾ","ᄶ","ㅿ","ᅀ","ㆀ","ᅇ","ㆁ","ᅌ","ㆂ","ᇱ","ㆃ","ᇲ","ㆄ","ᅗ","ㆅ","ᅘ","ㆆ","ᅙ","ㆇ","ᆄ","ㆈ","ᆅ","ㆉ","ᆈ","ㆊ","ᆑ","ㆋ","ᆒ","ㆌ","ᆔ","ㆍ","ᆞ","ㆎ","ᆡ","㈀","(ᄀ)","㈁","(ᄂ)","㈂","(ᄃ)","㈃","(ᄅ)","㈄","(ᄆ)","㈅","(ᄇ)","㈆","(ᄉ)","㈇","(ᄋ)","㈈","(ᄌ)","㈉","(ᄎ)","㈊","(ᄏ)","㈋","(ᄐ)","㈌","(ᄑ)","㈍","(ᄒ)","㈎","(가)","㈏","(나)","㈐","(다)","㈑","(라)","㈒","(마)","㈓","(바)","㈔","(사)","㈕","(아)","㈖","(자)","㈗","(차)","㈘","(카)","㈙","(타)","㈚","(파)","㈛","(하)","㈜","(주)","㈝","(오전)","㈞","(오후)","㈠","(一)","㈡","(二)","㈢","(三)","㈣","(四)","㈤","(五)","㈥","(六)","㈦","(七)","㈧","(八)","㈨","(九)","㈩","(十)","㈪","(月)","㈫","(火)","㈬","(水)","㈭","(木)","㈮","(金)","㈯","(土)","㈰","(日)","㈱","(株)","㈲","(有)","㈳","(社)","㈴","(名)","㈵","(特)","㈶","(財)","㈷","(祝)","㈸","(労)","㈹","(代)","㈺","(呼)","㈻","(学)","㈼","(監)","㈽","(企)","㈾","(資)","㈿","(協)","㉀","(祭)","㉁","(休)","㉂","(自)","㉃","(至)","㋀","1月","㋁","2月","㋂","3月","㋃","4月","㋄","5月","㋅","6月","㋆","7月","㋇","8月","㋈","9月","㋉","10月","㋊","11月","㋋","12月","㍘","0点","㍙","1点","㍚","2点","㍛","3点","㍜","4点","㍝","5点","㍞","6点","㍟","7点","㍠","8点","㍡","9点","㍢","10点","㍣","11点","㍤","12点","㍥","13点","㍦","14点","㍧","15点","㍨","16点","㍩","17点","㍪","18点","㍫","19点","㍬","20点","㍭","21点","㍮","22点","㍯","23点","㍰","24点","㏠","1日","㏡","2日","㏢","3日","㏣","4日","㏤","5日","㏥","6日","㏦","7日","㏧","8日","㏨","9日","㏩","10日","㏪","11日","㏫","12日","㏬","13日","㏭","14日","㏮","15日","㏯","16日","㏰","17日","㏱","18日","㏲","19日","㏳","20日","㏴","21日","㏵","22日","㏶","23日","㏷","24日","㏸","25日","㏹","26日","㏺","27日","㏻","28日","㏼","29日","㏽","30日","㏾","31日","ﬀ","ff","ﬁ","fi","ﬂ","fl","ﬃ","ffi","ﬄ","ffl","ﬅ","ſt","ﬆ","st","ﬓ","մն","ﬔ","մե","ﬕ","մի","ﬖ","վն","ﬗ","մխ","ﭏ","אל","ﭐ","ٱ","ﭑ","ٱ","ﭒ","ٻ","ﭓ","ٻ","ﭔ","ٻ","ﭕ","ٻ","ﭖ","پ","ﭗ","پ","ﭘ","پ","ﭙ","پ","ﭚ","ڀ","ﭛ","ڀ","ﭜ","ڀ","ﭝ","ڀ","ﭞ","ٺ","ﭟ","ٺ","ﭠ","ٺ","ﭡ","ٺ","ﭢ","ٿ","ﭣ","ٿ","ﭤ","ٿ","ﭥ","ٿ","ﭦ","ٹ","ﭧ","ٹ","ﭨ","ٹ","ﭩ","ٹ","ﭪ","ڤ","ﭫ","ڤ","ﭬ","ڤ","ﭭ","ڤ","ﭮ","ڦ","ﭯ","ڦ","ﭰ","ڦ","ﭱ","ڦ","ﭲ","ڄ","ﭳ","ڄ","ﭴ","ڄ","ﭵ","ڄ","ﭶ","ڃ","ﭷ","ڃ","ﭸ","ڃ","ﭹ","ڃ","ﭺ","چ","ﭻ","چ","ﭼ","چ","ﭽ","چ","ﭾ","ڇ","ﭿ","ڇ","ﮀ","ڇ","ﮁ","ڇ","ﮂ","ڍ","ﮃ","ڍ","ﮄ","ڌ","ﮅ","ڌ","ﮆ","ڎ","ﮇ","ڎ","ﮈ","ڈ","ﮉ","ڈ","ﮊ","ژ","ﮋ","ژ","ﮌ","ڑ","ﮍ","ڑ","ﮎ","ک","ﮏ","ک","ﮐ","ک","ﮑ","ک","ﮒ","گ","ﮓ","گ","ﮔ","گ","ﮕ","گ","ﮖ","ڳ","ﮗ","ڳ","ﮘ","ڳ","ﮙ","ڳ","ﮚ","ڱ","ﮛ","ڱ","ﮜ","ڱ","ﮝ","ڱ","ﮞ","ں","ﮟ","ں","ﮠ","ڻ","ﮡ","ڻ","ﮢ","ڻ","ﮣ","ڻ","ﮤ","ۀ","ﮥ","ۀ","ﮦ","ہ","ﮧ","ہ","ﮨ","ہ","ﮩ","ہ","ﮪ","ھ","ﮫ","ھ","ﮬ","ھ","ﮭ","ھ","ﮮ","ے","ﮯ","ے","ﮰ","ۓ","ﮱ","ۓ","ﯓ","ڭ","ﯔ","ڭ","ﯕ","ڭ","ﯖ","ڭ","ﯗ","ۇ","ﯘ","ۇ","ﯙ","ۆ","ﯚ","ۆ","ﯛ","ۈ","ﯜ","ۈ","ﯝ","ٷ","ﯞ","ۋ","ﯟ","ۋ","ﯠ","ۅ","ﯡ","ۅ","ﯢ","ۉ","ﯣ","ۉ","ﯤ","ې","ﯥ","ې","ﯦ","ې","ﯧ","ې","ﯨ","ى","ﯩ","ى","ﯪ","ئا","ﯫ","ئا","ﯬ","ئە","ﯭ","ئە","ﯮ","ئو","ﯯ","ئو","ﯰ","ئۇ","ﯱ","ئۇ","ﯲ","ئۆ","ﯳ","ئۆ","ﯴ","ئۈ","ﯵ","ئۈ","ﯶ","ئې","ﯷ","ئې","ﯸ","ئې","ﯹ","ئى","ﯺ","ئى","ﯻ","ئى","ﯼ","ی","ﯽ","ی","ﯾ","ی","ﯿ","ی","ﰀ","ئج","ﰁ","ئح","ﰂ","ئم","ﰃ","ئى","ﰄ","ئي","ﰅ","بج","ﰆ","بح","ﰇ","بخ","ﰈ","بم","ﰉ","بى","ﰊ","بي","ﰋ","تج","ﰌ","تح","ﰍ","تخ","ﰎ","تم","ﰏ","تى","ﰐ","تي","ﰑ","ثج","ﰒ","ثم","ﰓ","ثى","ﰔ","ثي","ﰕ","جح","ﰖ","جم","ﰗ","حج","ﰘ","حم","ﰙ","خج","ﰚ","خح","ﰛ","خم","ﰜ","سج","ﰝ","سح","ﰞ","سخ","ﰟ","سم","ﰠ","صح","ﰡ","صم","ﰢ","ضج","ﰣ","ضح","ﰤ","ضخ","ﰥ","ضم","ﰦ","طح","ﰧ","طم","ﰨ","ظم","ﰩ","عج","ﰪ","عم","ﰫ","غج","ﰬ","غم","ﰭ","فج","ﰮ","فح","ﰯ","فخ","ﰰ","فم","ﰱ","فى","ﰲ","في","ﰳ","قح","ﰴ","قم","ﰵ","قى","ﰶ","قي","ﰷ","كا","ﰸ","كج","ﰹ","كح","ﰺ","كخ","ﰻ","كل","ﰼ","كم","ﰽ","كى","ﰾ","كي","ﰿ","لج","ﱀ","لح","ﱁ","لخ","ﱂ","لم","ﱃ","لى","ﱄ","لي","ﱅ","مج","ﱆ","مح","ﱇ","مخ","ﱈ","مم","ﱉ","مى","ﱊ","مي","ﱋ","نج","ﱌ","نح","ﱍ","نخ","ﱎ","نم","ﱏ","نى","ﱐ","ني","ﱑ","هج","ﱒ","هم","ﱓ","هى","ﱔ","هي","ﱕ","يج","ﱖ","يح","ﱗ","يخ","ﱘ","يم","ﱙ","يى","ﱚ","يي","ﱛ","ذٰ","ﱜ","رٰ","ﱝ","ىٰ","ﱞ"," ٌّ","ﱟ"," ٍّ","ﱠ"," َّ","ﱡ"," ُّ","ﱢ"," ِّ","ﱣ"," ّٰ","ﱤ","ئر","ﱥ","ئز","ﱦ","ئم","ﱧ","ئن","ﱨ","ئى","ﱩ","ئي","ﱪ","بر","ﱫ","بز","ﱬ","بم","ﱭ","بن","ﱮ","بى","ﱯ","بي","ﱰ","تر","ﱱ","تز","ﱲ","تم","ﱳ","تن","ﱴ","تى","ﱵ","تي","ﱶ","ثر","ﱷ","ثز","ﱸ","ثم","ﱹ","ثن","ﱺ","ثى","ﱻ","ثي","ﱼ","فى","ﱽ","في","ﱾ","قى","ﱿ","قي","ﲀ","كا","ﲁ","كل","ﲂ","كم","ﲃ","كى","ﲄ","كي","ﲅ","لم","ﲆ","لى","ﲇ","لي","ﲈ","ما","ﲉ","مم","ﲊ","نر","ﲋ","نز","ﲌ","نم","ﲍ","نن","ﲎ","نى","ﲏ","ني","ﲐ","ىٰ","ﲑ","ير","ﲒ","يز","ﲓ","يم","ﲔ","ين","ﲕ","يى","ﲖ","يي","ﲗ","ئج","ﲘ","ئح","ﲙ","ئخ","ﲚ","ئم","ﲛ","ئه","ﲜ","بج","ﲝ","بح","ﲞ","بخ","ﲟ","بم","ﲠ","به","ﲡ","تج","ﲢ","تح","ﲣ","تخ","ﲤ","تم","ﲥ","ته","ﲦ","ثم","ﲧ","جح","ﲨ","جم","ﲩ","حج","ﲪ","حم","ﲫ","خج","ﲬ","خم","ﲭ","سج","ﲮ","سح","ﲯ","سخ","ﲰ","سم","ﲱ","صح","ﲲ","صخ","ﲳ","صم","ﲴ","ضج","ﲵ","ضح","ﲶ","ضخ","ﲷ","ضم","ﲸ","طح","ﲹ","ظم","ﲺ","عج","ﲻ","عم","ﲼ","غج","ﲽ","غم","ﲾ","فج","ﲿ","فح","ﳀ","فخ","ﳁ","فم","ﳂ","قح","ﳃ","قم","ﳄ","كج","ﳅ","كح","ﳆ","كخ","ﳇ","كل","ﳈ","كم","ﳉ","لج","ﳊ","لح","ﳋ","لخ","ﳌ","لم","ﳍ","له","ﳎ","مج","ﳏ","مح","ﳐ","مخ","ﳑ","مم","ﳒ","نج","ﳓ","نح","ﳔ","نخ","ﳕ","نم","ﳖ","نه","ﳗ","هج","ﳘ","هم","ﳙ","هٰ","ﳚ","يج","ﳛ","يح","ﳜ","يخ","ﳝ","يم","ﳞ","يه","ﳟ","ئم","ﳠ","ئه","ﳡ","بم","ﳢ","به","ﳣ","تم","ﳤ","ته","ﳥ","ثم","ﳦ","ثه","ﳧ","سم","ﳨ","سه","ﳩ","شم","ﳪ","شه","ﳫ","كل","ﳬ","كم","ﳭ","لم","ﳮ","نم","ﳯ","نه","ﳰ","يم","ﳱ","يه","ﳲ","ـَّ","ﳳ","ـُّ","ﳴ","ـِّ","ﳵ","طى","ﳶ","طي","ﳷ","عى","ﳸ","عي","ﳹ","غى","ﳺ","غي","ﳻ","سى","ﳼ","سي","ﳽ","شى","ﳾ","شي","ﳿ","حى","ﴀ","حي","ﴁ","جى","ﴂ","جي","ﴃ","خى","ﴄ","خي","ﴅ","صى","ﴆ","صي","ﴇ","ضى","ﴈ","ضي","ﴉ","شج","ﴊ","شح","ﴋ","شخ","ﴌ","شم","ﴍ","شر","ﴎ","سر","ﴏ","صر","ﴐ","ضر","ﴑ","طى","ﴒ","طي","ﴓ","عى","ﴔ","عي","ﴕ","غى","ﴖ","غي","ﴗ","سى","ﴘ","سي","ﴙ","شى","ﴚ","شي","ﴛ","حى","ﴜ","حي","ﴝ","جى","ﴞ","جي","ﴟ","خى","ﴠ","خي","ﴡ","صى","ﴢ","صي","ﴣ","ضى","ﴤ","ضي","ﴥ","شج","ﴦ","شح","ﴧ","شخ","ﴨ","شم","ﴩ","شر","ﴪ","سر","ﴫ","صر","ﴬ","ضر","ﴭ","شج","ﴮ","شح","ﴯ","شخ","ﴰ","شم","ﴱ","سه","ﴲ","شه","ﴳ","طم","ﴴ","سج","ﴵ","سح","ﴶ","سخ","ﴷ","شج","ﴸ","شح","ﴹ","شخ","ﴺ","طم","ﴻ","ظم","ﴼ","اً","ﴽ","اً","ﵐ","تجم","ﵑ","تحج","ﵒ","تحج","ﵓ","تحم","ﵔ","تخم","ﵕ","تمج","ﵖ","تمح","ﵗ","تمخ","ﵘ","جمح","ﵙ","جمح","ﵚ","حمي","ﵛ","حمى","ﵜ","سحج","ﵝ","سجح","ﵞ","سجى","ﵟ","سمح","ﵠ","سمح","ﵡ","سمج","ﵢ","سمم","ﵣ","سمم","ﵤ","صحح","ﵥ","صحح","ﵦ","صمم","ﵧ","شحم","ﵨ","شحم","ﵩ","شجي","ﵪ","شمخ","ﵫ","شمخ","ﵬ","شمم","ﵭ","شمم","ﵮ","ضحى","ﵯ","ضخم","ﵰ","ضخم","ﵱ","طمح","ﵲ","طمح","ﵳ","طمم","ﵴ","طمي","ﵵ","عجم","ﵶ","عمم","ﵷ","عمم","ﵸ","عمى","ﵹ","غمم","ﵺ","غمي","ﵻ","غمى","ﵼ","فخم","ﵽ","فخم","ﵾ","قمح","ﵿ","قمم","ﶀ","لحم","ﶁ","لحي","ﶂ","لحى","ﶃ","لجج","ﶄ","لجج","ﶅ","لخم","ﶆ","لخم","ﶇ","لمح","ﶈ","لمح","ﶉ","محج","ﶊ","محم","ﶋ","محي","ﶌ","مجح","ﶍ","مجم","ﶎ","مخج","ﶏ","مخم","ﶒ","مجخ","ﶓ","همج","ﶔ","همم","ﶕ","نحم","ﶖ","نحى","ﶗ","نجم","ﶘ","نجم","ﶙ","نجى","ﶚ","نمي","ﶛ","نمى","ﶜ","يمم","ﶝ","يمم","ﶞ","بخي","ﶟ","تجي","ﶠ","تجى","ﶡ","تخي","ﶢ","تخى","ﶣ","تمي","ﶤ","تمى","ﶥ","جمي","ﶦ","جحى","ﶧ","جمى","ﶨ","سخى","ﶩ","صحي","ﶪ","شحي","ﶫ","ضحي","ﶬ","لجي","ﶭ","لمي","ﶮ","يحي","ﶯ","يجي","ﶰ","يمي","ﶱ","ممي","ﶲ","قمي","ﶳ","نحي","ﶴ","قمح","ﶵ","لحم","ﶶ","عمي","ﶷ","كمي","ﶸ","نجح","ﶹ","مخي","ﶺ","لجم","ﶻ","كمم","ﶼ","لجم","ﶽ","نجح","ﶾ","جحي","ﶿ","حجي","ﷀ","مجي","ﷁ","فمي","ﷂ","بحي","ﷃ","كمم","ﷄ","عجم","ﷅ","صمم","ﷆ","سخي","ﷇ","نجي","﹉","‾","﹊","‾","﹋","‾","﹌","‾","﹍","_","﹎","_","﹏","_","ﺀ","ء","ﺁ","آ","ﺂ","آ","ﺃ","أ","ﺄ","أ","ﺅ","ؤ","ﺆ","ؤ","ﺇ","إ","ﺈ","إ","ﺉ","ئ","ﺊ","ئ","ﺋ","ئ","ﺌ","ئ","ﺍ","ا","ﺎ","ا","ﺏ","ب","ﺐ","ب","ﺑ","ب","ﺒ","ب","ﺓ","ة","ﺔ","ة","ﺕ","ت","ﺖ","ت","ﺗ","ت","ﺘ","ت","ﺙ","ث","ﺚ","ث","ﺛ","ث","ﺜ","ث","ﺝ","ج","ﺞ","ج","ﺟ","ج","ﺠ","ج","ﺡ","ح","ﺢ","ح","ﺣ","ح","ﺤ","ح","ﺥ","خ","ﺦ","خ","ﺧ","خ","ﺨ","خ","ﺩ","د","ﺪ","د","ﺫ","ذ","ﺬ","ذ","ﺭ","ر","ﺮ","ر","ﺯ","ز","ﺰ","ز","ﺱ","س","ﺲ","س","ﺳ","س","ﺴ","س","ﺵ","ش","ﺶ","ش","ﺷ","ش","ﺸ","ش","ﺹ","ص","ﺺ","ص","ﺻ","ص","ﺼ","ص","ﺽ","ض","ﺾ","ض","ﺿ","ض","ﻀ","ض","ﻁ","ط","ﻂ","ط","ﻃ","ط","ﻄ","ط","ﻅ","ظ","ﻆ","ظ","ﻇ","ظ","ﻈ","ظ","ﻉ","ع","ﻊ","ع","ﻋ","ع","ﻌ","ع","ﻍ","غ","ﻎ","غ","ﻏ","غ","ﻐ","غ","ﻑ","ف","ﻒ","ف","ﻓ","ف","ﻔ","ف","ﻕ","ق","ﻖ","ق","ﻗ","ق","ﻘ","ق","ﻙ","ك","ﻚ","ك","ﻛ","ك","ﻜ","ك","ﻝ","ل","ﻞ","ل","ﻟ","ل","ﻠ","ل","ﻡ","م","ﻢ","م","ﻣ","م","ﻤ","م","ﻥ","ن","ﻦ","ن","ﻧ","ن","ﻨ","ن","ﻩ","ه","ﻪ","ه","ﻫ","ه","ﻬ","ه","ﻭ","و","ﻮ","و","ﻯ","ى","ﻰ","ى","ﻱ","ي","ﻲ","ي","ﻳ","ي","ﻴ","ي","ﻵ","لآ","ﻶ","لآ","ﻷ","لأ","ﻸ","لأ","ﻹ","لإ","ﻺ","لإ","ﻻ","لا","ﻼ","لا"]});function w(P){const _=P.length;if(_<=1||!function(V){let R=t[13];return V>=R.begin&&V<R.end?!0:(R=t[11],V>=R.begin&&V<R.end)}(P.charCodeAt(0)))return P;const k=[];for(let D=_-1;D>=0;D--)k.push(P[D]);return k.join("")}const v=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),M=new Map;function y(P){const _=M.get(P);if(_)return _;const k=P.match(v),D={isWhitespace:!(!k||!k[1]),isZeroWidthDiacritic:!(!k||!k[2]),isInvisibleFormatMark:!(!k||!k[3])};return M.set(P,D),D}function I(){M.clear()}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getSerifFonts=o.getNonStdFontMap=o.getGlyphMapForStandardFonts=o.getFontNameToFileMap=void 0,o.getStandardFontName=function(I){const P=(0,g.normalizeFontName)(I);return m()[P]},o.getSymbolsFonts=o.getSupplementalGlyphMapForCalibri=o.getSupplementalGlyphMapForArialBlack=o.getStdFontMap=void 0;var s=f(6),g=f(38);const m=(0,s.getLookupTableFactory)(function(y){y["Times-Roman"]="Times-Roman",y.Helvetica="Helvetica",y.Courier="Courier",y.Symbol="Symbol",y["Times-Bold"]="Times-Bold",y["Helvetica-Bold"]="Helvetica-Bold",y["Courier-Bold"]="Courier-Bold",y.ZapfDingbats="ZapfDingbats",y["Times-Italic"]="Times-Italic",y["Helvetica-Oblique"]="Helvetica-Oblique",y["Courier-Oblique"]="Courier-Oblique",y["Times-BoldItalic"]="Times-BoldItalic",y["Helvetica-BoldOblique"]="Helvetica-BoldOblique",y["Courier-BoldOblique"]="Courier-BoldOblique",y.ArialNarrow="Helvetica",y["ArialNarrow-Bold"]="Helvetica-Bold",y["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",y["ArialNarrow-Italic"]="Helvetica-Oblique",y.ArialBlack="Helvetica",y["ArialBlack-Bold"]="Helvetica-Bold",y["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",y["ArialBlack-Italic"]="Helvetica-Oblique",y["Arial-Black"]="Helvetica",y["Arial-Black-Bold"]="Helvetica-Bold",y["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",y["Arial-Black-Italic"]="Helvetica-Oblique",y.Arial="Helvetica",y["Arial-Bold"]="Helvetica-Bold",y["Arial-BoldItalic"]="Helvetica-BoldOblique",y["Arial-Italic"]="Helvetica-Oblique",y.ArialMT="Helvetica",y["Arial-BoldItalicMT"]="Helvetica-BoldOblique",y["Arial-BoldMT"]="Helvetica-Bold",y["Arial-ItalicMT"]="Helvetica-Oblique",y.ArialUnicodeMS="Helvetica",y["ArialUnicodeMS-Bold"]="Helvetica-Bold",y["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",y["ArialUnicodeMS-Italic"]="Helvetica-Oblique",y["Courier-BoldItalic"]="Courier-BoldOblique",y["Courier-Italic"]="Courier-Oblique",y.CourierNew="Courier",y["CourierNew-Bold"]="Courier-Bold",y["CourierNew-BoldItalic"]="Courier-BoldOblique",y["CourierNew-Italic"]="Courier-Oblique",y["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",y["CourierNewPS-BoldMT"]="Courier-Bold",y["CourierNewPS-ItalicMT"]="Courier-Oblique",y.CourierNewPSMT="Courier",y["Helvetica-BoldItalic"]="Helvetica-BoldOblique",y["Helvetica-Italic"]="Helvetica-Oblique",y["Symbol-Bold"]="Symbol",y["Symbol-BoldItalic"]="Symbol",y["Symbol-Italic"]="Symbol",y.TimesNewRoman="Times-Roman",y["TimesNewRoman-Bold"]="Times-Bold",y["TimesNewRoman-BoldItalic"]="Times-BoldItalic",y["TimesNewRoman-Italic"]="Times-Italic",y.TimesNewRomanPS="Times-Roman",y["TimesNewRomanPS-Bold"]="Times-Bold",y["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",y["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",y["TimesNewRomanPS-BoldMT"]="Times-Bold",y["TimesNewRomanPS-Italic"]="Times-Italic",y["TimesNewRomanPS-ItalicMT"]="Times-Italic",y.TimesNewRomanPSMT="Times-Roman",y["TimesNewRomanPSMT-Bold"]="Times-Bold",y["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",y["TimesNewRomanPSMT-Italic"]="Times-Italic"});o.getStdFontMap=m;const p=(0,s.getLookupTableFactory)(function(y){y.Courier="FoxitFixed.pfb",y["Courier-Bold"]="FoxitFixedBold.pfb",y["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",y["Courier-Oblique"]="FoxitFixedItalic.pfb",y.Helvetica="FoxitSans.pfb",y["Helvetica-Bold"]="FoxitSansBold.pfb",y["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",y["Helvetica-Oblique"]="FoxitSansItalic.pfb",y["Times-Roman"]="FoxitSerif.pfb",y["Times-Bold"]="FoxitSerifBold.pfb",y["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",y["Times-Italic"]="FoxitSerifItalic.pfb",y.Symbol="FoxitSymbol.pfb",y.ZapfDingbats="FoxitDingbats.pfb",y["LiberationSans-Regular"]="LiberationSans-Regular.ttf",y["LiberationSans-Bold"]="LiberationSans-Bold.ttf",y["LiberationSans-Italic"]="LiberationSans-Italic.ttf",y["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});o.getFontNameToFileMap=p;const t=(0,s.getLookupTableFactory)(function(y){y.Calibri="Helvetica",y["Calibri-Bold"]="Helvetica-Bold",y["Calibri-BoldItalic"]="Helvetica-BoldOblique",y["Calibri-Italic"]="Helvetica-Oblique",y.CenturyGothic="Helvetica",y["CenturyGothic-Bold"]="Helvetica-Bold",y["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",y["CenturyGothic-Italic"]="Helvetica-Oblique",y.ComicSansMS="Comic Sans MS",y["ComicSansMS-Bold"]="Comic Sans MS-Bold",y["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",y["ComicSansMS-Italic"]="Comic Sans MS-Italic",y["ItcSymbol-Bold"]="Helvetica-Bold",y["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",y["ItcSymbol-Book"]="Helvetica",y["ItcSymbol-BookItalic"]="Helvetica-Oblique",y["ItcSymbol-Medium"]="Helvetica",y["ItcSymbol-MediumItalic"]="Helvetica-Oblique",y.LucidaConsole="Courier",y["LucidaConsole-Bold"]="Courier-Bold",y["LucidaConsole-BoldItalic"]="Courier-BoldOblique",y["LucidaConsole-Italic"]="Courier-Oblique",y["LucidaSans-Demi"]="Helvetica-Bold",y["MS-Gothic"]="MS Gothic",y["MS-Gothic-Bold"]="MS Gothic-Bold",y["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",y["MS-Gothic-Italic"]="MS Gothic-Italic",y["MS-Mincho"]="MS Mincho",y["MS-Mincho-Bold"]="MS Mincho-Bold",y["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",y["MS-Mincho-Italic"]="MS Mincho-Italic",y["MS-PGothic"]="MS PGothic",y["MS-PGothic-Bold"]="MS PGothic-Bold",y["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",y["MS-PGothic-Italic"]="MS PGothic-Italic",y["MS-PMincho"]="MS PMincho",y["MS-PMincho-Bold"]="MS PMincho-Bold",y["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",y["MS-PMincho-Italic"]="MS PMincho-Italic",y.NuptialScript="Times-Italic",y.SegoeUISymbol="Helvetica",y.Wingdings="ZapfDingbats",y["Wingdings-Regular"]="ZapfDingbats"});o.getNonStdFontMap=t;const b=(0,s.getLookupTableFactory)(function(y){y["Adobe Jenson"]=!0,y["Adobe Text"]=!0,y.Albertus=!0,y.Aldus=!0,y.Alexandria=!0,y.Algerian=!0,y["American Typewriter"]=!0,y.Antiqua=!0,y.Apex=!0,y.Arno=!0,y.Aster=!0,y.Aurora=!0,y.Baskerville=!0,y.Bell=!0,y.Bembo=!0,y["Bembo Schoolbook"]=!0,y.Benguiat=!0,y["Berkeley Old Style"]=!0,y["Bernhard Modern"]=!0,y["Berthold City"]=!0,y.Bodoni=!0,y["Bauer Bodoni"]=!0,y["Book Antiqua"]=!0,y.Bookman=!0,y["Bordeaux Roman"]=!0,y["Californian FB"]=!0,y.Calisto=!0,y.Calvert=!0,y.Capitals=!0,y.Cambria=!0,y.Cartier=!0,y.Caslon=!0,y.Catull=!0,y.Centaur=!0,y["Century Old Style"]=!0,y["Century Schoolbook"]=!0,y.Chaparral=!0,y["Charis SIL"]=!0,y.Cheltenham=!0,y["Cholla Slab"]=!0,y.Clarendon=!0,y.Clearface=!0,y.Cochin=!0,y.Colonna=!0,y["Computer Modern"]=!0,y["Concrete Roman"]=!0,y.Constantia=!0,y["Cooper Black"]=!0,y.Corona=!0,y.Ecotype=!0,y.Egyptienne=!0,y.Elephant=!0,y.Excelsior=!0,y.Fairfield=!0,y["FF Scala"]=!0,y.Folkard=!0,y.Footlight=!0,y.FreeSerif=!0,y["Friz Quadrata"]=!0,y.Garamond=!0,y.Gentium=!0,y.Georgia=!0,y.Gloucester=!0,y["Goudy Old Style"]=!0,y["Goudy Schoolbook"]=!0,y["Goudy Pro Font"]=!0,y.Granjon=!0,y["Guardian Egyptian"]=!0,y.Heather=!0,y.Hercules=!0,y["High Tower Text"]=!0,y.Hiroshige=!0,y["Hoefler Text"]=!0,y["Humana Serif"]=!0,y.Imprint=!0,y["Ionic No. 5"]=!0,y.Janson=!0,y.Joanna=!0,y.Korinna=!0,y.Lexicon=!0,y.LiberationSerif=!0,y["Liberation Serif"]=!0,y["Linux Libertine"]=!0,y.Literaturnaya=!0,y.Lucida=!0,y["Lucida Bright"]=!0,y.Melior=!0,y.Memphis=!0,y.Miller=!0,y.Minion=!0,y.Modern=!0,y["Mona Lisa"]=!0,y["Mrs Eaves"]=!0,y["MS Serif"]=!0,y["Museo Slab"]=!0,y["New York"]=!0,y["Nimbus Roman"]=!0,y["NPS Rawlinson Roadway"]=!0,y.NuptialScript=!0,y.Palatino=!0,y.Perpetua=!0,y.Plantin=!0,y["Plantin Schoolbook"]=!0,y.Playbill=!0,y["Poor Richard"]=!0,y["Rawlinson Roadway"]=!0,y.Renault=!0,y.Requiem=!0,y.Rockwell=!0,y.Roman=!0,y["Rotis Serif"]=!0,y.Sabon=!0,y.Scala=!0,y.Seagull=!0,y.Sistina=!0,y.Souvenir=!0,y.STIX=!0,y["Stone Informal"]=!0,y["Stone Serif"]=!0,y.Sylfaen=!0,y.Times=!0,y.Trajan=!0,y.Trinité=!0,y["Trump Mediaeval"]=!0,y.Utopia=!0,y["Vale Type"]=!0,y["Bitstream Vera"]=!0,y["Vera Serif"]=!0,y.Versailles=!0,y.Wanted=!0,y.Weiss=!0,y["Wide Latin"]=!0,y.Windsor=!0,y.XITS=!0});o.getSerifFonts=b;const C=(0,s.getLookupTableFactory)(function(y){y.Dingbats=!0,y.Symbol=!0,y.ZapfDingbats=!0});o.getSymbolsFonts=C;const w=(0,s.getLookupTableFactory)(function(y){y[2]=10,y[3]=32,y[4]=33,y[5]=34,y[6]=35,y[7]=36,y[8]=37,y[9]=38,y[10]=39,y[11]=40,y[12]=41,y[13]=42,y[14]=43,y[15]=44,y[16]=45,y[17]=46,y[18]=47,y[19]=48,y[20]=49,y[21]=50,y[22]=51,y[23]=52,y[24]=53,y[25]=54,y[26]=55,y[27]=56,y[28]=57,y[29]=58,y[30]=894,y[31]=60,y[32]=61,y[33]=62,y[34]=63,y[35]=64,y[36]=65,y[37]=66,y[38]=67,y[39]=68,y[40]=69,y[41]=70,y[42]=71,y[43]=72,y[44]=73,y[45]=74,y[46]=75,y[47]=76,y[48]=77,y[49]=78,y[50]=79,y[51]=80,y[52]=81,y[53]=82,y[54]=83,y[55]=84,y[56]=85,y[57]=86,y[58]=87,y[59]=88,y[60]=89,y[61]=90,y[62]=91,y[63]=92,y[64]=93,y[65]=94,y[66]=95,y[67]=96,y[68]=97,y[69]=98,y[70]=99,y[71]=100,y[72]=101,y[73]=102,y[74]=103,y[75]=104,y[76]=105,y[77]=106,y[78]=107,y[79]=108,y[80]=109,y[81]=110,y[82]=111,y[83]=112,y[84]=113,y[85]=114,y[86]=115,y[87]=116,y[88]=117,y[89]=118,y[90]=119,y[91]=120,y[92]=121,y[93]=122,y[94]=123,y[95]=124,y[96]=125,y[97]=126,y[98]=196,y[99]=197,y[100]=199,y[101]=201,y[102]=209,y[103]=214,y[104]=220,y[105]=225,y[106]=224,y[107]=226,y[108]=228,y[109]=227,y[110]=229,y[111]=231,y[112]=233,y[113]=232,y[114]=234,y[115]=235,y[116]=237,y[117]=236,y[118]=238,y[119]=239,y[120]=241,y[121]=243,y[122]=242,y[123]=244,y[124]=246,y[125]=245,y[126]=250,y[127]=249,y[128]=251,y[129]=252,y[130]=8224,y[131]=176,y[132]=162,y[133]=163,y[134]=167,y[135]=8226,y[136]=182,y[137]=223,y[138]=174,y[139]=169,y[140]=8482,y[141]=180,y[142]=168,y[143]=8800,y[144]=198,y[145]=216,y[146]=8734,y[147]=177,y[148]=8804,y[149]=8805,y[150]=165,y[151]=181,y[152]=8706,y[153]=8721,y[154]=8719,y[156]=8747,y[157]=170,y[158]=186,y[159]=8486,y[160]=230,y[161]=248,y[162]=191,y[163]=161,y[164]=172,y[165]=8730,y[166]=402,y[167]=8776,y[168]=8710,y[169]=171,y[170]=187,y[171]=8230,y[200]=193,y[203]=205,y[210]=218,y[223]=711,y[224]=321,y[225]=322,y[226]=352,y[227]=353,y[228]=381,y[229]=382,y[233]=221,y[234]=253,y[252]=263,y[253]=268,y[254]=269,y[258]=258,y[260]=260,y[261]=261,y[265]=280,y[266]=281,y[267]=282,y[268]=283,y[269]=313,y[275]=323,y[276]=324,y[278]=328,y[283]=344,y[284]=345,y[285]=346,y[286]=347,y[292]=367,y[295]=377,y[296]=378,y[298]=380,y[305]=963,y[306]=964,y[307]=966,y[308]=8215,y[309]=8252,y[310]=8319,y[311]=8359,y[312]=8592,y[313]=8593,y[337]=9552,y[493]=1039,y[494]=1040,y[672]=1488,y[673]=1489,y[674]=1490,y[675]=1491,y[676]=1492,y[677]=1493,y[678]=1494,y[679]=1495,y[680]=1496,y[681]=1497,y[682]=1498,y[683]=1499,y[684]=1500,y[685]=1501,y[686]=1502,y[687]=1503,y[688]=1504,y[689]=1505,y[690]=1506,y[691]=1507,y[692]=1508,y[693]=1509,y[694]=1510,y[695]=1511,y[696]=1512,y[697]=1513,y[698]=1514,y[705]=1524,y[706]=8362,y[710]=64288,y[711]=64298,y[759]=1617,y[761]=1776,y[763]=1778,y[775]=1652,y[777]=1764,y[778]=1780,y[779]=1781,y[780]=1782,y[782]=771,y[783]=64726,y[786]=8363,y[788]=8532,y[790]=768,y[791]=769,y[792]=768,y[795]=803,y[797]=64336,y[798]=64337,y[799]=64342,y[800]=64343,y[801]=64344,y[802]=64345,y[803]=64362,y[804]=64363,y[805]=64364,y[2424]=7821,y[2425]=7822,y[2426]=7823,y[2427]=7824,y[2428]=7825,y[2429]=7826,y[2430]=7827,y[2433]=7682,y[2678]=8045,y[2679]=8046,y[2830]=1552,y[2838]=686,y[2840]=751,y[2842]=753,y[2843]=754,y[2844]=755,y[2846]=757,y[2856]=767,y[2857]=848,y[2858]=849,y[2862]=853,y[2863]=854,y[2864]=855,y[2865]=861,y[2866]=862,y[2906]=7460,y[2908]=7462,y[2909]=7463,y[2910]=7464,y[2912]=7466,y[2913]=7467,y[2914]=7468,y[2916]=7470,y[2917]=7471,y[2918]=7472,y[2920]=7474,y[2921]=7475,y[2922]=7476,y[2924]=7478,y[2925]=7479,y[2926]=7480,y[2928]=7482,y[2929]=7483,y[2930]=7484,y[2932]=7486,y[2933]=7487,y[2934]=7488,y[2936]=7490,y[2937]=7491,y[2938]=7492,y[2940]=7494,y[2941]=7495,y[2942]=7496,y[2944]=7498,y[2946]=7500,y[2948]=7502,y[2950]=7504,y[2951]=7505,y[2952]=7506,y[2954]=7508,y[2955]=7509,y[2956]=7510,y[2958]=7512,y[2959]=7513,y[2960]=7514,y[2962]=7516,y[2963]=7517,y[2964]=7518,y[2966]=7520,y[2967]=7521,y[2968]=7522,y[2970]=7524,y[2971]=7525,y[2972]=7526,y[2974]=7528,y[2975]=7529,y[2976]=7530,y[2978]=1537,y[2979]=1538,y[2980]=1539,y[2982]=1549,y[2983]=1551,y[2984]=1552,y[2986]=1554,y[2987]=1555,y[2988]=1556,y[2990]=1623,y[2991]=1624,y[2995]=1775,y[2999]=1791,y[3002]=64290,y[3003]=64291,y[3004]=64292,y[3006]=64294,y[3007]=64295,y[3008]=64296,y[3011]=1900,y[3014]=8223,y[3015]=8244,y[3017]=7532,y[3018]=7533,y[3019]=7534,y[3075]=7590,y[3076]=7591,y[3079]=7594,y[3080]=7595,y[3083]=7598,y[3084]=7599,y[3087]=7602,y[3088]=7603,y[3091]=7606,y[3092]=7607,y[3095]=7610,y[3096]=7611,y[3099]=7614,y[3100]=7615,y[3103]=7618,y[3104]=7619,y[3107]=8337,y[3108]=8338,y[3116]=1884,y[3119]=1885,y[3120]=1885,y[3123]=1886,y[3124]=1886,y[3127]=1887,y[3128]=1887,y[3131]=1888,y[3132]=1888,y[3135]=1889,y[3136]=1889,y[3139]=1890,y[3140]=1890,y[3143]=1891,y[3144]=1891,y[3147]=1892,y[3148]=1892,y[3153]=580,y[3154]=581,y[3157]=584,y[3158]=585,y[3161]=588,y[3162]=589,y[3165]=891,y[3166]=892,y[3169]=1274,y[3170]=1275,y[3173]=1278,y[3174]=1279,y[3181]=7622,y[3182]=7623,y[3282]=11799,y[3316]=578,y[3379]=42785,y[3393]=1159,y[3416]=8377});o.getGlyphMapForStandardFonts=w;const v=(0,s.getLookupTableFactory)(function(y){y[227]=322,y[264]=261,y[291]=346});o.getSupplementalGlyphMapForArialBlack=v;const M=(0,s.getLookupTableFactory)(function(y){y[1]=32,y[4]=65,y[6]=193,y[17]=66,y[18]=67,y[21]=268,y[24]=68,y[28]=69,y[30]=201,y[32]=282,y[38]=70,y[39]=71,y[44]=72,y[47]=73,y[49]=205,y[58]=74,y[60]=75,y[62]=76,y[68]=77,y[69]=78,y[75]=79,y[87]=80,y[89]=81,y[90]=82,y[92]=344,y[94]=83,y[97]=352,y[100]=84,y[104]=85,y[115]=86,y[116]=87,y[121]=88,y[122]=89,y[124]=221,y[127]=90,y[129]=381,y[258]=97,y[260]=225,y[268]=261,y[271]=98,y[272]=99,y[273]=263,y[275]=269,y[282]=100,y[286]=101,y[288]=233,y[290]=283,y[295]=281,y[296]=102,y[336]=103,y[346]=104,y[349]=105,y[351]=237,y[361]=106,y[364]=107,y[367]=108,y[371]=322,y[373]=109,y[374]=110,y[381]=111,y[383]=243,y[393]=112,y[395]=113,y[396]=114,y[398]=345,y[400]=115,y[401]=347,y[403]=353,y[410]=116,y[437]=117,y[448]=118,y[449]=119,y[454]=120,y[455]=121,y[457]=253,y[460]=122,y[462]=382,y[463]=380,y[853]=44,y[855]=58,y[856]=46,y[876]=47,y[878]=45,y[882]=45,y[894]=40,y[895]=41,y[896]=91,y[897]=93,y[923]=64,y[1004]=48,y[1005]=49,y[1006]=50,y[1007]=51,y[1008]=52,y[1009]=53,y[1010]=54,y[1011]=55,y[1012]=56,y[1013]=57,y[1081]=37,y[1085]=43,y[1086]=45});o.getSupplementalGlyphMapForCalibri=M},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ToUnicodeMap=o.IdentityToUnicodeMap=void 0;var s=f(2);o.ToUnicodeMap=class{constructor(m=[]){this._map=m}get length(){return this._map.length}forEach(m){for(const p in this._map)m(p,this._map[p].charCodeAt(0))}has(m){return this._map[m]!==void 0}get(m){return this._map[m]}charCodeOf(m){const p=this._map;if(p.length<=65536)return p.indexOf(m);for(const t in p)if(p[t]===m)return 0|t;return-1}amend(m){for(const p in m)this._map[p]=m[p]}},o.IdentityToUnicodeMap=class{constructor(m,p){this.firstChar=m,this.lastChar=p}get length(){return this.lastChar+1-this.firstChar}forEach(m){for(let p=this.firstChar,t=this.lastChar;p<=t;p++)m(p,p)}has(m){return this.firstChar<=m&&m<=this.lastChar}get(m){if(this.firstChar<=m&&m<=this.lastChar)return String.fromCharCode(m)}charCodeOf(m){return Number.isInteger(m)&&m>=this.firstChar&&m<=this.lastChar?m:-1}amend(m){(0,s.unreachable)("Should not call amend()")}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CFFFont=void 0;var s=f(35),g=f(38),m=f(2);o.CFFFont=class{constructor(t,b){this.properties=b;const C=new s.CFFParser(t,b,g.SEAC_ANALYSIS_ENABLED);this.cff=C.parse(),this.cff.duplicateFirstGlyph();const w=new s.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=w.compile()}catch{(0,m.warn)("Failed to compile font "+b.loadedName),this.data=t}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const t=this.cff,b=this.properties,C=t.charset.charset;let w,v;if(b.composite){w=Object.create(null);let y;if(t.isCIDFont)for(v=0;v<C.length;v++){const I=C[v];y=b.cMap.charCodeOf(I),w[y]=v}else for(v=0;v<t.charStrings.count;v++)y=b.cMap.charCodeOf(v),w[y]=v;return w}let M=t.encoding?t.encoding.encoding:null;return b.isInternalFont&&(M=b.defaultEncoding),w=(0,g.type1FontGlyphMapping)(b,M,C),w}hasGlyphId(t){return this.cff.hasGlyphId(t)}_createBuiltInEncoding(){const{charset:t,encoding:b}=this.cff;if(!t||!b)return;const C=t.charset,w=b.encoding,v=[];for(const M in w){const y=w[M];if(y>=0){const I=C[y];I&&(v[M]=I)}}v.length>0&&(this.properties.builtInEncoding=v)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontRendererFactory=void 0;var s=f(2),g=f(35),m=f(39),p=f(37),t=f(10);function b(B,j){return(B[j]<<24|B[j+1]<<16|B[j+2]<<8|B[j+3])>>>0}function C(B,j){return B[j]<<8|B[j+1]}function w(B,j){return(B[j]<<24|B[j+1]<<16)>>16}function v(B,j){return B[j]<<24>>24}function M(B,j){return w(B,j)/16384}function y(B){const j=B.length;let ie=32768;return j<1240?ie=107:j<33900&&(ie=1131),ie}function I(B,j,ie){const E=C(B,j+2)===1?b(B,j+8):b(B,j+16),L=C(B,j+E);let ee,J,Y;if(L===4){C(B,j+E+2);const q=C(B,j+E+6)>>1;for(J=j+E+14,ee=[],Y=0;Y<q;Y++,J+=2)ee[Y]={end:C(B,J)};for(J+=2,Y=0;Y<q;Y++,J+=2)ee[Y].start=C(B,J);for(Y=0;Y<q;Y++,J+=2)ee[Y].idDelta=C(B,J);for(Y=0;Y<q;Y++,J+=2){let F=C(B,J);if(F!==0){ee[Y].ids=[];for(let O=0,Z=ee[Y].end-ee[Y].start+1;O<Z;O++)ee[Y].ids[O]=C(B,J+F),F+=2}}return ee}if(L===12){const q=b(B,j+E+12);for(J=j+E+16,ee=[],Y=0;Y<q;Y++)j=b(B,J),ee.push({start:j,end:b(B,J+4),idDelta:b(B,J+8)-j}),J+=12;return ee}throw new s.FormatError(`unsupported cmap: ${L}`)}function P(B,j,ie,E){const L=new g.CFFParser(new t.Stream(B,j,ie-j),{},E).parse();return{glyphs:L.charStrings.objects,subrs:L.topDict.privateDict&&L.topDict.privateDict.subrsIndex&&L.topDict.privateDict.subrsIndex.objects,gsubrs:L.globalSubrIndex&&L.globalSubrIndex.objects,isCFFCIDFont:L.isCIDFont,fdSelect:L.fdSelect,fdArray:L.fdArray}}function _(B,j){const ie=j.codePointAt(0);let E=0,L=0,ee=B.length-1;for(;L<ee;){const J=L+ee+1>>1;ie<B[J].start?ee=J-1:L=J}return B[L].start<=ie&&ie<=B[L].end&&(E=B[L].idDelta+(B[L].ids?B[L].ids[ie-B[L].start]:ie)&65535),{charCode:ie,glyphId:E}}function k(B,j,ie){function E(Z,se){j.push({cmd:"moveTo",args:[Z,se]})}function L(Z,se){j.push({cmd:"lineTo",args:[Z,se]})}function ee(Z,se,$,X){j.push({cmd:"quadraticCurveTo",args:[Z,se,$,X]})}let J=0;const Y=w(B,J);let q,F=0,O=0;if(J+=10,Y<0)do{q=C(B,J);const Z=C(B,J+2);J+=4;let se,$;1&q?(2&q?(se=w(B,J),$=w(B,J+2)):(se=C(B,J),$=C(B,J+2)),J+=4):2&q?(se=v(B,J++),$=v(B,J++)):(se=B[J++],$=B[J++]),2&q?(F=se,O=$):(F=0,O=0);let X=1,ne=1,oe=0,ue=0;8&q?(X=ne=M(B,J),J+=2):64&q?(X=M(B,J),ne=M(B,J+2),J+=4):128&q&&(X=M(B,J),oe=M(B,J+2),ue=M(B,J+4),ne=M(B,J+6),J+=8);const fe=ie.glyphs[Z];fe&&(j.push({cmd:"save"},{cmd:"transform",args:[X,oe,ue,ne,F,O]}),k(fe,j,ie),j.push({cmd:"restore"}))}while(32&q);else{const Z=[];let se,$;for(se=0;se<Y;se++)Z.push(C(B,J)),J+=2;J+=2+C(B,J);const X=Z.at(-1)+1,ne=[];for(;ne.length<X;){q=B[J++];let ue=1;for(8&q&&(ue+=B[J++]);ue-- >0;)ne.push({flags:q})}for(se=0;se<X;se++){switch(18&ne[se].flags){case 0:F+=w(B,J),J+=2;break;case 2:F-=B[J++];break;case 18:F+=B[J++]}ne[se].x=F}for(se=0;se<X;se++){switch(36&ne[se].flags){case 0:O+=w(B,J),J+=2;break;case 4:O-=B[J++];break;case 36:O+=B[J++]}ne[se].y=O}let oe=0;for(J=0;J<Y;J++){const ue=Z[J],fe=ne.slice(oe,ue+1);if(1&fe[0].flags)fe.push(fe[0]);else if(1&fe.at(-1).flags)fe.unshift(fe.at(-1));else{const le={flags:1,x:(fe[0].x+fe.at(-1).x)/2,y:(fe[0].y+fe.at(-1).y)/2};fe.unshift(le),fe.push(le)}for(E(fe[0].x,fe[0].y),se=1,$=fe.length;se<$;se++)1&fe[se].flags?L(fe[se].x,fe[se].y):1&fe[se+1].flags?(ee(fe[se].x,fe[se].y,fe[se+1].x,fe[se+1].y),se++):ee(fe[se].x,fe[se].y,(fe[se].x+fe[se+1].x)/2,(fe[se].y+fe[se+1].y)/2);oe=ue+1}}}function D(B,j,ie,E){function L(Z,se){j.push({cmd:"moveTo",args:[Z,se]})}function ee(Z,se){j.push({cmd:"lineTo",args:[Z,se]})}function J(Z,se,$,X,ne,oe){j.push({cmd:"bezierCurveTo",args:[Z,se,$,X,ne,oe]})}const Y=[];let q=0,F=0,O=0;(function Z(se){let $=0;for(;$<se.length;){let X,ne,oe,ue,fe,le,ae,de,re,Q=!1,ce=se[$++];switch(ce){case 1:case 3:case 18:case 23:O+=Y.length>>1,Q=!0;break;case 4:F+=Y.pop(),L(q,F),Q=!0;break;case 5:for(;Y.length>0;)q+=Y.shift(),F+=Y.shift(),ee(q,F);break;case 6:for(;Y.length>0&&(q+=Y.shift(),ee(q,F),Y.length!==0);)F+=Y.shift(),ee(q,F);break;case 7:for(;Y.length>0&&(F+=Y.shift(),ee(q,F),Y.length!==0);)q+=Y.shift(),ee(q,F);break;case 8:for(;Y.length>0;)X=q+Y.shift(),oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue+Y.shift(),J(X,oe,ne,ue,q,F);break;case 10:if(de=Y.pop(),re=null,ie.isCFFCIDFont){const he=ie.fdSelect.getFDIndex(E);if(he>=0&&he<ie.fdArray.length){const ge=ie.fdArray[he];let pe;ge.privateDict&&ge.privateDict.subrsIndex&&(pe=ge.privateDict.subrsIndex.objects),pe&&(de+=y(pe),re=pe[de])}else(0,s.warn)("Invalid fd index for glyph index.")}else re=ie.subrs[de+ie.subrsBias];re&&Z(re);break;case 11:return;case 12:switch(ce=se[$++],ce){case 34:X=q+Y.shift(),ne=X+Y.shift(),fe=F+Y.shift(),q=ne+Y.shift(),J(X,F,ne,fe,q,fe),X=q+Y.shift(),ne=X+Y.shift(),q=ne+Y.shift(),J(X,fe,ne,F,q,F);break;case 35:X=q+Y.shift(),oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue+Y.shift(),J(X,oe,ne,ue,q,F),X=q+Y.shift(),oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue+Y.shift(),J(X,oe,ne,ue,q,F),Y.pop();break;case 36:X=q+Y.shift(),fe=F+Y.shift(),ne=X+Y.shift(),le=fe+Y.shift(),q=ne+Y.shift(),J(X,fe,ne,le,q,le),X=q+Y.shift(),ne=X+Y.shift(),ae=le+Y.shift(),q=ne+Y.shift(),J(X,le,ne,ae,q,F);break;case 37:const he=q,ge=F;X=q+Y.shift(),oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue+Y.shift(),J(X,oe,ne,ue,q,F),X=q+Y.shift(),oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne,F=ue,Math.abs(q-he)>Math.abs(F-ge)?q+=Y.shift():F+=Y.shift(),J(X,oe,ne,ue,q,F);break;default:throw new s.FormatError(`unknown operator: 12 ${ce}`)}break;case 14:if(Y.length>=4){const he=Y.pop(),ge=Y.pop();F=Y.pop(),q=Y.pop(),j.push({cmd:"save"},{cmd:"translate",args:[q,F]});let pe=_(ie.cmap,String.fromCharCode(ie.glyphNameMap[p.StandardEncoding[he]]));D(ie.glyphs[pe.glyphId],j,ie,pe.glyphId),j.push({cmd:"restore"}),pe=_(ie.cmap,String.fromCharCode(ie.glyphNameMap[p.StandardEncoding[ge]])),D(ie.glyphs[pe.glyphId],j,ie,pe.glyphId)}return;case 19:case 20:O+=Y.length>>1,$+=O+7>>3,Q=!0;break;case 21:F+=Y.pop(),q+=Y.pop(),L(q,F),Q=!0;break;case 22:q+=Y.pop(),L(q,F),Q=!0;break;case 24:for(;Y.length>2;)X=q+Y.shift(),oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue+Y.shift(),J(X,oe,ne,ue,q,F);q+=Y.shift(),F+=Y.shift(),ee(q,F);break;case 25:for(;Y.length>6;)q+=Y.shift(),F+=Y.shift(),ee(q,F);X=q+Y.shift(),oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue+Y.shift(),J(X,oe,ne,ue,q,F);break;case 26:for(Y.length%2&&(q+=Y.shift());Y.length>0;)X=q,oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne,F=ue+Y.shift(),J(X,oe,ne,ue,q,F);break;case 27:for(Y.length%2&&(F+=Y.shift());Y.length>0;)X=q+Y.shift(),oe=F,ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue,J(X,oe,ne,ue,q,F);break;case 28:Y.push((se[$]<<24|se[$+1]<<16)>>16),$+=2;break;case 29:de=Y.pop()+ie.gsubrsBias,re=ie.gsubrs[de],re&&Z(re);break;case 30:for(;Y.length>0&&(X=q,oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue+(Y.length===1?Y.shift():0),J(X,oe,ne,ue,q,F),Y.length!==0);)X=q+Y.shift(),oe=F,ne=X+Y.shift(),ue=oe+Y.shift(),F=ue+Y.shift(),q=ne+(Y.length===1?Y.shift():0),J(X,oe,ne,ue,q,F);break;case 31:for(;Y.length>0&&(X=q+Y.shift(),oe=F,ne=X+Y.shift(),ue=oe+Y.shift(),F=ue+Y.shift(),q=ne+(Y.length===1?Y.shift():0),J(X,oe,ne,ue,q,F),Y.length!==0);)X=q,oe=F+Y.shift(),ne=X+Y.shift(),ue=oe+Y.shift(),q=ne+Y.shift(),F=ue+(Y.length===1?Y.shift():0),J(X,oe,ne,ue,q,F);break;default:if(ce<32)throw new s.FormatError(`unknown operator: ${ce}`);ce<247?Y.push(ce-139):ce<251?Y.push(256*(ce-247)+se[$++]+108):ce<255?Y.push(256*-(ce-251)-se[$++]-108):(Y.push((se[$]<<24|se[$+1]<<16|se[$+2]<<8|se[$+3])/65536),$+=4)}Q&&(Y.length=0)}})(B)}const V=[];class R{constructor(j){this.constructor===R&&(0,s.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=j,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(j){const{charCode:ie,glyphId:E}=_(this.cmap,j);let L=this.compiledGlyphs[E];if(!L)try{L=this.compileGlyph(this.glyphs[E],E),this.compiledGlyphs[E]=L}catch(ee){throw this.compiledGlyphs[E]=V,this.compiledCharCodeToGlyphId[ie]===void 0&&(this.compiledCharCodeToGlyphId[ie]=E),ee}return this.compiledCharCodeToGlyphId[ie]===void 0&&(this.compiledCharCodeToGlyphId[ie]=E),L}compileGlyph(j,ie){if(!j||j.length===0||j[0]===14)return V;let E=this.fontMatrix;if(this.isCFFCIDFont){const ee=this.fdSelect.getFDIndex(ie);ee>=0&&ee<this.fdArray.length?E=this.fdArray[ee].getByName("FontMatrix")||s.FONT_IDENTITY_MATRIX:(0,s.warn)("Invalid fd index for glyph index.")}const L=[{cmd:"save"},{cmd:"transform",args:E.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(j,L,ie),L.push({cmd:"restore"}),L}compileGlyphImpl(){(0,s.unreachable)("Children classes should implement this.")}hasBuiltPath(j){const{charCode:ie,glyphId:E}=_(this.cmap,j);return this.compiledGlyphs[E]!==void 0&&this.compiledCharCodeToGlyphId[ie]!==void 0}}class U extends R{constructor(j,ie,E){super(E||[488e-6,0,0,488e-6,0,0]),this.glyphs=j,this.cmap=ie}compileGlyphImpl(j,ie){k(j,ie,this)}}class te extends R{constructor(j,ie,E,L){super(E||[.001,0,0,.001,0,0]),this.glyphs=j.glyphs,this.gsubrs=j.gsubrs||[],this.subrs=j.subrs||[],this.cmap=ie,this.glyphNameMap=L||(0,m.getGlyphsUnicode)(),this.gsubrsBias=y(this.gsubrs),this.subrsBias=y(this.subrs),this.isCFFCIDFont=j.isCFFCIDFont,this.fdSelect=j.fdSelect,this.fdArray=j.fdArray}compileGlyphImpl(j,ie,E){D(j,ie,this,E)}}o.FontRendererFactory=class{static create(j,ie){const E=new Uint8Array(j.data);let L,ee,J,Y,q,F;const O=C(E,4);for(let Z=0,se=12;Z<O;Z++,se+=16){const $=(0,s.bytesToString)(E.subarray(se,se+4)),X=b(E,se+8),ne=b(E,se+12);switch($){case"cmap":L=I(E,X);break;case"glyf":ee=E.subarray(X,X+ne);break;case"loca":J=E.subarray(X,X+ne);break;case"head":F=C(E,X+18),q=C(E,X+50);break;case"CFF ":Y=P(E,X,X+ne,ie)}}if(ee){const Z=F?[1/F,0,0,1/F,0,0]:j.fontMatrix;return new U(function($,X,ne){let oe,ue;ne?(oe=4,ue=b):(oe=2,ue=(ae,de)=>2*C(ae,de));const fe=[];let le=ue(X,0);for(let ae=oe;ae<X.length;ae+=oe){const de=ue(X,ae);fe.push($.subarray(le,de)),le=de}return fe}(ee,J,q),L,Z)}return new te(Y,L,j.fontMatrix,j.glyphNameMap)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getMetrics=o.getFontBasicMetrics=void 0;var s=f(6);const g=(0,s.getLookupTableFactory)(function(p){p.Courier=600,p["Courier-Bold"]=600,p["Courier-BoldOblique"]=600,p["Courier-Oblique"]=600,p.Helvetica=(0,s.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),p["Helvetica-Bold"]=(0,s.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),p["Helvetica-BoldOblique"]=(0,s.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),p["Helvetica-Oblique"]=(0,s.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),p.Symbol=(0,s.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),p["Times-Roman"]=(0,s.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),p["Times-Bold"]=(0,s.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),p["Times-BoldItalic"]=(0,s.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),p["Times-Italic"]=(0,s.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),p.ZapfDingbats=(0,s.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});o.getMetrics=g;const m=(0,s.getLookupTableFactory)(function(p){p.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},p["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},p["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},p["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},p.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},p["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},p["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},p["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},p["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},p["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},p["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},p["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},p.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},p.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});o.getFontBasicMetrics=m},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlyfTable=void 0,o.GlyfTable=class{constructor({glyfTable:b,isGlyphLocationsLong:C,locaTable:w,numGlyphs:v}){this.glyphs=[];const M=new DataView(w.buffer,w.byteOffset,w.byteLength),y=new DataView(b.buffer,b.byteOffset,b.byteLength),I=C?4:2;let P=C?M.getUint32(0):2*M.getUint16(0),_=0;for(let k=0;k<v;k++){_+=I;const D=C?M.getUint32(_):2*M.getUint16(_);if(D===P){this.glyphs.push(new f({}));continue}const V=f.parse(P,y);this.glyphs.push(V),P=D}}getSize(){return this.glyphs.reduce((b,C)=>b+(C.getSize()+3&-4),0)}write(){const b=this.getSize(),C=new DataView(new ArrayBuffer(b)),w=b>131070,v=w?4:2,M=new DataView(new ArrayBuffer((this.glyphs.length+1)*v));w?M.setUint32(0,0):M.setUint16(0,0);let y=0,I=0;for(const P of this.glyphs)y+=P.write(y,C),y=y+3&-4,I+=v,w?M.setUint32(I,y):M.setUint16(I,y>>1);return{isLocationLong:w,loca:new Uint8Array(M.buffer),glyf:new Uint8Array(C.buffer)}}scale(b){for(let C=0,w=this.glyphs.length;C<w;C++)this.glyphs[C].scale(b[C])}};class f{constructor({header:b=null,simple:C=null,composites:w=null}){this.header=b,this.simple=C,this.composites=w}static parse(b,C){const[w,v]=s.parse(b,C);if(b+=w,v.numberOfContours<0){const y=[];for(;;){const[I,P]=p.parse(b,C);if(b+=I,y.push(P),!(32&P.flags))break}return new f({header:v,composites:y})}const M=m.parse(b,C,v.numberOfContours);return new f({header:v,simple:M})}getSize(){if(!this.header)return 0;const b=this.simple?this.simple.getSize():this.composites.reduce((C,w)=>C+w.getSize(),0);return this.header.getSize()+b}write(b,C){if(!this.header)return 0;const w=b;if(b+=this.header.write(b,C),this.simple)b+=this.simple.write(b,C);else for(const v of this.composites)b+=v.write(b,C);return b-w}scale(b){if(!this.header)return;const C=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(C,b),this.simple)this.simple.scale(C,b);else for(const w of this.composites)w.scale(C,b)}}class s{constructor({numberOfContours:b,xMin:C,yMin:w,xMax:v,yMax:M}){this.numberOfContours=b,this.xMin=C,this.yMin=w,this.xMax=v,this.yMax=M}static parse(b,C){return[10,new s({numberOfContours:C.getInt16(b),xMin:C.getInt16(b+2),yMin:C.getInt16(b+4),xMax:C.getInt16(b+6),yMax:C.getInt16(b+8)})]}getSize(){return 10}write(b,C){return C.setInt16(b,this.numberOfContours),C.setInt16(b+2,this.xMin),C.setInt16(b+4,this.yMin),C.setInt16(b+6,this.xMax),C.setInt16(b+8,this.yMax),10}scale(b,C){this.xMin=Math.round(b+(this.xMin-b)*C),this.xMax=Math.round(b+(this.xMax-b)*C)}}class g{constructor({flags:b,xCoordinates:C,yCoordinates:w}){this.xCoordinates=C,this.yCoordinates=w,this.flags=b}}class m{constructor({contours:b,instructions:C}){this.contours=b,this.instructions=C}static parse(b,C,w){const v=[];for(let B=0;B<w;B++){const j=C.getUint16(b);b+=2,v.push(j)}const M=v[w-1]+1,y=C.getUint16(b);b+=2;const I=new Uint8Array(C).slice(b,b+y);b+=y;const P=[];for(let B=0;B<M;b++,B++){let j=C.getUint8(b);if(P.push(j),8&j){const ie=C.getUint8(++b);j^=8;for(let E=0;E<ie;E++)P.push(j);B+=ie}}const _=[];let k=[],D=[],V=[];const R=[];let U=0,te=0;for(let B=0;B<M;B++){const j=P[B];if(2&j){const ie=C.getUint8(b++);te+=16&j?ie:-ie,k.push(te)}else 16&j||(te+=C.getInt16(b),b+=2),k.push(te);v[U]===B&&(U++,_.push(k),k=[])}te=0,U=0;for(let B=0;B<M;B++){const j=P[B];if(4&j){const ie=C.getUint8(b++);te+=32&j?ie:-ie,D.push(te)}else 32&j||(te+=C.getInt16(b),b+=2),D.push(te);V.push(1&j|64&j),v[U]===B&&(k=_[U],U++,R.push(new g({flags:V,xCoordinates:k,yCoordinates:D})),D=[],V=[])}return new m({contours:R,instructions:I})}getSize(){let b=2*this.contours.length+2+this.instructions.length,C=0,w=0;for(const v of this.contours){b+=v.flags.length;for(let M=0,y=v.xCoordinates.length;M<y;M++){const I=v.xCoordinates[M],P=v.yCoordinates[M];let _=Math.abs(I-C);_>255?b+=2:_>0&&(b+=1),C=I,_=Math.abs(P-w),_>255?b+=2:_>0&&(b+=1),w=P}}return b}write(b,C){const w=b,v=[],M=[],y=[];let I=0,P=0;for(const _ of this.contours){for(let k=0,D=_.xCoordinates.length;k<D;k++){let V=_.flags[k];const R=_.xCoordinates[k];let U=R-I;if(U===0)V|=16,v.push(0);else{const B=Math.abs(U);B<=255?(V|=U>=0?18:2,v.push(B)):v.push(U)}I=R;const te=_.yCoordinates[k];if(U=te-P,U===0)V|=32,M.push(0);else{const B=Math.abs(U);B<=255?(V|=U>=0?36:4,M.push(B)):M.push(U)}P=te,y.push(V)}C.setUint16(b,v.length-1),b+=2}C.setUint16(b,this.instructions.length),b+=2,this.instructions.length&&(new Uint8Array(C.buffer,0,C.buffer.byteLength).set(this.instructions,b),b+=this.instructions.length);for(const _ of y)C.setUint8(b++,_);for(let _=0,k=v.length;_<k;_++){const D=v[_],V=y[_];2&V?C.setUint8(b++,D):16&V||(C.setInt16(b,D),b+=2)}for(let _=0,k=M.length;_<k;_++){const D=M[_],V=y[_];4&V?C.setUint8(b++,D):32&V||(C.setInt16(b,D),b+=2)}return b-w}scale(b,C){for(const w of this.contours)if(w.xCoordinates.length!==0)for(let v=0,M=w.xCoordinates.length;v<M;v++)w.xCoordinates[v]=Math.round(b+(w.xCoordinates[v]-b)*C)}}class p{constructor({flags:b,glyphIndex:C,argument1:w,argument2:v,transf:M,instructions:y}){this.flags=b,this.glyphIndex=C,this.argument1=w,this.argument2=v,this.transf=M,this.instructions=y}static parse(b,C){const w=b,v=[];let M=C.getUint16(b);const y=C.getUint16(b+2);b+=4;let I,P;1&M?(2&M?(I=C.getInt16(b),P=C.getInt16(b+2)):(I=C.getUint16(b),P=C.getUint16(b+2)),b+=4,M^=1):(2&M?(I=C.getInt8(b),P=C.getInt8(b+1)):(I=C.getUint8(b),P=C.getUint8(b+1)),b+=2),8&M?(v.push(C.getUint16(b)),b+=2):64&M?(v.push(C.getUint16(b),C.getUint16(b+2)),b+=4):128&M&&(v.push(C.getUint16(b),C.getUint16(b+2),C.getUint16(b+4),C.getUint16(b+6)),b+=8);let _=null;if(256&M){const k=C.getUint16(b);b+=2,_=new Uint8Array(C).slice(b,b+k),b+=k}return[b-w,new p({flags:M,glyphIndex:y,argument1:I,argument2:P,transf:v,instructions:_})]}getSize(){let b=4+2*this.transf.length;return 256&this.flags&&(b+=2+this.instructions.length),b+=2,2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(b+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(b+=2),b}write(b,C){const w=b;return 2&this.flags?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=1):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=1),C.setUint16(b,this.flags),C.setUint16(b+2,this.glyphIndex),b+=4,1&this.flags?(2&this.flags?(C.setInt16(b,this.argument1),C.setInt16(b+2,this.argument2)):(C.setUint16(b,this.argument1),C.setUint16(b+2,this.argument2)),b+=4):(C.setUint8(b,this.argument1),C.setUint8(b+1,this.argument2),b+=2),256&this.flags&&(C.setUint16(b,this.instructions.length),b+=2,this.instructions.length&&(new Uint8Array(C.buffer,0,C.buffer.byteLength).set(this.instructions,b),b+=this.instructions.length)),b-w}scale(b,C){}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OpenTypeFileBuilder=void 0;var s=f(6),g=f(2);function m(C,w,v){C[w]=v>>8&255,C[w+1]=255&v}function p(C,w,v){C[w]=v>>24&255,C[w+1]=v>>16&255,C[w+2]=v>>8&255,C[w+3]=255&v}function t(C,w,v){if(v instanceof Uint8Array)C.set(v,w);else if(typeof v=="string")for(let M=0,y=v.length;M<y;M++)C[w++]=255&v.charCodeAt(M);else for(let M=0,y=v.length;M<y;M++)C[w++]=255&v[M]}class b{constructor(w){this.sfnt=w,this.tables=Object.create(null)}static getSearchParams(w,v){let M=1,y=0;for(;(M^w)>M;)M<<=1,y++;const I=M*v;return{range:I,entry:y,rangeShift:v*w-I}}toArray(){let w=this.sfnt;const v=this.tables,M=Object.keys(v);M.sort();const y=M.length;let I,P,_,k,D,V=12+16*y;const R=[V];for(I=0;I<y;I++)k=v[M[I]],V+=(k.length+3&-4)>>>0,R.push(V);const U=new Uint8Array(V);for(I=0;I<y;I++)k=v[M[I]],t(U,R[I],k);w==="true"&&(w=(0,g.string32)(65536)),U[0]=255&w.charCodeAt(0),U[1]=255&w.charCodeAt(1),U[2]=255&w.charCodeAt(2),U[3]=255&w.charCodeAt(3),m(U,4,y);const te=b.getSearchParams(y,16);for(m(U,6,te.range),m(U,8,te.entry),m(U,10,te.rangeShift),V=12,I=0;I<y;I++){D=M[I],U[V]=255&D.charCodeAt(0),U[V+1]=255&D.charCodeAt(1),U[V+2]=255&D.charCodeAt(2),U[V+3]=255&D.charCodeAt(3);let B=0;for(P=R[I],_=R[I+1];P<_;P+=4)B=B+(0,s.readUint32)(U,P)>>>0;p(U,V+4,B),p(U,V+8,R[I]),p(U,V+12,v[D].length),V+=16}return U}addTable(w,v){if(w in this.tables)throw new Error("Table "+w+" already exists");this.tables[w]=v}}o.OpenTypeFileBuilder=b},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Type1Font=void 0;var s=f(35),g=f(38),m=f(6),p=f(10),t=f(49),b=f(2);function C(w,v,M){const y=w.length,I=v.length,P=y-I;let _=M,k=!1;for(;_<P;){let D=0;for(;D<I&&w[_+D]===v[D];)D++;if(D>=I){for(_+=D;_<y&&(0,m.isWhiteSpace)(w[_]);)_++;k=!0;break}_++}return{found:k,length:_}}o.Type1Font=class{constructor(v,M,y){let I=y.length1;y.length2;let P=M.peekBytes(6);const _=P[0]===128&&P[1]===1;_&&(M.skip(6),I=P[5]<<24|P[4]<<16|P[3]<<8|P[2]);const k=function(j,ie){const E=[101,101,120,101,99],L=j.pos;let ee,J,Y,q;try{ee=j.getBytes(ie),J=ee.length}catch{}if(J===ie&&(Y=C(ee,E,ie-2*E.length),Y.found&&Y.length===ie))return{stream:new p.Stream(ee),length:ie};for((0,b.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),j.pos=L;Y=C(j.peekBytes(2048),E,0),Y.length!==0;)if(j.pos+=Y.length,Y.found){q=j.pos-L;break}return j.pos=L,q?{stream:new p.Stream(j.getBytes(q)),length:q}:((0,b.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new p.Stream(j.getBytes(ie)),length:ie})}(M,I);new t.Type1Parser(k.stream,!1,g.SEAC_ANALYSIS_ENABLED).extractFontHeader(y),_&&(P=M.getBytes(6),P[5]<<24|P[4]<<16|P[3]<<8|P[2]);const D=function(j,ie){const E=j.getBytes();return{stream:new p.Stream(E),length:E.length}}(M),V=new t.Type1Parser(D.stream,!0,g.SEAC_ANALYSIS_ENABLED).extractFontProgram(y);for(const B in V.properties)y[B]=V.properties[B];const R=V.charstrings,U=this.getType2Charstrings(R),te=this.getType2Subrs(V.subrs);this.charstrings=R,this.data=this.wrap(v,U,this.charstrings,te,y),this.seacs=this.getSeacs(V.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const v=[".notdef"];for(const{glyphName:M}of this.charstrings)v.push(M);return v}getGlyphMapping(v){const M=this.charstrings;if(v.composite){const k=Object.create(null);for(let D=0,V=M.length;D<V;D++)k[v.cMap.charCodeOf(D)]=D+1;return k}const y=[".notdef"];let I,P;for(P=0;P<M.length;P++)y.push(M[P].glyphName);const _=v.builtInEncoding;if(_){I=Object.create(null);for(const k in _)P=y.indexOf(_[k]),P>=0&&(I[k]=P)}return(0,g.type1FontGlyphMapping)(v,I,y)}hasGlyphId(v){return v<0||v>=this.numGlyphs?!1:v===0?!0:this.charstrings[v-1].charstring.length>0}getSeacs(v){const M=[];for(let y=0,I=v.length;y<I;y++){const P=v[y];P.seac&&(M[y+1]=P.seac)}return M}getType2Charstrings(v){const M=[];for(let y=0,I=v.length;y<I;y++)M.push(v[y].charstring);return M}getType2Subrs(v){let M=0;const y=v.length;M=y<1133?107:y<33769?1131:32768;const I=[];let P;for(P=0;P<M;P++)I.push([11]);for(P=0;P<y;P++)I.push(v[P]);return I}wrap(v,M,y,I,P){const _=new s.CFF;_.header=new s.CFFHeader(1,0,4,4),_.names=[v];const k=new s.CFFTopDict;k.setByName("version",391),k.setByName("Notice",392),k.setByName("FullName",393),k.setByName("FamilyName",394),k.setByName("Weight",395),k.setByName("Encoding",null),k.setByName("FontMatrix",P.fontMatrix),k.setByName("FontBBox",P.bbox),k.setByName("charset",null),k.setByName("CharStrings",null),k.setByName("Private",null),_.topDict=k;const D=new s.CFFStrings;D.add("Version 0.11"),D.add("See original notice"),D.add(v),D.add(v),D.add("Medium"),_.strings=D,_.globalSubrIndex=new s.CFFIndex;const V=M.length,R=[".notdef"];let U,te;for(U=0;U<V;U++){const L=y[U].glyphName;s.CFFStandardStrings.indexOf(L)===-1&&D.add(L),R.push(L)}_.charset=new s.CFFCharset(!1,0,R);const B=new s.CFFIndex;for(B.add([139,14]),U=0;U<V;U++)B.add(M[U]);_.charStrings=B;const j=new s.CFFPrivateDict;j.setByName("Subrs",null);const ie=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(U=0,te=ie.length;U<te;U++){const L=ie[U];if(!(L in P.privateData))continue;const ee=P.privateData[L];if(Array.isArray(ee))for(let J=ee.length-1;J>0;J--)ee[J]-=ee[J-1];j.setByName(L,ee)}_.topDict.privateDict=j;const E=new s.CFFIndex;for(U=0,te=I.length;U<te;U++)E.add(I[U]);return j.subrsIndex=E,new s.CFFCompiler(_).compile()}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Type1Parser=void 0;var s=f(37),g=f(6),m=f(10),p=f(2);const t=[4],b=[5],C=[6],w=[7],v=[8],M=[12,35],y=[14],I=[21],P=[22],_=[30],k=[31];class D{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(B,j,ie){const E=B.length;let L,ee,J,Y=!1;for(let q=0;q<E;q++){let F=B[q];if(F<32){switch(F===12&&(F=(F<<8)+B[++q]),F){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){Y=!0;break}const X=this.stack.pop();this.stack.push(0,X);break}Y=this.executeCommand(1,t);break;case 5:Y=this.executeCommand(2,b);break;case 6:Y=this.executeCommand(1,C);break;case 7:Y=this.executeCommand(1,w);break;case 8:Y=this.executeCommand(6,v);break;case 10:if(this.stack.length<1){Y=!0;break}if(J=this.stack.pop(),!j[J]){Y=!0;break}Y=this.convert(j[J],j,ie);break;case 11:return Y;case 13:if(this.stack.length<2){Y=!0;break}L=this.stack.pop(),ee=this.stack.pop(),this.lsb=ee,this.width=L,this.stack.push(L,ee),Y=this.executeCommand(2,P);break;case 14:this.output.push(y[0]);break;case 21:if(this.flexing)break;Y=this.executeCommand(2,I);break;case 22:if(this.flexing){this.stack.push(0);break}Y=this.executeCommand(1,P);break;case 30:Y=this.executeCommand(4,_);break;case 31:Y=this.executeCommand(4,k);break;case 3078:if(ie){const X=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-X,Y=this.executeCommand(0,y)}else Y=this.executeCommand(4,y);break;case 3079:if(this.stack.length<4){Y=!0;break}this.stack.pop(),L=this.stack.pop();const O=this.stack.pop();ee=this.stack.pop(),this.lsb=ee,this.width=L,this.stack.push(L,ee,O),Y=this.executeCommand(3,I);break;case 3084:if(this.stack.length<2){Y=!0;break}const Z=this.stack.pop(),se=this.stack.pop();this.stack.push(se/Z);break;case 3088:if(this.stack.length<2){Y=!0;break}J=this.stack.pop();const $=this.stack.pop();if(J===0&&$===3){const X=this.stack.splice(this.stack.length-17,17);this.stack.push(X[2]+X[0],X[3]+X[1],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14]),Y=this.executeCommand(13,M,!0),this.flexing=!1,this.stack.push(X[15],X[16])}else J===1&&$===0&&(this.flexing=!0);break;case 3089:break;default:(0,p.warn)('Unknown type 1 charstring command of "'+F+'"')}if(Y)break}else F<=246?F-=139:F=F<=250?256*(F-247)+B[++q]+108:F<=254?-256*(F-251)-B[++q]-108:(255&B[++q])<<24|(255&B[++q])<<16|(255&B[++q])<<8|(255&B[++q])<<0,this.stack.push(F)}return Y}executeCommand(B,j,ie){const E=this.stack.length;if(B>E)return!0;const L=E-B;for(let ee=L;ee<E;ee++){let J=this.stack[ee];Number.isInteger(J)?this.output.push(28,J>>8&255,255&J):(J=65536*J|0,this.output.push(255,J>>24&255,J>>16&255,J>>8&255,255&J))}return this.output.push(...j),ie?this.stack.splice(L,B):this.stack.length=0,!1}}function V(te){return te>=48&&te<=57||te>=65&&te<=70||te>=97&&te<=102}function R(te,B,j){if(j>=te.length)return new Uint8Array(0);let ie,E,L=0|B;for(ie=0;ie<j;ie++)L=52845*(te[ie]+L)+22719&65535;const ee=te.length-j,J=new Uint8Array(ee);for(ie=j,E=0;E<ee;ie++,E++){const Y=te[ie];J[E]=Y^L>>8,L=52845*(Y+L)+22719&65535}return J}function U(te){return te===47||te===91||te===93||te===123||te===125||te===40||te===41}o.Type1Parser=class{constructor(B,j,ie){if(j){const E=B.getBytes(),L=!((V(E[0])||(0,g.isWhiteSpace)(E[0]))&&V(E[1])&&V(E[2])&&V(E[3])&&V(E[4])&&V(E[5])&&V(E[6])&&V(E[7]));B=new m.Stream(L?R(E,55665,4):function(J,Y,q){let F=0|Y;const O=J.length,Z=new Uint8Array(O>>>1);let se,$;for(se=0,$=0;se<O;se++){const X=J[se];if(!V(X))continue;se++;let ne;for(;se<O&&!V(ne=J[se]);)se++;if(se<O){const oe=parseInt(String.fromCharCode(X,ne),16);Z[$++]=oe^F>>8,F=52845*(oe+F)+22719&65535}}return Z.slice(q,$)}(E,55665,4))}this.seacAnalysisEnabled=!!ie,this.stream=B,this.nextChar()}readNumberArray(){this.getToken();const B=[];for(;;){const j=this.getToken();if(j===null||j==="]"||j==="}")break;B.push(parseFloat(j||0))}return B}readNumber(){const B=this.getToken();return parseFloat(B||0)}readInt(){const B=this.getToken();return 0|parseInt(B||0,10)}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let B=!1,j=this.currentChar;for(;;){if(j===-1)return null;if(B)j!==10&&j!==13||(B=!1);else if(j===37)B=!0;else if(!(0,g.isWhiteSpace)(j))break;j=this.nextChar()}if(U(j))return this.nextChar(),String.fromCharCode(j);let ie="";do ie+=String.fromCharCode(j),j=this.nextChar();while(j>=0&&!(0,g.isWhiteSpace)(j)&&!U(j));return ie}readCharStrings(B,j){return j===-1?B:R(B,4330,j)}extractFontProgram(B){const j=this.stream,ie=[],E=[],L=Object.create(null);L.lenIV=4;const ee={subrs:[],charstrings:[],properties:{privateData:L}};let J,Y,q,F;for(;(J=this.getToken())!==null;)if(J==="/")switch(J=this.getToken(),J){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();J=this.getToken(),!(J===null||J==="end");){if(J!=="/")continue;const Z=this.getToken();Y=this.readInt(),this.getToken(),q=Y>0?j.getBytes(Y):new Uint8Array(0),F=ee.properties.privateData.lenIV;const se=this.readCharStrings(q,F);this.nextChar(),J=this.getToken(),J==="noaccess"?this.getToken():J==="/"&&this.prevChar(),E.push({glyph:Z,encoded:se})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const Z=this.readInt();Y=this.readInt(),this.getToken(),q=Y>0?j.getBytes(Y):new Uint8Array(0),F=ee.properties.privateData.lenIV;const se=this.readCharStrings(q,F);this.nextChar(),J=this.getToken(),J==="noaccess"&&this.getToken(),ie[Z]=se}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const O=this.readNumberArray();O.length>0&&O.length;break;case"StemSnapH":case"StemSnapV":ee.properties.privateData[J]=this.readNumberArray();break;case"StdHW":case"StdVW":ee.properties.privateData[J]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":ee.properties.privateData[J]=this.readNumber();break;case"ForceBold":ee.properties.privateData[J]=this.readBoolean()}for(const{encoded:O,glyph:Z}of E){const se=new D,$=se.convert(O,ie,this.seacAnalysisEnabled);let X=se.output;$&&(X=[14]);const ne={glyphName:Z,charstring:X,width:se.width,lsb:se.lsb,seac:se.seac};if(Z===".notdef"?ee.charstrings.unshift(ne):ee.charstrings.push(ne),B.builtInEncoding){const oe=B.builtInEncoding.indexOf(Z);oe>-1&&B.widths[oe]===void 0&&oe>=B.firstChar&&oe<=B.lastChar&&(B.widths[oe]=se.width)}}return ee}extractFontHeader(B){let j;for(;(j=this.getToken())!==null;)if(j==="/")switch(j=this.getToken(),j){case"FontMatrix":const ie=this.readNumberArray();B.fontMatrix=ie;break;case"Encoding":const E=this.getToken();let L;if(/^\d+$/.test(E)){L=[];const J=0|parseInt(E,10);this.getToken();for(let Y=0;Y<J;Y++){for(j=this.getToken();j!=="dup"&&j!=="def";)if(j=this.getToken(),j===null)return;if(j==="def")break;const q=this.readInt();this.getToken();const F=this.getToken();L[q]=F,this.getToken()}}else L=(0,s.getEncoding)(E);B.builtInEncoding=L;break;case"FontBBox":const ee=this.readNumberArray();B.ascent=Math.max(ee[3],ee[1]),B.descent=Math.min(ee[1],ee[3]),B.ascentScaled=!0}}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Pattern=void 0,o.getTilingPatternIR=function(R,U,te){const B=U.getArray("Matrix"),j=s.Util.normalizeRect(U.getArray("BBox")),ie=U.get("XStep"),E=U.get("YStep"),L=U.get("PaintType"),ee=U.get("TilingType");if(j[2]-j[0]==0||j[3]-j[1]==0)throw new s.FormatError(`Invalid getTilingPatternIR /BBox array: [${j}].`);return["TilingPattern",te,R,B,j,ie,E,L,ee]};var s=f(2),g=f(7),m=f(14),p=f(6);const t=2,b=3,C=4,w=5,v=6,M=7;o.Pattern=class{constructor(){(0,s.unreachable)("Cannot initialize Pattern.")}static parseShading(R,U,te,B,j,ie){const E=R instanceof g.BaseStream?R.dict:R,L=E.get("ShadingType");try{switch(L){case t:case b:return new I(E,U,te,j,ie);case C:case w:case v:case M:return new k(R,U,te,j,ie);default:throw new s.FormatError("Unsupported ShadingType: "+L)}}catch(ee){if(ee instanceof p.MissingDataException)throw ee;return B.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.shadingPattern}),(0,s.warn)(ee),new D}}};class y{static get SMALL_NUMBER(){return(0,s.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===y&&(0,s.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,s.unreachable)("Abstract method `getIR` called.")}}class I extends y{constructor(R,U,te,B,j){super(),this.coordsArr=R.getArray("Coords"),this.shadingType=R.get("ShadingType");const ie=m.ColorSpace.parse({cs:R.getRaw("CS")||R.getRaw("ColorSpace"),xref:U,resources:te,pdfFunctionFactory:B,localColorSpaceCache:j}),E=R.getArray("BBox");Array.isArray(E)&&E.length===4?this.bbox=s.Util.normalizeRect(E):this.bbox=null;let L=0,ee=1;if(R.has("Domain")){const oe=R.getArray("Domain");L=oe[0],ee=oe[1]}let J=!1,Y=!1;if(R.has("Extend")){const oe=R.getArray("Extend");J=oe[0],Y=oe[1]}if(!(this.shadingType!==b||J&&Y)){const[oe,ue,fe,le,ae,de]=this.coordsArr,re=Math.hypot(oe-le,ue-ae);fe<=de+re&&de<=fe+re&&(0,s.warn)("Unsupported radial gradient.")}this.extendStart=J,this.extendEnd=Y;const q=R.getRaw("Function"),F=B.createFromArray(q),O=(ee-L)/10,Z=this.colorStops=[];if(L>=ee||O<=0){(0,s.info)("Bad shading domain.");return}const se=new Float32Array(ie.numComps),$=new Float32Array(1);let X;for(let oe=0;oe<=10;oe++){$[0]=L+oe*O,F($,0,se,0),X=ie.getRgb(se,0);const ue=s.Util.makeHexColor(X[0],X[1],X[2]);Z.push([oe/10,ue])}let ne="transparent";R.has("Background")&&(X=ie.getRgb(R.get("Background"),0),ne=s.Util.makeHexColor(X[0],X[1],X[2])),J||(Z.unshift([0,ne]),Z[1][0]+=y.SMALL_NUMBER),Y||(Z.at(-1)[0]-=y.SMALL_NUMBER,Z.push([1,ne])),this.colorStops=Z}getIR(){const R=this.coordsArr,U=this.shadingType;let te,B,j,ie,E;return U===t?(B=[R[0],R[1]],j=[R[2],R[3]],ie=null,E=null,te="axial"):U===b?(B=[R[0],R[1]],j=[R[3],R[4]],ie=R[2],E=R[5],te="radial"):(0,s.unreachable)(`getPattern type unknown: ${U}`),["RadialAxial",te,this.bbox,this.colorStops,B,j,ie,E]}}class P{constructor(R,U){this.stream=R,this.context=U,this.buffer=0,this.bufferLength=0;const te=U.numComps;this.tmpCompsBuf=new Float32Array(te);const B=U.colorSpace.numComps;this.tmpCsCompsBuf=U.colorFn?new Float32Array(B):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const R=this.stream.getByte();return R<0?!1:(this.buffer=R,this.bufferLength=8,!0)}readBits(R){let U=this.buffer,te=this.bufferLength;if(R===32){if(te===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;U=U<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const B=this.stream.getByte();return this.buffer=B&(1<<te)-1,(U<<8-te|(255&B)>>te)>>>0}if(R===8&&te===0)return this.stream.getByte();for(;te<R;)U=U<<8|this.stream.getByte(),te+=8;return te-=R,this.bufferLength=te,this.buffer=U&(1<<te)-1,U>>te}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const R=this.context.bitsPerCoordinate,U=this.readBits(R),te=this.readBits(R),B=this.context.decode,j=R<32?1/((1<<R)-1):23283064365386963e-26;return[U*j*(B[1]-B[0])+B[0],te*j*(B[3]-B[2])+B[2]]}readComponents(){const R=this.context.numComps,U=this.context.bitsPerComponent,te=U<32?1/((1<<U)-1):23283064365386963e-26,B=this.context.decode,j=this.tmpCompsBuf;for(let E=0,L=4;E<R;E++,L+=2){const ee=this.readBits(U);j[E]=ee*te*(B[L+1]-B[L])+B[L]}const ie=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(j,0,ie,0),this.context.colorSpace.getRgb(ie,0)}}const _=function(){const R=[];return function(U){return R[U]||(R[U]=function(B){const j=[];for(let ie=0;ie<=B;ie++){const E=ie/B,L=1-E;j.push(new Float32Array([L*L*L,3*E*L*L,3*E*E*L,E*E*E]))}return j}(U)),R[U]}}();class k extends y{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,s.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,s.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,s.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(R,U,te,B,j){if(super(),!(R instanceof g.BaseStream))throw new s.FormatError("Mesh data is not a stream");const ie=R.dict;this.shadingType=ie.get("ShadingType");const E=ie.getArray("BBox");Array.isArray(E)&&E.length===4?this.bbox=s.Util.normalizeRect(E):this.bbox=null;const L=m.ColorSpace.parse({cs:ie.getRaw("CS")||ie.getRaw("ColorSpace"),xref:U,resources:te,pdfFunctionFactory:B,localColorSpaceCache:j});this.background=ie.has("Background")?L.getRgb(ie.get("Background"),0):null;const ee=ie.getRaw("Function"),J=ee?B.createFromArray(ee):null;this.coords=[],this.colors=[],this.figures=[];const Y={bitsPerCoordinate:ie.get("BitsPerCoordinate"),bitsPerComponent:ie.get("BitsPerComponent"),bitsPerFlag:ie.get("BitsPerFlag"),decode:ie.getArray("Decode"),colorFn:J,colorSpace:L,numComps:J?1:L.numComps},q=new P(R,Y);let F=!1;switch(this.shadingType){case C:this._decodeType4Shading(q);break;case w:const O=0|ie.get("VerticesPerRow");if(O<2)throw new s.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(q,O);break;case v:this._decodeType6Shading(q),F=!0;break;case M:this._decodeType7Shading(q),F=!0;break;default:(0,s.unreachable)("Unsupported mesh type.")}if(F){this._updateBounds();for(let O=0,Z=this.figures.length;O<Z;O++)this._buildFigureFromPatch(O)}this._updateBounds(),this._packData()}_decodeType4Shading(R){const U=this.coords,te=this.colors,B=[];let j=0;for(;R.hasData;){const ie=R.readFlag(),E=R.readCoordinate(),L=R.readComponents();if(j===0){if(!(0<=ie&&ie<=2))throw new s.FormatError("Unknown type4 flag");switch(ie){case 0:j=3;break;case 1:B.push(B.at(-2),B.at(-1)),j=1;break;case 2:B.push(B.at(-3),B.at(-1)),j=1}}B.push(U.length),U.push(E),te.push(L),j--,R.align()}this.figures.push({type:"triangles",coords:new Int32Array(B),colors:new Int32Array(B)})}_decodeType5Shading(R,U){const te=this.coords,B=this.colors,j=[];for(;R.hasData;){const ie=R.readCoordinate(),E=R.readComponents();j.push(te.length),te.push(ie),B.push(E)}this.figures.push({type:"lattice",coords:new Int32Array(j),colors:new Int32Array(j),verticesPerRow:U})}_decodeType6Shading(R){const U=this.coords,te=this.colors,B=new Int32Array(16),j=new Int32Array(4);for(;R.hasData;){const ie=R.readFlag();if(!(0<=ie&&ie<=3))throw new s.FormatError("Unknown type6 flag");const E=U.length;for(let F=0,O=ie!==0?8:12;F<O;F++)U.push(R.readCoordinate());const L=te.length;for(let F=0,O=ie!==0?2:4;F<O;F++)te.push(R.readComponents());let ee,J,Y,q;switch(ie){case 0:B[12]=E+3,B[13]=E+4,B[14]=E+5,B[15]=E+6,B[8]=E+2,B[11]=E+7,B[4]=E+1,B[7]=E+8,B[0]=E,B[1]=E+11,B[2]=E+10,B[3]=E+9,j[2]=L+1,j[3]=L+2,j[0]=L,j[1]=L+3;break;case 1:ee=B[12],J=B[13],Y=B[14],q=B[15],B[12]=q,B[13]=E+0,B[14]=E+1,B[15]=E+2,B[8]=Y,B[11]=E+3,B[4]=J,B[7]=E+4,B[0]=ee,B[1]=E+7,B[2]=E+6,B[3]=E+5,ee=j[2],J=j[3],j[2]=J,j[3]=L,j[0]=ee,j[1]=L+1;break;case 2:ee=B[15],J=B[11],B[12]=B[3],B[13]=E+0,B[14]=E+1,B[15]=E+2,B[8]=B[7],B[11]=E+3,B[4]=J,B[7]=E+4,B[0]=ee,B[1]=E+7,B[2]=E+6,B[3]=E+5,ee=j[3],j[2]=j[1],j[3]=L,j[0]=ee,j[1]=L+1;break;case 3:B[12]=B[0],B[13]=E+0,B[14]=E+1,B[15]=E+2,B[8]=B[1],B[11]=E+3,B[4]=B[2],B[7]=E+4,B[0]=B[3],B[1]=E+7,B[2]=E+6,B[3]=E+5,j[2]=j[0],j[3]=L,j[0]=j[1],j[1]=L+1}B[5]=U.length,U.push([(-4*U[B[0]][0]-U[B[15]][0]+6*(U[B[4]][0]+U[B[1]][0])-2*(U[B[12]][0]+U[B[3]][0])+3*(U[B[13]][0]+U[B[7]][0]))/9,(-4*U[B[0]][1]-U[B[15]][1]+6*(U[B[4]][1]+U[B[1]][1])-2*(U[B[12]][1]+U[B[3]][1])+3*(U[B[13]][1]+U[B[7]][1]))/9]),B[6]=U.length,U.push([(-4*U[B[3]][0]-U[B[12]][0]+6*(U[B[2]][0]+U[B[7]][0])-2*(U[B[0]][0]+U[B[15]][0])+3*(U[B[4]][0]+U[B[14]][0]))/9,(-4*U[B[3]][1]-U[B[12]][1]+6*(U[B[2]][1]+U[B[7]][1])-2*(U[B[0]][1]+U[B[15]][1])+3*(U[B[4]][1]+U[B[14]][1]))/9]),B[9]=U.length,U.push([(-4*U[B[12]][0]-U[B[3]][0]+6*(U[B[8]][0]+U[B[13]][0])-2*(U[B[0]][0]+U[B[15]][0])+3*(U[B[11]][0]+U[B[1]][0]))/9,(-4*U[B[12]][1]-U[B[3]][1]+6*(U[B[8]][1]+U[B[13]][1])-2*(U[B[0]][1]+U[B[15]][1])+3*(U[B[11]][1]+U[B[1]][1]))/9]),B[10]=U.length,U.push([(-4*U[B[15]][0]-U[B[0]][0]+6*(U[B[11]][0]+U[B[14]][0])-2*(U[B[12]][0]+U[B[3]][0])+3*(U[B[2]][0]+U[B[8]][0]))/9,(-4*U[B[15]][1]-U[B[0]][1]+6*(U[B[11]][1]+U[B[14]][1])-2*(U[B[12]][1]+U[B[3]][1])+3*(U[B[2]][1]+U[B[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(B),colors:new Int32Array(j)})}}_decodeType7Shading(R){const U=this.coords,te=this.colors,B=new Int32Array(16),j=new Int32Array(4);for(;R.hasData;){const ie=R.readFlag();if(!(0<=ie&&ie<=3))throw new s.FormatError("Unknown type7 flag");const E=U.length;for(let F=0,O=ie!==0?12:16;F<O;F++)U.push(R.readCoordinate());const L=te.length;for(let F=0,O=ie!==0?2:4;F<O;F++)te.push(R.readComponents());let ee,J,Y,q;switch(ie){case 0:B[12]=E+3,B[13]=E+4,B[14]=E+5,B[15]=E+6,B[8]=E+2,B[9]=E+13,B[10]=E+14,B[11]=E+7,B[4]=E+1,B[5]=E+12,B[6]=E+15,B[7]=E+8,B[0]=E,B[1]=E+11,B[2]=E+10,B[3]=E+9,j[2]=L+1,j[3]=L+2,j[0]=L,j[1]=L+3;break;case 1:ee=B[12],J=B[13],Y=B[14],q=B[15],B[12]=q,B[13]=E+0,B[14]=E+1,B[15]=E+2,B[8]=Y,B[9]=E+9,B[10]=E+10,B[11]=E+3,B[4]=J,B[5]=E+8,B[6]=E+11,B[7]=E+4,B[0]=ee,B[1]=E+7,B[2]=E+6,B[3]=E+5,ee=j[2],J=j[3],j[2]=J,j[3]=L,j[0]=ee,j[1]=L+1;break;case 2:ee=B[15],J=B[11],B[12]=B[3],B[13]=E+0,B[14]=E+1,B[15]=E+2,B[8]=B[7],B[9]=E+9,B[10]=E+10,B[11]=E+3,B[4]=J,B[5]=E+8,B[6]=E+11,B[7]=E+4,B[0]=ee,B[1]=E+7,B[2]=E+6,B[3]=E+5,ee=j[3],j[2]=j[1],j[3]=L,j[0]=ee,j[1]=L+1;break;case 3:B[12]=B[0],B[13]=E+0,B[14]=E+1,B[15]=E+2,B[8]=B[1],B[9]=E+9,B[10]=E+10,B[11]=E+3,B[4]=B[2],B[5]=E+8,B[6]=E+11,B[7]=E+4,B[0]=B[3],B[1]=E+7,B[2]=E+6,B[3]=E+5,j[2]=j[0],j[3]=L,j[0]=j[1],j[1]=L+1}this.figures.push({type:"patch",coords:new Int32Array(B),colors:new Int32Array(j)})}}_buildFigureFromPatch(R){const U=this.figures[R];(0,s.assert)(U.type==="patch","Unexpected patch mesh figure");const te=this.coords,B=this.colors,j=U.coords,ie=U.colors,E=Math.min(te[j[0]][0],te[j[3]][0],te[j[12]][0],te[j[15]][0]),L=Math.min(te[j[0]][1],te[j[3]][1],te[j[12]][1],te[j[15]][1]),ee=Math.max(te[j[0]][0],te[j[3]][0],te[j[12]][0],te[j[15]][0]),J=Math.max(te[j[0]][1],te[j[3]][1],te[j[12]][1],te[j[15]][1]);let Y=Math.ceil((ee-E)*k.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));Y=Math.max(k.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(k.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Y));let q=Math.ceil((J-L)*k.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));q=Math.max(k.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(k.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,q));const F=Y+1,O=new Int32Array((q+1)*F),Z=new Int32Array((q+1)*F);let se=0;const $=new Uint8Array(3),X=new Uint8Array(3),ne=B[ie[0]],oe=B[ie[1]],ue=B[ie[2]],fe=B[ie[3]],le=_(q),ae=_(Y);for(let de=0;de<=q;de++){$[0]=(ne[0]*(q-de)+ue[0]*de)/q|0,$[1]=(ne[1]*(q-de)+ue[1]*de)/q|0,$[2]=(ne[2]*(q-de)+ue[2]*de)/q|0,X[0]=(oe[0]*(q-de)+fe[0]*de)/q|0,X[1]=(oe[1]*(q-de)+fe[1]*de)/q|0,X[2]=(oe[2]*(q-de)+fe[2]*de)/q|0;for(let re=0;re<=Y;re++,se++){if(!(de!==0&&de!==q||re!==0&&re!==Y))continue;let Q=0,ce=0,he=0;for(let pe=0;pe<=3;pe++)for(let me=0;me<=3;me++,he++){const Ae=le[de][pe]*ae[re][me];Q+=te[j[he]][0]*Ae,ce+=te[j[he]][1]*Ae}O[se]=te.length,te.push([Q,ce]),Z[se]=B.length;const ge=new Uint8Array(3);ge[0]=($[0]*(Y-re)+X[0]*re)/Y|0,ge[1]=($[1]*(Y-re)+X[1]*re)/Y|0,ge[2]=($[2]*(Y-re)+X[2]*re)/Y|0,B.push(ge)}}O[0]=j[0],Z[0]=ie[0],O[Y]=j[3],Z[Y]=ie[1],O[F*q]=j[12],Z[F*q]=ie[2],O[F*q+Y]=j[15],Z[F*q+Y]=ie[3],this.figures[R]={type:"lattice",coords:O,colors:Z,verticesPerRow:F}}_updateBounds(){let R=this.coords[0][0],U=this.coords[0][1],te=R,B=U;for(let j=1,ie=this.coords.length;j<ie;j++){const E=this.coords[j][0],L=this.coords[j][1];R=R>E?E:R,U=U>L?L:U,te=te<E?E:te,B=B<L?L:B}this.bounds=[R,U,te,B]}_packData(){let R,U,te,B;const j=this.coords,ie=new Float32Array(2*j.length);for(R=0,te=0,U=j.length;R<U;R++){const J=j[R];ie[te++]=J[0],ie[te++]=J[1]}this.coords=ie;const E=this.colors,L=new Uint8Array(3*E.length);for(R=0,te=0,U=E.length;R<U;R++){const J=E[R];L[te++]=J[0],L[te++]=J[1],L[te++]=J[2]}this.colors=L;const ee=this.figures;for(R=0,U=ee.length;R<U;R++){const J=ee[R],Y=J.coords,q=J.colors;for(te=0,B=Y.length;te<B;te++)Y[te]*=2,q[te]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class D extends y{getIR(){return["Dummy"]}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getXfaFontDict=function(I){const P=function(R){const U=M(R);if(!U)return null;const{baseWidths:te,baseMapping:B,factors:j}=U;let ie;ie=j?te.map((J,Y)=>J*j[Y]):te;let E,L=-2;const ee=[];for(const[J,Y]of B.map((q,F)=>[q,F]).sort(([q],[F])=>q-F))J!==-1&&(J===L+1?(E.push(ie[Y]),L+=1):(L=J,E=[ie[Y]],ee.push(J,E)));return ee}(I),_=new g.Dict(null);_.set("BaseFont",g.Name.get(I)),_.set("Type",g.Name.get("Font")),_.set("Subtype",g.Name.get("CIDFontType2")),_.set("Encoding",g.Name.get("Identity-H")),_.set("CIDToGIDMap",g.Name.get("Identity")),_.set("W",P),_.set("FirstChar",P[0]),_.set("LastChar",P.at(-2)+P.at(-1).length-1);const k=new g.Dict(null);_.set("FontDescriptor",k);const D=new g.Dict(null);return D.set("Ordering","Identity"),D.set("Registry","Adobe"),D.set("Supplement",0),_.set("CIDSystemInfo",D),_},o.getXfaFontName=M;var s=f(52),g=f(5),m=f(53),p=f(54),t=f(55),b=f(56),C=f(6),w=f(38);const v=(0,C.getLookupTableFactory)(function(y){y["MyriadPro-Regular"]=y["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:p.LiberationSansRegularWidths,baseMapping:p.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},y["MyriadPro-Bold"]=y["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:p.LiberationSansBoldWidths,baseMapping:p.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},y["MyriadPro-It"]=y["MyriadPro-Italic"]=y["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:p.LiberationSansItalicWidths,baseMapping:p.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},y["MyriadPro-BoldIt"]=y["MyriadPro-BoldItalic"]=y["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:p.LiberationSansBoldItalicWidths,baseMapping:p.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},y.ArialMT=y.Arial=y["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:p.LiberationSansRegularWidths,baseMapping:p.LiberationSansRegularMapping},y["Arial-BoldMT"]=y["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:p.LiberationSansBoldWidths,baseMapping:p.LiberationSansBoldMapping},y["Arial-ItalicMT"]=y["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:p.LiberationSansItalicWidths,baseMapping:p.LiberationSansItalicMapping},y["Arial-BoldItalicMT"]=y["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:p.LiberationSansBoldItalicWidths,baseMapping:p.LiberationSansBoldItalicMapping},y["Calibri-Regular"]={name:"LiberationSans-Regular",factors:s.CalibriRegularFactors,baseWidths:p.LiberationSansRegularWidths,baseMapping:p.LiberationSansRegularMapping,metrics:s.CalibriRegularMetrics},y["Calibri-Bold"]={name:"LiberationSans-Bold",factors:s.CalibriBoldFactors,baseWidths:p.LiberationSansBoldWidths,baseMapping:p.LiberationSansBoldMapping,metrics:s.CalibriBoldMetrics},y["Calibri-Italic"]={name:"LiberationSans-Italic",factors:s.CalibriItalicFactors,baseWidths:p.LiberationSansItalicWidths,baseMapping:p.LiberationSansItalicMapping,metrics:s.CalibriItalicMetrics},y["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:s.CalibriBoldItalicFactors,baseWidths:p.LiberationSansBoldItalicWidths,baseMapping:p.LiberationSansBoldItalicMapping,metrics:s.CalibriBoldItalicMetrics},y["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:b.SegoeuiRegularFactors,baseWidths:p.LiberationSansRegularWidths,baseMapping:p.LiberationSansRegularMapping,metrics:b.SegoeuiRegularMetrics},y["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:b.SegoeuiBoldFactors,baseWidths:p.LiberationSansBoldWidths,baseMapping:p.LiberationSansBoldMapping,metrics:b.SegoeuiBoldMetrics},y["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:b.SegoeuiItalicFactors,baseWidths:p.LiberationSansItalicWidths,baseMapping:p.LiberationSansItalicMapping,metrics:b.SegoeuiItalicMetrics},y["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:b.SegoeuiBoldItalicFactors,baseWidths:p.LiberationSansBoldItalicWidths,baseMapping:p.LiberationSansBoldItalicMapping,metrics:b.SegoeuiBoldItalicMetrics},y["Helvetica-Regular"]=y.Helvetica={name:"LiberationSans-Regular",factors:m.HelveticaRegularFactors,baseWidths:p.LiberationSansRegularWidths,baseMapping:p.LiberationSansRegularMapping,metrics:m.HelveticaRegularMetrics},y["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:m.HelveticaBoldFactors,baseWidths:p.LiberationSansBoldWidths,baseMapping:p.LiberationSansBoldMapping,metrics:m.HelveticaBoldMetrics},y["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:m.HelveticaItalicFactors,baseWidths:p.LiberationSansItalicWidths,baseMapping:p.LiberationSansItalicMapping,metrics:m.HelveticaItalicMetrics},y["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:m.HelveticaBoldItalicFactors,baseWidths:p.LiberationSansBoldItalicWidths,baseMapping:p.LiberationSansBoldItalicMapping,metrics:m.HelveticaBoldItalicMetrics}});function M(y){const I=(0,w.normalizeFontName)(y);return v()[I]}},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CalibriRegularMetrics=o.CalibriRegularFactors=o.CalibriItalicMetrics=o.CalibriItalicFactors=o.CalibriBoldMetrics=o.CalibriBoldItalicMetrics=o.CalibriBoldItalicFactors=o.CalibriBoldFactors=void 0,o.CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},o.CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},o.CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},o.CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],o.CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207}},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HelveticaRegularMetrics=o.HelveticaRegularFactors=o.HelveticaItalicMetrics=o.HelveticaItalicFactors=o.HelveticaBoldMetrics=o.HelveticaBoldItalicMetrics=o.HelveticaBoldItalicFactors=o.HelveticaBoldFactors=void 0,o.HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],o.HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},o.HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],o.HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},o.HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],o.HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},o.HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2}},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LiberationSansRegularWidths=o.LiberationSansRegularMapping=o.LiberationSansItalicWidths=o.LiberationSansItalicMapping=o.LiberationSansBoldWidths=o.LiberationSansBoldMapping=o.LiberationSansBoldItalicWidths=o.LiberationSansBoldItalicMapping=void 0,o.LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],o.LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],o.LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],o.LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],o.LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],o.LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],o.LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],o.LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MyriadProRegularMetrics=o.MyriadProRegularFactors=o.MyriadProItalicMetrics=o.MyriadProItalicFactors=o.MyriadProBoldMetrics=o.MyriadProBoldItalicMetrics=o.MyriadProBoldItalicFactors=o.MyriadProBoldFactors=void 0,o.MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},o.MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},o.MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},o.MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2}},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SegoeuiRegularMetrics=o.SegoeuiRegularFactors=o.SegoeuiItalicMetrics=o.SegoeuiItalicFactors=o.SegoeuiBoldMetrics=o.SegoeuiBoldItalicMetrics=o.SegoeuiBoldItalicFactors=o.SegoeuiBoldFactors=void 0,o.SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},o.SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},o.SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],o.SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},o.SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],o.SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PostScriptEvaluator=o.PostScriptCompiler=o.PDFFunctionFactory=void 0,o.isPDFFunction=function(E){let L;if(typeof E!="object")return!1;if(E instanceof s.Dict)L=E;else{if(!(E instanceof p.BaseStream))return!1;L=E.dict}return L.has("FunctionType")};var s=f(5),g=f(2),m=f(58),p=f(7),t=f(59);o.PDFFunctionFactory=class{constructor({xref:E,isEvalSupported:L=!0}){this.xref=E,this.isEvalSupported=L!==!1}create(E){const L=this.getCached(E);if(L)return L;const ee=C.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:E instanceof s.Ref?this.xref.fetch(E):E});return this._cache(E,ee),ee}createFromArray(E){const L=this.getCached(E);if(L)return L;const ee=C.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:E instanceof s.Ref?this.xref.fetch(E):E});return this._cache(E,ee),ee}getCached(E){let L;if(E instanceof s.Ref?L=E:E instanceof s.Dict?L=E.objId:E instanceof p.BaseStream&&(L=E.dict&&E.dict.objId),L){const ee=this._localFunctionCache.getByRef(L);if(ee)return ee}return null}_cache(E,L){if(!L)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let ee;E instanceof s.Ref?ee=E:E instanceof s.Dict?ee=E.objId:E instanceof p.BaseStream&&(ee=E.dict&&E.dict.objId),ee&&this._localFunctionCache.set(null,ee,L)}get _localFunctionCache(){return(0,g.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}};function b(ie){if(!Array.isArray(ie))return null;const E=ie.length;for(let L=0;L<E;L++)if(typeof ie[L]!="number"){const ee=new Array(E);for(let J=0;J<E;J++)ee[J]=+ie[J];return ee}return ie}class C{static getSampleArray(E,L,ee,J){let Y,q,F=1;for(Y=0,q=E.length;Y<q;Y++)F*=E[Y];F*=L;const O=new Array(F);let Z=0,se=0;const $=1/(2**ee-1),X=J.getBytes((F*ee+7)/8);let ne=0;for(Y=0;Y<F;Y++){for(;Z<ee;)se<<=8,se|=X[ne++],Z+=8;Z-=ee,O[Y]=(se>>Z)*$,se&=(1<<Z)-1}return O}static parse({xref:E,isEvalSupported:L,fn:ee}){const J=ee.dict||ee;switch(J.get("FunctionType")){case 0:return this.constructSampled({xref:E,isEvalSupported:L,fn:ee,dict:J});case 1:break;case 2:return this.constructInterpolated({xref:E,isEvalSupported:L,dict:J});case 3:return this.constructStiched({xref:E,isEvalSupported:L,dict:J});case 4:return this.constructPostScript({xref:E,isEvalSupported:L,fn:ee,dict:J})}throw new g.FormatError("Unknown type of function")}static parseArray({xref:E,isEvalSupported:L,fnObj:ee}){if(!Array.isArray(ee))return this.parse({xref:E,isEvalSupported:L,fn:ee});const J=[];for(let Y=0,q=ee.length;Y<q;Y++)J.push(this.parse({xref:E,isEvalSupported:L,fn:E.fetchIfRef(ee[Y])}));return function(Y,q,F,O){for(let Z=0,se=J.length;Z<se;Z++)J[Z](Y,q,F,O+Z)}}static constructSampled({xref:E,isEvalSupported:L,fn:ee,dict:J}){function Y(le){const ae=le.length,de=[];let re=0;for(let Q=0;Q<ae;Q+=2)de[re++]=[le[Q],le[Q+1]];return de}function q(le,ae,de,re,Q){return re+(Q-re)/(de-ae)*(le-ae)}let F=b(J.getArray("Domain")),O=b(J.getArray("Range"));if(!F||!O)throw new g.FormatError("No domain or range");const Z=F.length/2,se=O.length/2;F=Y(F),O=Y(O);const $=b(J.getArray("Size")),X=J.get("BitsPerSample"),ne=J.get("Order")||1;ne!==1&&(0,g.info)("No support for cubic spline interpolation: "+ne);let oe=b(J.getArray("Encode"));if(oe)oe=Y(oe);else{oe=[];for(let le=0;le<Z;++le)oe.push([0,$[le]-1])}let ue=b(J.getArray("Decode"));ue=ue?Y(ue):O;const fe=this.getSampleArray($,se,X,ee);return function(ae,de,re,Q){const ce=1<<Z,he=new Float64Array(ce),ge=new Uint32Array(ce);let pe,me;for(me=0;me<ce;me++)he[me]=1;let Ae=se,ye=1;for(pe=0;pe<Z;++pe){const xe=F[pe][0],Ce=F[pe][1];let we=q(Math.min(Math.max(ae[de+pe],xe),Ce),xe,Ce,oe[pe][0],oe[pe][1]);const ve=$[pe];we=Math.min(Math.max(we,0),ve-1);const Se=we<ve-1?Math.floor(we):we-1,_e=Se+1-we,ke=we-Se,Fe=Se*Ae,je=Fe+Ae;for(me=0;me<ce;me++)me&ye?(he[me]*=ke,ge[me]+=je):(he[me]*=_e,ge[me]+=Fe);Ae*=ve,ye<<=1}for(me=0;me<se;++me){let xe=0;for(pe=0;pe<ce;pe++)xe+=fe[ge[pe]+me]*he[pe];xe=q(xe,0,1,ue[me][0],ue[me][1]),re[Q+me]=Math.min(Math.max(xe,O[me][0]),O[me][1])}}}static constructInterpolated({xref:E,isEvalSupported:L,dict:ee}){const J=b(ee.getArray("C0"))||[0],Y=b(ee.getArray("C1"))||[1],q=ee.get("N"),F=[];for(let Z=0,se=J.length;Z<se;++Z)F.push(Y[Z]-J[Z]);const O=F.length;return function(se,$,X,ne){const oe=q===1?se[$]:se[$]**q;for(let ue=0;ue<O;++ue)X[ne+ue]=J[ue]+oe*F[ue]}}static constructStiched({xref:E,isEvalSupported:L,dict:ee}){const J=b(ee.getArray("Domain"));if(!J)throw new g.FormatError("No domain");if(J.length/2!==1)throw new g.FormatError("Bad domain for stiched function");const Y=ee.get("Functions"),q=[];for(let se=0,$=Y.length;se<$;++se)q.push(this.parse({xref:E,isEvalSupported:L,fn:E.fetchIfRef(Y[se])}));const F=b(ee.getArray("Bounds")),O=b(ee.getArray("Encode")),Z=new Float32Array(1);return function($,X,ne,oe){const ue=function(he,ge,pe){return he>pe?he=pe:he<ge&&(he=ge),he}($[X],J[0],J[1]),fe=F.length;let le;for(le=0;le<fe&&!(ue<F[le]);++le);let ae=J[0];le>0&&(ae=F[le-1]);let de=J[1];le<F.length&&(de=F[le]);const re=O[2*le],Q=O[2*le+1];Z[0]=ae===de?re:re+(ue-ae)*(Q-re)/(de-ae),q[le](Z,0,ne,oe)}}static constructPostScript({xref:E,isEvalSupported:L,fn:ee,dict:J}){const Y=b(J.getArray("Domain")),q=b(J.getArray("Range"));if(!Y)throw new g.FormatError("No domain.");if(!q)throw new g.FormatError("No range.");const F=new m.PostScriptLexer(ee),O=new m.PostScriptParser(F).parse();if(L&&g.FeatureTest.isEvalSupported){const ue=new j().compile(O,Y,q);if(ue)return new Function("src","srcOffset","dest","destOffset",ue)}(0,g.info)("Unable to compile PS function");const Z=q.length>>1,se=Y.length>>1,$=new v(O),X=Object.create(null);let ne=8192;const oe=new Float32Array(se);return function(fe,le,ae,de){let re,Q,ce="";const he=oe;for(re=0;re<se;re++)Q=fe[le+re],he[re]=Q,ce+=Q+"_";const ge=X[ce];if(ge!==void 0){ae.set(ge,de);return}const pe=new Float32Array(Z),me=$.execute(he),Ae=me.length-Z;for(re=0;re<Z;re++){Q=me[Ae+re];let ye=q[2*re];Q<ye?Q=ye:(ye=q[2*re+1],Q>ye&&(Q=ye)),pe[re]=Q}ne>0&&(ne--,X[ce]=pe),ae.set(pe,de)}}}class w{static get MAX_STACK_SIZE(){return(0,g.shadow)(this,"MAX_STACK_SIZE",100)}constructor(E){this.stack=E?Array.prototype.slice.call(E,0):[]}push(E){if(this.stack.length>=w.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(E)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(E){if(this.stack.length+E>=w.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const L=this.stack;for(let ee=L.length-E,J=E-1;J>=0;J--,ee++)L.push(L[ee])}index(E){this.push(this.stack[this.stack.length-E-1])}roll(E,L){const ee=this.stack,J=ee.length-E,Y=ee.length-1,q=J+(L-Math.floor(L/E)*E);for(let F=J,O=Y;F<O;F++,O--){const Z=ee[F];ee[F]=ee[O],ee[O]=Z}for(let F=J,O=q-1;F<O;F++,O--){const Z=ee[F];ee[F]=ee[O],ee[O]=Z}for(let F=q,O=Y;F<O;F++,O--){const Z=ee[F];ee[F]=ee[O],ee[O]=Z}}}class v{constructor(E){this.operators=E}execute(E){const L=new w(E);let ee=0;const J=this.operators,Y=J.length;let q,F,O;for(;ee<Y;)if(q=J[ee++],typeof q!="number")switch(q){case"jz":O=L.pop(),F=L.pop(),F||(ee=O);break;case"j":F=L.pop(),ee=F;break;case"abs":F=L.pop(),L.push(Math.abs(F));break;case"add":O=L.pop(),F=L.pop(),L.push(F+O);break;case"and":O=L.pop(),F=L.pop(),typeof F=="boolean"&&typeof O=="boolean"?L.push(F&&O):L.push(F&O);break;case"atan":F=L.pop(),L.push(Math.atan(F));break;case"bitshift":O=L.pop(),F=L.pop(),F>0?L.push(F<<O):L.push(F>>O);break;case"ceiling":F=L.pop(),L.push(Math.ceil(F));break;case"copy":F=L.pop(),L.copy(F);break;case"cos":F=L.pop(),L.push(Math.cos(F));break;case"cvi":F=0|L.pop(),L.push(F);break;case"cvr":break;case"div":O=L.pop(),F=L.pop(),L.push(F/O);break;case"dup":L.copy(1);break;case"eq":O=L.pop(),F=L.pop(),L.push(F===O);break;case"exch":L.roll(2,1);break;case"exp":O=L.pop(),F=L.pop(),L.push(F**O);break;case"false":L.push(!1);break;case"floor":F=L.pop(),L.push(Math.floor(F));break;case"ge":O=L.pop(),F=L.pop(),L.push(F>=O);break;case"gt":O=L.pop(),F=L.pop(),L.push(F>O);break;case"idiv":O=L.pop(),F=L.pop(),L.push(F/O|0);break;case"index":F=L.pop(),L.index(F);break;case"le":O=L.pop(),F=L.pop(),L.push(F<=O);break;case"ln":F=L.pop(),L.push(Math.log(F));break;case"log":F=L.pop(),L.push(Math.log(F)/Math.LN10);break;case"lt":O=L.pop(),F=L.pop(),L.push(F<O);break;case"mod":O=L.pop(),F=L.pop(),L.push(F%O);break;case"mul":O=L.pop(),F=L.pop(),L.push(F*O);break;case"ne":O=L.pop(),F=L.pop(),L.push(F!==O);break;case"neg":F=L.pop(),L.push(-F);break;case"not":F=L.pop(),typeof F=="boolean"?L.push(!F):L.push(~F);break;case"or":O=L.pop(),F=L.pop(),typeof F=="boolean"&&typeof O=="boolean"?L.push(F||O):L.push(F|O);break;case"pop":L.pop();break;case"roll":O=L.pop(),F=L.pop(),L.roll(F,O);break;case"round":F=L.pop(),L.push(Math.round(F));break;case"sin":F=L.pop(),L.push(Math.sin(F));break;case"sqrt":F=L.pop(),L.push(Math.sqrt(F));break;case"sub":O=L.pop(),F=L.pop(),L.push(F-O);break;case"true":L.push(!0);break;case"truncate":F=L.pop(),F=F<0?Math.ceil(F):Math.floor(F),L.push(F);break;case"xor":O=L.pop(),F=L.pop(),typeof F=="boolean"&&typeof O=="boolean"?L.push(F!==O):L.push(F^O);break;default:throw new g.FormatError(`Unknown operator ${q}`)}else L.push(q);return L.stack}}o.PostScriptEvaluator=v;class M{constructor(E){this.type=E}visit(E){(0,g.unreachable)("abstract method")}}class y extends M{constructor(E,L,ee){super("args"),this.index=E,this.min=L,this.max=ee}visit(E){E.visitArgument(this)}}class I extends M{constructor(E){super("literal"),this.number=E,this.min=E,this.max=E}visit(E){E.visitLiteral(this)}}class P extends M{constructor(E,L,ee,J,Y){super("binary"),this.op=E,this.arg1=L,this.arg2=ee,this.min=J,this.max=Y}visit(E){E.visitBinaryOperation(this)}}class _ extends M{constructor(E,L){super("max"),this.arg=E,this.min=E.min,this.max=L}visit(E){E.visitMin(this)}}class k extends M{constructor(E,L,ee){super("var"),this.index=E,this.min=L,this.max=ee}visit(E){E.visitVariable(this)}}class D extends M{constructor(E,L){super("definition"),this.variable=E,this.arg=L}visit(E){E.visitVariableDefinition(this)}}class V{constructor(){this.parts=[]}visitArgument(E){this.parts.push("Math.max(",E.min,", Math.min(",E.max,", src[srcOffset + ",E.index,"]))")}visitVariable(E){this.parts.push("v",E.index)}visitLiteral(E){this.parts.push(E.number)}visitBinaryOperation(E){this.parts.push("("),E.arg1.visit(this),this.parts.push(" ",E.op," "),E.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(E){this.parts.push("var "),E.variable.visit(this),this.parts.push(" = "),E.arg.visit(this),this.parts.push(";")}visitMin(E){this.parts.push("Math.min("),E.arg.visit(this),this.parts.push(", ",E.max,")")}toString(){return this.parts.join("")}}function R(ie,E){return E.type==="literal"&&E.number===0?ie:ie.type==="literal"&&ie.number===0?E:E.type==="literal"&&ie.type==="literal"?new I(ie.number+E.number):new P("+",ie,E,ie.min+E.min,ie.max+E.max)}function U(ie,E){if(E.type==="literal"){if(E.number===0)return new I(0);if(E.number===1)return ie;if(ie.type==="literal")return new I(ie.number*E.number)}if(ie.type==="literal"){if(ie.number===0)return new I(0);if(ie.number===1)return E}const L=Math.min(ie.min*E.min,ie.min*E.max,ie.max*E.min,ie.max*E.max),ee=Math.max(ie.min*E.min,ie.min*E.max,ie.max*E.min,ie.max*E.max);return new P("*",ie,E,L,ee)}function te(ie,E){if(E.type==="literal"){if(E.number===0)return ie;if(ie.type==="literal")return new I(ie.number-E.number)}return E.type==="binary"&&E.op==="-"&&ie.type==="literal"&&ie.number===1&&E.arg1.type==="literal"&&E.arg1.number===1?E.arg2:new P("-",ie,E,ie.min-E.max,ie.max-E.min)}function B(ie,E){return ie.min>=E?new I(E):ie.max<=E?ie:new _(ie,E)}class j{compile(E,L,ee){const J=[],Y=[],q=L.length>>1,F=ee.length>>1;let O,Z,se,$,X,ne,oe,ue,fe=0;for(let ae=0;ae<q;ae++)J.push(new y(ae,L[2*ae],L[2*ae+1]));for(let ae=0,de=E.length;ae<de;ae++)if(ue=E[ae],typeof ue!="number")switch(ue){case"add":if(J.length<2)return null;$=J.pop(),se=J.pop(),J.push(R(se,$));break;case"cvr":if(J.length<1)return null;break;case"mul":if(J.length<2)return null;$=J.pop(),se=J.pop(),J.push(U(se,$));break;case"sub":if(J.length<2)return null;$=J.pop(),se=J.pop(),J.push(te(se,$));break;case"exch":if(J.length<2)return null;X=J.pop(),ne=J.pop(),J.push(X,ne);break;case"pop":if(J.length<1)return null;J.pop();break;case"index":if(J.length<1||(se=J.pop(),se.type!=="literal")||(O=se.number,O<0||!Number.isInteger(O)||J.length<O))return null;if(X=J[J.length-O-1],X.type==="literal"||X.type==="var"){J.push(X);break}oe=new k(fe++,X.min,X.max),J[J.length-O-1]=oe,J.push(oe),Y.push(new D(oe,X));break;case"dup":if(J.length<1)return null;if(typeof E[ae+1]=="number"&&E[ae+2]==="gt"&&E[ae+3]===ae+7&&E[ae+4]==="jz"&&E[ae+5]==="pop"&&E[ae+6]===E[ae+1]){se=J.pop(),J.push(B(se,E[ae+1])),ae+=6;break}if(X=J.at(-1),X.type==="literal"||X.type==="var"){J.push(X);break}oe=new k(fe++,X.min,X.max),J[J.length-1]=oe,J.push(oe),Y.push(new D(oe,X));break;case"roll":if(J.length<2||($=J.pop(),se=J.pop(),$.type!=="literal"||se.type!=="literal")||(Z=$.number,O=se.number,O<=0||!Number.isInteger(O)||!Number.isInteger(Z)||J.length<O))return null;if(Z=(Z%O+O)%O,Z===0)break;Array.prototype.push.apply(J,J.splice(J.length-O,O-Z));break;default:return null}else J.push(new I(ue));if(J.length!==F)return null;const le=[];for(const ae of Y){const de=new V;ae.visit(de),le.push(de.toString())}for(let ae=0,de=J.length;ae<de;ae++){const re=J[ae],Q=new V;re.visit(Q);const ce=ee[2*ae],he=ee[2*ae+1],ge=[Q.toString()];ce>re.min&&(ge.unshift("Math.max(",ce,", "),ge.push(")")),he<re.max&&(ge.unshift("Math.min(",he,", "),ge.push(")")),ge.unshift("dest[destOffset + ",ae,"] = "),ge.push(";"),le.push(ge.join(""))}return le.join(`
`)}}o.PostScriptCompiler=j},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PostScriptParser=o.PostScriptLexer=void 0;var s=f(2),g=f(5),m=f(6);o.PostScriptParser=class{constructor(C){this.lexer=C,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(C){return this.token.type===C?(this.nextToken(),!0):!1}expect(C){if(this.accept(C))return!0;throw new s.FormatError(`Unexpected symbol: found ${this.token.type} expected ${C}.`)}parse(){return this.nextToken(),this.expect(p.LBRACE),this.parseBlock(),this.expect(p.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(p.NUMBER))this.operators.push(this.prev.value);else if(this.accept(p.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(p.LBRACE))return;this.parseCondition()}}parseCondition(){const C=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(p.RBRACE),this.accept(p.IF))this.operators[C]=this.operators.length,this.operators[C+1]="jz";else{if(!this.accept(p.LBRACE))throw new s.FormatError("PS Function: error parsing conditional.");{const w=this.operators.length;this.operators.push(null,null);const v=this.operators.length;this.parseBlock(),this.expect(p.RBRACE),this.expect(p.IFELSE),this.operators[w]=this.operators.length,this.operators[w+1]="j",this.operators[C]=v,this.operators[C+1]="jz"}}}};const p={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class t{static get opCache(){return(0,s.shadow)(this,"opCache",Object.create(null))}constructor(C,w){this.type=C,this.value=w}static getOperator(C){return t.opCache[C]||(t.opCache[C]=new t(p.OPERATOR,C))}static get LBRACE(){return(0,s.shadow)(this,"LBRACE",new t(p.LBRACE,"{"))}static get RBRACE(){return(0,s.shadow)(this,"RBRACE",new t(p.RBRACE,"}"))}static get IF(){return(0,s.shadow)(this,"IF",new t(p.IF,"IF"))}static get IFELSE(){return(0,s.shadow)(this,"IFELSE",new t(p.IFELSE,"IFELSE"))}}o.PostScriptLexer=class{constructor(C){this.stream=C,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let C=!1,w=this.currentChar;for(;;){if(w<0)return g.EOF;if(C)w!==10&&w!==13||(C=!1);else if(w===37)C=!0;else if(!(0,m.isWhiteSpace)(w))break;w=this.nextChar()}switch(0|w){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new t(p.NUMBER,this.getNumber());case 123:return this.nextChar(),t.LBRACE;case 125:return this.nextChar(),t.RBRACE}const v=this.strBuf;for(v.length=0,v[0]=String.fromCharCode(w);(w=this.nextChar())>=0&&(w>=65&&w<=90||w>=97&&w<=122);)v.push(String.fromCharCode(w));const M=v.join("");switch(M.toLowerCase()){case"if":return t.IF;case"ifelse":return t.IFELSE;default:return t.getOperator(M)}}getNumber(){let C=this.currentChar;const w=this.strBuf;for(w.length=0,w[0]=String.fromCharCode(C);(C=this.nextChar())>=0&&(C>=48&&C<=57||C===45||C===46);)w.push(String.fromCharCode(C));const v=parseFloat(w.join(""));if(isNaN(v))throw new s.FormatError(`Invalid floating point number: ${v}`);return v}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LocalTilingPatternCache=o.LocalImageCache=o.LocalGStateCache=o.LocalFunctionCache=o.LocalColorSpaceCache=o.GlobalImageCache=void 0;var s=f(2),g=f(5);class m{constructor(b){this.constructor===m&&(0,s.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(b&&b.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new g.RefSetCache}getByName(b){this._onlyRefs&&(0,s.unreachable)("Should not call `getByName` method.");const C=this._nameRefMap.get(b);return C?this.getByRef(C):this._imageMap.get(b)||null}getByRef(b){return this._imageCache.get(b)||null}set(b,C,w){(0,s.unreachable)("Abstract method `set` called.")}}o.LocalImageCache=class extends m{set(b,C=null,w){if(typeof b!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(C){if(this._imageCache.has(C))return;this._nameRefMap.set(b,C),this._imageCache.put(C,w)}else this._imageMap.has(b)||this._imageMap.set(b,w)}},o.LocalColorSpaceCache=class extends m{set(b=null,C=null,w){if(typeof b!="string"&&!C)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(C){if(this._imageCache.has(C))return;b!==null&&this._nameRefMap.set(b,C),this._imageCache.put(C,w)}else this._imageMap.has(b)||this._imageMap.set(b,w)}},o.LocalFunctionCache=class extends m{constructor(b){super({onlyRefs:!0})}set(b=null,C,w){if(!C)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(C)||this._imageCache.put(C,w)}},o.LocalGStateCache=class extends m{set(b,C=null,w){if(typeof b!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(C){if(this._imageCache.has(C))return;this._nameRefMap.set(b,C),this._imageCache.put(C,w)}else this._imageMap.has(b)||this._imageMap.set(b,w)}},o.LocalTilingPatternCache=class extends m{constructor(b){super({onlyRefs:!0})}set(b=null,C,w){if(!C)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(C)||this._imageCache.put(C,w)}};class p{static get NUM_PAGES_THRESHOLD(){return(0,s.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,s.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,s.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new g.RefSetCache,this._imageCache=new g.RefSetCache}get _byteSize(){let b=0;for(const C of this._imageCache)b+=C.byteSize;return b}get _cacheLimitReached(){return!(this._imageCache.size<p.MIN_IMAGES_TO_CACHE)&&!(this._byteSize<p.MAX_BYTE_SIZE)}shouldCache(b,C){const w=this._refCache.get(b);return!((w?w.size+(w.has(C)?0:1):1)<p.NUM_PAGES_THRESHOLD)&&!(!this._imageCache.has(b)&&this._cacheLimitReached)}addPageIndex(b,C){let w=this._refCache.get(b);w||(w=new Set,this._refCache.put(b,w)),w.add(C)}addByteSize(b,C){const w=this._imageCache.get(b);w&&(w.byteSize||(w.byteSize=C))}getData(b,C){const w=this._refCache.get(b);if(!w||w.size<p.NUM_PAGES_THRESHOLD)return null;const v=this._imageCache.get(b);return v?(w.add(C),v):null}setData(b,C){if(!this._refCache.has(b))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(b)||(this._cacheLimitReached?(0,s.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(b,C))}clear(b=!1){b||this._refCache.clear(),this._imageCache.clear()}}o.GlobalImageCache=p},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.bidi=function(P,_=-1,k=!1){let D=!0;const V=P.length;if(V===0||k)return v(P,D,k);M.length=V,y.length=V;let R,U,te=0;for(R=0;R<V;++R){M[R]=P.charAt(R);const F=P.charCodeAt(R);let O="L";F<=255?O=g[F]:1424<=F&&F<=1524?O="R":1536<=F&&F<=1791?(O=m[255&F],O||(0,s.warn)("Bidi: invalid Unicode character "+F.toString(16))):1792<=F&&F<=2220&&(O="AL"),O!=="R"&&O!=="AL"&&O!=="AN"||te++,y[R]=O}if(te===0)return D=!0,v(P,D);_===-1&&(te/V<.3&&V>4?(D=!0,_=0):(D=!1,_=1));const B=[];for(R=0;R<V;++R)B[R]=_;const j=p(_)?"R":"L",ie=j,E=ie;let L,ee=ie;for(R=0;R<V;++R)y[R]==="NSM"?y[R]=ee:ee=y[R];for(ee=ie,R=0;R<V;++R)L=y[R],L==="EN"?y[R]=ee==="AL"?"AN":"EN":L!=="R"&&L!=="L"&&L!=="AL"||(ee=L);for(R=0;R<V;++R)L=y[R],L==="AL"&&(y[R]="R");for(R=1;R<V-1;++R)y[R]==="ES"&&y[R-1]==="EN"&&y[R+1]==="EN"&&(y[R]="EN"),y[R]!=="CS"||y[R-1]!=="EN"&&y[R-1]!=="AN"||y[R+1]!==y[R-1]||(y[R]=y[R-1]);for(R=0;R<V;++R)if(y[R]==="EN"){for(let F=R-1;F>=0&&y[F]==="ET";--F)y[F]="EN";for(let F=R+1;F<V&&y[F]==="ET";++F)y[F]="EN"}for(R=0;R<V;++R)L=y[R],L!=="WS"&&L!=="ES"&&L!=="ET"&&L!=="CS"||(y[R]="ON");for(ee=ie,R=0;R<V;++R)L=y[R],L==="EN"?y[R]=ee==="L"?"L":"EN":L!=="R"&&L!=="L"||(ee=L);for(R=0;R<V;++R)if(y[R]==="ON"){const F=b(y,R+1,"ON");let O=ie;R>0&&(O=y[R-1]);let Z=E;F+1<V&&(Z=y[F+1]),O!=="L"&&(O="R"),Z!=="L"&&(Z="R"),O===Z&&C(y,R,F,O),R=F-1}for(R=0;R<V;++R)y[R]==="ON"&&(y[R]=j);for(R=0;R<V;++R)L=y[R],t(B[R])?L==="R"?B[R]+=1:L!=="AN"&&L!=="EN"||(B[R]+=2):L!=="L"&&L!=="AN"&&L!=="EN"||(B[R]+=1);let J,Y=-1,q=99;for(R=0,U=B.length;R<U;++R)J=B[R],Y<J&&(Y=J),q>J&&p(J)&&(q=J);for(J=Y;J>=q;--J){let F=-1;for(R=0,U=B.length;R<U;++R)B[R]<J?F>=0&&(w(M,F,R),F=-1):F<0&&(F=R);F>=0&&w(M,F,B.length)}for(R=0,U=M.length;R<U;++R){const F=M[R];F!=="<"&&F!==">"||(M[R]="")}return v(M.join(""),D)};var s=f(2);const g=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],m=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function p(I){return(1&I)!=0}function t(I){return(1&I)==0}function b(I,P,_){let k,D;for(k=P,D=I.length;k<D;++k)if(I[k]!==_)return k;return k}function C(I,P,_,k){for(let D=P;D<_;++D)I[D]=k}function w(I,P,_){for(let k=P,D=_-1;k<D;++k,--D){const V=I[k];I[k]=I[D],I[D]=V}}function v(I,P,_=!1){let k="ltr";return _?k="ttb":P||(k="rtl"),{str:I,dir:k}}const M=[],y=[]},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var s=f(2);const g=3285377520,m=4294901760,p=65535;o.MurmurHash3_64=class{constructor(b){this.h1=b?4294967295&b:g,this.h2=b?4294967295&b:g}update(b){let C,w;if(typeof b=="string"){C=new Uint8Array(2*b.length),w=0;for(let te=0,B=b.length;te<B;te++){const j=b.charCodeAt(te);j<=255?C[w++]=j:(C[w++]=j>>>8,C[w++]=255&j)}}else{if(!(0,s.isArrayBuffer)(b))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");C=b.slice(),w=C.byteLength}const v=w>>2,M=w-4*v,y=new Uint32Array(C.buffer,0,v);let I=0,P=0,_=this.h1,k=this.h2;const D=3432918353,V=461845907,R=11601,U=13715;for(let te=0;te<v;te++)1&te?(I=y[te],I=I*D&m|I*R&p,I=I<<15|I>>>17,I=I*V&m|I*U&p,_^=I,_=_<<13|_>>>19,_=5*_+3864292196):(P=y[te],P=P*D&m|P*R&p,P=P<<15|P>>>17,P=P*V&m|P*U&p,k^=P,k=k<<13|k>>>19,k=5*k+3864292196);switch(I=0,M){case 3:I^=C[4*v+2]<<16;case 2:I^=C[4*v+1]<<8;case 1:I^=C[4*v],I=I*D&m|I*R&p,I=I<<15|I>>>17,I=I*V&m|I*U&p,1&v?_^=I:k^=I}this.h1=_,this.h2=k}hexdigest(){let b=this.h1,C=this.h2;b^=C>>>1,b=3981806797*b&m|36045*b&p,C=4283543511*C&m|(2950163797*(C<<16|b>>>16)&m)>>>16,b^=C>>>1,b=444984403*b&m|60499*b&p,C=3301882366*C&m|(3120437893*(C<<16|b>>>16)&m)>>>16,b^=C>>>1;const w=(b>>>0).toString(16),v=(C>>>0).toString(16);return w.padStart(8,"0")+v.padStart(8,"0")}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OperatorList=void 0;var s=f(2);function g(C,w,v,M,y){let I=C;for(let P=0,_=w.length-1;P<_;P++){const k=w[P];I=I[k]||(I[k]=[])}I[w.at(-1)]={checkFn:v,iterateFn:M,processFn:y}}const m=[];g(m,[s.OPS.save,s.OPS.transform,s.OPS.paintInlineImageXObject,s.OPS.restore],null,function(w,v){const M=w.fnArray,y=(v-(w.iCurr-3))%4;switch(y){case 0:return M[v]===s.OPS.save;case 1:return M[v]===s.OPS.transform;case 2:return M[v]===s.OPS.paintInlineImageXObject;case 3:return M[v]===s.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${y}`)},function(w,v){const M=w.fnArray,y=w.argsArray,I=w.iCurr,P=I-3,_=I-2,k=I-1,D=Math.min(Math.floor((v-P)/4),200);if(D<10)return v-(v-P)%4;let V=0;const R=[];let U=0,te=1,B=1;for(let ee=0;ee<D;ee++){const J=y[_+(ee<<2)],Y=y[k+(ee<<2)][0];te+Y.width>1e3&&(V=Math.max(V,te),B+=U+2,te=0,U=0),R.push({transform:J,x:te,y:B,w:Y.width,h:Y.height}),te+=Y.width+2,U=Math.max(U,Y.height)}const j=Math.max(V,te)+1,ie=B+U+1,E=new Uint8Array(j*ie*4),L=j<<2;for(let ee=0;ee<D;ee++){const J=y[k+(ee<<2)][0].data,Y=R[ee].w<<2;let q=0,F=R[ee].x+R[ee].y*j<<2;E.set(J.subarray(0,Y),F-L);for(let O=0,Z=R[ee].h;O<Z;O++)E.set(J.subarray(q,q+Y),F),q+=Y,F+=L;for(E.set(J.subarray(q-Y,q),F);F>=0;)J[F-4]=J[F],J[F-3]=J[F+1],J[F-2]=J[F+2],J[F-1]=J[F+3],J[F+Y]=J[F+Y-4],J[F+Y+1]=J[F+Y-3],J[F+Y+2]=J[F+Y-2],J[F+Y+3]=J[F+Y-1],F-=L}return M.splice(P,4*D,s.OPS.paintInlineImageXObjectGroup),y.splice(P,4*D,[{width:j,height:ie,kind:s.ImageKind.RGBA_32BPP,data:E},R]),P+1}),g(m,[s.OPS.save,s.OPS.transform,s.OPS.paintImageMaskXObject,s.OPS.restore],null,function(w,v){const M=w.fnArray,y=(v-(w.iCurr-3))%4;switch(y){case 0:return M[v]===s.OPS.save;case 1:return M[v]===s.OPS.transform;case 2:return M[v]===s.OPS.paintImageMaskXObject;case 3:return M[v]===s.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${y}`)},function(w,v){const M=w.fnArray,y=w.argsArray,I=w.iCurr,P=I-3,_=I-2,k=I-1;let D=Math.floor((v-P)/4);if(D<10)return v-(v-P)%4;let V,R,U=!1;const te=y[k][0],B=y[_][0],j=y[_][1],ie=y[_][2],E=y[_][3];if(j===ie){U=!0,V=_+4;let L=k+4;for(let ee=1;ee<D;ee++,V+=4,L+=4)if(R=y[V],y[L][0]!==te||R[0]!==B||R[1]!==j||R[2]!==ie||R[3]!==E){ee<10?U=!1:D=ee;break}}if(U){D=Math.min(D,1e3);const L=new Float32Array(2*D);V=_;for(let ee=0;ee<D;ee++,V+=4)R=y[V],L[ee<<1]=R[4],L[1+(ee<<1)]=R[5];M.splice(P,4*D,s.OPS.paintImageMaskXObjectRepeat),y.splice(P,4*D,[te,B,j,ie,E,L])}else{D=Math.min(D,100);const L=[];for(let ee=0;ee<D;ee++){R=y[_+(ee<<2)];const J=y[k+(ee<<2)][0];L.push({data:J.data,width:J.width,height:J.height,interpolate:J.interpolate,count:J.count,transform:R})}M.splice(P,4*D,s.OPS.paintImageMaskXObjectGroup),y.splice(P,4*D,[L])}return P+1}),g(m,[s.OPS.save,s.OPS.transform,s.OPS.paintImageXObject,s.OPS.restore],function(C){const w=C.argsArray,v=C.iCurr-2;return w[v][1]===0&&w[v][2]===0},function(w,v){const M=w.fnArray,y=w.argsArray,I=(v-(w.iCurr-3))%4;switch(I){case 0:return M[v]===s.OPS.save;case 1:if(M[v]!==s.OPS.transform)return!1;const P=w.iCurr-2,_=y[P][0],k=y[P][3];return y[v][0]===_&&y[v][1]===0&&y[v][2]===0&&y[v][3]===k;case 2:if(M[v]!==s.OPS.paintImageXObject)return!1;const D=y[w.iCurr-1][0];return y[v][0]===D;case 3:return M[v]===s.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${I}`)},function(C,w){const v=C.fnArray,M=C.argsArray,y=C.iCurr,I=y-3,P=y-2,_=M[y-1][0],k=M[P][0],D=M[P][3],V=Math.min(Math.floor((w-I)/4),1e3);if(V<3)return w-(w-I)%4;const R=new Float32Array(2*V);let U=P;for(let B=0;B<V;B++,U+=4){const j=M[U];R[B<<1]=j[4],R[1+(B<<1)]=j[5]}const te=[_,k,D,R];return v.splice(I,4*V,s.OPS.paintImageXObjectRepeat),M.splice(I,4*V,te),I+1}),g(m,[s.OPS.beginText,s.OPS.setFont,s.OPS.setTextMatrix,s.OPS.showText,s.OPS.endText],null,function(w,v){const M=w.fnArray,y=w.argsArray,I=(v-(w.iCurr-4))%5;switch(I){case 0:return M[v]===s.OPS.beginText;case 1:return M[v]===s.OPS.setFont;case 2:return M[v]===s.OPS.setTextMatrix;case 3:if(M[v]!==s.OPS.showText)return!1;const P=w.iCurr-3,_=y[P][0],k=y[P][1];return y[v][0]===_&&y[v][1]===k;case 4:return M[v]===s.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${I}`)},function(C,w){const v=C.fnArray,M=C.argsArray,y=C.iCurr,I=y-4,P=y-3,_=y-2,k=y-1,D=y,V=M[P][0],R=M[P][1];let U=Math.min(Math.floor((w-I)/5),1e3);if(U<3)return w-(w-I)%5;let te=I;I>=4&&v[I-4]===v[P]&&v[I-3]===v[_]&&v[I-2]===v[k]&&v[I-1]===v[D]&&M[I-4][0]===V&&M[I-4][1]===R&&(U++,te-=5);let B=te+4;for(let j=1;j<U;j++)v.splice(B,3),M.splice(B,3),B+=2;return B+1});class p{constructor(w){this.queue=w}_optimize(){}push(w,v){this.queue.fnArray.push(w),this.queue.argsArray.push(v),this._optimize()}flush(){}reset(){}}class t extends p{constructor(w){super(w),this.state=null,this.context={iCurr:0,fnArray:w.fnArray,argsArray:w.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const w=this.queue.fnArray;let v=this.lastProcessed,M=w.length,y=this.state,I=this.match;if(!y&&!I&&v+1===M&&!m[w[v]]){this.lastProcessed=M;return}const P=this.context;for(;v<M;){if(I){if((0,I.iterateFn)(P,v)){v++;continue}if(v=(0,I.processFn)(P,v+1),M=w.length,I=null,y=null,v>=M)break}y=(y||m)[w[v]],y&&!Array.isArray(y)?(P.iCurr=v,v++,(!y.checkFn||(0,y.checkFn)(P))&&(I=y),y=null):v++}this.state=y,this.match=I,this.lastProcessed=v}flush(){for(;this.match;){const w=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,w),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class b{static get CHUNK_SIZE(){return(0,s.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,s.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(w=0,v){this._streamSink=v,this.fnArray=[],this.argsArray=[],!v||w&s.RenderingIntentFlag.OPLIST?this.optimizer=new p(this):this.optimizer=new t(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=v?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(w,v){this.optimizer.push(w,v),this.weight++,this._streamSink&&(this.weight>=b.CHUNK_SIZE||this.weight>=b.CHUNK_SIZE_ABOUT&&(w===s.OPS.restore||w===s.OPS.endText))&&this.flush()}addImageOps(w,v,M){M!==void 0&&this.addOp(s.OPS.beginMarkedContentProps,["OC",M]),this.addOp(w,v),M!==void 0&&this.addOp(s.OPS.endMarkedContent,[])}addDependency(w){this.dependencies.has(w)||(this.dependencies.add(w),this.addOp(s.OPS.dependency,[w]))}addDependencies(w){for(const v of w)this.addDependency(v)}addOpList(w){if(w instanceof b){for(const v of w.dependencies)this.dependencies.add(v);for(let v=0,M=w.length;v<M;v++)this.addOp(w.fnArray[v],w.argsArray[v])}else(0,s.warn)('addOpList - ignoring invalid "opList" parameter.')}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const w=[],{fnArray:v,argsArray:M,length:y}=this;for(let I=0;I<y;I++)switch(v[I]){case s.OPS.paintInlineImageXObject:case s.OPS.paintInlineImageXObjectGroup:case s.OPS.paintImageMaskXObject:const P=M[I][0];!P.cached&&P.data&&P.data.buffer instanceof ArrayBuffer&&w.push(P.data.buffer)}return w}flush(w=!1,v=null){this.optimizer.flush();const M=this.length;this._totalLength+=M,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:w,separateAnnots:v,length:M},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}o.OperatorList=b},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFImage=void 0;var s=f(2),g=f(64),m=f(7),p=f(14),t=f(19),b=f(27),C=f(30),w=f(5);function v(I,P,_,k){return(I=P+I*_)<0?I=0:I>k&&(I=k),I}function M(I,P,_,k,D,V){const R=D*V;let U;U=P<=8?new Uint8Array(R):P<=16?new Uint16Array(R):new Uint32Array(R);const te=_/D,B=k/V;let j,ie,E,L,ee=0;const J=new Uint16Array(D),Y=_;for(j=0;j<D;j++)J[j]=Math.floor(j*te);for(j=0;j<V;j++)for(E=Math.floor(j*B)*Y,ie=0;ie<D;ie++)L=E+J[ie],U[ee++]=I[L];return U}class y{constructor({xref:P,res:_,image:k,isInline:D=!1,smask:V=null,mask:R=null,isMask:U=!1,pdfFunctionFactory:te,localColorSpaceCache:B}){this.image=k;const j=k.dict,ie=j.get("F","Filter");let E;if(ie instanceof w.Name)E=ie.name;else if(Array.isArray(ie)){const Y=P.fetchIfRef(ie[0]);Y instanceof w.Name&&(E=Y.name)}switch(E){case"JPXDecode":const Y=new C.JpxImage;Y.parseImageProperties(k.stream),k.stream.reset(),k.width=Y.width,k.height=Y.height,k.bitsPerComponent=Y.bitsPerComponent,k.numComps=Y.componentsCount;break;case"JBIG2Decode":k.bitsPerComponent=1,k.numComps=1}let L=j.get("W","Width"),ee=j.get("H","Height");if(Number.isInteger(k.width)&&k.width>0&&Number.isInteger(k.height)&&k.height>0&&(k.width!==L||k.height!==ee)&&((0,s.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),L=k.width,ee=k.height),L<1||ee<1)throw new s.FormatError(`Invalid image width: ${L} or height: ${ee}`);this.width=L,this.height=ee,this.interpolate=j.get("I","Interpolate"),this.imageMask=j.get("IM","ImageMask")||!1,this.matte=j.get("Matte")||!1;let J=k.bitsPerComponent;if(!J&&(J=j.get("BPC","BitsPerComponent"),!J)){if(!this.imageMask)throw new s.FormatError(`Bits per component missing in image: ${this.imageMask}`);J=1}if(this.bpc=J,!this.imageMask){let Y=j.getRaw("CS")||j.getRaw("ColorSpace");if(!Y)switch((0,s.info)("JPX images (which do not require color spaces)"),k.numComps){case 1:Y=w.Name.get("DeviceGray");break;case 3:Y=w.Name.get("DeviceRGB");break;case 4:Y=w.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${k.numComps} color components not supported.`)}this.colorSpace=p.ColorSpace.parse({cs:Y,xref:P,resources:D?_:null,pdfFunctionFactory:te,localColorSpaceCache:B}),this.numComps=this.colorSpace.numComps}if(this.decode=j.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,J)||U&&!p.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const Y=(1<<J)-1;this.decodeCoefficients=[],this.decodeAddends=[];const q=this.colorSpace&&this.colorSpace.name==="Indexed";for(let F=0,O=0;F<this.decode.length;F+=2,++O){const Z=this.decode[F],se=this.decode[F+1];this.decodeCoefficients[O]=q?(se-Z)/Y:se-Z,this.decodeAddends[O]=q?Z:Y*Z}}V?this.smask=new y({xref:P,res:_,image:V,isInline:D,pdfFunctionFactory:te,localColorSpaceCache:B}):R&&(R instanceof m.BaseStream?R.dict.get("IM","ImageMask")?this.mask=new y({xref:P,res:_,image:R,isInline:D,isMask:!0,pdfFunctionFactory:te,localColorSpaceCache:B}):(0,s.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=R)}static async buildImage({xref:P,res:_,image:k,isInline:D=!1,pdfFunctionFactory:V,localColorSpaceCache:R}){const U=k;let te=null,B=null;const j=k.dict.get("SMask"),ie=k.dict.get("Mask");return j?j instanceof m.BaseStream?te=j:(0,s.warn)("Unsupported /SMask format."):ie&&(ie instanceof m.BaseStream||Array.isArray(ie)?B=ie:(0,s.warn)("Unsupported /Mask format.")),new y({xref:P,res:_,image:U,isInline:D,smask:te,mask:B,pdfFunctionFactory:V,localColorSpaceCache:R})}static createRawMask({imgArray:P,width:_,height:k,imageIsFromDecodeStream:D,inverseDecode:V,interpolate:R}){const U=(_+7>>3)*k,te=P.byteLength;let B,j;if(!D||V&&U!==te?V?(B=new Uint8Array(U),B.set(P),B.fill(255,te)):B=new Uint8Array(P):B=P,V)for(j=0;j<te;j++)B[j]^=255;return{data:B,width:_,height:k,interpolate:R}}static createMask({imgArray:P,width:_,height:k,imageIsFromDecodeStream:D,inverseDecode:V,interpolate:R}){const U=_===1&&k===1&&V===(P.length===0||!!(128&P[0]));if(U)return{isSingleOpaquePixel:U};if(s.FeatureTest.isOffscreenCanvasSupported){const te=new OffscreenCanvas(_,k),B=te.getContext("2d"),j=B.createImageData(_,k);return(0,g.applyMaskImageData)({src:P,dest:j.data,width:_,height:k,inverseDecode:V}),B.putImageData(j,0,0),{data:null,width:_,height:k,interpolate:R,bitmap:te.transferToImageBitmap()}}return this.createRawMask({imgArray:P,width:_,height:k,inverseDecode:V,imageIsFromDecodeStream:D,interpolate:R})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(P){const _=this.bpc,k=this.numComps,D=this.decodeAddends,V=this.decodeCoefficients,R=(1<<_)-1;let U,te;if(_===1){for(U=0,te=P.length;U<te;U++)P[U]=+!P[U];return}let B=0;for(U=0,te=this.width*this.height;U<te;U++)for(let j=0;j<k;j++)P[B]=v(P[B],D[j],V[j],R),B++}getComponents(P){const _=this.bpc;if(_===8)return P;const k=this.width,D=this.height,V=this.numComps,R=k*D*V;let U,te=0;U=_<=8?new Uint8Array(R):_<=16?new Uint16Array(R):new Uint32Array(R);const B=k*V,j=(1<<_)-1;let ie,E,L=0;if(_===1){let ee,J,Y;for(let q=0;q<D;q++){for(J=L+(-8&B),Y=L+B;L<J;)E=P[te++],U[L]=E>>7&1,U[L+1]=E>>6&1,U[L+2]=E>>5&1,U[L+3]=E>>4&1,U[L+4]=E>>3&1,U[L+5]=E>>2&1,U[L+6]=E>>1&1,U[L+7]=1&E,L+=8;if(L<Y)for(E=P[te++],ee=128;L<Y;)U[L++]=+!!(E&ee),ee>>=1}}else{let ee=0;for(E=0,L=0,ie=R;L<ie;++L){for(L%B==0&&(E=0,ee=0);ee<_;)E=E<<8|P[te++],ee+=8;const J=ee-_;let Y=E>>J;Y<0?Y=0:Y>j&&(Y=j),U[L]=Y,E&=(1<<J)-1,ee=J}}return U}fillOpacity(P,_,k,D,V){const R=this.smask,U=this.mask;let te,B,j,ie,E,L;if(R)B=R.width,j=R.height,te=new Uint8ClampedArray(B*j),R.fillGrayBuffer(te),B===_&&j===k||(te=M(te,R.bpc,B,j,_,k));else if(U)if(U instanceof y){for(B=U.width,j=U.height,te=new Uint8ClampedArray(B*j),U.numComps=1,U.fillGrayBuffer(te),ie=0,E=B*j;ie<E;++ie)te[ie]=255-te[ie];B===_&&j===k||(te=M(te,U.bpc,B,j,_,k))}else{if(!Array.isArray(U))throw new s.FormatError("Unknown mask format.");{te=new Uint8ClampedArray(_*k);const ee=this.numComps;for(ie=0,E=_*k;ie<E;++ie){let J=0;const Y=ie*ee;for(L=0;L<ee;++L){const q=V[Y+L],F=2*L;if(q<U[F]||q>U[F+1]){J=255;break}}te[ie]=J}}}if(te)for(ie=0,L=3,E=_*D;ie<E;++ie,L+=4)P[L]=te[ie];else for(ie=0,L=3,E=_*D;ie<E;++ie,L+=4)P[L]=255}undoPreblend(P,_,k){const D=this.smask&&this.smask.matte;if(!D)return;const V=this.colorSpace.getRgb(D,0),R=V[0],U=V[1],te=V[2],B=_*k*4;for(let j=0;j<B;j+=4){const ie=P[j+3];if(ie===0){P[j]=255,P[j+1]=255,P[j+2]=255;continue}const E=255/ie;P[j]=(P[j]-R)*E+R,P[j+1]=(P[j+1]-U)*E+U,P[j+2]=(P[j+2]-te)*E+te}}createImageData(P=!1){const _=this.drawWidth,k=this.drawHeight,D={width:_,height:k,interpolate:this.interpolate,kind:0,data:null},V=this.numComps,R=this.width,U=this.height,te=this.bpc,B=R*V*te+7>>3;if(!P){let J;if(this.colorSpace.name==="DeviceGray"&&te===1?J=s.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name!=="DeviceRGB"||te!==8||this.needsDecode||(J=s.ImageKind.RGB_24BPP),J&&!this.smask&&!this.mask&&_===R&&k===U){if(D.kind=J,D.data=this.getImageBytes(U*B,{}),this.needsDecode){(0,s.assert)(J===s.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const Y=D.data;for(let q=0,F=Y.length;q<F;q++)Y[q]^=255}return D}if(this.image instanceof b.JpegStream&&!this.smask&&!this.mask){let Y=U*B;switch(this.colorSpace.name){case"DeviceGray":Y*=3;case"DeviceRGB":case"DeviceCMYK":return D.kind=s.ImageKind.RGB_24BPP,D.data=this.getImageBytes(Y,{drawWidth:_,drawHeight:k,forceRGB:!0}),D}}}const j=this.getImageBytes(U*B,{internal:!0}),ie=0|j.length/B*k/U,E=this.getComponents(j);let L,ee;return P||this.smask||this.mask?(D.kind=s.ImageKind.RGBA_32BPP,D.data=new Uint8ClampedArray(_*k*4),L=1,ee=!0,this.fillOpacity(D.data,_,k,ie,E)):(D.kind=s.ImageKind.RGB_24BPP,D.data=new Uint8ClampedArray(_*k*3),L=0,ee=!1),this.needsDecode&&this.decodeBuffer(E),this.colorSpace.fillRgb(D.data,R,U,_,k,ie,te,E,L),ee&&this.undoPreblend(D.data,_,ie),D}fillGrayBuffer(P){const _=this.numComps;if(_!==1)throw new s.FormatError(`Reading gray scale from a color image: ${_}`);const k=this.width,D=this.height,V=this.bpc,R=k*_*V+7>>3,U=this.getImageBytes(D*R,{internal:!0}),te=this.getComponents(U);let B,j;if(V===1){if(j=k*D,this.needsDecode)for(B=0;B<j;++B)P[B]=te[B]-1&255;else for(B=0;B<j;++B)P[B]=255&-te[B];return}this.needsDecode&&this.decodeBuffer(te),j=k*D;const ie=255/((1<<V)-1);for(B=0;B<j;++B)P[B]=ie*te[B]}getImageBytes(P,{drawWidth:_,drawHeight:k,forceRGB:D=!1,internal:V=!1}){this.image.reset(),this.image.drawWidth=_||this.width,this.image.drawHeight=k||this.height,this.image.forceRGB=!!D;const R=this.image.getBytes(P);return V||this.image instanceof t.DecodeStream?R:((0,s.assert)(R instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(R))}}o.PDFImage=y},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.applyMaskImageData=function({src:m,srcPos:p=0,dest:t,destPos:b=0,width:C,height:w,inverseDecode:v=!1}){const M=s.FeatureTest.isLittleEndian?4278190080:255,[y,I]=v?[0,M]:[M,0],P=C>>3,_=7&C,k=m.length;t=new Uint32Array(t.buffer);for(let D=0;D<w;D++){for(const R=p+P;p<R;p++){const U=p<k?m[p]:255;t[b++]=128&U?I:y,t[b++]=64&U?I:y,t[b++]=32&U?I:y,t[b++]=16&U?I:y,t[b++]=8&U?I:y,t[b++]=4&U?I:y,t[b++]=2&U?I:y,t[b++]=1&U?I:y}if(_===0)continue;const V=p<k?m[p++]:255;for(let R=0;R<_;R++)t[b++]=V&1<<7-R?I:y}return{srcPos:p,destPos:b}};var s=f(2)},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.incrementalUpdate=function({originalData:P,xrefInfo:_,newRefs:k,xref:D=null,hasXfa:V=!1,xfaDatasetsRef:R=null,hasXfaDatasetsEntry:U=!1,acroFormRef:te=null,acroForm:B=null,xfaData:j=null}){V&&function({xfaData:ue,xfaDatasetsRef:fe,hasXfaDatasetsEntry:le,acroFormRef:ae,acroForm:de,newRefs:re,xref:Q,xrefInfo:ce}){if(Q===null)return;if(!le){if(!ae){(0,s.warn)("XFA - Cannot save it");return}const pe=de.get("XFA"),me=pe.slice();me.splice(2,0,"datasets"),me.splice(3,0,fe),de.set("XFA",me);const Ae=Q.encrypt;let ye=null;Ae&&(ye=Ae.createCipherTransform(ae.num,ae.gen));const xe=[`${ae.num} ${ae.gen} obj
`];C(de,xe,ye),xe.push(`
`),de.set("XFA",pe),re.push({ref:ae,data:xe.join("")})}ue===null&&(ue=function(me,Ae){const ye=new p.SimpleXMLParser({hasAttributes:!0}).parseFromString(me);for(const{xfa:Ce}of Ae){if(!Ce)continue;const{path:we,value:ve}=Ce;if(!we)continue;const Se=ye.documentElement.searchNode((0,m.parseXFAPath)(we),0);Se?Array.isArray(ve)?Se.childNodes=ve.map(_e=>new p.SimpleDOMNode("value",_e)):Se.childNodes=[new p.SimpleDOMNode("#text",ve)]:(0,s.warn)(`Node not found for path: ${we}`)}const xe=[];return ye.documentElement.dump(xe),xe.join("")}(Q.fetchIfRef(fe).getString(),re));const he=Q.encrypt;he&&(ue=he.createCipherTransform(fe.num,fe.gen).encryptString(ue));const ge=`${fe.num} ${fe.gen} obj
<< /Type /EmbeddedFile /Length ${ue.length}>>
stream
`+ue+`
endstream
endobj
`;re.push({ref:fe,data:ge})}({xfaData:j,xfaDatasetsRef:R,hasXfaDatasetsEntry:U,acroFormRef:te,acroForm:B,newRefs:k,xref:D,xrefInfo:_});const ie=new g.Dict(null),E=_.newRef;let L,ee;const J=P.at(-1);J===10||J===13?(L=[],ee=P.length):(L=[`
`],ee=P.length+1),ie.set("Size",E.num+1),ie.set("Prev",_.startXRef),ie.set("Type",g.Name.get("XRef")),_.rootRef!==null&&ie.set("Root",_.rootRef),_.infoRef!==null&&ie.set("Info",_.infoRef),_.encryptRef!==null&&ie.set("Encrypt",_.encryptRef),k.push({ref:E,data:""}),k=k.sort((oe,ue)=>oe.ref.num-ue.ref.num);const Y=[[0,1,65535]],q=[0,1];let F=0;for(const{ref:oe,data:ue}of k)F=Math.max(F,ee),Y.push([1,ee,Math.min(oe.gen,65535)]),ee+=ue.length,q.push(oe.num,1),L.push(ue);if(ie.set("Index",q),Array.isArray(_.fileIds)&&_.fileIds.length>0){const oe=function(fe,le){const ae=Math.floor(Date.now()/1e3),de=le.filename||"",re=[ae.toString(),de,fe.toString()];let Q=re.reduce((ge,pe)=>ge+pe.length,0);for(const ge of Object.values(le.info))re.push(ge),Q+=ge.length;const ce=new Uint8Array(Q);let he=0;for(const ge of re)y(ge,he,ce),he+=ge.length;return(0,s.bytesToString)((0,b.calculateMD5)(ce))}(ee,_);ie.set("ID",[_.fileIds[0],oe])}const O=[1,Math.ceil(Math.log2(F)/8),2],Z=(O[0]+O[1]+O[2])*Y.length;ie.set("W",O),ie.set("Length",Z),L.push(`${E.num} ${E.gen} obj
`),C(ie,L,null),L.push(` stream
`);const se=L.reduce((oe,ue)=>oe+ue.length,0),$=`
endstream
endobj
startxref
${ee}
%%EOF
`,X=new Uint8Array(P.length+se+Z+$.length);X.set(P);let ne=P.length;for(const oe of L)y(oe,ne,X),ne+=oe.length;for(const[oe,ue,fe]of Y)ne=M(oe,O[0],ne,X),ne=M(ue,O[1],ne,X),ne=M(fe,O[2],ne,X);return y($,ne,X),X},o.writeDict=C,o.writeObject=function(P,_,k,D){k.push(`${P.num} ${P.gen} obj
`),_ instanceof g.Dict?C(_,k,D):_ instanceof t.BaseStream&&w(_,k,D),k.push(`
endobj
`)};var s=f(2),g=f(5),m=f(6),p=f(66),t=f(7),b=f(67);function C(I,P,_){P.push("<<");for(const k of I.getKeys())P.push(` /${(0,m.escapePDFName)(k)} `),v(I.getRaw(k),P,_);P.push(">>")}function w(I,P,_){C(I.dict,P,_),P.push(` stream
`);let k=I.getString();_!==null&&(k=_.encryptString(k)),P.push(k,`
endstream
`)}function v(I,P,_){I instanceof g.Name?P.push(`/${(0,m.escapePDFName)(I.name)}`):I instanceof g.Ref?P.push(`${I.num} ${I.gen} R`):Array.isArray(I)?function(D,V,R){V.push("[");let U=!0;for(const te of D)U?U=!1:V.push(" "),v(te,V,R);V.push("]")}(I,P,_):typeof I=="string"?(_!==null&&(I=_.encryptString(I)),P.push(`(${(0,s.escapeString)(I)})`)):typeof I=="number"?P.push((0,m.numberToString)(I)):typeof I=="boolean"?P.push(I.toString()):I instanceof g.Dict?C(I,P,_):I instanceof t.BaseStream?w(I,P,_):I===null?P.push("null"):(0,s.warn)(`Unhandled value in writer: ${typeof I}, please file a bug.`)}function M(I,P,_,k){for(let D=P+_-1;D>_-1;D--)k[D]=255&I,I>>=8;return _+P}function y(I,P,_){for(let k=0,D=I.length;k<D;k++)_[P+k]=255&I.charCodeAt(k)}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XMLParserErrorCode=o.XMLParserBase=o.SimpleXMLParser=o.SimpleDOMNode=void 0;var s=f(6);const g={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};o.XMLParserErrorCode=g;function m(b,C){const w=b[C];return w===" "||w===`
`||w==="\r"||w==="	"}class p{_resolveEntities(C){return C.replace(/&([^;]+);/g,(w,v)=>{if(v.substring(0,2)==="#x")return String.fromCodePoint(parseInt(v.substring(2),16));if(v.substring(0,1)==="#")return String.fromCodePoint(parseInt(v.substring(1),10));switch(v){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(v)})}_parseContent(C,w){const v=[];let M=w;function y(){for(;M<C.length&&m(C,M);)++M}for(;M<C.length&&!m(C,M)&&C[M]!==">"&&C[M]!=="/";)++M;const I=C.substring(w,M);for(y();M<C.length&&C[M]!==">"&&C[M]!=="/"&&C[M]!=="?";){y();let P="",_="";for(;M<C.length&&!m(C,M)&&C[M]!=="=";)P+=C[M],++M;if(y(),C[M]!=="=")return null;++M,y();const k=C[M];if(k!=='"'&&k!=="'")return null;const D=C.indexOf(k,++M);if(D<0)return null;_=C.substring(M,D),v.push({name:P,value:this._resolveEntities(_)}),M=D+1,y()}return{name:I,attributes:v,parsed:M-w}}_parseProcessingInstruction(C,w){let v=w;for(;v<C.length&&!m(C,v)&&C[v]!==">"&&C[v]!=="?"&&C[v]!=="/";)++v;const M=C.substring(w,v);(function(){for(;v<C.length&&m(C,v);)++v})();const y=v;for(;v<C.length&&(C[v]!=="?"||C[v+1]!==">");)++v;return{name:M,value:C.substring(y,v),parsed:v-w}}parseXml(C){let w=0;for(;w<C.length;){let v=w;if(C[w]==="<"){++v;let M;switch(C[v]){case"/":if(++v,M=C.indexOf(">",v),M<0){this.onError(g.UnterminatedElement);return}this.onEndElement(C.substring(v,M)),v=M+1;break;case"?":++v;const y=this._parseProcessingInstruction(C,v);if(C.substring(v+y.parsed,v+y.parsed+2)!=="?>"){this.onError(g.UnterminatedXmlDeclaration);return}this.onPi(y.name,y.value),v+=y.parsed+2;break;case"!":if(C.substring(v+1,v+3)==="--"){if(M=C.indexOf("-->",v+3),M<0){this.onError(g.UnterminatedComment);return}this.onComment(C.substring(v+3,M)),v=M+3}else if(C.substring(v+1,v+8)==="[CDATA["){if(M=C.indexOf("]]>",v+8),M<0){this.onError(g.UnterminatedCdat);return}this.onCdata(C.substring(v+8,M)),v=M+3}else{if(C.substring(v+1,v+8)!=="DOCTYPE"){this.onError(g.MalformedElement);return}{const _=C.indexOf("[",v+8);let k=!1;if(M=C.indexOf(">",v+8),M<0){this.onError(g.UnterminatedDoctypeDeclaration);return}if(_>0&&M>_){if(M=C.indexOf("]>",v+8),M<0){this.onError(g.UnterminatedDoctypeDeclaration);return}k=!0}const D=C.substring(v+8,M+(k?1:0));this.onDoctype(D),v=M+(k?2:1)}}break;default:const I=this._parseContent(C,v);if(I===null){this.onError(g.MalformedElement);return}let P=!1;if(C.substring(v+I.parsed,v+I.parsed+2)==="/>")P=!0;else if(C.substring(v+I.parsed,v+I.parsed+1)!==">"){this.onError(g.UnterminatedElement);return}this.onBeginElement(I.name,I.attributes,P),v+=I.parsed+(P?2:1)}}else{for(;v<C.length&&C[v]!=="<";)v++;const M=C.substring(w,v);this.onText(this._resolveEntities(M))}w=v}}onResolveEntity(C){return`&${C};`}onPi(C,w){}onComment(C){}onCdata(C){}onDoctype(C){}onText(C){}onBeginElement(C,w,v){}onEndElement(C){}onError(C){}}o.XMLParserBase=p;class t{constructor(C,w){this.nodeName=C,this.nodeValue=w,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const C=this.parentNode.childNodes;if(!C)return;const w=C.indexOf(this);return w!==-1?C[w+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(C){return C.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(C,w){if(w>=C.length)return this;const v=C[w],M=[];let y=this;for(;;){if(v.name===y.nodeName){if(v.pos!==0){if(M.length===0)return null;{const[I]=M.pop();let P=0;for(const _ of I.childNodes)if(v.name===_.nodeName){if(P===v.pos)return _.searchNode(C,w+1);P++}return y.searchNode(C,w+1)}}{const I=y.searchNode(C,w+1);if(I!==null)return I}}if(y.childNodes&&y.childNodes.length!==0)M.push([y,0]),y=y.childNodes[0];else{if(M.length===0)return null;for(;M.length!==0;){const[I,P]=M.pop(),_=P+1;if(_<I.childNodes.length){M.push([I,_]),y=I.childNodes[_];break}}if(M.length===0)return null}}}dump(C){if(this.nodeName!=="#text"){if(C.push(`<${this.nodeName}`),this.attributes)for(const w of this.attributes)C.push(` ${w.name}="${(0,s.encodeToXmlString)(w.value)}"`);if(this.hasChildNodes()){C.push(">");for(const w of this.childNodes)w.dump(C);C.push(`</${this.nodeName}>`)}else this.nodeValue?C.push(`>${(0,s.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):C.push("/>")}else C.push((0,s.encodeToXmlString)(this.nodeValue))}}o.SimpleDOMNode=t,o.SimpleXMLParser=class extends p{constructor({hasAttributes:C=!1,lowerCaseName:w=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=g.NoError,this._hasAttributes=C,this._lowerCaseName=w}parseFromString(C){if(this._currentFragment=[],this._stack=[],this._errorCode=g.NoError,this.parseXml(C),this._errorCode!==g.NoError)return;const[w]=this._currentFragment;return w?{documentElement:w}:void 0}onText(C){if(function(M){for(let y=0,I=M.length;y<I;y++)if(!m(M,y))return!1;return!0}(C))return;const w=new t("#text",C);this._currentFragment.push(w)}onCdata(C){const w=new t("#text",C);this._currentFragment.push(w)}onBeginElement(C,w,v){this._lowerCaseName&&(C=C.toLowerCase());const M=new t(C);M.childNodes=[],this._hasAttributes&&(M.attributes=w),this._currentFragment.push(M),v||(this._stack.push(this._currentFragment),this._currentFragment=M.childNodes)}onEndElement(C){this._currentFragment=this._stack.pop()||[];const w=this._currentFragment.at(-1);if(!w)return null;for(let v=0,M=w.childNodes.length;v<M;v++)w.childNodes[v].parentNode=w;return w}onError(C){this._errorCode=C}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.calculateSHA256=o.calculateMD5=o.PDF20=o.PDF17=o.CipherTransformFactory=o.ARCFourCipher=o.AES256Cipher=o.AES128Cipher=void 0,o.calculateSHA384=v,o.calculateSHA512=void 0;var s=f(2),g=f(5),m=f(68);class p{constructor(U){this.a=0,this.b=0;const te=new Uint8Array(256),B=U.length;for(let j=0;j<256;++j)te[j]=j;for(let j=0,ie=0;j<256;++j){const E=te[j];ie=ie+E+U[j%B]&255,te[j]=te[ie],te[ie]=E}this.s=te}encryptBlock(U){let te=this.a,B=this.b;const j=this.s,ie=U.length,E=new Uint8Array(ie);for(let L=0;L<ie;++L){te=te+1&255;const ee=j[te];B=B+ee&255;const J=j[B];j[te]=J,j[B]=ee,E[L]=U[L]^j[ee+J&255]}return this.a=te,this.b=B,E}decryptBlock(U){return this.encryptBlock(U)}encrypt(U){return this.encryptBlock(U)}}o.ARCFourCipher=p;const t=function(){const U=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),te=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function(j,ie,E){let L=1732584193,ee=-271733879,J=-1732584194,Y=271733878;const q=E+72&-64,F=new Uint8Array(q);let O,Z;for(O=0;O<E;++O)F[O]=j[ie++];F[O++]=128;const se=q-8;for(;O<se;)F[O++]=0;F[O++]=E<<3&255,F[O++]=E>>5&255,F[O++]=E>>13&255,F[O++]=E>>21&255,F[O++]=E>>>29&255,F[O++]=0,F[O++]=0,F[O++]=0;const $=new Int32Array(16);for(O=0;O<q;){for(Z=0;Z<16;++Z,O+=4)$[Z]=F[O]|F[O+1]<<8|F[O+2]<<16|F[O+3]<<24;let X,ne,oe=L,ue=ee,fe=J,le=Y;for(Z=0;Z<64;++Z){Z<16?(X=ue&fe|~ue&le,ne=Z):Z<32?(X=le&ue|~le&fe,ne=5*Z+1&15):Z<48?(X=ue^fe^le,ne=3*Z+5&15):(X=fe^(ue|~le),ne=7*Z&15);const ae=le,de=oe+X+te[Z]+$[ne]|0,re=U[Z];le=fe,fe=ue,ue=ue+(de<<re|de>>>32-re)|0,oe=ae}L=L+oe|0,ee=ee+ue|0,J=J+fe|0,Y=Y+le|0}return new Uint8Array([255&L,L>>8&255,L>>16&255,L>>>24&255,255&ee,ee>>8&255,ee>>16&255,ee>>>24&255,255&J,J>>8&255,J>>16&255,J>>>24&255,255&Y,Y>>8&255,Y>>16&255,Y>>>24&255])}}();o.calculateMD5=t;class b{constructor(U,te){this.high=0|U,this.low=0|te}and(U){this.high&=U.high,this.low&=U.low}xor(U){this.high^=U.high,this.low^=U.low}or(U){this.high|=U.high,this.low|=U.low}shiftRight(U){U>=32?(this.low=this.high>>>U-32|0,this.high=0):(this.low=this.low>>>U|this.high<<32-U,this.high=this.high>>>U|0)}shiftLeft(U){U>=32?(this.high=this.low<<U-32,this.low=0):(this.high=this.high<<U|this.low>>>32-U,this.low<<=U)}rotateRight(U){let te,B;32&U?(B=this.low,te=this.high):(te=this.low,B=this.high),U&=31,this.low=te>>>U|B<<32-U,this.high=B>>>U|te<<32-U}not(){this.high=~this.high,this.low=~this.low}add(U){const te=(this.low>>>0)+(U.low>>>0);let B=(this.high>>>0)+(U.high>>>0);te>4294967295&&(B+=1),this.low=0|te,this.high=0|B}copyTo(U,te){U[te]=this.high>>>24&255,U[te+1]=this.high>>16&255,U[te+2]=this.high>>8&255,U[te+3]=255&this.high,U[te+4]=this.low>>>24&255,U[te+5]=this.low>>16&255,U[te+6]=this.low>>8&255,U[te+7]=255&this.low}assign(U){this.high=U.high,this.low=U.low}}const C=function(){function U(ee,J){return ee>>>J|ee<<32-J}function te(ee,J,Y){return ee&J^~ee&Y}function B(ee,J,Y){return ee&J^ee&Y^J&Y}function j(ee){return U(ee,2)^U(ee,13)^U(ee,22)}function ie(ee){return U(ee,6)^U(ee,11)^U(ee,25)}function E(ee){return U(ee,7)^U(ee,18)^ee>>>3}const L=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(J,Y,q){let F=1779033703,O=3144134277,Z=1013904242,se=2773480762,$=1359893119,X=2600822924,ne=528734635,oe=1541459225;const ue=64*Math.ceil((q+9)/64),fe=new Uint8Array(ue);let le,ae;for(le=0;le<q;++le)fe[le]=J[Y++];fe[le++]=128;const de=ue-8;for(;le<de;)fe[le++]=0;fe[le++]=0,fe[le++]=0,fe[le++]=0,fe[le++]=q>>>29&255,fe[le++]=q>>21&255,fe[le++]=q>>13&255,fe[le++]=q>>5&255,fe[le++]=q<<3&255;const re=new Uint32Array(64);for(le=0;le<ue;){for(ae=0;ae<16;++ae)re[ae]=fe[le]<<24|fe[le+1]<<16|fe[le+2]<<8|fe[le+3],le+=4;for(ae=16;ae<64;++ae)re[ae]=(U(Q=re[ae-2],17)^U(Q,19)^Q>>>10)+re[ae-7]+E(re[ae-15])+re[ae-16]|0;let ce,he,ge=F,pe=O,me=Z,Ae=se,ye=$,xe=X,Ce=ne,we=oe;for(ae=0;ae<64;++ae)ce=we+ie(ye)+te(ye,xe,Ce)+L[ae]+re[ae],he=j(ge)+B(ge,pe,me),we=Ce,Ce=xe,xe=ye,ye=Ae+ce|0,Ae=me,me=pe,pe=ge,ge=ce+he|0;F=F+ge|0,O=O+pe|0,Z=Z+me|0,se=se+Ae|0,$=$+ye|0,X=X+xe|0,ne=ne+Ce|0,oe=oe+we|0}var Q;return new Uint8Array([F>>24&255,F>>16&255,F>>8&255,255&F,O>>24&255,O>>16&255,O>>8&255,255&O,Z>>24&255,Z>>16&255,Z>>8&255,255&Z,se>>24&255,se>>16&255,se>>8&255,255&se,$>>24&255,$>>16&255,$>>8&255,255&$,X>>24&255,X>>16&255,X>>8&255,255&X,ne>>24&255,ne>>16&255,ne>>8&255,255&ne,oe>>24&255,oe>>16&255,oe>>8&255,255&oe])}}();o.calculateSHA256=C;const w=function(){function U(ee,J,Y,q,F){ee.assign(J),ee.and(Y),F.assign(J),F.not(),F.and(q),ee.xor(F)}function te(ee,J,Y,q,F){ee.assign(J),ee.and(Y),F.assign(J),F.and(q),ee.xor(F),F.assign(Y),F.and(q),ee.xor(F)}function B(ee,J,Y){ee.assign(J),ee.rotateRight(28),Y.assign(J),Y.rotateRight(34),ee.xor(Y),Y.assign(J),Y.rotateRight(39),ee.xor(Y)}function j(ee,J,Y){ee.assign(J),ee.rotateRight(14),Y.assign(J),Y.rotateRight(18),ee.xor(Y),Y.assign(J),Y.rotateRight(41),ee.xor(Y)}function ie(ee,J,Y){ee.assign(J),ee.rotateRight(1),Y.assign(J),Y.rotateRight(8),ee.xor(Y),Y.assign(J),Y.shiftRight(7),ee.xor(Y)}function E(ee,J,Y){ee.assign(J),ee.rotateRight(19),Y.assign(J),Y.rotateRight(61),ee.xor(Y),Y.assign(J),Y.shiftRight(6),ee.xor(Y)}const L=[new b(1116352408,3609767458),new b(1899447441,602891725),new b(3049323471,3964484399),new b(3921009573,2173295548),new b(961987163,4081628472),new b(1508970993,3053834265),new b(2453635748,2937671579),new b(2870763221,3664609560),new b(3624381080,2734883394),new b(310598401,1164996542),new b(607225278,1323610764),new b(1426881987,3590304994),new b(1925078388,4068182383),new b(2162078206,991336113),new b(2614888103,633803317),new b(3248222580,3479774868),new b(3835390401,2666613458),new b(4022224774,944711139),new b(264347078,2341262773),new b(604807628,2007800933),new b(770255983,1495990901),new b(1249150122,1856431235),new b(1555081692,3175218132),new b(1996064986,2198950837),new b(2554220882,3999719339),new b(2821834349,766784016),new b(2952996808,2566594879),new b(3210313671,3203337956),new b(3336571891,1034457026),new b(3584528711,2466948901),new b(113926993,3758326383),new b(338241895,168717936),new b(666307205,1188179964),new b(773529912,1546045734),new b(1294757372,1522805485),new b(1396182291,2643833823),new b(1695183700,2343527390),new b(1986661051,1014477480),new b(2177026350,1206759142),new b(2456956037,344077627),new b(2730485921,1290863460),new b(2820302411,3158454273),new b(3259730800,3505952657),new b(3345764771,106217008),new b(3516065817,3606008344),new b(3600352804,1432725776),new b(4094571909,1467031594),new b(275423344,851169720),new b(430227734,3100823752),new b(506948616,1363258195),new b(659060556,3750685593),new b(883997877,3785050280),new b(958139571,3318307427),new b(1322822218,3812723403),new b(1537002063,2003034995),new b(1747873779,3602036899),new b(1955562222,1575990012),new b(2024104815,1125592928),new b(2227730452,2716904306),new b(2361852424,442776044),new b(2428436474,593698344),new b(2756734187,3733110249),new b(3204031479,2999351573),new b(3329325298,3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];return function(J,Y,q,F=!1){let O,Z,se,$,X,ne,oe,ue;F?(O=new b(3418070365,3238371032),Z=new b(1654270250,914150663),se=new b(2438529370,812702999),$=new b(355462360,4144912697),X=new b(1731405415,4290775857),ne=new b(2394180231,1750603025),oe=new b(3675008525,1694076839),ue=new b(1203062813,3204075428)):(O=new b(1779033703,4089235720),Z=new b(3144134277,2227873595),se=new b(1013904242,4271175723),$=new b(2773480762,1595750129),X=new b(1359893119,2917565137),ne=new b(2600822924,725511199),oe=new b(528734635,4215389547),ue=new b(1541459225,327033209));const fe=128*Math.ceil((q+17)/128),le=new Uint8Array(fe);let ae,de;for(ae=0;ae<q;++ae)le[ae]=J[Y++];le[ae++]=128;const re=fe-16;for(;ae<re;)le[ae++]=0;le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=0,le[ae++]=q>>>29&255,le[ae++]=q>>21&255,le[ae++]=q>>13&255,le[ae++]=q>>5&255,le[ae++]=q<<3&255;const Q=new Array(80);for(ae=0;ae<80;ae++)Q[ae]=new b(0,0);let ce=new b(0,0),he=new b(0,0),ge=new b(0,0),pe=new b(0,0),me=new b(0,0),Ae=new b(0,0),ye=new b(0,0),xe=new b(0,0);const Ce=new b(0,0),we=new b(0,0),ve=new b(0,0),Se=new b(0,0);let _e,ke;for(ae=0;ae<fe;){for(de=0;de<16;++de)Q[de].high=le[ae]<<24|le[ae+1]<<16|le[ae+2]<<8|le[ae+3],Q[de].low=le[ae+4]<<24|le[ae+5]<<16|le[ae+6]<<8|le[ae+7],ae+=8;for(de=16;de<80;++de)_e=Q[de],E(_e,Q[de-2],Se),_e.add(Q[de-7]),ie(ve,Q[de-15],Se),_e.add(ve),_e.add(Q[de-16]);for(ce.assign(O),he.assign(Z),ge.assign(se),pe.assign($),me.assign(X),Ae.assign(ne),ye.assign(oe),xe.assign(ue),de=0;de<80;++de)Ce.assign(xe),j(ve,me,Se),Ce.add(ve),U(ve,me,Ae,ye,Se),Ce.add(ve),Ce.add(L[de]),Ce.add(Q[de]),B(we,ce,Se),te(ve,ce,he,ge,Se),we.add(ve),_e=xe,xe=ye,ye=Ae,Ae=me,pe.add(Ce),me=pe,pe=ge,ge=he,he=ce,_e.assign(Ce),_e.add(we),ce=_e;O.add(ce),Z.add(he),se.add(ge),$.add(pe),X.add(me),ne.add(Ae),oe.add(ye),ue.add(xe)}return F?(ke=new Uint8Array(48),O.copyTo(ke,0),Z.copyTo(ke,8),se.copyTo(ke,16),$.copyTo(ke,24),X.copyTo(ke,32),ne.copyTo(ke,40)):(ke=new Uint8Array(64),O.copyTo(ke,0),Z.copyTo(ke,8),se.copyTo(ke,16),$.copyTo(ke,24),X.copyTo(ke,32),ne.copyTo(ke,40),oe.copyTo(ke,48),ue.copyTo(ke,56)),ke}}();o.calculateSHA512=w;function v(R,U,te){return w(R,U,te,!0)}class M{decryptBlock(U){return U}encrypt(U){return U}}class y{constructor(){this.constructor===y&&(0,s.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let U=0;U<256;U++)this._mixCol[U]=U<128?U<<1:U<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(U){(0,s.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(U,te){let B,j,ie;const E=new Uint8Array(16);E.set(U);for(let L=0,ee=this._keySize;L<16;++L,++ee)E[L]^=te[ee];for(let L=this._cyclesOfRepetition-1;L>=1;--L){B=E[13],E[13]=E[9],E[9]=E[5],E[5]=E[1],E[1]=B,B=E[14],j=E[10],E[14]=E[6],E[10]=E[2],E[6]=B,E[2]=j,B=E[15],j=E[11],ie=E[7],E[15]=E[3],E[11]=B,E[7]=j,E[3]=ie;for(let ee=0;ee<16;++ee)E[ee]=this._inv_s[E[ee]];for(let ee=0,J=16*L;ee<16;++ee,++J)E[ee]^=te[J];for(let ee=0;ee<16;ee+=4){const J=this._mix[E[ee]],Y=this._mix[E[ee+1]],q=this._mix[E[ee+2]],F=this._mix[E[ee+3]];B=J^Y>>>8^Y<<24^q>>>16^q<<16^F>>>24^F<<8,E[ee]=B>>>24&255,E[ee+1]=B>>16&255,E[ee+2]=B>>8&255,E[ee+3]=255&B}}B=E[13],E[13]=E[9],E[9]=E[5],E[5]=E[1],E[1]=B,B=E[14],j=E[10],E[14]=E[6],E[10]=E[2],E[6]=B,E[2]=j,B=E[15],j=E[11],ie=E[7],E[15]=E[3],E[11]=B,E[7]=j,E[3]=ie;for(let L=0;L<16;++L)E[L]=this._inv_s[E[L]],E[L]^=te[L];return E}_encrypt(U,te){const B=this._s;let j,ie,E;const L=new Uint8Array(16);L.set(U);for(let ee=0;ee<16;++ee)L[ee]^=te[ee];for(let ee=1;ee<this._cyclesOfRepetition;ee++){for(let J=0;J<16;++J)L[J]=B[L[J]];E=L[1],L[1]=L[5],L[5]=L[9],L[9]=L[13],L[13]=E,E=L[2],ie=L[6],L[2]=L[10],L[6]=L[14],L[10]=E,L[14]=ie,E=L[3],ie=L[7],j=L[11],L[3]=L[15],L[7]=E,L[11]=ie,L[15]=j;for(let J=0;J<16;J+=4){const Y=L[J+0],q=L[J+1],F=L[J+2],O=L[J+3];j=Y^q^F^O,L[J+0]^=j^this._mixCol[Y^q],L[J+1]^=j^this._mixCol[q^F],L[J+2]^=j^this._mixCol[F^O],L[J+3]^=j^this._mixCol[O^Y]}for(let J=0,Y=16*ee;J<16;++J,++Y)L[J]^=te[Y]}for(let ee=0;ee<16;++ee)L[ee]=B[L[ee]];E=L[1],L[1]=L[5],L[5]=L[9],L[9]=L[13],L[13]=E,E=L[2],ie=L[6],L[2]=L[10],L[6]=L[14],L[10]=E,L[14]=ie,E=L[3],ie=L[7],j=L[11],L[3]=L[15],L[7]=E,L[11]=ie,L[15]=j;for(let ee=0,J=this._keySize;ee<16;++ee,++J)L[ee]^=te[J];return L}_decryptBlock2(U,te){const B=U.length;let j=this.buffer,ie=this.bufferPosition;const E=[];let L=this.iv;for(let Y=0;Y<B;++Y){if(j[ie]=U[Y],++ie,ie<16)continue;const q=this._decrypt(j,this._key);for(let F=0;F<16;++F)q[F]^=L[F];L=j,E.push(q),j=new Uint8Array(16),ie=0}if(this.buffer=j,this.bufferLength=ie,this.iv=L,E.length===0)return new Uint8Array(0);let ee=16*E.length;if(te){const Y=E.at(-1);let q=Y[15];if(q<=16){for(let F=15,O=16-q;F>=O;--F)if(Y[F]!==q){q=0;break}ee-=q,E[E.length-1]=Y.subarray(0,16-q)}}const J=new Uint8Array(ee);for(let Y=0,q=0,F=E.length;Y<F;++Y,q+=16)J.set(E[Y],q);return J}decryptBlock(U,te,B=null){const j=U.length,ie=this.buffer;let E=this.bufferPosition;if(B)this.iv=B;else{for(let L=0;E<16&&L<j;++L,++E)ie[E]=U[L];if(E<16)return this.bufferLength=E,new Uint8Array(0);this.iv=ie,U=U.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(U,te)}encrypt(U,te){const B=U.length;let j=this.buffer,ie=this.bufferPosition;const E=[];te||(te=new Uint8Array(16));for(let J=0;J<B;++J){if(j[ie]=U[J],++ie,ie<16)continue;for(let q=0;q<16;++q)j[q]^=te[q];const Y=this._encrypt(j,this._key);te=Y,E.push(Y),j=new Uint8Array(16),ie=0}if(this.buffer=j,this.bufferLength=ie,this.iv=te,E.length===0)return new Uint8Array(0);const L=16*E.length,ee=new Uint8Array(L);for(let J=0,Y=0,q=E.length;J<q;++J,Y+=16)ee.set(E[J],Y);return ee}}class I extends y{constructor(U){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(U)}_expandKey(U){const te=this._s,B=this._rcon,j=new Uint8Array(176);j.set(U);for(let ie=16,E=1;ie<176;++E){let L=j[ie-3],ee=j[ie-2],J=j[ie-1],Y=j[ie-4];L=te[L],ee=te[ee],J=te[J],Y=te[Y],L^=B[E];for(let q=0;q<4;++q)j[ie]=L^=j[ie-16],ie++,j[ie]=ee^=j[ie-16],ie++,j[ie]=J^=j[ie-16],ie++,j[ie]=Y^=j[ie-16],ie++}return j}}o.AES128Cipher=I;class P extends y{constructor(U){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(U)}_expandKey(U){const te=this._s,B=new Uint8Array(240);B.set(U);let j,ie,E,L,ee=1;for(let J=32,Y=1;J<240;++Y){J%32==16?(j=te[j],ie=te[ie],E=te[E],L=te[L]):J%32==0&&(j=B[J-3],ie=B[J-2],E=B[J-1],L=B[J-4],j=te[j],ie=te[ie],E=te[E],L=te[L],j^=ee,(ee<<=1)>=256&&(ee=255&(27^ee)));for(let q=0;q<4;++q)B[J]=j^=B[J-32],J++,B[J]=ie^=B[J-32],J++,B[J]=E^=B[J-32],J++,B[J]=L^=B[J-32],J++}return B}}o.AES256Cipher=P;class _{checkOwnerPassword(U,te,B,j){const ie=new Uint8Array(U.length+56);ie.set(U,0),ie.set(te,U.length),ie.set(B,U.length+te.length);const E=C(ie,0,ie.length);return(0,s.isArrayEqual)(E,j)}checkUserPassword(U,te,B){const j=new Uint8Array(U.length+8);j.set(U,0),j.set(te,U.length);const ie=C(j,0,j.length);return(0,s.isArrayEqual)(ie,B)}getOwnerKey(U,te,B,j){const ie=new Uint8Array(U.length+56);ie.set(U,0),ie.set(te,U.length),ie.set(B,U.length+te.length);const E=C(ie,0,ie.length);return new P(E).decryptBlock(j,!1,new Uint8Array(16))}getUserKey(U,te,B){const j=new Uint8Array(U.length+8);j.set(U,0),j.set(te,U.length);const ie=C(j,0,j.length);return new P(ie).decryptBlock(B,!1,new Uint8Array(16))}}o.PDF17=_;const k=function(){function U(te,B,j){let ie=C(B,0,B.length).subarray(0,32),E=[0],L=0;for(;L<64||E.at(-1)>L-32;){const ee=te.length+ie.length+j.length,J=new Uint8Array(ee);let Y=0;J.set(te,Y),Y+=te.length,J.set(ie,Y),Y+=ie.length,J.set(j,Y);const q=new Uint8Array(64*ee);for(let O=0,Z=0;O<64;O++,Z+=ee)q.set(J,Z);E=new I(ie.subarray(0,16)).encrypt(q,ie.subarray(16,32));let F=0;for(let O=0;O<16;O++)F*=1,F%=3,F+=(E[O]>>>0)%3,F%=3;F===0?ie=C(E,0,E.length):F===1?ie=v(E,0,E.length):F===2&&(ie=w(E,0,E.length)),L++}return ie.subarray(0,32)}return class{hash(B,j,ie){return U(B,j,ie)}checkOwnerPassword(B,j,ie,E){const L=new Uint8Array(B.length+56);L.set(B,0),L.set(j,B.length),L.set(ie,B.length+j.length);const ee=U(B,L,ie);return(0,s.isArrayEqual)(ee,E)}checkUserPassword(B,j,ie){const E=new Uint8Array(B.length+8);E.set(B,0),E.set(j,B.length);const L=U(B,E,[]);return(0,s.isArrayEqual)(L,ie)}getOwnerKey(B,j,ie,E){const L=new Uint8Array(B.length+56);L.set(B,0),L.set(j,B.length),L.set(ie,B.length+j.length);const ee=U(B,L,ie);return new P(ee).decryptBlock(E,!1,new Uint8Array(16))}getUserKey(B,j,ie){const E=new Uint8Array(B.length+8);E.set(B,0),E.set(j,B.length);const L=U(B,E,[]);return new P(L).decryptBlock(ie,!1,new Uint8Array(16))}}}();o.PDF20=k;class D{constructor(U,te){this.StringCipherConstructor=U,this.StreamCipherConstructor=te}createStream(U,te){const B=new this.StreamCipherConstructor;return new m.DecryptStream(U,te,function(ie,E){return B.decryptBlock(ie,E)})}decryptString(U){const te=new this.StringCipherConstructor;let B=(0,s.stringToBytes)(U);return B=te.decryptBlock(B,!0),(0,s.bytesToString)(B)}encryptString(U){const te=new this.StringCipherConstructor;if(te instanceof y){const j=16-U.length%16;U+=String.fromCharCode(j).repeat(j);const ie=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(ie);else for(let ee=0;ee<16;ee++)ie[ee]=Math.floor(256*Math.random());let E=(0,s.stringToBytes)(U);E=te.encrypt(E,ie);const L=new Uint8Array(16+E.length);return L.set(ie),L.set(E,16),(0,s.bytesToString)(L)}let B=(0,s.stringToBytes)(U);return B=te.encrypt(B),(0,s.bytesToString)(B)}}const V=function(){const U=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function te(E,L,ee,J,Y,q,F,O){const Z=40+ee.length+E.length,se=new Uint8Array(Z);let $,X,ne=0;if(L)for(X=Math.min(32,L.length);ne<X;++ne)se[ne]=L[ne];for($=0;ne<32;)se[ne++]=U[$++];for($=0,X=ee.length;$<X;++$)se[ne++]=ee[$];for(se[ne++]=255&Y,se[ne++]=Y>>8&255,se[ne++]=Y>>16&255,se[ne++]=Y>>>24&255,$=0,X=E.length;$<X;++$)se[ne++]=E[$];q>=4&&!O&&(se[ne++]=255,se[ne++]=255,se[ne++]=255,se[ne++]=255);let oe=t(se,0,ne);const ue=F>>3;if(q>=3)for($=0;$<50;++$)oe=t(oe,0,ue);const fe=oe.subarray(0,ue);let le,ae;if(q>=3){for(ne=0;ne<32;++ne)se[ne]=U[ne];for($=0,X=E.length;$<X;++$)se[ne++]=E[$];le=new p(fe),ae=le.encryptBlock(t(se,0,ne)),X=fe.length;const de=new Uint8Array(X);for($=1;$<=19;++$){for(let re=0;re<X;++re)de[re]=fe[re]^$;le=new p(de),ae=le.encryptBlock(ae)}for($=0,X=ae.length;$<X;++$)if(J[$]!==ae[$])return null}else for(le=new p(fe),ae=le.encryptBlock(U),$=0,X=ae.length;$<X;++$)if(J[$]!==ae[$])return null;return fe}const B=g.Name.get("Identity");function j(E,L,ee,J=!1){const Y=new Uint8Array(ee.length+9),q=ee.length;let F;for(F=0;F<q;++F)Y[F]=ee[F];return Y[F++]=255&E,Y[F++]=E>>8&255,Y[F++]=E>>16&255,Y[F++]=255&L,Y[F++]=L>>8&255,J&&(Y[F++]=115,Y[F++]=65,Y[F++]=108,Y[F++]=84),t(Y,0,F).subarray(0,Math.min(ee.length+5,16))}function ie(E,L,ee,J,Y){if(!(L instanceof g.Name))throw new s.FormatError("Invalid crypt filter name.");const q=E.get(L.name);let F;if(q!=null&&(F=q.get("CFM")),!F||F.name==="None")return function(){return new M};if(F.name==="V2")return function(){return new p(j(ee,J,Y,!1))};if(F.name==="AESV2")return function(){return new I(j(ee,J,Y,!0))};if(F.name==="AESV3")return function(){return new P(Y)};throw new s.FormatError("Unknown crypto method")}return class{constructor(L,ee,J){const Y=L.get("Filter");if(!(0,g.isName)(Y,"Standard"))throw new s.FormatError("unknown encryption method");this.filterName=Y.name,this.dict=L;const q=L.get("V");if(!Number.isInteger(q)||q!==1&&q!==2&&q!==4&&q!==5)throw new s.FormatError("unsupported encryption algorithm");this.algorithm=q;let F=L.get("Length");if(!F)if(q<=3)F=40;else{const fe=L.get("CF"),le=L.get("StmF");if(fe instanceof g.Dict&&le instanceof g.Name){fe.suppressEncryption=!0;const ae=fe.get(le.name);F=ae&&ae.get("Length")||128,F<40&&(F<<=3)}}if(!Number.isInteger(F)||F<40||F%8!=0)throw new s.FormatError("invalid key length");const O=(0,s.stringToBytes)(L.get("O")).subarray(0,32),Z=(0,s.stringToBytes)(L.get("U")).subarray(0,32),se=L.get("P"),$=L.get("R"),X=(q===4||q===5)&&L.get("EncryptMetadata")!==!1;this.encryptMetadata=X;const ne=(0,s.stringToBytes)(ee);let oe,ue;if(J){if($===6)try{J=(0,s.utf8StringToString)(J)}catch{(0,s.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}oe=(0,s.stringToBytes)(J)}if(q!==5)ue=te(ne,oe,O,Z,se,$,F,X);else{const fe=(0,s.stringToBytes)(L.get("O")).subarray(32,40),le=(0,s.stringToBytes)(L.get("O")).subarray(40,48),ae=(0,s.stringToBytes)(L.get("U")).subarray(0,48),de=(0,s.stringToBytes)(L.get("U")).subarray(32,40),re=(0,s.stringToBytes)(L.get("U")).subarray(40,48),Q=(0,s.stringToBytes)(L.get("OE")),ce=(0,s.stringToBytes)(L.get("UE"));(0,s.stringToBytes)(L.get("Perms")),ue=function(ge,pe,me,Ae,ye,xe,Ce,we,ve,Se,_e,ke){if(pe){const je=Math.min(127,pe.length);pe=pe.subarray(0,je)}else pe=[];let Fe;return Fe=ge===6?new k:new _,Fe.checkUserPassword(pe,we,Ce)?Fe.getUserKey(pe,ve,_e):pe.length&&Fe.checkOwnerPassword(pe,Ae,xe,me)?Fe.getOwnerKey(pe,ye,xe,Se):null}($,oe,O,fe,le,ae,Z,de,re,Q,ce)}if(!ue&&!J)throw new s.PasswordException("No password given",s.PasswordResponses.NEED_PASSWORD);if(!ue&&J){const fe=function(ae,de,re,Q){const ce=new Uint8Array(32);let he=0;const ge=Math.min(32,ae.length);for(;he<ge;++he)ce[he]=ae[he];let pe=0;for(;he<32;)ce[he++]=U[pe++];let me=t(ce,0,he);const Ae=Q>>3;if(re>=3)for(pe=0;pe<50;++pe)me=t(me,0,me.length);let ye,xe;if(re>=3){xe=de;const Ce=new Uint8Array(Ae);for(pe=19;pe>=0;pe--){for(let we=0;we<Ae;++we)Ce[we]=me[we]^pe;ye=new p(Ce),xe=ye.encryptBlock(xe)}}else ye=new p(me.subarray(0,Ae)),xe=ye.encryptBlock(de);return xe}(oe,O,$,F);ue=te(ne,fe,O,Z,se,$,F,X)}if(!ue)throw new s.PasswordException("Incorrect Password",s.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=ue,q>=4){const fe=L.get("CF");fe instanceof g.Dict&&(fe.suppressEncryption=!0),this.cf=fe,this.stmf=L.get("StmF")||B,this.strf=L.get("StrF")||B,this.eff=L.get("EFF")||this.stmf}}createCipherTransform(L,ee){if(this.algorithm===4||this.algorithm===5)return new D(ie(this.cf,this.strf,L,ee,this.encryptionKey),ie(this.cf,this.stmf,L,ee,this.encryptionKey));const J=j(L,ee,this.encryptionKey,!1),Y=function(){return new p(J)};return new D(Y,Y)}}}();o.CipherTransformFactory=V},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecryptStream=void 0;var s=f(19);class g extends s.DecodeStream{constructor(p,t,b){super(t),this.str=p,this.dict=p.dict,this.decrypt=b,this.nextChunk=null,this.initialized=!1}readBlock(){let p;if(this.initialized?p=this.nextChunk:(p=this.str.getBytes(512),this.initialized=!0),!p||p.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(512);const t=this.nextChunk&&this.nextChunk.length>0;p=(0,this.decrypt)(p,!t);let b=this.bufferLength;const C=p.length,w=this.ensureBuffer(b+C);for(let v=0;v<C;v++)w[b++]=p[v];this.bufferLength=b}}o.DecryptStream=g},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Catalog=void 0;var s=f(6),g=f(2),m=f(5),p=f(70),t=f(7),b=f(71),C=f(14),w=f(72),v=f(59),M=f(73),y=f(74);function I(_){return _ instanceof m.Dict&&(_=_.get("D")),Array.isArray(_)?_:null}class P{constructor(k,D){if(this.pdfManager=k,this.xref=D,this._catDict=D.getCatalogObj(),!(this._catDict instanceof m.Dict))throw new g.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new m.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new v.GlobalImageCache,this.pageKidsCountCache=new m.RefSetCache,this.pageIndexCache=new m.RefSetCache,this.nonBlendModesSet=new m.RefSet}get version(){const k=this._catDict.get("Version");return(0,g.shadow)(this,"version",k instanceof m.Name?k.name:null)}get lang(){const k=this._catDict.get("Lang");return(0,g.shadow)(this,"lang",typeof k=="string"?(0,g.stringToPDFString)(k):null)}get needsRendering(){const k=this._catDict.get("NeedsRendering");return(0,g.shadow)(this,"needsRendering",typeof k=="boolean"&&k)}get collection(){let k=null;try{const D=this._catDict.get("Collection");D instanceof m.Dict&&D.size>0&&(k=D)}catch(D){if(D instanceof s.MissingDataException)throw D;(0,g.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,g.shadow)(this,"collection",k)}get acroForm(){let k=null;try{const D=this._catDict.get("AcroForm");D instanceof m.Dict&&D.size>0&&(k=D)}catch(D){if(D instanceof s.MissingDataException)throw D;(0,g.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,g.shadow)(this,"acroForm",k)}get acroFormRef(){const k=this._catDict.getRaw("AcroForm");return(0,g.shadow)(this,"acroFormRef",k instanceof m.Ref?k:null)}get metadata(){const k=this._catDict.getRaw("Metadata");if(!(k instanceof m.Ref))return(0,g.shadow)(this,"metadata",null);let D=null;try{const V=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),R=this.xref.fetch(k,V);if(R instanceof t.BaseStream&&R.dict instanceof m.Dict){const U=R.dict.get("Type"),te=R.dict.get("Subtype");if((0,m.isName)(U,"Metadata")&&(0,m.isName)(te,"XML")){const B=(0,g.stringToUTF8String)(R.getString());B&&(D=new M.MetadataParser(B).serializable)}}}catch(V){if(V instanceof s.MissingDataException)throw V;(0,g.info)(`Skipping invalid Metadata: "${V}".`)}return(0,g.shadow)(this,"metadata",D)}get markInfo(){let k=null;try{k=this._readMarkInfo()}catch(D){if(D instanceof s.MissingDataException)throw D;(0,g.warn)("Unable to read mark info.")}return(0,g.shadow)(this,"markInfo",k)}_readMarkInfo(){const k=this._catDict.get("MarkInfo");if(!(k instanceof m.Dict))return null;const D={Marked:!1,UserProperties:!1,Suspects:!1};for(const V in D){const R=k.get(V);typeof R=="boolean"&&(D[V]=R)}return D}get structTreeRoot(){let k=null;try{k=this._readStructTreeRoot()}catch(D){if(D instanceof s.MissingDataException)throw D;(0,g.warn)("Unable read to structTreeRoot info.")}return(0,g.shadow)(this,"structTreeRoot",k)}_readStructTreeRoot(){const k=this._catDict.get("StructTreeRoot");if(!(k instanceof m.Dict))return null;const D=new y.StructTreeRoot(k);return D.init(),D}get toplevelPagesDict(){const k=this._catDict.get("Pages");if(!(k instanceof m.Dict))throw new g.FormatError("Invalid top-level pages dictionary.");return(0,g.shadow)(this,"toplevelPagesDict",k)}get documentOutline(){let k=null;try{k=this._readDocumentOutline()}catch(D){if(D instanceof s.MissingDataException)throw D;(0,g.warn)("Unable to read document outline.")}return(0,g.shadow)(this,"documentOutline",k)}_readDocumentOutline(){let k=this._catDict.get("Outlines");if(!(k instanceof m.Dict)||(k=k.getRaw("First"),!(k instanceof m.Ref)))return null;const D={items:[]},V=[{obj:k,parent:D}],R=new m.RefSet;R.put(k);const U=this.xref,te=new Uint8ClampedArray(3);for(;V.length>0;){const B=V.shift(),j=U.fetchIfRef(B.obj);if(j===null)continue;if(!j.has("Title"))throw new g.FormatError("Invalid outline item encountered.");const ie={url:null,dest:null};P.parseDestDictionary({destDict:j,resultObj:ie,docBaseUrl:this.pdfManager.docBaseUrl});const E=j.get("Title"),L=j.get("F")||0,ee=j.getArray("C"),J=j.get("Count");let Y=te;!Array.isArray(ee)||ee.length!==3||ee[0]===0&&ee[1]===0&&ee[2]===0||(Y=C.ColorSpace.singletons.rgb.getRgb(ee,0));const q={dest:ie.dest,url:ie.url,unsafeUrl:ie.unsafeUrl,newWindow:ie.newWindow,title:(0,g.stringToPDFString)(E),color:Y,count:Number.isInteger(J)?J:void 0,bold:!!(2&L),italic:!!(1&L),items:[]};B.parent.items.push(q),k=j.getRaw("First"),k instanceof m.Ref&&!R.has(k)&&(V.push({obj:k,parent:q}),R.put(k)),k=j.getRaw("Next"),k instanceof m.Ref&&!R.has(k)&&(V.push({obj:k,parent:B.parent}),R.put(k))}return D.items.length>0?D.items:null}get permissions(){let k=null;try{k=this._readPermissions()}catch(D){if(D instanceof s.MissingDataException)throw D;(0,g.warn)("Unable to read permissions.")}return(0,g.shadow)(this,"permissions",k)}_readPermissions(){const k=this.xref.trailer.get("Encrypt");if(!(k instanceof m.Dict))return null;let D=k.get("P");if(typeof D!="number")return null;D+=4294967296;const V=[];for(const R in g.PermissionFlag){const U=g.PermissionFlag[R];D&U&&V.push(U)}return V}get optionalContentConfig(){let k=null;try{const D=this._catDict.get("OCProperties");if(!D)return(0,g.shadow)(this,"optionalContentConfig",null);const V=D.get("D");if(!V)return(0,g.shadow)(this,"optionalContentConfig",null);const R=D.get("OCGs");if(!Array.isArray(R))return(0,g.shadow)(this,"optionalContentConfig",null);const U=[],te=[];for(const B of R){if(!(B instanceof m.Ref))continue;te.push(B);const j=this.xref.fetchIfRef(B);U.push({id:B.toString(),name:typeof j.get("Name")=="string"?(0,g.stringToPDFString)(j.get("Name")):null,intent:typeof j.get("Intent")=="string"?(0,g.stringToPDFString)(j.get("Intent")):null})}k=this._readOptionalContentConfig(V,te),k.groups=U}catch(D){if(D instanceof s.MissingDataException)throw D;(0,g.warn)(`Unable to read optional content config: ${D}`)}return(0,g.shadow)(this,"optionalContentConfig",k)}_readOptionalContentConfig(k,D){function V(ie){const E=[];if(Array.isArray(ie))for(const L of ie)L instanceof m.Ref&&D.includes(L)&&E.push(L.toString());return E}function R(ie,E=0){if(!Array.isArray(ie))return null;const L=[];for(const J of ie){if(J instanceof m.Ref&&D.includes(J)){B.put(J),L.push(J.toString());continue}const Y=U(J,E);Y&&L.push(Y)}if(E>0)return L;const ee=[];for(const J of D)B.has(J)||ee.push(J.toString());return ee.length&&L.push({name:null,order:ee}),L}function U(ie,E){if(++E>j)return(0,g.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const L=te.fetchIfRef(ie);if(!Array.isArray(L))return null;const ee=te.fetchIfRef(L[0]);if(typeof ee!="string")return null;const J=R(L.slice(1),E);return J&&J.length?{name:(0,g.stringToPDFString)(ee),order:J}:null}const te=this.xref,B=new m.RefSet,j=10;return{name:typeof k.get("Name")=="string"?(0,g.stringToPDFString)(k.get("Name")):null,creator:typeof k.get("Creator")=="string"?(0,g.stringToPDFString)(k.get("Creator")):null,baseState:k.get("BaseState")instanceof m.Name?k.get("BaseState").name:null,on:V(k.get("ON")),off:V(k.get("OFF")),order:R(k.get("Order")),groups:null}}setActualNumPages(k=null){this._actualNumPages=k}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const k=this.toplevelPagesDict.get("Count");if(!Number.isInteger(k))throw new g.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,g.shadow)(this,"_pagesCount",k)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const k=this._readDests(),D=Object.create(null);if(k instanceof p.NameTree)for(const[V,R]of k.getAll()){const U=I(R);U&&(D[(0,g.stringToPDFString)(V)]=U)}else k instanceof m.Dict&&k.forEach(function(V,R){const U=I(R);U&&(D[V]=U)});return(0,g.shadow)(this,"destinations",D)}getDestination(k){const D=this._readDests();if(D instanceof p.NameTree){const V=I(D.get(k));if(V)return V;const R=this.destinations[k];if(R)return(0,g.warn)(`Found "${k}" at an incorrect position in the NameTree.`),R}else if(D instanceof m.Dict){const V=I(D.get(k));if(V)return V}return null}_readDests(){const k=this._catDict.get("Names");return k&&k.has("Dests")?new p.NameTree(k.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}get pageLabels(){let k=null;try{k=this._readPageLabels()}catch(D){if(D instanceof s.MissingDataException)throw D;(0,g.warn)("Unable to read page labels.")}return(0,g.shadow)(this,"pageLabels",k)}_readPageLabels(){const k=this._catDict.getRaw("PageLabels");if(!k)return null;const D=new Array(this.numPages);let V=null,R="";const U=new p.NumberTree(k,this.xref).getAll();let te="",B=1;for(let j=0,ie=this.numPages;j<ie;j++){const E=U.get(j);if(E!==void 0){if(!(E instanceof m.Dict))throw new g.FormatError("PageLabel is not a dictionary.");if(E.has("Type")&&!(0,m.isName)(E.get("Type"),"PageLabel"))throw new g.FormatError("Invalid type in PageLabel dictionary.");if(E.has("S")){const L=E.get("S");if(!(L instanceof m.Name))throw new g.FormatError("Invalid style in PageLabel dictionary.");V=L.name}else V=null;if(E.has("P")){const L=E.get("P");if(typeof L!="string")throw new g.FormatError("Invalid prefix in PageLabel dictionary.");R=(0,g.stringToPDFString)(L)}else R="";if(E.has("St")){const L=E.get("St");if(!(Number.isInteger(L)&&L>=1))throw new g.FormatError("Invalid start in PageLabel dictionary.");B=L}else B=1}switch(V){case"D":te=B;break;case"R":case"r":te=(0,s.toRomanNumerals)(B,V==="r");break;case"A":case"a":const L=26,ee=65,J=97,Y=V==="a"?J:ee,q=B-1;te=String.fromCharCode(Y+q%L).repeat(Math.floor(q/L)+1);break;default:if(V)throw new g.FormatError(`Invalid style "${V}" in PageLabel dictionary.`);te=""}D[j]=R+te,B++}return D}get pageLayout(){const k=this._catDict.get("PageLayout");let D="";if(k instanceof m.Name)switch(k.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":D=k.name}return(0,g.shadow)(this,"pageLayout",D)}get pageMode(){const k=this._catDict.get("PageMode");let D="UseNone";if(k instanceof m.Name)switch(k.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":D=k.name}return(0,g.shadow)(this,"pageMode",D)}get viewerPreferences(){const k=this._catDict.get("ViewerPreferences");if(!(k instanceof m.Dict))return(0,g.shadow)(this,"viewerPreferences",null);let D=null;for(const V of k.getKeys()){const R=k.get(V);let U;switch(V){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof R=="boolean"&&(U=R);break;case"NonFullScreenPageMode":if(R instanceof m.Name)switch(R.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":U=R.name;break;default:U="UseNone"}break;case"Direction":if(R instanceof m.Name)switch(R.name){case"L2R":case"R2L":U=R.name;break;default:U="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(R instanceof m.Name)switch(R.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":U=R.name;break;default:U="CropBox"}break;case"PrintScaling":if(R instanceof m.Name)switch(R.name){case"None":case"AppDefault":U=R.name;break;default:U="AppDefault"}break;case"Duplex":if(R instanceof m.Name)switch(R.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":U=R.name;break;default:U="None"}break;case"PrintPageRange":Array.isArray(R)&&R.length%2==0&&R.every((te,B,j)=>Number.isInteger(te)&&te>0&&(B===0||te>=j[B-1])&&te<=this.numPages)&&(U=R);break;case"NumCopies":Number.isInteger(R)&&R>0&&(U=R);break;default:(0,g.warn)(`Ignoring non-standard key in ViewerPreferences: ${V}.`);continue}U!==void 0?(D||(D=Object.create(null)),D[V]=U):(0,g.warn)(`Bad value, for key "${V}", in ViewerPreferences: ${R}.`)}return(0,g.shadow)(this,"viewerPreferences",D)}get openAction(){const k=this._catDict.get("OpenAction"),D=Object.create(null);if(k instanceof m.Dict){const V=new m.Dict(this.xref);V.set("A",k);const R={url:null,dest:null,action:null};P.parseDestDictionary({destDict:V,resultObj:R}),Array.isArray(R.dest)?D.dest=R.dest:R.action&&(D.action=R.action)}else Array.isArray(k)&&(D.dest=k);return(0,g.shadow)(this,"openAction",(0,g.objectSize)(D)>0?D:null)}get attachments(){const k=this._catDict.get("Names");let D=null;if(k instanceof m.Dict&&k.has("EmbeddedFiles")){const V=new p.NameTree(k.getRaw("EmbeddedFiles"),this.xref);for(const[R,U]of V.getAll()){const te=new w.FileSpec(U,this.xref);D||(D=Object.create(null)),D[(0,g.stringToPDFString)(R)]=te.serializable}}return(0,g.shadow)(this,"attachments",D)}get xfaImages(){const k=this._catDict.get("Names");let D=null;if(k instanceof m.Dict&&k.has("XFAImages")){const V=new p.NameTree(k.getRaw("XFAImages"),this.xref);for(const[R,U]of V.getAll())D||(D=new m.Dict(this.xref)),D.set((0,g.stringToPDFString)(R),U)}return(0,g.shadow)(this,"xfaImages",D)}_collectJavaScript(){const k=this._catDict.get("Names");let D=null;function V(U,te){if(!(te instanceof m.Dict)||!(0,m.isName)(te.get("S"),"JavaScript"))return;let B=te.get("JS");if(B instanceof t.BaseStream)B=B.getString();else if(typeof B!="string")return;D===null&&(D=new Map),B=(0,g.stringToPDFString)(B).replace(/\u0000/g,""),D.set(U,B)}if(k instanceof m.Dict&&k.has("JavaScript")){const U=new p.NameTree(k.getRaw("JavaScript"),this.xref);for(const[te,B]of U.getAll())V((0,g.stringToPDFString)(te),B)}const R=this._catDict.get("OpenAction");return R&&V("OpenAction",R),D}get javaScript(){const k=this._collectJavaScript();return(0,g.shadow)(this,"javaScript",k?[...k.values()]:null)}get jsActions(){const k=this._collectJavaScript();let D=(0,s.collectActions)(this.xref,this._catDict,g.DocumentActionEventType);if(k){D||(D=Object.create(null));for(const[V,R]of k)V in D?D[V].push(R):D[V]=[R]}return(0,g.shadow)(this,"jsActions",D)}async fontFallback(k,D){const V=await Promise.all(this.fontCache);for(const R of V)if(R.loadedName===k){R.fallback(D);return}}async cleanup(k=!1){(0,b.clearGlobalCaches)(),this.globalImageCache.clear(k),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const D=await Promise.all(this.fontCache);for(const{dict:V}of D)delete V.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(k){const D=[this.toplevelPagesDict],V=new m.RefSet,R=this._catDict.getRaw("Pages");R instanceof m.Ref&&V.put(R);const U=this.xref,te=this.pageKidsCountCache,B=this.pageIndexCache;let j=0;for(;D.length;){const ie=D.pop();if(ie instanceof m.Ref){const J=te.get(ie);if(J>=0&&j+J<=k){j+=J;continue}if(V.has(ie))throw new g.FormatError("Pages tree contains circular reference.");V.put(ie);const Y=await U.fetchAsync(ie);if(Y instanceof m.Dict){let q=Y.getRaw("Type");if(q instanceof m.Ref&&(q=await U.fetchAsync(q)),(0,m.isName)(q,"Page")||!Y.has("Kids")){if(te.has(ie)||te.put(ie,1),B.has(ie)||B.put(ie,j),j===k)return[Y,ie];j++;continue}}D.push(Y);continue}if(!(ie instanceof m.Dict))throw new g.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:E}=ie;let L=ie.getRaw("Count");if(L instanceof m.Ref&&(L=await U.fetchAsync(L)),Number.isInteger(L)&&L>=0&&(E&&!te.has(E)&&te.put(E,L),j+L<=k)){j+=L;continue}let ee=ie.getRaw("Kids");if(ee instanceof m.Ref&&(ee=await U.fetchAsync(ee)),!Array.isArray(ee)){let J=ie.getRaw("Type");if(J instanceof m.Ref&&(J=await U.fetchAsync(J)),(0,m.isName)(J,"Page")||!ie.has("Kids")){if(j===k)return[ie,null];j++;continue}throw new g.FormatError("Page dictionary kids object is not an array.")}for(let J=ee.length-1;J>=0;J--)D.push(ee[J])}throw new Error(`Page index ${k} not found.`)}async getAllPageDicts(k=!1){const D=[{currentNode:this.toplevelPagesDict,posInKids:0}],V=new m.RefSet,R=this._catDict.getRaw("Pages");R instanceof m.Ref&&V.put(R);const U=new Map,te=this.xref,B=this.pageIndexCache;let j=0;function ie(L,ee){ee&&!B.has(ee)&&B.put(ee,j),U.set(j++,[L,ee])}function E(L){if(L instanceof s.XRefEntryException&&!k)throw L;U.set(j++,[L,null])}for(;D.length>0;){const L=D.at(-1),{currentNode:ee,posInKids:J}=L;let Y=ee.getRaw("Kids");if(Y instanceof m.Ref)try{Y=await te.fetchAsync(Y)}catch(Z){E(Z);break}if(!Array.isArray(Y)){E(new g.FormatError("Page dictionary kids object is not an array."));break}if(J>=Y.length){D.pop();continue}const q=Y[J];let F;if(q instanceof m.Ref){if(V.has(q)){E(new g.FormatError("Pages tree contains circular reference."));break}V.put(q);try{F=await te.fetchAsync(q)}catch(Z){E(Z);break}}else F=q;if(!(F instanceof m.Dict)){E(new g.FormatError("Page dictionary kid reference points to wrong type of object."));break}let O=F.getRaw("Type");if(O instanceof m.Ref)try{O=await te.fetchAsync(O)}catch(Z){E(Z);break}(0,m.isName)(O,"Page")||!F.has("Kids")?ie(F,q instanceof m.Ref?q:null):D.push({currentNode:F,posInKids:0}),L.posInKids++}return U}getPageIndex(k){const D=this.pageIndexCache.get(k);if(D!==void 0)return Promise.resolve(D);const V=this.xref;let R=0;const U=te=>function(j){let ie,E=0;return V.fetchAsync(j).then(function(L){if((0,m.isRefsEqual)(j,k)&&!(0,m.isDict)(L,"Page")&&!(L instanceof m.Dict&&!L.has("Type")&&L.has("Contents")))throw new g.FormatError("The reference does not point to a /Page dictionary.");if(!L)return null;if(!(L instanceof m.Dict))throw new g.FormatError("Node must be a dictionary.");return ie=L.getRaw("Parent"),L.getAsync("Parent")}).then(function(L){if(!L)return null;if(!(L instanceof m.Dict))throw new g.FormatError("Parent must be a dictionary.");return L.getAsync("Kids")}).then(function(L){if(!L)return null;const ee=[];let J=!1;for(let Y=0,q=L.length;Y<q;Y++){const F=L[Y];if(!(F instanceof m.Ref))throw new g.FormatError("Kid must be a reference.");if((0,m.isRefsEqual)(F,j)){J=!0;break}ee.push(V.fetchAsync(F).then(function(O){if(!(O instanceof m.Dict))throw new g.FormatError("Kid node must be a dictionary.");O.has("Count")?E+=O.get("Count"):E++}))}if(!J)throw new g.FormatError("Kid reference not found in parent's kids.");return Promise.all(ee).then(function(){return[E,ie]})})}(te).then(B=>{if(!B)return this.pageIndexCache.put(k,R),R;const[j,ie]=B;return R+=j,U(ie)});return U(k)}get baseUrl(){const k=this._catDict.get("URI");if(k instanceof m.Dict){const D=k.get("Base");if(typeof D=="string"){const V=(0,g.createValidAbsoluteUrl)(D,null,{tryConvertEncoding:!0});if(V)return(0,g.shadow)(this,"baseUrl",V.href)}}return(0,g.shadow)(this,"baseUrl",null)}static parseDestDictionary(k){const D=k.destDict;if(!(D instanceof m.Dict)){(0,g.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const V=k.resultObj;if(typeof V!="object"){(0,g.warn)("parseDestDictionary: `resultObj` must be an object.");return}const R=k.docBaseUrl||null;let U,te,B=D.get("A");if(B instanceof m.Dict||(D.has("Dest")?B=D.get("Dest"):(B=D.get("AA"),B instanceof m.Dict&&(B.has("D")?B=B.get("D"):B.has("U")&&(B=B.get("U"))))),B instanceof m.Dict){const j=B.get("S");if(!(j instanceof m.Name)){(0,g.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const ie=j.name;switch(ie){case"ResetForm":const E=B.get("Flags"),L=(1&(typeof E=="number"?E:0))==0,ee=[],J=[];for(const X of B.get("Fields")||[])X instanceof m.Ref?J.push(X.toString()):typeof X=="string"&&ee.push((0,g.stringToPDFString)(X));V.resetForm={fields:ee,refs:J,include:L};break;case"URI":U=B.get("URI"),U instanceof m.Name&&(U="/"+U.name);break;case"GoTo":te=B.get("D");break;case"Launch":case"GoToR":const Y=B.get("F");Y instanceof m.Dict?U=Y.get("F")||null:typeof Y=="string"&&(U=Y);let q=B.get("D");if(q&&(q instanceof m.Name&&(q=q.name),typeof U=="string")){const X=U.split("#")[0];typeof q=="string"?U=X+"#"+q:Array.isArray(q)&&(U=X+"#"+JSON.stringify(q))}const F=B.get("NewWindow");typeof F=="boolean"&&(V.newWindow=F);break;case"Named":const O=B.get("N");O instanceof m.Name&&(V.action=O.name);break;case"JavaScript":const Z=B.get("JS");let se;Z instanceof t.BaseStream?se=Z.getString():typeof Z=="string"&&(se=Z);const $=se&&(0,s.recoverJsURL)((0,g.stringToPDFString)(se));if($){U=$.url,V.newWindow=$.newWindow;break}default:if(ie==="JavaScript"||ie==="SubmitForm")break;(0,g.warn)(`parseDestDictionary - unsupported action: "${ie}".`)}}else D.has("Dest")&&(te=D.get("Dest"));if(typeof U=="string"){const j=(0,g.createValidAbsoluteUrl)(U,R,{addDefaultProtocol:!0,tryConvertEncoding:!0});j&&(V.url=j.href),V.unsafeUrl=U}te&&(te instanceof m.Name&&(te=te.name),typeof te=="string"?V.dest=(0,g.stringToPDFString)(te):Array.isArray(te)&&(V.dest=te))}}o.Catalog=P},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NumberTree=o.NameTree=void 0;var s=f(5),g=f(2);class m{constructor(t,b,C){this.constructor===m&&(0,g.unreachable)("Cannot initialize NameOrNumberTree."),this.root=t,this.xref=b,this._type=C}getAll(){const t=new Map;if(!this.root)return t;const b=this.xref,C=new s.RefSet;C.put(this.root);const w=[this.root];for(;w.length>0;){const v=b.fetchIfRef(w.shift());if(!(v instanceof s.Dict))continue;if(v.has("Kids")){const y=v.get("Kids");if(!Array.isArray(y))continue;for(const I of y){if(C.has(I))throw new g.FormatError(`Duplicate entry in "${this._type}" tree.`);w.push(I),C.put(I)}continue}const M=v.get(this._type);if(Array.isArray(M))for(let y=0,I=M.length;y<I;y+=2)t.set(b.fetchIfRef(M[y]),b.fetchIfRef(M[y+1]))}return t}get(t){if(!this.root)return null;const b=this.xref;let C=b.fetchIfRef(this.root),w=0;for(;C.has("Kids");){if(++w>10)return(0,g.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const M=C.get("Kids");if(!Array.isArray(M))return null;let y=0,I=M.length-1;for(;y<=I;){const P=y+I>>1,_=b.fetchIfRef(M[P]),k=_.get("Limits");if(t<b.fetchIfRef(k[0]))I=P-1;else{if(!(t>b.fetchIfRef(k[1]))){C=_;break}y=P+1}}if(y>I)return null}const v=C.get(this._type);if(Array.isArray(v)){let M=0,y=v.length-2;for(;M<=y;){const I=M+y>>1,P=I+(1&I),_=b.fetchIfRef(v[P]);if(t<_)y=P-2;else{if(!(t>_))return b.fetchIfRef(v[P+1]);M=P+2}}}return null}}o.NameTree=class extends m{constructor(t,b){super(t,b,"Names")}},o.NumberTree=class extends m{constructor(t,b){super(t,b,"Nums")}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clearGlobalCaches=function(){(0,s.clearPrimitiveCaches)(),(0,g.clearUnicodeCaches)()};var s=f(5),g=f(40)},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FileSpec=void 0;var s=f(2),g=f(7),m=f(5);function p(t){return t.has("UF")?t.get("UF"):t.has("F")?t.get("F"):t.has("Unix")?t.get("Unix"):t.has("Mac")?t.get("Mac"):t.has("DOS")?t.get("DOS"):null}o.FileSpec=class{constructor(b,C){b instanceof m.Dict&&(this.xref=C,this.root=b,b.has("FS")&&(this.fs=b.get("FS")),this.description=b.has("Desc")?(0,s.stringToPDFString)(b.get("Desc")):"",b.has("RF")&&(0,s.warn)("Related file specifications are not supported"),this.contentAvailable=!0,b.has("EF")||(this.contentAvailable=!1,(0,s.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const b=p(this.root)||"unnamed";this._filename=(0,s.stringToPDFString)(b).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=p(this.root.get("EF")));let b=null;if(this.contentRef){const C=this.xref.fetchIfRef(this.contentRef);C instanceof g.BaseStream?b=C.getBytes():(0,s.warn)("Embedded file specification points to non-existing/invalid content")}else(0,s.warn)("Embedded file specification does not have a content");return b}get serializable(){return{filename:this.filename,content:this.content}}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MetadataParser=void 0;var s=f(66);o.MetadataParser=class{constructor(m){m=this._repair(m);const p=new s.SimpleXMLParser({lowerCaseName:!0}).parseFromString(m);this._metadataMap=new Map,this._data=m,p&&this._parse(p)}_repair(m){return m.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(p,t){const b=t.replace(/\\([0-3])([0-7])([0-7])/g,function(w,v,M,y){return String.fromCharCode(64*v+8*M+1*y)}).replace(/&(amp|apos|gt|lt|quot);/g,function(w,v){switch(v){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${v} isn't defined.`)}),C=[];for(let w=0,v=b.length;w<v;w+=2){const M=256*b.charCodeAt(w)+b.charCodeAt(w+1);M>=32&&M<127&&M!==60&&M!==62&&M!==38?C.push(String.fromCharCode(M)):C.push("&#x"+(65536+M).toString(16).substring(1)+";")}return">"+C.join("")})}_getSequence(m){const p=m.nodeName;return p!=="rdf:bag"&&p!=="rdf:seq"&&p!=="rdf:alt"?null:m.childNodes.filter(t=>t.nodeName==="rdf:li")}_parseArray(m){if(!m.hasChildNodes())return;const[p]=m.childNodes,t=this._getSequence(p)||[];this._metadataMap.set(m.nodeName,t.map(b=>b.textContent.trim()))}_parse(m){let p=m.documentElement;if(p.nodeName!=="rdf:rdf")for(p=p.firstChild;p&&p.nodeName!=="rdf:rdf";)p=p.nextSibling;if(p&&p.nodeName==="rdf:rdf"&&p.hasChildNodes()){for(const t of p.childNodes)if(t.nodeName==="rdf:description")for(const b of t.childNodes){const C=b.nodeName;switch(C){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(b);continue}this._metadataMap.set(C,b.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StructTreeRoot=o.StructTreePage=void 0;var s=f(5),g=f(2),m=f(70);const p="PAGE_CONTENT",t="STREAM_CONTENT",b="OBJECT",C="ELEMENT";o.StructTreeRoot=class{constructor(y){this.dict=y,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const y=this.dict.get("RoleMap");y instanceof s.Dict&&y.forEach((I,P)=>{P instanceof s.Name&&this.roleMap.set(I,P.name)})}};class w{constructor(y,I){this.tree=y,this.dict=I,this.kids=[],this.parseKids()}get role(){const y=this.dict.get("S"),I=y instanceof s.Name?y.name:"",{root:P}=this.tree;return P.roleMap.has(I)?P.roleMap.get(I):I}parseKids(){let y=null;const I=this.dict.getRaw("Pg");I instanceof s.Ref&&(y=I.toString());const P=this.dict.get("K");if(Array.isArray(P))for(const _ of P){const k=this.parseKid(y,_);k&&this.kids.push(k)}else{const _=this.parseKid(y,P);_&&this.kids.push(_)}}parseKid(y,I){if(Number.isInteger(I))return this.tree.pageDict.objId!==y?null:new v({type:p,mcid:I,pageObjId:y});let P=null;if(I instanceof s.Ref?P=this.dict.xref.fetch(I):I instanceof s.Dict&&(P=I),!P)return null;const _=P.getRaw("Pg");_ instanceof s.Ref&&(y=_.toString());const k=P.get("Type")instanceof s.Name?P.get("Type").name:null;return k==="MCR"?this.tree.pageDict.objId!==y?null:new v({type:t,refObjId:P.getRaw("Stm")instanceof s.Ref?P.getRaw("Stm").toString():null,pageObjId:y,mcid:P.get("MCID")}):k==="OBJR"?this.tree.pageDict.objId!==y?null:new v({type:b,refObjId:P.getRaw("Obj")instanceof s.Ref?P.getRaw("Obj").toString():null,pageObjId:y}):new v({type:C,dict:P})}}class v{constructor({type:y,dict:I=null,mcid:P=null,pageObjId:_=null,refObjId:k=null}){this.type=y,this.dict=I,this.mcid=P,this.pageObjId=_,this.refObjId=k,this.parentNode=null}}o.StructTreePage=class{constructor(y,I){this.root=y,this.rootDict=y?y.dict:null,this.pageDict=I,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const y=this.rootDict.get("ParentTree");if(!y)return;const I=this.pageDict.get("StructParents");if(!Number.isInteger(I))return;const P=new m.NumberTree(y,this.rootDict.xref).get(I);if(!Array.isArray(P))return;const _=new Map;for(const k of P)k instanceof s.Ref&&this.addNode(this.rootDict.xref.fetch(k),_)}addNode(y,I,P=0){if(P>40)return(0,g.warn)("StructTree MAX_DEPTH reached."),null;if(I.has(y))return I.get(y);const _=new w(this,y);I.set(y,_);const k=y.get("P");if(!k||(0,s.isName)(k.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(y,_)||I.delete(y),_;const D=this.addNode(k,I,P+1);if(!D)return _;let V=!1;for(const R of D.kids)R.type===C&&R.dict===y&&(R.parentNode=_,V=!0);return V||I.delete(y),_}addTopLevelNode(y,I){const P=this.rootDict.get("K");if(!P)return!1;if(P instanceof s.Dict)return P.objId!==y.objId?!1:(this.nodes[0]=I,!0);if(!Array.isArray(P))return!0;let _=!1;for(let k=0;k<P.length;k++){const D=P[k];D&&D.toString()===y.objId&&(this.nodes[k]=I,_=!0)}return _}get serializable(){function y(P,_,k=0){if(k>40){(0,g.warn)("StructTree too deep to be fully serialized.");return}const D=Object.create(null);D.role=P.role,D.children=[],_.children.push(D);const V=P.dict.get("Alt");typeof V=="string"&&(D.alt=(0,g.stringToPDFString)(V));const R=P.dict.get("Lang");typeof R=="string"&&(D.lang=(0,g.stringToPDFString)(R));for(const U of P.kids){const te=U.type===C?U.parentNode:null;te?y(te,D,k+1):U.type===p||U.type===t?D.children.push({type:"content",id:`page${U.pageObjId}_mcid${U.mcid}`}):U.type===b&&D.children.push({type:"object",id:U.refObjId})}}const I=Object.create(null);I.children=[],I.role="Root";for(const P of this.nodes)P&&y(P,I);return I}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ObjectLoader=void 0;var s=f(5),g=f(7),m=f(6),p=f(2);function t(b,C){if(b instanceof s.Dict)b=b.getRawValues();else if(b instanceof g.BaseStream)b=b.dict.getRawValues();else if(!Array.isArray(b))return;for(const v of b)((w=v)instanceof s.Ref||w instanceof s.Dict||w instanceof g.BaseStream||Array.isArray(w))&&C.push(v);var w}o.ObjectLoader=class{constructor(C,w,v){this.dict=C,this.keys=w,this.xref=v,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:C,dict:w}=this;this.refSet=new s.RefSet;const v=[];for(let M=0,y=C.length;M<y;M++){const I=w.getRaw(C[M]);I!==void 0&&v.push(I)}return this._walk(v)}async _walk(C){const w=[],v=[];for(;C.length;){let M=C.pop();if(M instanceof s.Ref){if(this.refSet.has(M))continue;try{this.refSet.put(M),M=this.xref.fetch(M)}catch(y){if(!(y instanceof m.MissingDataException)){(0,p.warn)(`ObjectLoader._walk - requesting all data: "${y}".`),this.refSet=null;const{manager:I}=this.xref.stream;return I.requestAllChunks()}w.push(M),v.push({begin:y.begin,end:y.end})}}if(M instanceof g.BaseStream){const y=M.getBaseStreams();if(y){let I=!1;for(const P of y)P.isDataLoaded||(I=!0,v.push({begin:P.start,end:P.end}));I&&w.push(M)}}t(M,C)}if(v.length){await this.xref.stream.manager.requestRanges(v);for(const M of w)M instanceof s.Ref&&this.refSet.remove(M);return this._walk(w)}this.refSet=null}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XFAFactory=void 0;var s=f(77),g=f(81),m=f(87),p=f(85),t=f(78),b=f(2),C=f(88),w=f(98);class v{constructor(y){try{this.root=new C.XFAParser().parse(v._createDocument(y));const I=new g.Binder(this.root);this.form=I.bind(),this.dataHandler=new m.DataHandler(this.root,I.getData()),this.form[s.$globalData].template=this.form}catch(I){(0,b.warn)(`XFA - an error occurred during parsing and binding: ${I}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const y=this.form[s.$toPages]();return new Promise((I,P)=>{const _=()=>{try{const k=y.next();k.done?I(k.value):setTimeout(_,0)}catch(k){P(k)}};setTimeout(_,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(y=>{const{width:I,height:P}=y.attributes.style;return[0,0,parseInt(I),parseInt(P)]})}catch(y){(0,b.warn)(`XFA - an error occurred during layout: ${y}`)}}getBoundingBox(y){return this.dims[y]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(y){this.form[s.$globalData].images=y}setFonts(y){this.form[s.$globalData].fontFinder=new p.FontFinder(y);const I=[];for(let P of this.form[s.$globalData].usedTypefaces)P=(0,t.stripQuotes)(P),this.form[s.$globalData].fontFinder.find(P)||I.push(P);return I.length>0?I:null}appendFonts(y,I){this.form[s.$globalData].fontFinder.add(y,I)}async getPages(){this.pages||await this._createPages();const y=this.pages;return this.pages=null,y}serializeData(y){return this.dataHandler.serialize(y)}static _createDocument(y){return y["/xdp:xdp"]?Object.values(y).join(""):y["xdp:xdp"]}static getRichTextAsHtml(y){if(!y||typeof y!="string")return null;try{let I=new C.XFAParser(w.XhtmlNamespace,!0).parse(y);if(!["body","xhtml"].includes(I[s.$nodeName])){const D=w.XhtmlNamespace.body({});D[s.$appendChild](I),I=D}const P=I[s.$toHTML]();if(!P.success)return null;const{html:_}=P,{attributes:k}=_;return k&&(k.class&&(k.class=k.class.filter(D=>!D.startsWith("xfa"))),k.dir="auto"),{html:_,str:I[s.$text]()}}catch(I){(0,b.warn)(`XFA - an error occurred during parsing of rich text: ${I}`)}return null}}o.XFAFactory=v},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XmlObject=o.XFAObjectArray=o.XFAObject=o.XFAAttribute=o.StringObject=o.OptionObject=o.Option10=o.Option01=o.IntegerObject=o.ContentObject=o.$uid=o.$toStyle=o.$toString=o.$toPages=o.$toHTML=o.$text=o.$tabIndex=o.$setValue=o.$setSetAttributes=o.$setId=o.$searchNode=o.$root=o.$resolvePrototypes=o.$removeChild=o.$pushPara=o.$pushGlyphs=o.$popPara=o.$onText=o.$onChildCheck=o.$onChild=o.$nsAttributes=o.$nodeName=o.$namespaceId=o.$isUsable=o.$isTransparent=o.$isThereMoreWidth=o.$isSplittable=o.$isNsAgnostic=o.$isDescendent=o.$isDataValue=o.$isCDATAXml=o.$isBindable=o.$insertAt=o.$indexOf=o.$ids=o.$hasSettableValue=o.$globalData=o.$getTemplateRoot=o.$getSubformParent=o.$getRealChildrenByNameIt=o.$getParent=o.$getNextPage=o.$getExtra=o.$getDataValue=o.$getContainedChildren=o.$getChildrenByNameIt=o.$getChildrenByName=o.$getChildrenByClass=o.$getChildren=o.$getAvailableSpace=o.$getAttributes=o.$getAttributeIt=o.$flushHTML=o.$finalize=o.$extra=o.$dump=o.$data=o.$content=o.$consumed=o.$clone=o.$cleanup=o.$cleanPage=o.$clean=o.$childrenToHTML=o.$appendChild=o.$addHTML=o.$acceptWhitespace=void 0;var s=f(78),g=f(2),m=f(6),p=f(79),t=f(80);const b=Symbol();o.$acceptWhitespace=b;const C=Symbol();o.$addHTML=C;const w=Symbol();o.$appendChild=w;const v=Symbol();o.$childrenToHTML=v;const M=Symbol();o.$clean=M;const y=Symbol();o.$cleanPage=y;const I=Symbol();o.$cleanup=I;const P=Symbol();o.$clone=P;const _=Symbol();o.$consumed=_;const k=Symbol("content");o.$content=k;const D=Symbol("data");o.$data=D;const V=Symbol();o.$dump=V;const R=Symbol("extra");o.$extra=R;const U=Symbol();o.$finalize=U;const te=Symbol();o.$flushHTML=te;const B=Symbol();o.$getAttributeIt=B;const j=Symbol();o.$getAttributes=j;const ie=Symbol();o.$getAvailableSpace=ie;const E=Symbol();o.$getChildrenByClass=E;const L=Symbol();o.$getChildrenByName=L;const ee=Symbol();o.$getChildrenByNameIt=ee;const J=Symbol();o.$getDataValue=J;const Y=Symbol();o.$getExtra=Y;const q=Symbol();o.$getRealChildrenByNameIt=q;const F=Symbol();o.$getChildren=F;const O=Symbol();o.$getContainedChildren=O;const Z=Symbol();o.$getNextPage=Z;const se=Symbol();o.$getSubformParent=se;const $=Symbol();o.$getParent=$;const X=Symbol();o.$getTemplateRoot=X;const ne=Symbol();o.$globalData=ne;const oe=Symbol();o.$hasSettableValue=oe;const ue=Symbol();o.$ids=ue;const fe=Symbol();o.$indexOf=fe;const le=Symbol();o.$insertAt=le;const ae=Symbol();o.$isCDATAXml=ae;const de=Symbol();o.$isBindable=de;const re=Symbol();o.$isDataValue=re;const Q=Symbol();o.$isDescendent=Q;const ce=Symbol();o.$isNsAgnostic=ce;const he=Symbol();o.$isSplittable=he;const ge=Symbol();o.$isThereMoreWidth=ge;const pe=Symbol();o.$isTransparent=pe;const me=Symbol();o.$isUsable=me;const Ae=Symbol(),ye=Symbol("namespaceId");o.$namespaceId=ye;const xe=Symbol("nodeName");o.$nodeName=xe;const Ce=Symbol();o.$nsAttributes=Ce;const we=Symbol();o.$onChild=we;const ve=Symbol();o.$onChildCheck=ve;const Se=Symbol();o.$onText=Se;const _e=Symbol();o.$pushGlyphs=_e;const ke=Symbol();o.$popPara=ke;const Fe=Symbol();o.$pushPara=Fe;const je=Symbol();o.$removeChild=je;const Le=Symbol("root");o.$root=Le;const ze=Symbol();o.$resolvePrototypes=ze;const Re=Symbol();o.$searchNode=Re;const et=Symbol();o.$setId=et;const st=Symbol();o.$setSetAttributes=st;const Qe=Symbol();o.$setValue=Qe;const ot=Symbol();o.$tabIndex=ot;const Ne=Symbol();o.$text=Ne;const Me=Symbol();o.$toPages=Me;const Pe=Symbol();o.$toHTML=Pe;const Ue=Symbol();o.$toString=Ue;const Ge=Symbol();o.$toStyle=Ge;const Ye=Symbol("uid");o.$uid=Ye;const We=Symbol(),Ze=Symbol(),Ke=Symbol(),Oe=Symbol("_children"),De=Symbol(),Ie=Symbol(),qe=Symbol(),Xe=Symbol(),Ve=Symbol(),nt=Symbol(),ht=Symbol(),ut=Symbol(),it=Symbol(),gt=Symbol("parent"),ft=Symbol(),kt=Symbol(),wt=Symbol();let rt=0;const At=p.NamespaceIds.datasets.id;class dt{constructor(Be,Je,at=!1){this[ye]=Be,this[xe]=Je,this[ht]=at,this[gt]=null,this[Oe]=[],this[Ye]=`${Je}${rt++}`,this[ne]=null}[we](Be){if(!this[ht]||!this[ve](Be))return!1;const Je=Be[xe],at=this[Je];if(!(at instanceof yt))return at!==null&&this[je](at),this[Je]=Be,this[w](Be),!0;if(at.push(Be))return this[w](Be),!0;let lt="";return this.id?lt=` (id: ${this.id})`:this.name&&(lt=` (name: ${this.name} ${this.h.value})`),(0,g.warn)(`XFA - node "${this[xe]}"${lt} has already enough "${Je}"!`),!1}[ve](Be){return this.hasOwnProperty(Be[xe])&&Be[ye]===this[ye]}[ce](){return!1}[b](){return!1}[ae](){return!1}[de](){return!1}[ke](){this.para&&this[X]()[R].paraStack.pop()}[Fe](){this[X]()[R].paraStack.push(this.para)}[et](Be){this.id&&this[ye]===p.NamespaceIds.template.id&&Be.set(this.id,this)}[X](){return this[ne].template}[he](){return!1}[ge](){return!1}[w](Be){Be[gt]=this,this[Oe].push(Be),!Be[ne]&&this[ne]&&(Be[ne]=this[ne])}[je](Be){const Je=this[Oe].indexOf(Be);this[Oe].splice(Je,1)}[oe](){return this.hasOwnProperty("value")}[Qe](Be){}[Se](Be){}[U](){}[M](Be){delete this[ht],this[I]&&(Be.clean(this[I]),delete this[I])}[fe](Be){return this[Oe].indexOf(Be)}[le](Be,Je){Je[gt]=this,this[Oe].splice(Be,0,Je),!Je[ne]&&this[ne]&&(Je[ne]=this[ne])}[pe](){return!this.name}[Ae](){return""}[Ne](){return this[Oe].length===0?this[k]:this[Oe].map(Be=>Be[Ne]()).join("")}get[Ke](){const Be=Object.getPrototypeOf(this);if(!Be._attributes){const Je=Be._attributes=new Set;for(const at of Object.getOwnPropertyNames(this)){if(this[at]===null||this[at]instanceof dt||this[at]instanceof yt)break;Je.add(at)}}return(0,g.shadow)(this,Ke,Be._attributes)}[Q](Be){let Je=this;for(;Je;){if(Je===Be)return!0;Je=Je[$]()}return!1}[$](){return this[gt]}[se](){return this[$]()}[F](Be=null){return Be?this[Be]:this[Oe]}[V](){const Be=Object.create(null);this[k]&&(Be.$content=this[k]);for(const Je of Object.getOwnPropertyNames(this)){const at=this[Je];at!==null&&(at instanceof dt?Be[Je]=at[V]():at instanceof yt?at.isEmpty()||(Be[Je]=at.dump()):Be[Je]=at)}return Be}[Ge](){return null}[Pe](){return s.HTMLResult.EMPTY}*[O](){for(const Be of this[F]())yield Be}*[Xe](Be,Je){for(const at of this[O]())if(!Be||Je===Be.has(at[xe])){const lt=this[ie](),vt=at[Pe](lt);vt.success||(this[R].failingNode=at),yield vt}}[te](){return null}[C](Be,Je){this[R].children.push(Be)}[ie](){}[v]({filter:Be=null,include:Je=!0}){if(this[R].generator){const at=this[ie](),lt=this[R].failingNode[Pe](at);if(!lt.success)return lt;lt.html&&this[C](lt.html,lt.bbox),delete this[R].failingNode}else this[R].generator=this[Xe](Be,Je);for(;;){const at=this[R].generator.next();if(at.done)break;const lt=at.value;if(!lt.success)return lt;lt.html&&this[C](lt.html,lt.bbox)}return this[R].generator=null,s.HTMLResult.EMPTY}[st](Be){this[kt]=new Set(Object.keys(Be))}[nt](Be){const Je=this[Ke],at=this[kt];return[...Be].filter(lt=>Je.has(lt)&&!at.has(lt))}[ze](Be,Je=new Set){for(const at of this[Oe])at[ft](Be,Je)}[ft](Be,Je){const at=this[Ve](Be,Je);at?this[We](at,Be,Je):this[ze](Be,Je)}[Ve](Be,Je){const{use:at,usehref:lt}=this;if(!at&&!lt)return null;let vt=null,Ot=null,Bt=null,Xt=at;if(lt?(Xt=lt,lt.startsWith("#som(")&&lt.endsWith(")")?Ot=lt.slice(5,lt.length-1):lt.startsWith(".#som(")&&lt.endsWith(")")?Ot=lt.slice(6,lt.length-1):lt.startsWith("#")?Bt=lt.slice(1):lt.startsWith(".#")&&(Bt=lt.slice(2))):at.startsWith("#")?Bt=at.slice(1):Ot=at,this.use=this.usehref="",Bt?vt=Be.get(Bt):(vt=(0,t.searchNode)(Be.get(Le),this,Ot,!0,!1),vt&&(vt=vt[0])),!vt)return(0,g.warn)(`XFA - Invalid prototype reference: ${Xt}.`),null;if(vt[xe]!==this[xe])return(0,g.warn)(`XFA - Incompatible prototype: ${vt[xe]} !== ${this[xe]}.`),null;if(Je.has(vt))return(0,g.warn)("XFA - Cycle detected in prototypes use."),null;Je.add(vt);const jt=vt[Ve](Be,Je);return jt&&vt[We](jt,Be,Je),vt[ze](Be,Je),Je.delete(vt),vt}[We](Be,Je,at){if(at.has(Be)){(0,g.warn)("XFA - Cycle detected in prototypes use.");return}!this[k]&&Be[k]&&(this[k]=Be[k]),new Set(at).add(Be);for(const lt of this[nt](Be[kt]))this[lt]=Be[lt],this[kt]&&this[kt].add(lt);for(const lt of Object.getOwnPropertyNames(this)){if(this[Ke].has(lt))continue;const vt=this[lt],Ot=Be[lt];if(vt instanceof yt){for(const Bt of vt[Oe])Bt[ft](Je,at);for(let Bt=vt[Oe].length,Xt=Ot[Oe].length;Bt<Xt;Bt++){const jt=Be[Oe][Bt][P]();if(!vt.push(jt))break;jt[gt]=this,this[Oe].push(jt),jt[ft](Je,at)}}else if(vt===null){if(Ot!==null){const Bt=Ot[P]();Bt[gt]=this,this[lt]=Bt,this[Oe].push(Bt),Bt[ft](Je,at)}}else vt[ze](Je,at),Ot&&vt[We](Ot,Je,at)}}static[De](Be){return Array.isArray(Be)?Be.map(Je=>dt[De](Je)):typeof Be=="object"&&Be!==null?Object.assign({},Be):Be}[P](){const Be=Object.create(Object.getPrototypeOf(this));for(const Je of Object.getOwnPropertySymbols(this))try{Be[Je]=this[Je]}catch{(0,g.shadow)(Be,Je,this[Je])}Be[Ye]=`${Be[xe]}${rt++}`,Be[Oe]=[];for(const Je of Object.getOwnPropertyNames(this)){if(this[Ke].has(Je)){Be[Je]=dt[De](this[Je]);continue}const at=this[Je];Be[Je]=at instanceof yt?new yt(at[ut]):null}for(const Je of this[Oe]){const at=Je[xe],lt=Je[P]();Be[Oe].push(lt),lt[gt]=Be,Be[at]===null?Be[at]=lt:Be[at][Oe].push(lt)}return Be}[F](Be=null){return Be?this[Oe].filter(Je=>Je[xe]===Be):this[Oe]}[E](Be){return this[Be]}[L](Be,Je,at=!0){return Array.from(this[ee](Be,Je,at))}*[ee](Be,Je,at=!0){if(Be!=="parent"){for(const lt of this[Oe])lt[xe]===Be&&(yield lt),lt.name===Be&&(yield lt),(Je||lt[pe]())&&(yield*lt[ee](Be,Je,!1));at&&this[Ke].has(Be)&&(yield new ct(this,Be,this[Be]))}else yield this[gt]}}o.XFAObject=dt;class yt{constructor(Be=1/0){this[ut]=Be,this[Oe]=[]}push(Be){return this[Oe].length<=this[ut]?(this[Oe].push(Be),!0):((0,g.warn)(`XFA - node "${Be[xe]}" accepts no more than ${this[ut]} children`),!1)}isEmpty(){return this[Oe].length===0}dump(){return this[Oe].length===1?this[Oe][0][V]():this[Oe].map(Be=>Be[V]())}[P](){const Be=new yt(this[ut]);return Be[Oe]=this[Oe].map(Je=>Je[P]()),Be}get children(){return this[Oe]}clear(){this[Oe].length=0}}o.XFAObjectArray=yt;class ct{constructor(Be,Je,at){this[gt]=Be,this[xe]=Je,this[k]=at,this[_]=!1,this[Ye]="attribute"+rt++}[$](){return this[gt]}[re](){return!0}[J](){return this[k].trim()}[Qe](Be){Be=Be.value||"",this[k]=Be.toString()}[Ne](){return this[k]}[Q](Be){return this[gt]===Be||this[gt][Q](Be)}}o.XFAAttribute=ct;class bt extends dt{constructor(Be,Je,at={}){if(super(Be,Je),this[k]="",this[Ie]=null,Je!=="#text"){const lt=new Map;this[Ze]=lt;for(const[vt,Ot]of Object.entries(at))lt.set(vt,new ct(this,vt,Ot));if(at.hasOwnProperty(Ce)){const vt=at[Ce].xfa.dataNode;vt!==void 0&&(vt==="dataGroup"?this[Ie]=!1:vt==="dataValue"&&(this[Ie]=!0))}}this[_]=!1}[Ue](Be){const Je=this[xe];if(Je==="#text"){Be.push((0,m.encodeToXmlString)(this[k]));return}const at=(0,g.utf8StringToString)(Je),lt=this[ye]===At?"xfa:":"";Be.push(`<${lt}${at}`);for(const[vt,Ot]of this[Ze].entries()){const Bt=(0,g.utf8StringToString)(vt);Be.push(` ${Bt}="${(0,m.encodeToXmlString)(Ot[k])}"`)}if(this[Ie]!==null&&(this[Ie]?Be.push(' xfa:dataNode="dataValue"'):Be.push(' xfa:dataNode="dataGroup"')),this[k]||this[Oe].length!==0){if(Be.push(">"),this[k])typeof this[k]=="string"?Be.push((0,m.encodeToXmlString)(this[k])):this[k][Ue](Be);else for(const vt of this[Oe])vt[Ue](Be);Be.push(`</${lt}${at}>`)}else Be.push("/>")}[we](Be){if(this[k]){const Je=new bt(this[ye],"#text");this[w](Je),Je[k]=this[k],this[k]=""}return this[w](Be),!0}[Se](Be){this[k]+=Be}[U](){if(this[k]&&this[Oe].length>0){const Be=new bt(this[ye],"#text");this[w](Be),Be[k]=this[k],delete this[k]}}[Pe](){return this[xe]==="#text"?s.HTMLResult.success({name:"#text",value:this[k]}):s.HTMLResult.EMPTY}[F](Be=null){return Be?this[Oe].filter(Je=>Je[xe]===Be):this[Oe]}[j](){return this[Ze]}[E](Be){const Je=this[Ze].get(Be);return Je!==void 0?Je:this[F](Be)}*[ee](Be,Je){const at=this[Ze].get(Be);at&&(yield at);for(const lt of this[Oe])lt[xe]===Be&&(yield lt),Je&&(yield*lt[ee](Be,Je))}*[B](Be,Je){const at=this[Ze].get(Be);!at||Je&&at[_]||(yield at);for(const lt of this[Oe])yield*lt[B](Be,Je)}*[q](Be,Je,at){for(const lt of this[Oe])lt[xe]!==Be||at&&lt[_]||(yield lt),Je&&(yield*lt[q](Be,Je,at))}[re](){return this[Ie]===null?this[Oe].length===0||this[Oe][0][ye]===p.NamespaceIds.xhtml.id:this[Ie]}[J](){return this[Ie]===null?this[Oe].length===0?this[k].trim():this[Oe][0][ye]===p.NamespaceIds.xhtml.id?this[Oe][0][Ne]().trim():null:this[k].trim()}[Qe](Be){Be=Be.value||"",this[k]=Be.toString()}[V](Be=!1){const Je=Object.create(null);Be&&(Je.$ns=this[ye]),this[k]&&(Je.$content=this[k]),Je.$name=this[xe],Je.children=[];for(const at of this[Oe])Je.children.push(at[V](Be));Je.attributes=Object.create(null);for(const[at,lt]of this[Ze])Je.attributes[at]=lt[k];return Je}}o.XmlObject=bt;class xt extends dt{constructor(Be,Je){super(Be,Je),this[k]=""}[Se](Be){this[k]+=Be}[U](){}}o.ContentObject=xt,o.OptionObject=class extends xt{constructor(Be,Je,at){super(Be,Je),this[it]=at}[U](){this[k]=(0,s.getKeyword)({data:this[k],defaultValue:this[it][0],validate:Be=>this[it].includes(Be)})}[M](Be){super[M](Be),delete this[it]}},o.StringObject=class extends xt{[U](){this[k]=this[k].trim()}};class Ft extends xt{constructor(Be,Je,at,lt){super(Be,Je),this[qe]=at,this[wt]=lt}[U](){this[k]=(0,s.getInteger)({data:this[k],defaultValue:this[qe],validate:this[wt]})}[M](Be){super[M](Be),delete this[qe],delete this[wt]}}o.IntegerObject=Ft,o.Option01=class extends Ft{constructor(Be,Je){super(Be,Je,0,at=>at===1)}},o.Option10=class extends Ft{constructor(Be,Je){super(Be,Je,1,at=>at===0)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HTMLResult=void 0,o.getBBox=function(w){if(!w)return{x:-1,y:-1,width:-1,height:-1};const M=w.trim().split(/\s*,\s*/).map(k=>t(k,"-1"));if(M.length<4||M[2]<0||M[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[y,I,P,_]=M;return{x:y,y:I,width:P,height:_}},o.getColor=function(w,v=[0,0,0]){let[M,y,I]=v;if(!w)return{r:M,g:y,b:I};const P=w.trim().split(/\s*,\s*/).map(_=>Math.min(Math.max(0,parseInt(_.trim(),10)),255)).map(_=>isNaN(_)?0:_);return P.length<3?{r:M,g:y,b:I}:([M,y,I]=P,{r:M,g:y,b:I})},o.getFloat=function({data:w,defaultValue:v,validate:M}){if(!w)return v;w=w.trim();const y=parseFloat(w);return!isNaN(y)&&M(y)?y:v},o.getInteger=function({data:w,defaultValue:v,validate:M}){if(!w)return v;w=w.trim();const y=parseInt(w,10);return!isNaN(y)&&M(y)?y:v},o.getKeyword=p,o.getMeasurement=t,o.getRatio=function(w){if(!w)return{num:1,den:1};const v=w.trim().split(/\s*:\s*/).map(I=>parseFloat(I)).filter(I=>!isNaN(I));if(v.length===1&&v.push(1),v.length===0)return{num:1,den:1};const[M,y]=v;return{num:M,den:y}},o.getRelevant=function(w){return w?w.trim().split(/\s+/).map(v=>({excluded:v[0]==="-",viewname:v.substring(1)})):[]},o.getStringOption=function(w,v){return p({data:w,defaultValue:v[0],validate:M=>v.includes(M)})},o.stripQuotes=function(w){return w.startsWith("'")||w.startsWith('"')?w.slice(1,w.length-1):w};var s=f(2);const g={pt:C=>C,cm:C=>C/2.54*72,mm:C=>C/25.4*72,in:C=>72*C,px:C=>C},m=/([+-]?\d+\.?\d*)(.*)/;function p({data:C,defaultValue:w,validate:v}){return C&&v(C=C.trim())?C:w}function t(C,w="0"){if(w=w||"0",!C)return t(w);const v=C.trim().match(m);if(!v)return t(w);const[,M,y]=v,I=parseFloat(M);if(isNaN(I))return t(w);if(I===0)return 0;const P=g[y];return P?P(I):I}class b{static get FAILURE(){return(0,s.shadow)(this,"FAILURE",new b(!1,null,null,null))}static get EMPTY(){return(0,s.shadow)(this,"EMPTY",new b(!0,null,null,null))}constructor(w,v,M,y){this.success=w,this.html=v,this.bbox=M,this.breakNode=y}isBreak(){return!!this.breakNode}static breakNode(w){return new b(!1,null,null,w)}static success(w,v=null){return new b(!0,w,v,null)}}o.HTMLResult=b},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NamespaceIds=o.$buildXFAObject=void 0;const f=Symbol();o.$buildXFAObject=f,o.NamespaceIds={config:{id:0,check:s=>s.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:s=>s==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:s=>s==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:s=>s==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:s=>s.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:s=>s.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:s=>s==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:s=>s==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:s=>s==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:s=>s==="http://ns.adobe.com/xmpmeta/"}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDataNode=function(V,R,U){const te=_(U);if(!te||te.some(ie=>ie.operator===C))return null;const B=y.get(te[0].name);let j=0;B?(V=B(V,R),j=1):V=R||V;for(let ie=te.length;j<ie;j++){const{name:E,operator:L,index:ee}=te[j];if(!isFinite(ee))return te[j].index=0,k(V,te.slice(j));let J;switch(L){case b:J=V[s.$getChildrenByName](E,!1);break;case C:J=V[s.$getChildrenByName](E,!0);break;case w:J=V[s.$getChildrenByClass](E),J=J instanceof s.XFAObjectArray?J.children:[J]}if(J.length===0)return k(V,te.slice(j));if(!(ee<J.length))return te[j].index=ee-J.length,k(V,te.slice(j));{const Y=J[ee];if(!(Y instanceof s.XFAObject))return(0,m.warn)("XFA - Cannot create a node."),null;V=Y}}return null},o.searchNode=function(V,R,U,te=!0,B=!0){const j=_(U,te);if(!j)return null;const ie=y.get(j[0].name);let E,L=0;ie?(E=!0,V=[ie(V,R)],L=1):(E=R===null,V=[R||V]);for(let ee=j.length;L<ee;L++){const{name:J,cacheName:Y,operator:q,index:F}=j[L],O=[];for(const Z of V){if(!(Z instanceof s.XFAObject))continue;let se,$;if(B&&($=I.get(Z),$||($=new Map,I.set(Z,$)),se=$.get(Y)),!se){switch(q){case b:se=Z[s.$getChildrenByName](J,!1);break;case C:se=Z[s.$getChildrenByName](J,!0);break;case w:se=Z[s.$getChildrenByClass](J),se=se instanceof s.XFAObjectArray?se.children:[se]}B&&$.set(Y,se)}se.length>0&&O.push(se)}if(O.length!==0||E||L!==0)V=isFinite(F)?O.filter(Z=>F<Z.length).map(Z=>Z[F]):O.flat();else{if(!(R=R[s.$getParent]()))return null;L=-1,V=[R]}}return V.length===0?null:V};var s=f(77),g=f(79),m=f(2);const p=/^[^.[]+/,t=/^[^\]]+/,b=0,C=1,w=2,v=3,M=4,y=new Map([["$data",(D,V)=>D.datasets?D.datasets.data:D],["$record",(D,V)=>(D.datasets?D.datasets.data:D)[s.$getChildren]()[0]],["$template",(D,V)=>D.template],["$connectionSet",(D,V)=>D.connectionSet],["$form",(D,V)=>D.form],["$layout",(D,V)=>D.layout],["$host",(D,V)=>D.host],["$dataWindow",(D,V)=>D.dataWindow],["$event",(D,V)=>D.event],["!",(D,V)=>D.datasets],["$xfa",(D,V)=>D],["xfa",(D,V)=>D],["$",(D,V)=>V]]),I=new WeakMap,P=g.NamespaceIds.datasets.id;function _(D,V,R=!0){let U=D.match(p);if(!U)return null;let[te]=U;const B=[{name:te,cacheName:"."+te,index:0,js:null,formCalc:null,operator:b}];let j=te.length;for(;j<D.length;){const E=j;if(D.charAt(j++)==="["){if(U=D.slice(j).match(t),!U)return(0,m.warn)("XFA - Invalid index in SOM expression"),null;B.at(-1).index=(ie=(ie=U[0]).trim())==="*"?1/0:parseInt(ie,10)||0,j+=U[0].length+1;continue}let L;switch(D.charAt(j)){case".":if(!V)return null;j++,L=C;break;case"#":j++,L=w;break;case"[":if(R)return(0,m.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;L=v;break;case"(":if(R)return(0,m.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;L=M;break;default:L=b}if(U=D.slice(j).match(p),!U)break;[te]=U,j+=te.length,B.push({name:te,cacheName:D.slice(E,j),operator:L,index:0,js:null,formCalc:null})}var ie;return B}function k(D,V){let R=null;for(const{name:U,index:te}of V){for(let B=0,j=isFinite(te)?te:0;B<=j;B++){const ie=D[s.$namespaceId]===P?-1:D[s.$namespaceId];R=new s.XmlObject(ie,U),D[s.$appendChild](R)}D=R}return R}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Binder=void 0;var s=f(77),g=f(82),m=f(80),p=f(79),t=f(2);const b=p.NamespaceIds.datasets.id;function C(w){const v=new g.Text({});return v[s.$content]=w,v}o.Binder=class{constructor(v){this.root=v,this.datasets=v.datasets,v.datasets&&v.datasets.data?this.data=v.datasets.data:this.data=new s.XmlObject(p.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[s.$getChildren]().length===0,this.root.form=this.form=v.template[s.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(v,M,y){if(v[s.$data]=M,v[s.$hasSettableValue]())if(M[s.$isDataValue]()){const I=M[s.$getDataValue]();v[s.$setValue](C(I))}else if(v instanceof g.Field&&v.ui&&v.ui.choiceList&&v.ui.choiceList.open==="multiSelect"){const I=M[s.$getChildren]().map(P=>P[s.$content].trim()).join(`
`);v[s.$setValue](C(I))}else this._isConsumeData()&&(0,t.warn)("XFA - Nodes haven't the same type.");else!M[s.$isDataValue]()||this._isMatchTemplate()?this._bindElement(v,M):(0,t.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(v,M,y,I){if(!v)return null;let P,_;for(let k=0;k<3;k++){for(P=y[s.$getRealChildrenByNameIt](v,!1,!0);_=P.next().value,!!_;)if(M===_[s.$isDataValue]())return _;if(y[s.$namespaceId]===p.NamespaceIds.datasets.id&&y[s.$nodeName]==="data")break;y=y[s.$getParent]()}return I?(P=this.data[s.$getRealChildrenByNameIt](v,!0,!1),_=P.next().value,_||(P=this.data[s.$getAttributeIt](v,!0),_=P.next().value,_&&_[s.$isDataValue]()?_:null)):null}_setProperties(v,M){if(v.hasOwnProperty("setProperty"))for(const{ref:y,target:I,connection:P}of v.setProperty.children){if(P||!y)continue;const _=(0,m.searchNode)(this.root,M,y,!1,!1);if(!_){(0,t.warn)(`XFA - Invalid reference: ${y}.`);continue}const[k]=_;if(!k[s.$isDescendent](this.data)){(0,t.warn)("XFA - Invalid node: must be a data node.");continue}const D=(0,m.searchNode)(this.root,v,I,!1,!1);if(!D){(0,t.warn)(`XFA - Invalid target: ${I}.`);continue}const[V]=D;if(!V[s.$isDescendent](v)){(0,t.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const R=V[s.$getParent]();if(V instanceof g.SetProperty||R instanceof g.SetProperty){(0,t.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(V instanceof g.BindItems||R instanceof g.BindItems){(0,t.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const U=k[s.$text](),te=V[s.$nodeName];if(V instanceof s.XFAAttribute){const B=Object.create(null);B[te]=U;const j=Reflect.construct(Object.getPrototypeOf(R).constructor,[B]);R[te]=j[te]}else V.hasOwnProperty(s.$content)?(V[s.$data]=k,V[s.$content]=U,V[s.$finalize]()):(0,t.warn)("XFA - Invalid node to use in setProperty")}}_bindItems(v,M){if(!v.hasOwnProperty("items")||!v.hasOwnProperty("bindItems")||v.bindItems.isEmpty())return;for(const P of v.items.children)v[s.$removeChild](P);v.items.clear();const y=new g.Items({}),I=new g.Items({});v[s.$appendChild](y),v.items.push(y),v[s.$appendChild](I),v.items.push(I);for(const{ref:P,labelRef:_,valueRef:k,connection:D}of v.bindItems.children){if(D||!P)continue;const V=(0,m.searchNode)(this.root,M,P,!1,!1);if(V)for(const R of V){if(!R[s.$isDescendent](this.datasets)){(0,t.warn)(`XFA - Invalid ref (${P}): must be a datasets child.`);continue}const U=(0,m.searchNode)(this.root,R,_,!0,!1);if(!U){(0,t.warn)(`XFA - Invalid label: ${_}.`);continue}const[te]=U;if(!te[s.$isDescendent](this.datasets)){(0,t.warn)("XFA - Invalid label: must be a datasets child.");continue}const B=(0,m.searchNode)(this.root,R,k,!0,!1);if(!B){(0,t.warn)(`XFA - Invalid value: ${k}.`);continue}const[j]=B;if(!j[s.$isDescendent](this.datasets)){(0,t.warn)("XFA - Invalid value: must be a datasets child.");continue}const ie=C(te[s.$text]()),E=C(j[s.$text]());y[s.$appendChild](ie),y.text.push(ie),I[s.$appendChild](E),I.text.push(E)}else(0,t.warn)(`XFA - Invalid reference: ${P}.`)}}_bindOccurrences(v,M,y){let I;if(M.length>1&&(I=v[s.$clone](),I[s.$removeChild](I.occur),I.occur=null),this._bindValue(v,M[0],y),this._setProperties(v,M[0]),this._bindItems(v,M[0]),M.length===1)return;const P=v[s.$getParent](),_=v[s.$nodeName],k=P[s.$indexOf](v);for(let D=1,V=M.length;D<V;D++){const R=M[D],U=I[s.$clone]();P[_].push(U),P[s.$insertAt](k+D,U),this._bindValue(U,R,y),this._setProperties(U,R),this._bindItems(U,R)}}_createOccurrences(v){if(!this.emptyMerge)return;const{occur:M}=v;if(!M||M.initial<=1)return;const y=v[s.$getParent](),I=v[s.$nodeName];if(!(y[I]instanceof s.XFAObjectArray))return;let P;P=v.name?y[I].children.filter(D=>D.name===v.name).length:y[I].children.length;const _=y[s.$indexOf](v)+1,k=M.initial-P;if(k){const D=v[s.$clone]();D[s.$removeChild](D.occur),D.occur=null,y[I].push(D),y[s.$insertAt](_,D);for(let V=1;V<k;V++){const R=D[s.$clone]();y[I].push(R),y[s.$insertAt](_+V,R)}}}_getOccurInfo(v){const{name:M,occur:y}=v;if(!y||!M)return[1,1];const I=y.max===-1?1/0:y.max;return[y.min,I]}_setAndBind(v,M){this._setProperties(v,M),this._bindItems(v,M),this._bindElement(v,M)}_bindElement(v,M){const y=[];this._createOccurrences(v);for(const I of v[s.$getChildren]()){if(I[s.$data])continue;if(this._mergeMode===void 0&&I[s.$nodeName]==="subform"){this._mergeMode=I.mergeMode==="consumeData";const U=M[s.$getChildren]();if(U.length>0)this._bindOccurrences(I,[U[0]],null);else if(this.emptyMerge){const te=M[s.$namespaceId]===b?-1:M[s.$namespaceId],B=I[s.$data]=new s.XmlObject(te,I.name||"root");M[s.$appendChild](B),this._bindElement(I,B)}continue}if(!I[s.$isBindable]())continue;let P=!1,_=null,k=null,D=null;if(I.bind){switch(I.bind.match){case"none":this._setAndBind(I,M);continue;case"global":P=!0;break;case"dataRef":if(!I.bind.ref){(0,t.warn)(`XFA - ref is empty in node ${I[s.$nodeName]}.`),this._setAndBind(I,M);continue}k=I.bind.ref}I.bind.picture&&(_=I.bind.picture[s.$content])}const[V,R]=this._getOccurInfo(I);if(k){if(D=(0,m.searchNode)(this.root,M,k,!0,!1),D===null){if(D=(0,m.createDataNode)(this.data,M,k),!D)continue;this._isConsumeData()&&(D[s.$consumed]=!0),this._setAndBind(I,D);continue}this._isConsumeData()&&(D=D.filter(U=>!U[s.$consumed])),D.length>R?D=D.slice(0,R):D.length===0&&(D=null),D&&this._isConsumeData()&&D.forEach(U=>{U[s.$consumed]=!0})}else{if(!I.name){this._setAndBind(I,M);continue}if(this._isConsumeData()){const U=[];for(;U.length<R;){const te=this._findDataByNameToConsume(I.name,I[s.$hasSettableValue](),M,P);if(!te)break;te[s.$consumed]=!0,U.push(te)}D=U.length>0?U:null}else{if(D=M[s.$getRealChildrenByNameIt](I.name,!1,this.emptyMerge).next().value,!D){if(V===0){y.push(I);continue}const U=M[s.$namespaceId]===b?-1:M[s.$namespaceId];D=I[s.$data]=new s.XmlObject(U,I.name),this.emptyMerge&&(D[s.$consumed]=!0),M[s.$appendChild](D),this._setAndBind(I,D);continue}this.emptyMerge&&(D[s.$consumed]=!0),D=[D]}}D?this._bindOccurrences(I,D,_):V>0?this._setAndBind(I,M):y.push(I)}y.forEach(I=>I[s.$getParent]()[s.$removeChild](I))}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Value=o.Text=o.TemplateNamespace=o.Template=o.SetProperty=o.Items=o.Field=o.BindItems=void 0;var s=f(77),g=f(79),m=f(83),p=f(84),t=f(78),b=f(2),C=f(85),w=f(6),v=f(80);const M=g.NamespaceIds.template.id,y="http://www.w3.org/2000/svg",I=/^H(\d+)$/,P=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),_=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function k(He){if(!He||!He.border)return{w:0,h:0};const N=He.border[s.$getExtra]();return N?{w:N.widths[0]+N.widths[2]+N.insets[0]+N.insets[2],h:N.widths[1]+N.widths[3]+N.insets[1]+N.insets[3]}:{w:0,h:0}}function D(He){return He.margin&&(He.margin.topInset||He.margin.rightInset||He.margin.bottomInset||He.margin.leftInset)}function V(He,N){if(!He.value){const Ee=new qt({});He[s.$appendChild](Ee),He.value=Ee}He.value[s.$setValue](N)}function*R(He){for(const N of He[s.$getChildren]())N instanceof Vt?yield*N[s.$getContainedChildren]():yield N}function U(He){return He.validate&&He.validate.nullTest==="error"}function te(He){for(;He;){if(!He.traversal){He[s.$tabIndex]=He[s.$getParent]()[s.$tabIndex];return}if(He[s.$tabIndex])return;let N=null;for(const Te of He.traversal[s.$getChildren]())if(Te.operation==="next"){N=Te;break}if(!N||!N.ref){He[s.$tabIndex]=He[s.$getParent]()[s.$tabIndex];return}const Ee=He[s.$getTemplateRoot]();He[s.$tabIndex]=++Ee[s.$tabIndex];const $e=Ee[s.$searchNode](N.ref,He);if(!$e)return;He=$e[0]}}function B(He,N){const Ee=He.assist;if(Ee){const $e=Ee[s.$toHTML]();$e&&(N.title=$e);const Te=Ee.role.match(I);if(Te){const be="heading",tt=Te[1];N.role=be,N["aria-level"]=tt}}if(He.layout==="table")N.role="table";else if(He.layout==="row")N.role="row";else{const $e=He[s.$getParent]();$e.layout==="row"&&($e.assist&&$e.assist.role==="TH"?N.role="columnheader":N.role="cell")}}function j(He){if(!He.assist)return null;const N=He.assist;return N.speak&&N.speak[s.$content]!==""?N.speak[s.$content]:N.toolTip?N.toolTip[s.$content]:null}function ie(He){return t.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:He}]})}function E(He){const N=He[s.$getTemplateRoot]();N[s.$extra].firstUnsplittable===null&&(N[s.$extra].firstUnsplittable=He,N[s.$extra].noLayoutFailure=!0)}function L(He){const N=He[s.$getTemplateRoot]();N[s.$extra].firstUnsplittable===He&&(N[s.$extra].noLayoutFailure=!1)}function ee(He){if(He[s.$extra]||(He[s.$extra]=Object.create(null),He.targetType==="auto"))return!1;const N=He[s.$getTemplateRoot]();let Ee=null;if(He.target){if(Ee=N[s.$searchNode](He.target,He[s.$getParent]()),!Ee)return!1;Ee=Ee[0]}const{currentPageArea:$e,currentContentArea:Te}=N[s.$extra];if(He.targetType==="pageArea")return Ee instanceof vt||(Ee=null),He.startNew?(He[s.$extra].target=Ee||$e,!0):Ee&&Ee!==$e?(He[s.$extra].target=Ee,!0):!1;Ee instanceof ye||(Ee=null);const be=Ee&&Ee[s.$getParent]();let tt,pt=be;if(He.startNew)if(Ee){const mt=be.contentArea.children,Ct=mt.indexOf(Te),_t=mt.indexOf(Ee);Ct!==-1&&Ct<_t&&(pt=null),tt=_t-1}else tt=$e.contentArea.children.indexOf(Te);else{if(!Ee||Ee===Te)return!1;tt=be.contentArea.children.indexOf(Ee)-1,pt=be===$e?null:be}return He[s.$extra].target=pt,He[s.$extra].index=tt,!0}function J(He,N,Ee){const $e=He[s.$getTemplateRoot](),Te=$e[s.$extra].noLayoutFailure,be=N[s.$getSubformParent];N[s.$getSubformParent]=()=>He,$e[s.$extra].noLayoutFailure=!0;const tt=N[s.$toHTML](Ee);He[s.$addHTML](tt.html,tt.bbox),$e[s.$extra].noLayoutFailure=Te,N[s.$getSubformParent]=be}class Y extends s.StringObject{constructor(N){super(M,"appearanceFilter"),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}}class q extends s.XFAObject{constructor(N){super(M,"arc",!0),this.circular=(0,t.getInteger)({data:N.circular,defaultValue:0,validate:Ee=>Ee===1}),this.hand=(0,t.getStringOption)(N.hand,["even","left","right"]),this.id=N.id||"",this.startAngle=(0,t.getFloat)({data:N.startAngle,defaultValue:0,validate:Ee=>!0}),this.sweepAngle=(0,t.getFloat)({data:N.sweepAngle,defaultValue:360,validate:Ee=>!0}),this.use=N.use||"",this.usehref=N.usehref||"",this.edge=null,this.fill=null}[s.$toHTML](){const N=this.edge||new ze({}),Ee=N[s.$toStyle](),$e=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign($e,this.fill[s.$toStyle]()):$e.fill="transparent",$e.strokeWidth=(0,p.measureToString)(N.presence==="visible"?N.thickness:0),$e.stroke=Ee.color;let Te;const be={xmlns:y,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Te={name:"ellipse",attributes:{xmlns:y,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:$e}};else{const pt=this.startAngle*Math.PI/180,mt=this.sweepAngle*Math.PI/180,Ct=this.sweepAngle>180?1:0,[_t,Pt,Mt,Dt]=[50*(1+Math.cos(pt)),50*(1-Math.sin(pt)),50*(1+Math.cos(pt+mt)),50*(1-Math.sin(pt+mt))];Te={name:"path",attributes:{xmlns:y,d:`M ${_t} ${Pt} A 50 50 0 ${Ct} 0 ${Mt} ${Dt}`,vectorEffect:"non-scaling-stroke",style:$e}},Object.assign(be,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const tt={name:"svg",children:[Te],attributes:be};return D(this[s.$getParent]()[s.$getParent]())?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[tt]}):(tt.attributes.style.position="absolute",t.HTMLResult.success(tt))}}class F extends s.XFAObject{constructor(N){super(M,"area",!0),this.colSpan=(0,t.getInteger)({data:N.colSpan,defaultValue:1,validate:Ee=>Ee>=1||Ee===-1}),this.id=N.id||"",this.name=N.name||"",this.relevant=(0,t.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.x=(0,t.getMeasurement)(N.x,"0pt"),this.y=(0,t.getMeasurement)(N.y,"0pt"),this.desc=null,this.extras=null,this.area=new s.XFAObjectArray,this.draw=new s.XFAObjectArray,this.exObject=new s.XFAObjectArray,this.exclGroup=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.subform=new s.XFAObjectArray,this.subformSet=new s.XFAObjectArray}*[s.$getContainedChildren](){yield*R(this)}[s.$isTransparent](){return!0}[s.$isBindable](){return!0}[s.$addHTML](N,Ee){const[$e,Te,be,tt]=Ee;this[s.$extra].width=Math.max(this[s.$extra].width,$e+be),this[s.$extra].height=Math.max(this[s.$extra].height,Te+tt),this[s.$extra].children.push(N)}[s.$getAvailableSpace](){return this[s.$extra].availableSpace}[s.$toHTML](N){const Ee=(0,p.toStyle)(this,"position"),$e={style:Ee,id:this[s.$uid],class:["xfaArea"]};(0,p.isPrintOnly)(this)&&$e.class.push("xfaPrintOnly"),this.name&&($e.xfaName=this.name);const Te=[];this[s.$extra]={children:Te,width:0,height:0,availableSpace:N};const be=this[s.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!be.success)return be.isBreak()?be:(delete this[s.$extra],t.HTMLResult.FAILURE);Ee.width=(0,p.measureToString)(this[s.$extra].width),Ee.height=(0,p.measureToString)(this[s.$extra].height);const tt={name:"div",attributes:$e,children:Te},pt=[this.x,this.y,this[s.$extra].width,this[s.$extra].height];return delete this[s.$extra],t.HTMLResult.success(tt,pt)}}class O extends s.XFAObject{constructor(N){super(M,"assist",!0),this.id=N.id||"",this.role=N.role||"",this.use=N.use||"",this.usehref=N.usehref||"",this.speak=null,this.toolTip=null}[s.$toHTML](){return this.toolTip&&this.toolTip[s.$content]?this.toolTip[s.$content]:null}}class Z extends s.XFAObject{constructor(N){super(M,"barcode",!0),this.charEncoding=(0,t.getKeyword)({data:N.charEncoding?N.charEncoding.toLowerCase():"",defaultValue:"",validate:Ee=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Ee)||Ee.match(/iso-8859-\d{2}/)}),this.checksum=(0,t.getStringOption)(N.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,t.getInteger)({data:N.dataColumnCount,defaultValue:-1,validate:Ee=>Ee>=0}),this.dataLength=(0,t.getInteger)({data:N.dataLength,defaultValue:-1,validate:Ee=>Ee>=0}),this.dataPrep=(0,t.getStringOption)(N.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,t.getInteger)({data:N.dataRowCount,defaultValue:-1,validate:Ee=>Ee>=0}),this.endChar=N.endChar||"",this.errorCorrectionLevel=(0,t.getInteger)({data:N.errorCorrectionLevel,defaultValue:-1,validate:Ee=>Ee>=0&&Ee<=8}),this.id=N.id||"",this.moduleHeight=(0,t.getMeasurement)(N.moduleHeight,"5mm"),this.moduleWidth=(0,t.getMeasurement)(N.moduleWidth,"0.25mm"),this.printCheckDigit=(0,t.getInteger)({data:N.printCheckDigit,defaultValue:0,validate:Ee=>Ee===1}),this.rowColumnRatio=(0,t.getRatio)(N.rowColumnRatio),this.startChar=N.startChar||"",this.textLocation=(0,t.getStringOption)(N.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,t.getInteger)({data:N.truncate,defaultValue:0,validate:Ee=>Ee===1}),this.type=(0,t.getStringOption)(N.type?N.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,t.getStringOption)(N.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=N.use||"",this.usehref=N.usehref||"",this.wideNarrowRatio=(0,t.getRatio)(N.wideNarrowRatio),this.encrypt=null,this.extras=null}}class se extends s.XFAObject{constructor(N){super(M,"bind",!0),this.match=(0,t.getStringOption)(N.match,["once","dataRef","global","none"]),this.ref=N.ref||"",this.picture=null}}class $ extends s.XFAObject{constructor(N){super(M,"bindItems"),this.connection=N.connection||"",this.labelRef=N.labelRef||"",this.ref=N.ref||"",this.valueRef=N.valueRef||""}}o.BindItems=$;class X extends s.XFAObject{constructor(N){super(M,"bookend"),this.id=N.id||"",this.leader=N.leader||"",this.trailer=N.trailer||"",this.use=N.use||"",this.usehref=N.usehref||""}}class ne extends s.Option01{constructor(N){super(M,"boolean"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$toHTML](N){return ie(this[s.$content]===1?"1":"0")}}class oe extends s.XFAObject{constructor(N){super(M,"border",!0),this.break=(0,t.getStringOption)(N.break,["close","open"]),this.hand=(0,t.getStringOption)(N.hand,["even","left","right"]),this.id=N.id||"",this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.corner=new s.XFAObjectArray(4),this.edge=new s.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[s.$getExtra](){if(!this[s.$extra]){const N=this.edge.children.slice();if(N.length<4){const Te=N.at(-1)||new ze({});for(let be=N.length;be<4;be++)N.push(Te)}const Ee=N.map(Te=>Te.thickness),$e=[0,0,0,0];this.margin&&($e[0]=this.margin.topInset,$e[1]=this.margin.rightInset,$e[2]=this.margin.bottomInset,$e[3]=this.margin.leftInset),this[s.$extra]={widths:Ee,insets:$e,edges:N}}return this[s.$extra]}[s.$toStyle](){const{edges:N}=this[s.$getExtra](),Ee=N.map(Te=>{const be=Te[s.$toStyle]();return be.color=be.color||"#000000",be}),$e=Object.create(null);if(this.margin&&Object.assign($e,this.margin[s.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign($e,this.fill[s.$toStyle]()),this.corner.children.some(Te=>Te.radius!==0)){const Te=this.corner.children.map(be=>be[s.$toStyle]());if(Te.length===2||Te.length===3){const be=Te.at(-1);for(let tt=Te.length;tt<4;tt++)Te.push(be)}$e.borderRadius=Te.map(be=>be.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":$e.borderStyle="";break;case"inactive":$e.borderStyle="none";break;default:$e.borderStyle=Ee.map(Te=>Te.style).join(" ")}return $e.borderWidth=Ee.map(Te=>Te.width).join(" "),$e.borderColor=Ee.map(Te=>Te.color).join(" "),$e}}class ue extends s.XFAObject{constructor(N){super(M,"break",!0),this.after=(0,t.getStringOption)(N.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=N.afterTarget||"",this.before=(0,t.getStringOption)(N.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=N.beforeTarget||"",this.bookendLeader=N.bookendLeader||"",this.bookendTrailer=N.bookendTrailer||"",this.id=N.id||"",this.overflowLeader=N.overflowLeader||"",this.overflowTarget=N.overflowTarget||"",this.overflowTrailer=N.overflowTrailer||"",this.startNew=(0,t.getInteger)({data:N.startNew,defaultValue:0,validate:Ee=>Ee===1}),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}}class fe extends s.XFAObject{constructor(N){super(M,"breakAfter",!0),this.id=N.id||"",this.leader=N.leader||"",this.startNew=(0,t.getInteger)({data:N.startNew,defaultValue:0,validate:Ee=>Ee===1}),this.target=N.target||"",this.targetType=(0,t.getStringOption)(N.targetType,["auto","contentArea","pageArea"]),this.trailer=N.trailer||"",this.use=N.use||"",this.usehref=N.usehref||"",this.script=null}}class le extends s.XFAObject{constructor(N){super(M,"breakBefore",!0),this.id=N.id||"",this.leader=N.leader||"",this.startNew=(0,t.getInteger)({data:N.startNew,defaultValue:0,validate:Ee=>Ee===1}),this.target=N.target||"",this.targetType=(0,t.getStringOption)(N.targetType,["auto","contentArea","pageArea"]),this.trailer=N.trailer||"",this.use=N.use||"",this.usehref=N.usehref||"",this.script=null}[s.$toHTML](N){return this[s.$extra]={},t.HTMLResult.FAILURE}}class ae extends s.XFAObject{constructor(N){super(M,"button",!0),this.highlight=(0,t.getStringOption)(N.highlight,["inverted","none","outline","push"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}[s.$toHTML](N){const Ee=this[s.$getParent]()[s.$getParent](),$e={name:"button",attributes:{id:this[s.$uid],class:["xfaButton"],style:{}},children:[]};for(const Te of Ee.event.children){if(Te.activity!=="click"||!Te.script)continue;const be=(0,w.recoverJsURL)(Te.script[s.$content]);if(!be)continue;const tt=(0,p.fixURL)(be.url);tt&&$e.children.push({name:"a",attributes:{id:"link"+this[s.$uid],href:tt,newWindow:be.newWindow,class:["xfaLink"],style:{}},children:[]})}return t.HTMLResult.success($e)}}class de extends s.XFAObject{constructor(N){super(M,"calculate",!0),this.id=N.id||"",this.override=(0,t.getStringOption)(N.override,["disabled","error","ignore","warning"]),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.message=null,this.script=null}}class re extends s.XFAObject{constructor(N){super(M,"caption",!0),this.id=N.id||"",this.placement=(0,t.getStringOption)(N.placement,["left","bottom","inline","right","top"]),this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,t.getMeasurement)(N.reserve)),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[s.$setValue](N){V(this,N)}[s.$getExtra](N){if(!this[s.$extra]){let{width:Ee,height:$e}=N;switch(this.placement){case"left":case"right":case"inline":Ee=this.reserve<=0?Ee:this.reserve;break;case"top":case"bottom":$e=this.reserve<=0?$e:this.reserve}this[s.$extra]=(0,p.layoutNode)(this,{width:Ee,height:$e})}return this[s.$extra]}[s.$toHTML](N){if(!this.value)return t.HTMLResult.EMPTY;this[s.$pushPara]();const Ee=this.value[s.$toHTML](N).html;if(!Ee)return this[s.$popPara](),t.HTMLResult.EMPTY;const $e=this.reserve;if(this.reserve<=0){const{w:tt,h:pt}=this[s.$getExtra](N);switch(this.placement){case"left":case"right":case"inline":this.reserve=tt;break;case"top":case"bottom":this.reserve=pt}}const Te=[];typeof Ee=="string"?Te.push({name:"#text",value:Ee}):Te.push(Ee);const be=(0,p.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(be.width=(0,p.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(be.height=(0,p.measureToString)(this.reserve))}return(0,p.setPara)(this,null,Ee),this[s.$popPara](),this.reserve=$e,t.HTMLResult.success({name:"div",attributes:{style:be,class:["xfaCaption"]},children:Te})}}class Q extends s.StringObject{constructor(N){super(M,"certificate"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class ce extends s.XFAObject{constructor(N){super(M,"certificates",!0),this.credentialServerPolicy=(0,t.getStringOption)(N.credentialServerPolicy,["optional","required"]),this.id=N.id||"",this.url=N.url||"",this.urlPolicy=N.urlPolicy||"",this.use=N.use||"",this.usehref=N.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class he extends s.XFAObject{constructor(N){super(M,"checkButton",!0),this.id=N.id||"",this.mark=(0,t.getStringOption)(N.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,t.getStringOption)(N.shape,["square","round"]),this.size=(0,t.getMeasurement)(N.size,"10pt"),this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](N){const Ee=(0,p.toStyle)("margin"),$e=(0,p.measureToString)(this.size);Ee.width=Ee.height=$e;let Te,be,tt;const pt=this[s.$getParent]()[s.$getParent](),mt=pt.items.children.length&&pt.items.children[0][s.$toHTML]().html||[],Ct={on:(mt[0]!==void 0?mt[0]:"on").toString(),off:(mt[1]!==void 0?mt[1]:"off").toString()},_t=(pt.value&&pt.value[s.$text]()||"off")===Ct.on||void 0,Pt=pt[s.$getSubformParent](),Mt=pt[s.$uid];let Dt;Pt instanceof Ye?(tt=Pt[s.$uid],Te="radio",be="xfaRadio",Dt=Pt[s.$data]&&Pt[s.$data][s.$uid]||Pt[s.$uid]):(Te="checkbox",be="xfaCheckbox",Dt=pt[s.$data]&&pt[s.$data][s.$uid]||pt[s.$uid]);const Rt={name:"input",attributes:{class:[be],style:Ee,fieldId:Mt,dataId:Dt,type:Te,checked:_t,xfaOn:Ct.on,xfaOff:Ct.off,"aria-label":j(pt),"aria-required":!1}};return tt&&(Rt.attributes.name=tt),U(pt)&&(Rt.attributes["aria-required"]=!0,Rt.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Rt]})}}class ge extends s.XFAObject{constructor(N){super(M,"choiceList",!0),this.commitOn=(0,t.getStringOption)(N.commitOn,["select","exit"]),this.id=N.id||"",this.open=(0,t.getStringOption)(N.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,t.getInteger)({data:N.textEntry,defaultValue:0,validate:Ee=>Ee===1}),this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](N){const Ee=(0,p.toStyle)(this,"border","margin"),$e=this[s.$getParent]()[s.$getParent](),Te={fontSize:`calc(${$e.font&&$e.font.size||10}px * var(--scale-factor))`},be=[];if($e.items.children.length>0){const pt=$e.items;let mt=0,Ct=0;pt.children.length===2&&(mt=pt.children[0].save,Ct=1-mt);const _t=pt.children[mt][s.$toHTML]().html,Pt=pt.children[Ct][s.$toHTML]().html;let Mt=!1;const Dt=$e.value&&$e.value[s.$text]()||"";for(let Rt=0,Tt=_t.length;Rt<Tt;Rt++){const Ut={name:"option",attributes:{value:Pt[Rt]||_t[Rt],style:Te},value:_t[Rt]};Pt[Rt]===Dt&&(Ut.attributes.selected=Mt=!0),be.push(Ut)}Mt||be.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const tt={class:["xfaSelect"],fieldId:$e[s.$uid],dataId:$e[s.$data]&&$e[s.$data][s.$uid]||$e[s.$uid],style:Ee,"aria-label":j($e),"aria-required":!1};return U($e)&&(tt["aria-required"]=!0,tt.required=!0),this.open==="multiSelect"&&(tt.multiple=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:be,attributes:tt}]})}}class pe extends s.XFAObject{constructor(N){super(M,"color",!0),this.cSpace=(0,t.getStringOption)(N.cSpace,["SRGB"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.value=N.value?(0,t.getColor)(N.value):"",this.extras=null}[s.$hasSettableValue](){return!1}[s.$toStyle](){return this.value?b.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class me extends s.XFAObject{constructor(N){super(M,"comb"),this.id=N.id||"",this.numberOfCells=(0,t.getInteger)({data:N.numberOfCells,defaultValue:0,validate:Ee=>Ee>=0}),this.use=N.use||"",this.usehref=N.usehref||""}}class Ae extends s.XFAObject{constructor(N){super(M,"connect",!0),this.connection=N.connection||"",this.id=N.id||"",this.ref=N.ref||"",this.usage=(0,t.getStringOption)(N.usage,["exportAndImport","exportOnly","importOnly"]),this.use=N.use||"",this.usehref=N.usehref||"",this.picture=null}}class ye extends s.XFAObject{constructor(N){super(M,"contentArea",!0),this.h=(0,t.getMeasurement)(N.h),this.id=N.id||"",this.name=N.name||"",this.relevant=(0,t.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.w=(0,t.getMeasurement)(N.w),this.x=(0,t.getMeasurement)(N.x,"0pt"),this.y=(0,t.getMeasurement)(N.y,"0pt"),this.desc=null,this.extras=null}[s.$toHTML](N){const Ee={left:(0,p.measureToString)(this.x),top:(0,p.measureToString)(this.y),width:(0,p.measureToString)(this.w),height:(0,p.measureToString)(this.h)},$e=["xfaContentarea"];return(0,p.isPrintOnly)(this)&&$e.push("xfaPrintOnly"),t.HTMLResult.success({name:"div",children:[],attributes:{style:Ee,class:$e,id:this[s.$uid]}})}}class xe extends s.XFAObject{constructor(N){super(M,"corner",!0),this.id=N.id||"",this.inverted=(0,t.getInteger)({data:N.inverted,defaultValue:0,validate:Ee=>Ee===1}),this.join=(0,t.getStringOption)(N.join,["square","round"]),this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,t.getMeasurement)(N.radius),this.stroke=(0,t.getStringOption)(N.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,t.getMeasurement)(N.thickness,"0.5pt"),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[s.$toStyle](){const N=(0,p.toStyle)(this,"visibility");return N.radius=(0,p.measureToString)(this.join==="square"?0:this.radius),N}}class Ce extends s.ContentObject{constructor(N){super(M,"date"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$finalize](){const N=this[s.$content].trim();this[s.$content]=N?new Date(N):null}[s.$toHTML](N){return ie(this[s.$content]?this[s.$content].toString():"")}}class we extends s.ContentObject{constructor(N){super(M,"dateTime"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$finalize](){const N=this[s.$content].trim();this[s.$content]=N?new Date(N):null}[s.$toHTML](N){return ie(this[s.$content]?this[s.$content].toString():"")}}class ve extends s.XFAObject{constructor(N){super(M,"dateTimeEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(N.hScrollPolicy,["auto","off","on"]),this.id=N.id||"",this.picker=(0,t.getStringOption)(N.picker,["host","none"]),this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](N){const Ee=(0,p.toStyle)(this,"border","font","margin"),$e=this[s.$getParent]()[s.$getParent](),Te={name:"input",attributes:{type:"text",fieldId:$e[s.$uid],dataId:$e[s.$data]&&$e[s.$data][s.$uid]||$e[s.$uid],class:["xfaTextfield"],style:Ee,"aria-label":j($e),"aria-required":!1}};return U($e)&&(Te.attributes["aria-required"]=!0,Te.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Te]})}}class Se extends s.ContentObject{constructor(N){super(M,"decimal"),this.fracDigits=(0,t.getInteger)({data:N.fracDigits,defaultValue:2,validate:Ee=>!0}),this.id=N.id||"",this.leadDigits=(0,t.getInteger)({data:N.leadDigits,defaultValue:-1,validate:Ee=>!0}),this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$finalize](){const N=parseFloat(this[s.$content].trim());this[s.$content]=isNaN(N)?null:N}[s.$toHTML](N){return ie(this[s.$content]!==null?this[s.$content].toString():"")}}class _e extends s.XFAObject{constructor(N){super(M,"defaultUi",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}}class ke extends s.XFAObject{constructor(N){super(M,"desc",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}}class Fe extends s.OptionObject{constructor(N){super(M,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class je extends s.XFAObject{constructor(N){super(M,"digestMethods",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.digestMethod=new s.XFAObjectArray}}class Le extends s.XFAObject{constructor(N){super(M,"draw",!0),this.anchorType=(0,t.getStringOption)(N.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:N.colSpan,defaultValue:1,validate:Ee=>Ee>=1||Ee===-1}),this.h=N.h?(0,t.getMeasurement)(N.h):"",this.hAlign=(0,t.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.locale=N.locale||"",this.maxH=(0,t.getMeasurement)(N.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(N.maxW,"0pt"),this.minH=(0,t.getMeasurement)(N.minH,"0pt"),this.minW=(0,t.getMeasurement)(N.minW,"0pt"),this.name=N.name||"",this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(N.relevant),this.rotate=(0,t.getInteger)({data:N.rotate,defaultValue:0,validate:Ee=>Ee%90==0}),this.use=N.use||"",this.usehref=N.usehref||"",this.w=N.w?(0,t.getMeasurement)(N.w):"",this.x=(0,t.getMeasurement)(N.x,"0pt"),this.y=(0,t.getMeasurement)(N.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new s.XFAObjectArray}[s.$setValue](N){V(this,N)}[s.$toHTML](N){if(te(this),this.presence==="hidden"||this.presence==="inactive")return t.HTMLResult.EMPTY;(0,p.fixDimensions)(this),this[s.$pushPara]();const Ee=this.w,$e=this.h,{w:Te,h:be,isBroken:tt}=(0,p.layoutNode)(this,N);if(Te&&this.w===""){if(tt&&this[s.$getSubformParent]()[s.$isThereMoreWidth]())return this[s.$popPara](),t.HTMLResult.FAILURE;this.w=Te}if(be&&this.h===""&&(this.h=be),E(this),!(0,m.checkDimensions)(this,N))return this.w=Ee,this.h=$e,this[s.$popPara](),t.HTMLResult.FAILURE;L(this);const pt=(0,p.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,p.setMinMaxDimensions)(this,pt),pt.margin&&(pt.padding=pt.margin,delete pt.margin);const mt=["xfaDraw"];this.font&&mt.push("xfaFont"),(0,p.isPrintOnly)(this)&&mt.push("xfaPrintOnly");const Ct={style:pt,id:this[s.$uid],class:mt};this.name&&(Ct.xfaName=this.name);const _t={name:"div",attributes:Ct,children:[]};B(this,Ct);const Pt=(0,p.computeBbox)(this,_t,N),Mt=this.value?this.value[s.$toHTML](N).html:null;return Mt===null?(this.w=Ee,this.h=$e,this[s.$popPara](),t.HTMLResult.success((0,p.createWrapper)(this,_t),Pt)):(_t.children.push(Mt),(0,p.setPara)(this,pt,Mt),this.w=Ee,this.h=$e,this[s.$popPara](),t.HTMLResult.success((0,p.createWrapper)(this,_t),Pt))}}class ze extends s.XFAObject{constructor(N){super(M,"edge",!0),this.cap=(0,t.getStringOption)(N.cap,["square","butt","round"]),this.id=N.id||"",this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,t.getStringOption)(N.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,t.getMeasurement)(N.thickness,"0.5pt"),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[s.$toStyle](){const N=(0,p.toStyle)(this,"visibility");if(Object.assign(N,{linecap:this.cap,width:(0,p.measureToString)(this.thickness),color:this.color?this.color[s.$toStyle]():"#000000",style:""}),this.presence!=="visible")N.style="none";else switch(this.stroke){case"solid":N.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":N.style="dashed";break;case"dotted":N.style="dotted";break;case"embossed":N.style="ridge";break;case"etched":N.style="groove";break;case"lowered":N.style="inset";break;case"raised":N.style="outset"}return N}}class Re extends s.OptionObject{constructor(N){super(M,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class et extends s.XFAObject{constructor(N){super(M,"encodings",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.encoding=new s.XFAObjectArray}}class st extends s.XFAObject{constructor(N){super(M,"encrypt",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.certificate=null}}class Qe extends s.XFAObject{constructor(N){super(M,"encryptData",!0),this.id=N.id||"",this.operation=(0,t.getStringOption)(N.operation,["encrypt","decrypt"]),this.target=N.target||"",this.use=N.use||"",this.usehref=N.usehref||"",this.filter=null,this.manifest=null}}class ot extends s.XFAObject{constructor(N){super(M,"encryption",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.certificate=new s.XFAObjectArray}}class Ne extends s.OptionObject{constructor(N){super(M,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class Me extends s.XFAObject{constructor(N){super(M,"encryptionMethods",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.encryptionMethod=new s.XFAObjectArray}}class Pe extends s.XFAObject{constructor(N){super(M,"event",!0),this.activity=(0,t.getStringOption)(N.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=N.id||"",this.listen=(0,t.getStringOption)(N.listen,["refOnly","refAndDescendents"]),this.name=N.name||"",this.ref=N.ref||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Ue extends s.ContentObject{constructor(N){super(M,"exData"),this.contentType=N.contentType||"",this.href=N.href||"",this.id=N.id||"",this.maxLength=(0,t.getInteger)({data:N.maxLength,defaultValue:-1,validate:Ee=>Ee>=-1}),this.name=N.name||"",this.rid=N.rid||"",this.transferEncoding=(0,t.getStringOption)(N.transferEncoding,["none","base64","package"]),this.use=N.use||"",this.usehref=N.usehref||""}[s.$isCDATAXml](){return this.contentType==="text/html"}[s.$onChild](N){return this.contentType==="text/html"&&N[s.$namespaceId]===g.NamespaceIds.xhtml.id?(this[s.$content]=N,!0):this.contentType==="text/xml"?(this[s.$content]=N,!0):!1}[s.$toHTML](N){return this.contentType==="text/html"&&this[s.$content]?this[s.$content][s.$toHTML](N):t.HTMLResult.EMPTY}}class Ge extends s.XFAObject{constructor(N){super(M,"exObject",!0),this.archive=N.archive||"",this.classId=N.classId||"",this.codeBase=N.codeBase||"",this.codeType=N.codeType||"",this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.exObject=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}}class Ye extends s.XFAObject{constructor(N){super(M,"exclGroup",!0),this.access=(0,t.getStringOption)(N.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=N.accessKey||"",this.anchorType=(0,t.getStringOption)(N.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:N.colSpan,defaultValue:1,validate:Ee=>Ee>=1||Ee===-1}),this.h=N.h?(0,t.getMeasurement)(N.h):"",this.hAlign=(0,t.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.layout=(0,t.getStringOption)(N.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,t.getMeasurement)(N.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(N.maxW,"0pt"),this.minH=(0,t.getMeasurement)(N.minH,"0pt"),this.minW=(0,t.getMeasurement)(N.minW,"0pt"),this.name=N.name||"",this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.w=N.w?(0,t.getMeasurement)(N.w):"",this.x=(0,t.getMeasurement)(N.x,"0pt"),this.y=(0,t.getMeasurement)(N.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new s.XFAObjectArray,this.event=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.setProperty=new s.XFAObjectArray}[s.$isBindable](){return!0}[s.$hasSettableValue](){return!0}[s.$setValue](N){for(const Ee of this.field.children){if(!Ee.value){const $e=new qt({});Ee[s.$appendChild]($e),Ee.value=$e}Ee.value[s.$setValue](N)}}[s.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine>0||this[s.$getParent]()[s.$isThereMoreWidth]()}[s.$isSplittable](){const N=this[s.$getSubformParent]();return N[s.$isSplittable]()?this[s.$extra]._isSplittable!==void 0?this[s.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[s.$extra]._isSplittable=!1,!1):N.layout&&N.layout.endsWith("-tb")&&N[s.$extra].numberInLine!==0?!1:(this[s.$extra]._isSplittable=!0,!0):!1}[s.$flushHTML](){return(0,m.flushHTML)(this)}[s.$addHTML](N,Ee){(0,m.addHTML)(this,N,Ee)}[s.$getAvailableSpace](){return(0,m.getAvailableSpace)(this)}[s.$toHTML](N){if(te(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return t.HTMLResult.EMPTY;(0,p.fixDimensions)(this);const Ee=[],$e={id:this[s.$uid],class:[]};(0,p.setAccess)(this,$e.class),this[s.$extra]||(this[s.$extra]=Object.create(null)),Object.assign(this[s.$extra],{children:Ee,attributes:$e,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,N.width),height:Math.min(this.h||1/0,N.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Te=this[s.$isSplittable]();if(Te||E(this),!(0,m.checkDimensions)(this,N))return t.HTMLResult.FAILURE;const be=new Set(["field"]);if(this.layout.includes("row")){const St=this[s.$getSubformParent]().columnWidths;Array.isArray(St)&&St.length>0&&(this[s.$extra].columnWidths=St,this[s.$extra].currentColumn=0)}const tt=(0,p.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),pt=["xfaExclgroup"],mt=(0,p.layoutClass)(this);mt&&pt.push(mt),(0,p.isPrintOnly)(this)&&pt.push("xfaPrintOnly"),$e.style=tt,$e.class=pt,this.name&&($e.xfaName=this.name),this[s.$pushPara]();const Ct=this.layout==="lr-tb"||this.layout==="rl-tb",_t=Ct?2:1;for(;this[s.$extra].attempt<_t;this[s.$extra].attempt++){Ct&&this[s.$extra].attempt===1&&(this[s.$extra].numberInLine=0);const St=this[s.$childrenToHTML]({filter:be,include:!0});if(St.success)break;if(St.isBreak())return this[s.$popPara](),St;if(Ct&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine===0&&!this[s.$getTemplateRoot]()[s.$extra].noLayoutFailure){this[s.$extra].attempt=_t;break}}if(this[s.$popPara](),Te||L(this),this[s.$extra].attempt===_t)return Te||delete this[s.$extra],t.HTMLResult.FAILURE;let Pt=0,Mt=0;this.margin&&(Pt=this.margin.leftInset+this.margin.rightInset,Mt=this.margin.topInset+this.margin.bottomInset);const Dt=Math.max(this[s.$extra].width+Pt,this.w||0),Rt=Math.max(this[s.$extra].height+Mt,this.h||0),Tt=[this.x,this.y,Dt,Rt];this.w===""&&(tt.width=(0,p.measureToString)(Dt)),this.h===""&&(tt.height=(0,p.measureToString)(Rt));const Ut={name:"div",attributes:$e,children:Ee};return B(this,$e),delete this[s.$extra],t.HTMLResult.success((0,p.createWrapper)(this,Ut),Tt)}}class We extends s.XFAObject{constructor(N){super(M,"execute"),this.connection=N.connection||"",this.executeType=(0,t.getStringOption)(N.executeType,["import","remerge"]),this.id=N.id||"",this.runAt=(0,t.getStringOption)(N.runAt,["client","both","server"]),this.use=N.use||"",this.usehref=N.usehref||""}}class Ze extends s.XFAObject{constructor(N){super(M,"extras",!0),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||"",this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.extras=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}}class Ke extends s.XFAObject{constructor(N){super(M,"field",!0),this.access=(0,t.getStringOption)(N.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=N.accessKey||"",this.anchorType=(0,t.getStringOption)(N.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:N.colSpan,defaultValue:1,validate:Ee=>Ee>=1||Ee===-1}),this.h=N.h?(0,t.getMeasurement)(N.h):"",this.hAlign=(0,t.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.locale=N.locale||"",this.maxH=(0,t.getMeasurement)(N.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(N.maxW,"0pt"),this.minH=(0,t.getMeasurement)(N.minH,"0pt"),this.minW=(0,t.getMeasurement)(N.minW,"0pt"),this.name=N.name||"",this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(N.relevant),this.rotate=(0,t.getInteger)({data:N.rotate,defaultValue:0,validate:Ee=>Ee%90==0}),this.use=N.use||"",this.usehref=N.usehref||"",this.w=N.w?(0,t.getMeasurement)(N.w):"",this.x=(0,t.getMeasurement)(N.x,"0pt"),this.y=(0,t.getMeasurement)(N.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new s.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new s.XFAObjectArray,this.connect=new s.XFAObjectArray,this.event=new s.XFAObjectArray,this.setProperty=new s.XFAObjectArray}[s.$isBindable](){return!0}[s.$setValue](N){V(this,N)}[s.$toHTML](N){if(te(this),!this.ui){this.ui=new Yt({}),this.ui[s.$globalData]=this[s.$globalData],this[s.$appendChild](this.ui);let St;switch(this.items.children.length){case 0:St=new nn({}),this.ui.textEdit=St;break;case 1:St=new he({}),this.ui.checkButton=St;break;case 2:St=new ge({}),this.ui.choiceList=St}this.ui[s.$appendChild](St)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return t.HTMLResult.EMPTY;this.caption&&delete this.caption[s.$extra],this[s.$pushPara]();const Ee=this.caption?this.caption[s.$toHTML](N).html:null,$e=this.w,Te=this.h;let be=0,tt=0;this.margin&&(be=this.margin.leftInset+this.margin.rightInset,tt=this.margin.topInset+this.margin.bottomInset);let pt=null;if(this.w===""||this.h===""){let St=null,It=null,$t=0,Et=0;if(this.ui.checkButton)$t=Et=this.ui.checkButton.size;else{const{w:Gt,h:Ht}=(0,p.layoutNode)(this,N);Gt!==null?($t=Gt,Et=Ht):Et=(0,C.getMetrics)(this.font,!0).lineNoGap}if(pt=k(this.ui[s.$getExtra]()),$t+=pt.w,Et+=pt.h,this.caption){const{w:Gt,h:Ht,isBroken:Nt}=this.caption[s.$getExtra](N);if(Nt&&this[s.$getSubformParent]()[s.$isThereMoreWidth]())return this[s.$popPara](),t.HTMLResult.FAILURE;switch(St=Gt,It=Ht,this.caption.placement){case"left":case"right":case"inline":St+=$t;break;case"top":case"bottom":It+=Et}}else St=$t,It=Et;St&&this.w===""&&(St+=be,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<St?St:this.minW)),It&&this.h===""&&(It+=tt,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<It?It:this.minH))}if(this[s.$popPara](),(0,p.fixDimensions)(this),E(this),!(0,m.checkDimensions)(this,N))return this.w=$e,this.h=Te,this[s.$popPara](),t.HTMLResult.FAILURE;L(this);const mt=(0,p.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,p.setMinMaxDimensions)(this,mt);const Ct=["xfaField"];this.font&&Ct.push("xfaFont"),(0,p.isPrintOnly)(this)&&Ct.push("xfaPrintOnly");const _t={style:mt,id:this[s.$uid],class:Ct};mt.margin&&(mt.padding=mt.margin,delete mt.margin),(0,p.setAccess)(this,Ct),this.name&&(_t.xfaName=this.name);const Pt=[],Mt={name:"div",attributes:_t,children:Pt};B(this,_t);const Dt=this.border?this.border[s.$toStyle]():null,Rt=(0,p.computeBbox)(this,Mt,N),Tt=this.ui[s.$toHTML]().html;if(!Tt)return Object.assign(mt,Dt),t.HTMLResult.success((0,p.createWrapper)(this,Mt),Rt);this[s.$tabIndex]&&(Tt.children&&Tt.children[0]?Tt.children[0].attributes.tabindex=this[s.$tabIndex]:Tt.attributes.tabindex=this[s.$tabIndex]),Tt.attributes.style||(Tt.attributes.style=Object.create(null));let Ut=null;if(this.ui.button?(Tt.children.length===1&&([Ut]=Tt.children.splice(0,1)),Object.assign(Tt.attributes.style,Dt)):Object.assign(mt,Dt),Pt.push(Tt),this.value){if(this.ui.imageEdit)Tt.children.push(this.value[s.$toHTML]().html);else if(!this.ui.button){let St="";if(this.value.exData)St=this.value.exData[s.$text]();else if(this.value.text)St=this.value.text[s.$getExtra]();else{const It=this.value[s.$toHTML]().html;It!==null&&(St=It.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(Tt.children[0].attributes.maxLength=this.value.text.maxChars),St&&(this.ui.numericEdit&&(St=parseFloat(St),St=isNaN(St)?"":St.toString()),Tt.children[0].name==="textarea"?Tt.children[0].attributes.textContent=St:Tt.children[0].attributes.value=St)}}if(!this.ui.imageEdit&&Tt.children&&Tt.children[0]&&this.h){pt=pt||k(this.ui[s.$getExtra]());let St=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){St=this.caption.reserve,St<=0&&(St=this.caption[s.$getExtra](N).h);const It=this.h-St-tt-pt.h;Tt.children[0].attributes.style.height=(0,p.measureToString)(It)}else Tt.children[0].attributes.style.height="100%"}if(Ut&&Tt.children.push(Ut),!Ee)return Tt.attributes.class&&Tt.attributes.class.push("xfaLeft"),this.w=$e,this.h=Te,t.HTMLResult.success((0,p.createWrapper)(this,Mt),Rt);if(this.ui.button)return mt.padding&&delete mt.padding,Ee.name==="div"&&(Ee.name="span"),Tt.children.push(Ee),t.HTMLResult.success(Mt,Rt);switch(this.ui.checkButton&&(Ee.attributes.class[0]="xfaCaptionForCheckButton"),Tt.attributes.class||(Tt.attributes.class=[]),Tt.children.splice(0,0,Ee),this.caption.placement){case"left":case"inline":Tt.attributes.class.push("xfaLeft");break;case"right":Tt.attributes.class.push("xfaRight");break;case"top":Tt.attributes.class.push("xfaTop");break;case"bottom":Tt.attributes.class.push("xfaBottom")}return this.w=$e,this.h=Te,t.HTMLResult.success((0,p.createWrapper)(this,Mt),Rt)}}o.Field=Ke;class Oe extends s.XFAObject{constructor(N){super(M,"fill",!0),this.id=N.id||"",this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[s.$toStyle](){const N=this[s.$getParent](),Ee=N[s.$getParent]()[s.$getParent](),$e=Object.create(null);let Te="color",be=Te;N instanceof oe&&(Te="background-color",be="background",Ee instanceof Yt&&($e.backgroundColor="white")),(N instanceof Jt||N instanceof q)&&(Te=be="fill",$e.fill="white");for(const tt of Object.getOwnPropertyNames(this)){if(tt==="extras"||tt==="color")continue;const pt=this[tt];if(!(pt instanceof s.XFAObject))continue;const mt=pt[s.$toStyle](this.color);return mt&&($e[mt.startsWith("#")?Te:be]=mt),$e}if(this.color&&this.color.value){const tt=this.color[s.$toStyle]();$e[tt.startsWith("#")?Te:be]=tt}return $e}}class De extends s.XFAObject{constructor(N){super(M,"filter",!0),this.addRevocationInfo=(0,t.getStringOption)(N.addRevocationInfo,["","required","optional","none"]),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||"",this.version=(0,t.getInteger)({data:this.version,defaultValue:5,validate:Ee=>Ee>=1&&Ee<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Ie extends s.ContentObject{constructor(N){super(M,"float"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$finalize](){const N=parseFloat(this[s.$content].trim());this[s.$content]=isNaN(N)?null:N}[s.$toHTML](N){return ie(this[s.$content]!==null?this[s.$content].toString():"")}}class qe extends s.XFAObject{constructor(N){super(M,"font",!0),this.baselineShift=(0,t.getMeasurement)(N.baselineShift),this.fontHorizontalScale=(0,t.getFloat)({data:N.fontHorizontalScale,defaultValue:100,validate:Ee=>Ee>=0}),this.fontVerticalScale=(0,t.getFloat)({data:N.fontVerticalScale,defaultValue:100,validate:Ee=>Ee>=0}),this.id=N.id||"",this.kerningMode=(0,t.getStringOption)(N.kerningMode,["none","pair"]),this.letterSpacing=(0,t.getMeasurement)(N.letterSpacing,"0"),this.lineThrough=(0,t.getInteger)({data:N.lineThrough,defaultValue:0,validate:Ee=>Ee===1||Ee===2}),this.lineThroughPeriod=(0,t.getStringOption)(N.lineThroughPeriod,["all","word"]),this.overline=(0,t.getInteger)({data:N.overline,defaultValue:0,validate:Ee=>Ee===1||Ee===2}),this.overlinePeriod=(0,t.getStringOption)(N.overlinePeriod,["all","word"]),this.posture=(0,t.getStringOption)(N.posture,["normal","italic"]),this.size=(0,t.getMeasurement)(N.size,"10pt"),this.typeface=N.typeface||"Courier",this.underline=(0,t.getInteger)({data:N.underline,defaultValue:0,validate:Ee=>Ee===1||Ee===2}),this.underlinePeriod=(0,t.getStringOption)(N.underlinePeriod,["all","word"]),this.use=N.use||"",this.usehref=N.usehref||"",this.weight=(0,t.getStringOption)(N.weight,["normal","bold"]),this.extras=null,this.fill=null}[s.$clean](N){super[s.$clean](N),this[s.$globalData].usedTypefaces.add(this.typeface)}[s.$toStyle](){const N=(0,p.toStyle)(this,"fill"),Ee=N.color;return Ee&&(Ee==="#000000"?delete N.color:Ee.startsWith("#")||(N.background=Ee,N.backgroundClip="text",N.color="transparent")),this.baselineShift&&(N.verticalAlign=(0,p.measureToString)(this.baselineShift)),N.fontKerning=this.kerningMode==="none"?"none":"normal",N.letterSpacing=(0,p.measureToString)(this.letterSpacing),this.lineThrough!==0&&(N.textDecoration="line-through",this.lineThrough===2&&(N.textDecorationStyle="double")),this.overline!==0&&(N.textDecoration="overline",this.overline===2&&(N.textDecorationStyle="double")),N.fontStyle=this.posture,N.fontSize=(0,p.measureToString)(.99*this.size),(0,p.setFontFamily)(this,this,this[s.$globalData].fontFinder,N),this.underline!==0&&(N.textDecoration="underline",this.underline===2&&(N.textDecorationStyle="double")),N.fontWeight=this.weight,N}}class Xe extends s.XFAObject{constructor(N){super(M,"format",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.picture=null}}class Ve extends s.StringObject{constructor(N){super(M,"handler"),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}}class nt extends s.XFAObject{constructor(N){super(M,"hyphenation"),this.excludeAllCaps=(0,t.getInteger)({data:N.excludeAllCaps,defaultValue:0,validate:Ee=>Ee===1}),this.excludeInitialCap=(0,t.getInteger)({data:N.excludeInitialCap,defaultValue:0,validate:Ee=>Ee===1}),this.hyphenate=(0,t.getInteger)({data:N.hyphenate,defaultValue:0,validate:Ee=>Ee===1}),this.id=N.id||"",this.pushCharacterCount=(0,t.getInteger)({data:N.pushCharacterCount,defaultValue:3,validate:Ee=>Ee>=0}),this.remainCharacterCount=(0,t.getInteger)({data:N.remainCharacterCount,defaultValue:3,validate:Ee=>Ee>=0}),this.use=N.use||"",this.usehref=N.usehref||"",this.wordCharacterCount=(0,t.getInteger)({data:N.wordCharacterCount,defaultValue:7,validate:Ee=>Ee>=0})}}class ht extends s.StringObject{constructor(N){super(M,"image"),this.aspect=(0,t.getStringOption)(N.aspect,["fit","actual","height","none","width"]),this.contentType=N.contentType||"",this.href=N.href||"",this.id=N.id||"",this.name=N.name||"",this.transferEncoding=(0,t.getStringOption)(N.transferEncoding,["base64","none","package"]),this.use=N.use||"",this.usehref=N.usehref||""}[s.$toHTML](){if(this.contentType&&!P.has(this.contentType.toLowerCase()))return t.HTMLResult.EMPTY;let N=this[s.$globalData].images&&this[s.$globalData].images.get(this.href);if(!N&&(this.href||!this[s.$content])||(N||this.transferEncoding!=="base64"||(N=(0,b.stringToBytes)(atob(this[s.$content]))),!N))return t.HTMLResult.EMPTY;if(!this.contentType){for(const[be,tt]of _)if(N.length>be.length&&be.every((pt,mt)=>pt===N[mt])){this.contentType=tt;break}if(!this.contentType)return t.HTMLResult.EMPTY}const Ee=new Blob([N],{type:this.contentType});let $e;switch(this.aspect){case"fit":case"actual":break;case"height":$e={height:"100%",objectFit:"fill"};break;case"none":$e={width:"100%",height:"100%",objectFit:"fill"};break;case"width":$e={width:"100%",objectFit:"fill"}}const Te=this[s.$getParent]();return t.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:$e,src:URL.createObjectURL(Ee),alt:Te?j(Te[s.$getParent]()):null}})}}class ut extends s.XFAObject{constructor(N){super(M,"imageEdit",!0),this.data=(0,t.getStringOption)(N.data,["link","embed"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](N){return this.data==="embed"?t.HTMLResult.success({name:"div",children:[],attributes:{}}):t.HTMLResult.EMPTY}}class it extends s.ContentObject{constructor(N){super(M,"integer"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$finalize](){const N=parseInt(this[s.$content].trim(),10);this[s.$content]=isNaN(N)?null:N}[s.$toHTML](N){return ie(this[s.$content]!==null?this[s.$content].toString():"")}}class gt extends s.XFAObject{constructor(N){super(M,"issuers",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.certificate=new s.XFAObjectArray}}class ft extends s.XFAObject{constructor(N){super(M,"items",!0),this.id=N.id||"",this.name=N.name||"",this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.ref=N.ref||"",this.save=(0,t.getInteger)({data:N.save,defaultValue:0,validate:Ee=>Ee===1}),this.use=N.use||"",this.usehref=N.usehref||"",this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}[s.$toHTML](){const N=[];for(const Ee of this[s.$getChildren]())N.push(Ee[s.$text]());return t.HTMLResult.success(N)}}o.Items=ft;class kt extends s.XFAObject{constructor(N){super(M,"keep",!0),this.id=N.id||"";const Ee=["none","contentArea","pageArea"];this.intact=(0,t.getStringOption)(N.intact,Ee),this.next=(0,t.getStringOption)(N.next,Ee),this.previous=(0,t.getStringOption)(N.previous,Ee),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}}class wt extends s.XFAObject{constructor(N){super(M,"keyUsage");const Ee=["","yes","no"];this.crlSign=(0,t.getStringOption)(N.crlSign,Ee),this.dataEncipherment=(0,t.getStringOption)(N.dataEncipherment,Ee),this.decipherOnly=(0,t.getStringOption)(N.decipherOnly,Ee),this.digitalSignature=(0,t.getStringOption)(N.digitalSignature,Ee),this.encipherOnly=(0,t.getStringOption)(N.encipherOnly,Ee),this.id=N.id||"",this.keyAgreement=(0,t.getStringOption)(N.keyAgreement,Ee),this.keyCertSign=(0,t.getStringOption)(N.keyCertSign,Ee),this.keyEncipherment=(0,t.getStringOption)(N.keyEncipherment,Ee),this.nonRepudiation=(0,t.getStringOption)(N.nonRepudiation,Ee),this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}}class rt extends s.XFAObject{constructor(N){super(M,"line",!0),this.hand=(0,t.getStringOption)(N.hand,["even","left","right"]),this.id=N.id||"",this.slope=(0,t.getStringOption)(N.slope,["\\","/"]),this.use=N.use||"",this.usehref=N.usehref||"",this.edge=null}[s.$toHTML](){const N=this[s.$getParent]()[s.$getParent](),Ee=this.edge||new ze({}),$e=Ee[s.$toStyle](),Te=Object.create(null),be=Ee.presence==="visible"?Ee.thickness:0;Te.strokeWidth=(0,p.measureToString)(be),Te.stroke=$e.color;let tt,pt,mt,Ct,_t="100%",Pt="100%";N.w<=be?([tt,pt,mt,Ct]=["50%",0,"50%","100%"],_t=Te.strokeWidth):N.h<=be?([tt,pt,mt,Ct]=[0,"50%","100%","50%"],Pt=Te.strokeWidth):this.slope==="\\"?[tt,pt,mt,Ct]=[0,0,"100%","100%"]:[tt,pt,mt,Ct]=[0,"100%","100%",0];const Mt={name:"svg",children:[{name:"line",attributes:{xmlns:y,x1:tt,y1:pt,x2:mt,y2:Ct,style:Te}}],attributes:{xmlns:y,width:_t,height:Pt,style:{overflow:"visible"}}};return D(N)?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Mt]}):(Mt.attributes.style.position="absolute",t.HTMLResult.success(Mt))}}class At extends s.XFAObject{constructor(N){super(M,"linear",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["toRight","toBottom","toLeft","toTop"]),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[s.$toStyle](N){return N=N?N[s.$toStyle]():"#FFFFFF",`linear-gradient(${this.type.replace(/([RBLT])/," $1").toLowerCase()}, ${N}, ${this.color?this.color[s.$toStyle]():"#000000"})`}}class dt extends s.ContentObject{constructor(N){super(M,"lockDocument"),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}[s.$finalize](){this[s.$content]=(0,t.getStringOption)(this[s.$content],["auto","0","1"])}}class yt extends s.XFAObject{constructor(N){super(M,"manifest",!0),this.action=(0,t.getStringOption)(N.action,["include","all","exclude"]),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.ref=new s.XFAObjectArray}}class ct extends s.XFAObject{constructor(N){super(M,"margin",!0),this.bottomInset=(0,t.getMeasurement)(N.bottomInset,"0"),this.id=N.id||"",this.leftInset=(0,t.getMeasurement)(N.leftInset,"0"),this.rightInset=(0,t.getMeasurement)(N.rightInset,"0"),this.topInset=(0,t.getMeasurement)(N.topInset,"0"),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}[s.$toStyle](){return{margin:(0,p.measureToString)(this.topInset)+" "+(0,p.measureToString)(this.rightInset)+" "+(0,p.measureToString)(this.bottomInset)+" "+(0,p.measureToString)(this.leftInset)}}}class bt extends s.XFAObject{constructor(N){super(M,"mdp"),this.id=N.id||"",this.permissions=(0,t.getInteger)({data:N.permissions,defaultValue:2,validate:Ee=>Ee===1||Ee===3}),this.signatureType=(0,t.getStringOption)(N.signatureType,["filler","author"]),this.use=N.use||"",this.usehref=N.usehref||""}}class xt extends s.XFAObject{constructor(N){super(M,"medium"),this.id=N.id||"",this.imagingBBox=(0,t.getBBox)(N.imagingBBox),this.long=(0,t.getMeasurement)(N.long),this.orientation=(0,t.getStringOption)(N.orientation,["portrait","landscape"]),this.short=(0,t.getMeasurement)(N.short),this.stock=N.stock||"",this.trayIn=(0,t.getStringOption)(N.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,t.getStringOption)(N.trayOut,["auto","delegate"]),this.use=N.use||"",this.usehref=N.usehref||""}}class Ft extends s.XFAObject{constructor(N){super(M,"message",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.text=new s.XFAObjectArray}}class Lt extends s.XFAObject{constructor(N){super(M,"numericEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(N.hScrollPolicy,["auto","off","on"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](N){const Ee=(0,p.toStyle)(this,"border","font","margin"),$e=this[s.$getParent]()[s.$getParent](),Te={name:"input",attributes:{type:"text",fieldId:$e[s.$uid],dataId:$e[s.$data]&&$e[s.$data][s.$uid]||$e[s.$uid],class:["xfaTextfield"],style:Ee,"aria-label":j($e),"aria-required":!1}};return U($e)&&(Te.attributes["aria-required"]=!0,Te.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Te]})}}class Be extends s.XFAObject{constructor(N){super(M,"occur",!0),this.id=N.id||"",this.initial=N.initial!==""?(0,t.getInteger)({data:N.initial,defaultValue:"",validate:Ee=>!0}):"",this.max=N.max!==""?(0,t.getInteger)({data:N.max,defaultValue:1,validate:Ee=>!0}):"",this.min=N.min!==""?(0,t.getInteger)({data:N.min,defaultValue:1,validate:Ee=>!0}):"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}[s.$clean](){const N=this[s.$getParent](),Ee=this.min;this.min===""&&(this.min=N instanceof vt||N instanceof Ot?0:1),this.max===""&&(this.max=Ee===""?N instanceof vt||N instanceof Ot?-1:1:this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=N instanceof Kt?1:this.min)}}class Je extends s.StringObject{constructor(N){super(M,"oid"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class at extends s.XFAObject{constructor(N){super(M,"oids",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.oid=new s.XFAObjectArray}}class lt extends s.XFAObject{constructor(N){super(M,"overflow"),this.id=N.id||"",this.leader=N.leader||"",this.target=N.target||"",this.trailer=N.trailer||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$getExtra](){if(!this[s.$extra]){const N=this[s.$getParent](),Ee=this[s.$getTemplateRoot](),$e=Ee[s.$searchNode](this.target,N),Te=Ee[s.$searchNode](this.leader,N),be=Ee[s.$searchNode](this.trailer,N);this[s.$extra]={target:$e&&$e[0]||null,leader:Te&&Te[0]||null,trailer:be&&be[0]||null,addLeader:!1,addTrailer:!1}}return this[s.$extra]}}class vt extends s.XFAObject{constructor(N){super(M,"pageArea",!0),this.blankOrNotBlank=(0,t.getStringOption)(N.blankOrNotBlank,["any","blank","notBlank"]),this.id=N.id||"",this.initialNumber=(0,t.getInteger)({data:N.initialNumber,defaultValue:1,validate:Ee=>!0}),this.name=N.name||"",this.numbered=(0,t.getInteger)({data:N.numbered,defaultValue:1,validate:Ee=>!0}),this.oddOrEven=(0,t.getStringOption)(N.oddOrEven,["any","even","odd"]),this.pagePosition=(0,t.getStringOption)(N.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,t.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new s.XFAObjectArray,this.contentArea=new s.XFAObjectArray,this.draw=new s.XFAObjectArray,this.exclGroup=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.subform=new s.XFAObjectArray}[s.$isUsable](){return this[s.$extra]?!this.occur||this.occur.max===-1||this[s.$extra].numberOfUse<this.occur.max:(this[s.$extra]={numberOfUse:0},!0)}[s.$cleanPage](){delete this[s.$extra]}[s.$getNextPage](){this[s.$extra]||(this[s.$extra]={numberOfUse:0});const N=this[s.$getParent]();return N.relation==="orderedOccurrence"&&this[s.$isUsable]()?(this[s.$extra].numberOfUse+=1,this):N[s.$getNextPage]()}[s.$getAvailableSpace](){return this[s.$extra].space||{width:0,height:0}}[s.$toHTML](){this[s.$extra]||(this[s.$extra]={numberOfUse:1});const N=[];this[s.$extra].children=N;const Ee=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(Ee.width=(0,p.measureToString)(this.medium.short),Ee.height=(0,p.measureToString)(this.medium.long),this[s.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const $e=Ee.width;Ee.width=Ee.height,Ee.height=$e,this[s.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,b.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[s.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[s.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),t.HTMLResult.success({name:"div",children:N,attributes:{class:["xfaPage"],id:this[s.$uid],style:Ee,xfaName:this.name}})}}class Ot extends s.XFAObject{constructor(N){super(M,"pageSet",!0),this.duplexImposition=(0,t.getStringOption)(N.duplexImposition,["longEdge","shortEdge"]),this.id=N.id||"",this.name=N.name||"",this.relation=(0,t.getStringOption)(N.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,t.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.occur=null,this.pageArea=new s.XFAObjectArray,this.pageSet=new s.XFAObjectArray}[s.$cleanPage](){for(const N of this.pageArea.children)N[s.$cleanPage]();for(const N of this.pageSet.children)N[s.$cleanPage]()}[s.$isUsable](){return!this.occur||this.occur.max===-1||this[s.$extra].numberOfUse<this.occur.max}[s.$getNextPage](){if(this[s.$extra]||(this[s.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[s.$extra].pageIndex+1<this.pageArea.children.length)return this[s.$extra].pageIndex+=1,this.pageArea.children[this[s.$extra].pageIndex][s.$getNextPage]();if(this[s.$extra].pageSetIndex+1<this.pageSet.children.length)return this[s.$extra].pageSetIndex+=1,this.pageSet.children[this[s.$extra].pageSetIndex][s.$getNextPage]();if(this[s.$isUsable]())return this[s.$extra].numberOfUse+=1,this[s.$extra].pageIndex=-1,this[s.$extra].pageSetIndex=-1,this[s.$getNextPage]();const be=this[s.$getParent]();return be instanceof Ot?be[s.$getNextPage]():(this[s.$cleanPage](),this[s.$getNextPage]())}const N=this[s.$getTemplateRoot]()[s.$extra].pageNumber,Ee=N%2==0?"even":"odd",$e=N===0?"first":"rest";let Te=this.pageArea.children.find(be=>be.oddOrEven===Ee&&be.pagePosition===$e);return Te||(Te=this.pageArea.children.find(be=>be.oddOrEven==="any"&&be.pagePosition===$e),Te)?Te:(Te=this.pageArea.children.find(be=>be.oddOrEven==="any"&&be.pagePosition==="any"),Te||this.pageArea.children[0])}}class Bt extends s.XFAObject{constructor(N){super(M,"para",!0),this.hAlign=(0,t.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.lineHeight=N.lineHeight?(0,t.getMeasurement)(N.lineHeight,"0pt"):"",this.marginLeft=N.marginLeft?(0,t.getMeasurement)(N.marginLeft,"0pt"):"",this.marginRight=N.marginRight?(0,t.getMeasurement)(N.marginRight,"0pt"):"",this.orphans=(0,t.getInteger)({data:N.orphans,defaultValue:0,validate:Ee=>Ee>=0}),this.preserve=N.preserve||"",this.radixOffset=N.radixOffset?(0,t.getMeasurement)(N.radixOffset,"0pt"):"",this.spaceAbove=N.spaceAbove?(0,t.getMeasurement)(N.spaceAbove,"0pt"):"",this.spaceBelow=N.spaceBelow?(0,t.getMeasurement)(N.spaceBelow,"0pt"):"",this.tabDefault=N.tabDefault?(0,t.getMeasurement)(this.tabDefault):"",this.tabStops=(N.tabStops||"").trim().split(/\s+/).map((Ee,$e)=>$e%2==1?(0,t.getMeasurement)(Ee):Ee),this.textIndent=N.textIndent?(0,t.getMeasurement)(N.textIndent,"0pt"):"",this.use=N.use||"",this.usehref=N.usehref||"",this.vAlign=(0,t.getStringOption)(N.vAlign,["top","bottom","middle"]),this.widows=(0,t.getInteger)({data:N.widows,defaultValue:0,validate:Ee=>Ee>=0}),this.hyphenation=null}[s.$toStyle](){const N=(0,p.toStyle)(this,"hAlign");return this.marginLeft!==""&&(N.paddingLeft=(0,p.measureToString)(this.marginLeft)),this.marginRight!==""&&(N.paddingight=(0,p.measureToString)(this.marginRight)),this.spaceAbove!==""&&(N.paddingTop=(0,p.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(N.paddingBottom=(0,p.measureToString)(this.spaceBelow)),this.textIndent!==""&&(N.textIndent=(0,p.measureToString)(this.textIndent),(0,p.fixTextIndent)(N)),this.lineHeight>0&&(N.lineHeight=(0,p.measureToString)(this.lineHeight)),this.tabDefault!==""&&(N.tabSize=(0,p.measureToString)(this.tabDefault)),this.tabStops.length,this.hyphenatation&&Object.assign(N,this.hyphenatation[s.$toStyle]()),N}}class Xt extends s.XFAObject{constructor(N){super(M,"passwordEdit",!0),this.hScrollPolicy=(0,t.getStringOption)(N.hScrollPolicy,["auto","off","on"]),this.id=N.id||"",this.passwordChar=N.passwordChar||"*",this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.margin=null}}class jt extends s.XFAObject{constructor(N){super(M,"pattern",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[s.$toStyle](N){N=N?N[s.$toStyle]():"#FFFFFF";const Ee=this.color?this.color[s.$toStyle]():"#000000",$e="repeating-linear-gradient",Te=`${N},${N} 5px,${Ee} 5px,${Ee} 10px`;switch(this.type){case"crossHatch":return`${$e}(to top,${Te}) ${$e}(to right,${Te})`;case"crossDiagonal":return`${$e}(45deg,${Te}) ${$e}(-45deg,${Te})`;case"diagonalLeft":return`${$e}(45deg,${Te})`;case"diagonalRight":return`${$e}(-45deg,${Te})`;case"horizontal":return`${$e}(to top,${Te})`;case"vertical":return`${$e}(to right,${Te})`}return""}}class sn extends s.StringObject{constructor(N){super(M,"picture"),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class an extends s.XFAObject{constructor(N){super(M,"proto",!0),this.appearanceFilter=new s.XFAObjectArray,this.arc=new s.XFAObjectArray,this.area=new s.XFAObjectArray,this.assist=new s.XFAObjectArray,this.barcode=new s.XFAObjectArray,this.bindItems=new s.XFAObjectArray,this.bookend=new s.XFAObjectArray,this.boolean=new s.XFAObjectArray,this.border=new s.XFAObjectArray,this.break=new s.XFAObjectArray,this.breakAfter=new s.XFAObjectArray,this.breakBefore=new s.XFAObjectArray,this.button=new s.XFAObjectArray,this.calculate=new s.XFAObjectArray,this.caption=new s.XFAObjectArray,this.certificate=new s.XFAObjectArray,this.certificates=new s.XFAObjectArray,this.checkButton=new s.XFAObjectArray,this.choiceList=new s.XFAObjectArray,this.color=new s.XFAObjectArray,this.comb=new s.XFAObjectArray,this.connect=new s.XFAObjectArray,this.contentArea=new s.XFAObjectArray,this.corner=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.dateTimeEdit=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.defaultUi=new s.XFAObjectArray,this.desc=new s.XFAObjectArray,this.digestMethod=new s.XFAObjectArray,this.digestMethods=new s.XFAObjectArray,this.draw=new s.XFAObjectArray,this.edge=new s.XFAObjectArray,this.encoding=new s.XFAObjectArray,this.encodings=new s.XFAObjectArray,this.encrypt=new s.XFAObjectArray,this.encryptData=new s.XFAObjectArray,this.encryption=new s.XFAObjectArray,this.encryptionMethod=new s.XFAObjectArray,this.encryptionMethods=new s.XFAObjectArray,this.event=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.exObject=new s.XFAObjectArray,this.exclGroup=new s.XFAObjectArray,this.execute=new s.XFAObjectArray,this.extras=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.fill=new s.XFAObjectArray,this.filter=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.font=new s.XFAObjectArray,this.format=new s.XFAObjectArray,this.handler=new s.XFAObjectArray,this.hyphenation=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.imageEdit=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.issuers=new s.XFAObjectArray,this.items=new s.XFAObjectArray,this.keep=new s.XFAObjectArray,this.keyUsage=new s.XFAObjectArray,this.line=new s.XFAObjectArray,this.linear=new s.XFAObjectArray,this.lockDocument=new s.XFAObjectArray,this.manifest=new s.XFAObjectArray,this.margin=new s.XFAObjectArray,this.mdp=new s.XFAObjectArray,this.medium=new s.XFAObjectArray,this.message=new s.XFAObjectArray,this.numericEdit=new s.XFAObjectArray,this.occur=new s.XFAObjectArray,this.oid=new s.XFAObjectArray,this.oids=new s.XFAObjectArray,this.overflow=new s.XFAObjectArray,this.pageArea=new s.XFAObjectArray,this.pageSet=new s.XFAObjectArray,this.para=new s.XFAObjectArray,this.passwordEdit=new s.XFAObjectArray,this.pattern=new s.XFAObjectArray,this.picture=new s.XFAObjectArray,this.radial=new s.XFAObjectArray,this.reason=new s.XFAObjectArray,this.reasons=new s.XFAObjectArray,this.rectangle=new s.XFAObjectArray,this.ref=new s.XFAObjectArray,this.script=new s.XFAObjectArray,this.setProperty=new s.XFAObjectArray,this.signData=new s.XFAObjectArray,this.signature=new s.XFAObjectArray,this.signing=new s.XFAObjectArray,this.solid=new s.XFAObjectArray,this.speak=new s.XFAObjectArray,this.stipple=new s.XFAObjectArray,this.subform=new s.XFAObjectArray,this.subformSet=new s.XFAObjectArray,this.subjectDN=new s.XFAObjectArray,this.subjectDNs=new s.XFAObjectArray,this.submit=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.textEdit=new s.XFAObjectArray,this.time=new s.XFAObjectArray,this.timeStamp=new s.XFAObjectArray,this.toolTip=new s.XFAObjectArray,this.traversal=new s.XFAObjectArray,this.traverse=new s.XFAObjectArray,this.ui=new s.XFAObjectArray,this.validate=new s.XFAObjectArray,this.value=new s.XFAObjectArray,this.variables=new s.XFAObjectArray}}class on extends s.XFAObject{constructor(N){super(M,"radial",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["toEdge","toCenter"]),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[s.$toStyle](N){N=N?N[s.$toStyle]():"#FFFFFF";const Ee=this.color?this.color[s.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${N},${Ee}`:`${Ee},${N}`})`}}class cn extends s.StringObject{constructor(N){super(M,"reason"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class ln extends s.XFAObject{constructor(N){super(M,"reasons",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.reason=new s.XFAObjectArray}}class Jt extends s.XFAObject{constructor(N){super(M,"rectangle",!0),this.hand=(0,t.getStringOption)(N.hand,["even","left","right"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.corner=new s.XFAObjectArray(4),this.edge=new s.XFAObjectArray(4),this.fill=null}[s.$toHTML](){const N=this.edge.children.length?this.edge.children[0]:new ze({}),Ee=N[s.$toStyle](),$e=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign($e,this.fill[s.$toStyle]()):$e.fill="transparent",$e.strokeWidth=(0,p.measureToString)(N.presence==="visible"?N.thickness:0),$e.stroke=Ee.color;const Te=(this.corner.children.length?this.corner.children[0]:new xe({}))[s.$toStyle](),be={name:"svg",children:[{name:"rect",attributes:{xmlns:y,width:"100%",height:"100%",x:0,y:0,rx:Te.radius,ry:Te.radius,style:$e}}],attributes:{xmlns:y,style:{overflow:"visible"},width:"100%",height:"100%"}};return D(this[s.$getParent]()[s.$getParent]())?t.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[be]}):(be.attributes.style.position="absolute",t.HTMLResult.success(be))}}class dn extends s.StringObject{constructor(N){super(M,"ref"),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class hn extends s.StringObject{constructor(N){super(M,"script"),this.binding=N.binding||"",this.contentType=N.contentType||"",this.id=N.id||"",this.name=N.name||"",this.runAt=(0,t.getStringOption)(N.runAt,["client","both","server"]),this.use=N.use||"",this.usehref=N.usehref||""}}class Qt extends s.XFAObject{constructor(N){super(M,"setProperty"),this.connection=N.connection||"",this.ref=N.ref||"",this.target=N.target||""}}o.SetProperty=Qt;class un extends s.XFAObject{constructor(N){super(M,"signData",!0),this.id=N.id||"",this.operation=(0,t.getStringOption)(N.operation,["sign","clear","verify"]),this.ref=N.ref||"",this.target=N.target||"",this.use=N.use||"",this.usehref=N.usehref||"",this.filter=null,this.manifest=null}}class fn extends s.XFAObject{constructor(N){super(M,"signature",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["PDF1.3","PDF1.6"]),this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class pn extends s.XFAObject{constructor(N){super(M,"signing",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.certificate=new s.XFAObjectArray}}class gn extends s.XFAObject{constructor(N){super(M,"solid",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}[s.$toStyle](N){return N?N[s.$toStyle]():"#FFFFFF"}}class mn extends s.StringObject{constructor(N){super(M,"speak"),this.disable=(0,t.getInteger)({data:N.disable,defaultValue:0,validate:Ee=>Ee===1}),this.id=N.id||"",this.priority=(0,t.getStringOption)(N.priority,["custom","caption","name","toolTip"]),this.rid=N.rid||"",this.use=N.use||"",this.usehref=N.usehref||""}}class yn extends s.XFAObject{constructor(N){super(M,"stipple",!0),this.id=N.id||"",this.rate=(0,t.getInteger)({data:N.rate,defaultValue:50,validate:Ee=>Ee>=0&&Ee<=100}),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[s.$toStyle](N){const Ee=this.rate/100;return b.Util.makeHexColor(Math.round(N.value.r*(1-Ee)+this.value.r*Ee),Math.round(N.value.g*(1-Ee)+this.value.g*Ee),Math.round(N.value.b*(1-Ee)+this.value.b*Ee))}}class en extends s.XFAObject{constructor(N){super(M,"subform",!0),this.access=(0,t.getStringOption)(N.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,t.getInteger)({data:N.allowMacro,defaultValue:0,validate:Ee=>Ee===1}),this.anchorType=(0,t.getStringOption)(N.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,t.getInteger)({data:N.colSpan,defaultValue:1,validate:Ee=>Ee>=1||Ee===-1}),this.columnWidths=(N.columnWidths||"").trim().split(/\s+/).map(Ee=>Ee==="-1"?-1:(0,t.getMeasurement)(Ee)),this.h=N.h?(0,t.getMeasurement)(N.h):"",this.hAlign=(0,t.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.layout=(0,t.getStringOption)(N.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=N.locale||"",this.maxH=(0,t.getMeasurement)(N.maxH,"0pt"),this.maxW=(0,t.getMeasurement)(N.maxW,"0pt"),this.mergeMode=(0,t.getStringOption)(N.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,t.getMeasurement)(N.minH,"0pt"),this.minW=(0,t.getMeasurement)(N.minW,"0pt"),this.name=N.name||"",this.presence=(0,t.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,t.getRelevant)(N.relevant),this.restoreState=(0,t.getStringOption)(N.restoreState,["manual","auto"]),this.scope=(0,t.getStringOption)(N.scope,["name","none"]),this.use=N.use||"",this.usehref=N.usehref||"",this.w=N.w?(0,t.getMeasurement)(N.w):"",this.x=(0,t.getMeasurement)(N.x,"0pt"),this.y=(0,t.getMeasurement)(N.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new s.XFAObjectArray,this.breakAfter=new s.XFAObjectArray,this.breakBefore=new s.XFAObjectArray,this.connect=new s.XFAObjectArray,this.draw=new s.XFAObjectArray,this.event=new s.XFAObjectArray,this.exObject=new s.XFAObjectArray,this.exclGroup=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.proto=new s.XFAObjectArray,this.setProperty=new s.XFAObjectArray,this.subform=new s.XFAObjectArray,this.subformSet=new s.XFAObjectArray}[s.$getSubformParent](){const N=this[s.$getParent]();return N instanceof Vt?N[s.$getSubformParent]():N}[s.$isBindable](){return!0}[s.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine>0||this[s.$getParent]()[s.$isThereMoreWidth]()}*[s.$getContainedChildren](){yield*R(this)}[s.$flushHTML](){return(0,m.flushHTML)(this)}[s.$addHTML](N,Ee){(0,m.addHTML)(this,N,Ee)}[s.$getAvailableSpace](){return(0,m.getAvailableSpace)(this)}[s.$isSplittable](){const N=this[s.$getSubformParent]();return N[s.$isSplittable]()?this[s.$extra]._isSplittable!==void 0?this[s.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[s.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[s.$extra]._isSplittable=!1,!1):N.layout&&N.layout.endsWith("-tb")&&N[s.$extra].numberInLine!==0?!1:(this[s.$extra]._isSplittable=!0,!0):!1}[s.$toHTML](N){if(te(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Et=new fe({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Et[s.$globalData]=this[s.$globalData],this[s.$appendChild](Et),this.breakAfter.push(Et)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Et=new le({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Et[s.$globalData]=this[s.$globalData],this[s.$appendChild](Et),this.breakBefore.push(Et)}if(this.break.overflowTarget!==""){const Et=new lt({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Et[s.$globalData]=this[s.$globalData],this[s.$appendChild](Et),this.overflow.push(Et)}this[s.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return t.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,b.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Et=this.breakBefore.children[0];if(ee(Et))return t.HTMLResult.breakNode(Et)}if(this[s.$extra]&&this[s.$extra].afterBreakAfter)return t.HTMLResult.EMPTY;(0,p.fixDimensions)(this);const Ee=[],$e={id:this[s.$uid],class:[]};(0,p.setAccess)(this,$e.class),this[s.$extra]||(this[s.$extra]=Object.create(null)),Object.assign(this[s.$extra],{children:Ee,line:null,attributes:$e,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,N.width),height:Math.min(this.h||1/0,N.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Te=this[s.$getTemplateRoot](),be=Te[s.$extra].noLayoutFailure,tt=this[s.$isSplittable]();if(tt||E(this),!(0,m.checkDimensions)(this,N))return t.HTMLResult.FAILURE;const pt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Et=this[s.$getSubformParent]().columnWidths;Array.isArray(Et)&&Et.length>0&&(this[s.$extra].columnWidths=Et,this[s.$extra].currentColumn=0)}const mt=(0,p.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Ct=["xfaSubform"],_t=(0,p.layoutClass)(this);if(_t&&Ct.push(_t),$e.style=mt,$e.class=Ct,this.name&&($e.xfaName=this.name),this.overflow){const Et=this.overflow[s.$getExtra]();Et.addLeader&&(Et.addLeader=!1,J(this,Et.leader,N))}this[s.$pushPara]();const Pt=this.layout==="lr-tb"||this.layout==="rl-tb",Mt=Pt?2:1;for(;this[s.$extra].attempt<Mt;this[s.$extra].attempt++){Pt&&this[s.$extra].attempt===1&&(this[s.$extra].numberInLine=0);const Et=this[s.$childrenToHTML]({filter:pt,include:!0});if(Et.success)break;if(Et.isBreak())return this[s.$popPara](),Et;if(Pt&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine===0&&!Te[s.$extra].noLayoutFailure){this[s.$extra].attempt=Mt;break}}if(this[s.$popPara](),tt||L(this),Te[s.$extra].noLayoutFailure=be,this[s.$extra].attempt===Mt)return this.overflow&&(this[s.$getTemplateRoot]()[s.$extra].overflowNode=this.overflow),tt||delete this[s.$extra],t.HTMLResult.FAILURE;if(this.overflow){const Et=this.overflow[s.$getExtra]();Et.addTrailer&&(Et.addTrailer=!1,J(this,Et.trailer,N))}let Dt=0,Rt=0;this.margin&&(Dt=this.margin.leftInset+this.margin.rightInset,Rt=this.margin.topInset+this.margin.bottomInset);const Tt=Math.max(this[s.$extra].width+Dt,this.w||0),Ut=Math.max(this[s.$extra].height+Rt,this.h||0),St=[this.x,this.y,Tt,Ut];if(this.w===""&&(mt.width=(0,p.measureToString)(Tt)),this.h===""&&(mt.height=(0,p.measureToString)(Ut)),(mt.width==="0px"||mt.height==="0px")&&Ee.length===0)return t.HTMLResult.EMPTY;const It={name:"div",attributes:$e,children:Ee};B(this,$e);const $t=t.HTMLResult.success((0,p.createWrapper)(this,It),St);if(this.breakAfter.children.length>=1){const Et=this.breakAfter.children[0];if(ee(Et))return this[s.$extra].afterBreakAfter=$t,t.HTMLResult.breakNode(Et)}return delete this[s.$extra],$t}}class Vt extends s.XFAObject{constructor(N){super(M,"subformSet",!0),this.id=N.id||"",this.name=N.name||"",this.relation=(0,t.getStringOption)(N.relation,["ordered","choice","unordered"]),this.relevant=(0,t.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new s.XFAObjectArray,this.breakBefore=new s.XFAObjectArray,this.subform=new s.XFAObjectArray,this.subformSet=new s.XFAObjectArray}*[s.$getContainedChildren](){yield*R(this)}[s.$getSubformParent](){let N=this[s.$getParent]();for(;!(N instanceof en);)N=N[s.$getParent]();return N}[s.$isBindable](){return!0}}class bn extends s.ContentObject{constructor(N){super(M,"subjectDN"),this.delimiter=N.delimiter||",",this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$finalize](){this[s.$content]=new Map(this[s.$content].split(this.delimiter).map(N=>((N=N.split("=",2))[0]=N[0].trim(),N)))}}class An extends s.XFAObject{constructor(N){super(M,"subjectDNs",!0),this.id=N.id||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.subjectDN=new s.XFAObjectArray}}class wn extends s.XFAObject{constructor(N){super(M,"submit",!0),this.embedPDF=(0,t.getInteger)({data:N.embedPDF,defaultValue:0,validate:Ee=>Ee===1}),this.format=(0,t.getStringOption)(N.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=N.id||"",this.target=N.target||"",this.textEncoding=(0,t.getKeyword)({data:N.textEncoding?N.textEncoding.toLowerCase():"",defaultValue:"",validate:Ee=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Ee)||Ee.match(/iso-8859-\d{2}/)}),this.use=N.use||"",this.usehref=N.usehref||"",this.xdpContent=N.xdpContent||"",this.encrypt=null,this.encryptData=new s.XFAObjectArray,this.signData=new s.XFAObjectArray}}class Kt extends s.XFAObject{constructor(N){super(M,"template",!0),this.baseProfile=(0,t.getStringOption)(N.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new s.XFAObjectArray}[s.$finalize](){this.subform.children.length===0&&(0,b.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,b.warn)("XFA - Several subforms in template node: please file a bug."),this[s.$tabIndex]=5e3}[s.$isSplittable](){return!0}[s.$searchNode](N,Ee){return N.startsWith("#")?[this[s.$ids].get(N.slice(1))]:(0,v.searchNode)(this,Ee,N,!0,!0)}*[s.$toPages](){if(!this.subform.children.length)return t.HTMLResult.success({name:"div",children:[]});this[s.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const N=this.subform.children[0];N.pageSet[s.$cleanPage]();const Ee=N.pageSet.pageArea.children,$e={name:"div",children:[]};let Te=null,be=null,tt=null;if(N.breakBefore.children.length>=1?(be=N.breakBefore.children[0],tt=be.target):N.subform.children.length>=1&&N.subform.children[0].breakBefore.children.length>=1?(be=N.subform.children[0].breakBefore.children[0],tt=be.target):N.break&&N.break.beforeTarget?(be=N.break,tt=be.beforeTarget):N.subform.children.length>=1&&N.subform.children[0].break&&N.subform.children[0].break.beforeTarget&&(be=N.subform.children[0].break,tt=be.beforeTarget),be){const Rt=this[s.$searchNode](tt,be[s.$getParent]());Rt instanceof vt&&(Te=Rt,be[s.$extra]={})}Te||(Te=Ee[0]),Te[s.$extra]={numberOfUse:1};const pt=Te[s.$getParent]();pt[s.$extra]={numberOfUse:1,pageIndex:pt.pageArea.children.indexOf(Te),pageSetIndex:0};let mt,Ct=null,_t=null,Pt=!0,Mt=0,Dt=0;for(;;){if(Pt)Mt=0;else if($e.children.pop(),++Mt==3)return(0,b.warn)("XFA - Something goes wrong: please file a bug."),$e;mt=null,this[s.$extra].currentPageArea=Te;const Rt=Te[s.$toHTML]().html;$e.children.push(Rt),Ct&&(this[s.$extra].noLayoutFailure=!0,Rt.children.push(Ct[s.$toHTML](Te[s.$extra].space).html),Ct=null),_t&&(this[s.$extra].noLayoutFailure=!0,Rt.children.push(_t[s.$toHTML](Te[s.$extra].space).html),_t=null);const Tt=Te.contentArea.children,Ut=Rt.children.filter(It=>It.attributes.class.includes("xfaContentarea"));Pt=!1,this[s.$extra].firstUnsplittable=null,this[s.$extra].noLayoutFailure=!1;const St=It=>{const $t=N[s.$flushHTML]();$t&&(Pt=Pt||$t.children&&$t.children.length!==0,Ut[It].children.push($t))};for(let It=Dt,$t=Tt.length;It<$t;It++){const Et=this[s.$extra].currentContentArea=Tt[It],Gt={width:Et.w,height:Et.h};Dt=0,Ct&&(Ut[It].children.push(Ct[s.$toHTML](Gt).html),Ct=null),_t&&(Ut[It].children.push(_t[s.$toHTML](Gt).html),_t=null);const Ht=N[s.$toHTML](Gt);if(Ht.success)return Ht.html?(Pt=Pt||Ht.html.children&&Ht.html.children.length!==0,Ut[It].children.push(Ht.html)):!Pt&&$e.children.length>1&&$e.children.pop(),$e;if(Ht.isBreak()){const Nt=Ht.breakNode;if(St(It),Nt.targetType==="auto")continue;Nt.leader&&(Ct=this[s.$searchNode](Nt.leader,Nt[s.$getParent]()),Ct=Ct?Ct[0]:null),Nt.trailer&&(_t=this[s.$searchNode](Nt.trailer,Nt[s.$getParent]()),_t=_t?_t[0]:null),Nt.targetType==="pageArea"?(mt=Nt[s.$extra].target,It=1/0):Nt[s.$extra].target?(mt=Nt[s.$extra].target,Dt=Nt[s.$extra].index+1,It=1/0):It=Nt[s.$extra].index}else if(this[s.$extra].overflowNode){const Nt=this[s.$extra].overflowNode;this[s.$extra].overflowNode=null;const Zt=Nt[s.$getExtra](),Wt=Zt.target;Zt.addLeader=Zt.leader!==null,Zt.addTrailer=Zt.trailer!==null,St(It);const Tn=It;if(It=1/0,Wt instanceof vt)mt=Wt;else if(Wt instanceof ye){const rn=Tt.indexOf(Wt);rn!==-1?rn>Tn?It=rn-1:Dt=rn:(mt=Wt[s.$getParent](),Dt=mt.contentArea.children.indexOf(Wt))}}else St(It)}this[s.$extra].pageNumber+=1,mt&&(mt[s.$isUsable]()?mt[s.$extra].numberOfUse+=1:mt=null),Te=mt||Te[s.$getNextPage](),yield null}}}o.Template=Kt;class tn extends s.ContentObject{constructor(N){super(M,"text"),this.id=N.id||"",this.maxChars=(0,t.getInteger)({data:N.maxChars,defaultValue:0,validate:Ee=>Ee>=0}),this.name=N.name||"",this.rid=N.rid||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$acceptWhitespace](){return!0}[s.$onChild](N){return N[s.$namespaceId]===g.NamespaceIds.xhtml.id?(this[s.$content]=N,!0):((0,b.warn)(`XFA - Invalid content in Text: ${N[s.$nodeName]}.`),!1)}[s.$onText](N){this[s.$content]instanceof s.XFAObject||super[s.$onText](N)}[s.$finalize](){typeof this[s.$content]=="string"&&(this[s.$content]=this[s.$content].replace(/\r\n/g,`
`))}[s.$getExtra](){return typeof this[s.$content]=="string"?this[s.$content].split(/[\u2029\u2028\n]/).reduce((N,Ee)=>(Ee&&N.push(Ee),N),[]).join(`
`):this[s.$content][s.$text]()}[s.$toHTML](N){if(typeof this[s.$content]=="string"){const Ee=ie(this[s.$content]).html;return this[s.$content].includes("\u2029")?(Ee.name="div",Ee.children=[],this[s.$content].split("\u2029").map($e=>$e.split(/[\u2028\n]/).reduce((Te,be)=>(Te.push({name:"span",value:be},{name:"br"}),Te),[])).forEach($e=>{Ee.children.push({name:"p",children:$e})})):/[\u2028\n]/.test(this[s.$content])&&(Ee.name="div",Ee.children=[],this[s.$content].split(/[\u2028\n]/).forEach($e=>{Ee.children.push({name:"span",value:$e},{name:"br"})})),t.HTMLResult.success(Ee)}return this[s.$content][s.$toHTML](N)}}o.Text=tn;class nn extends s.XFAObject{constructor(N){super(M,"textEdit",!0),this.allowRichText=(0,t.getInteger)({data:N.allowRichText,defaultValue:0,validate:Ee=>Ee===1}),this.hScrollPolicy=(0,t.getStringOption)(N.hScrollPolicy,["auto","off","on"]),this.id=N.id||"",this.multiLine=(0,t.getInteger)({data:N.multiLine,defaultValue:"",validate:Ee=>Ee===0||Ee===1}),this.use=N.use||"",this.usehref=N.usehref||"",this.vScrollPolicy=(0,t.getStringOption)(N.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](N){const Ee=(0,p.toStyle)(this,"border","font","margin");let $e;const Te=this[s.$getParent]()[s.$getParent]();return this.multiLine===""&&(this.multiLine=Te instanceof Le?1:0),$e=this.multiLine===1?{name:"textarea",attributes:{dataId:Te[s.$data]&&Te[s.$data][s.$uid]||Te[s.$uid],fieldId:Te[s.$uid],class:["xfaTextfield"],style:Ee,"aria-label":j(Te),"aria-required":!1}}:{name:"input",attributes:{type:"text",dataId:Te[s.$data]&&Te[s.$data][s.$uid]||Te[s.$uid],fieldId:Te[s.$uid],class:["xfaTextfield"],style:Ee,"aria-label":j(Te),"aria-required":!1}},U(Te)&&($e.attributes["aria-required"]=!0,$e.attributes.required=!0),t.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[$e]})}}class xn extends s.StringObject{constructor(N){super(M,"time"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[s.$finalize](){const N=this[s.$content].trim();this[s.$content]=N?new Date(N):null}[s.$toHTML](N){return ie(this[s.$content]?this[s.$content].toString():"")}}class Cn extends s.XFAObject{constructor(N){super(M,"timeStamp"),this.id=N.id||"",this.server=N.server||"",this.type=(0,t.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}}class vn extends s.StringObject{constructor(N){super(M,"toolTip"),this.id=N.id||"",this.rid=N.rid||"",this.use=N.use||"",this.usehref=N.usehref||""}}class Sn extends s.XFAObject{constructor(N){super(M,"traversal",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.traverse=new s.XFAObjectArray}}class _n extends s.XFAObject{constructor(N){super(M,"traverse",!0),this.id=N.id||"",this.operation=(0,t.getStringOption)(N.operation,["next","back","down","first","left","right","up"]),this.ref=N.ref||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[s.$isTransparent](){return!1}}class Yt extends s.XFAObject{constructor(N){super(M,"ui",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[s.$getExtra](){if(this[s.$extra]===void 0){for(const N of Object.getOwnPropertyNames(this)){if(N==="extras"||N==="picture")continue;const Ee=this[N];if(Ee instanceof s.XFAObject)return this[s.$extra]=Ee,Ee}this[s.$extra]=null}return this[s.$extra]}[s.$toHTML](N){const Ee=this[s.$getExtra]();return Ee?Ee[s.$toHTML](N):t.HTMLResult.EMPTY}}class En extends s.XFAObject{constructor(N){super(M,"validate",!0),this.formatTest=(0,t.getStringOption)(N.formatTest,["warning","disabled","error"]),this.id=N.id||"",this.nullTest=(0,t.getStringOption)(N.nullTest,["disabled","error","warning"]),this.scriptTest=(0,t.getStringOption)(N.scriptTest,["error","disabled","warning"]),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class qt extends s.XFAObject{constructor(N){super(M,"value",!0),this.id=N.id||"",this.override=(0,t.getInteger)({data:N.override,defaultValue:0,validate:Ee=>Ee===1}),this.relevant=(0,t.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[s.$setValue](N){const Ee=this[s.$getParent]();if(Ee instanceof Ke&&Ee.ui&&Ee.ui.imageEdit){this.image||(this.image=new ht({}),this[s.$appendChild](this.image)),this.image[s.$content]=N[s.$content];return}const $e=N[s.$nodeName];if(this[$e]===null){for(const Te of Object.getOwnPropertyNames(this)){const be=this[Te];be instanceof s.XFAObject&&(this[Te]=null,this[s.$removeChild](be))}this[N[s.$nodeName]]=N,this[s.$appendChild](N)}else this[$e][s.$content]=N[s.$content]}[s.$text](){if(this.exData)return typeof this.exData[s.$content]=="string"?this.exData[s.$content].trim():this.exData[s.$content][s.$text]().trim();for(const N of Object.getOwnPropertyNames(this)){if(N==="image")continue;const Ee=this[N];if(Ee instanceof s.XFAObject)return(Ee[s.$content]||"").toString().trim()}return null}[s.$toHTML](N){for(const Ee of Object.getOwnPropertyNames(this)){const $e=this[Ee];if($e instanceof s.XFAObject)return $e[s.$toHTML](N)}return t.HTMLResult.EMPTY}}o.Value=qt;class kn extends s.XFAObject{constructor(N){super(M,"variables",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.manifest=new s.XFAObjectArray,this.script=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}[s.$isTransparent](){return!0}}class zt{static[g.$buildXFAObject](N,Ee){if(zt.hasOwnProperty(N)){const $e=zt[N](Ee);return $e[s.$setSetAttributes](Ee),$e}}static appearanceFilter(N){return new Y(N)}static arc(N){return new q(N)}static area(N){return new F(N)}static assist(N){return new O(N)}static barcode(N){return new Z(N)}static bind(N){return new se(N)}static bindItems(N){return new $(N)}static bookend(N){return new X(N)}static boolean(N){return new ne(N)}static border(N){return new oe(N)}static break(N){return new ue(N)}static breakAfter(N){return new fe(N)}static breakBefore(N){return new le(N)}static button(N){return new ae(N)}static calculate(N){return new de(N)}static caption(N){return new re(N)}static certificate(N){return new Q(N)}static certificates(N){return new ce(N)}static checkButton(N){return new he(N)}static choiceList(N){return new ge(N)}static color(N){return new pe(N)}static comb(N){return new me(N)}static connect(N){return new Ae(N)}static contentArea(N){return new ye(N)}static corner(N){return new xe(N)}static date(N){return new Ce(N)}static dateTime(N){return new we(N)}static dateTimeEdit(N){return new ve(N)}static decimal(N){return new Se(N)}static defaultUi(N){return new _e(N)}static desc(N){return new ke(N)}static digestMethod(N){return new Fe(N)}static digestMethods(N){return new je(N)}static draw(N){return new Le(N)}static edge(N){return new ze(N)}static encoding(N){return new Re(N)}static encodings(N){return new et(N)}static encrypt(N){return new st(N)}static encryptData(N){return new Qe(N)}static encryption(N){return new ot(N)}static encryptionMethod(N){return new Ne(N)}static encryptionMethods(N){return new Me(N)}static event(N){return new Pe(N)}static exData(N){return new Ue(N)}static exObject(N){return new Ge(N)}static exclGroup(N){return new Ye(N)}static execute(N){return new We(N)}static extras(N){return new Ze(N)}static field(N){return new Ke(N)}static fill(N){return new Oe(N)}static filter(N){return new De(N)}static float(N){return new Ie(N)}static font(N){return new qe(N)}static format(N){return new Xe(N)}static handler(N){return new Ve(N)}static hyphenation(N){return new nt(N)}static image(N){return new ht(N)}static imageEdit(N){return new ut(N)}static integer(N){return new it(N)}static issuers(N){return new gt(N)}static items(N){return new ft(N)}static keep(N){return new kt(N)}static keyUsage(N){return new wt(N)}static line(N){return new rt(N)}static linear(N){return new At(N)}static lockDocument(N){return new dt(N)}static manifest(N){return new yt(N)}static margin(N){return new ct(N)}static mdp(N){return new bt(N)}static medium(N){return new xt(N)}static message(N){return new Ft(N)}static numericEdit(N){return new Lt(N)}static occur(N){return new Be(N)}static oid(N){return new Je(N)}static oids(N){return new at(N)}static overflow(N){return new lt(N)}static pageArea(N){return new vt(N)}static pageSet(N){return new Ot(N)}static para(N){return new Bt(N)}static passwordEdit(N){return new Xt(N)}static pattern(N){return new jt(N)}static picture(N){return new sn(N)}static proto(N){return new an(N)}static radial(N){return new on(N)}static reason(N){return new cn(N)}static reasons(N){return new ln(N)}static rectangle(N){return new Jt(N)}static ref(N){return new dn(N)}static script(N){return new hn(N)}static setProperty(N){return new Qt(N)}static signData(N){return new un(N)}static signature(N){return new fn(N)}static signing(N){return new pn(N)}static solid(N){return new gn(N)}static speak(N){return new mn(N)}static stipple(N){return new yn(N)}static subform(N){return new en(N)}static subformSet(N){return new Vt(N)}static subjectDN(N){return new bn(N)}static subjectDNs(N){return new An(N)}static submit(N){return new wn(N)}static template(N){return new Kt(N)}static text(N){return new tn(N)}static textEdit(N){return new nn(N)}static time(N){return new xn(N)}static timeStamp(N){return new Cn(N)}static toolTip(N){return new vn(N)}static traversal(N){return new Sn(N)}static traverse(N){return new _n(N)}static ui(N){return new Yt(N)}static validate(N){return new En(N)}static value(N){return new qt(N)}static variables(N){return new kn(N)}}o.TemplateNamespace=zt},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addHTML=function(t,b,C){const w=t[s.$extra],v=w.availableSpace,[M,y,I,P]=C;switch(t.layout){case"position":w.width=Math.max(w.width,M+I),w.height=Math.max(w.height,y+P),w.children.push(b);break;case"lr-tb":case"rl-tb":(!w.line||w.attempt===1)&&(w.line=m(t,[]),w.children.push(w.line),w.numberInLine=0),w.numberInLine+=1,w.line.children.push(b),w.attempt===0?(w.currentWidth+=I,w.height=Math.max(w.height,w.prevHeight+P)):(w.currentWidth=I,w.prevHeight=w.height,w.height+=P,w.attempt=0),w.width=Math.max(w.width,w.currentWidth);break;case"rl-row":case"row":{w.children.push(b),w.width+=I,w.height=Math.max(w.height,P);const _=(0,g.measureToString)(w.height);for(const k of w.children)k.attributes.style.height=_;break}case"table":case"tb":w.width=Math.min(v.width,Math.max(w.width,I)),w.height+=P,w.children.push(b)}},o.checkDimensions=function(t,b){if(t[s.$getTemplateRoot]()[s.$extra].firstUnsplittable===null||t.w===0||t.h===0)return!0;const C=t[s.$getSubformParent](),w=C[s.$extra]&&C[s.$extra].attempt||0,[,v,M,y]=function(P){let _,k,D=P.w===""?NaN:P.w,V=P.h===""?NaN:P.h,[R,U]=[0,0];switch(P.anchorType||""){case"bottomCenter":[R,U]=[D/2,V];break;case"bottomLeft":[R,U]=[0,V];break;case"bottomRight":[R,U]=[D,V];break;case"middleCenter":[R,U]=[D/2,V/2];break;case"middleLeft":[R,U]=[0,V/2];break;case"middleRight":[R,U]=[D,V/2];break;case"topCenter":[R,U]=[D/2,0];break;case"topRight":[R,U]=[D,0]}switch(P.rotate||0){case 0:[_,k]=[-R,-U];break;case 90:[_,k]=[-U,R],[D,V]=[V,-D];break;case 180:[_,k]=[R,U],[D,V]=[-D,-V];break;case 270:[_,k]=[U,-R],[D,V]=[-V,D]}return[P.x+_+Math.min(0,D),P.y+k+Math.min(0,V),Math.abs(D),Math.abs(V)]}(t);switch(C.layout){case"lr-tb":case"rl-tb":return w===0?t[s.$getTemplateRoot]()[s.$extra].noLayoutFailure?t.w!==""?Math.round(M-b.width)<=2:b.width>2:!(t.h!==""&&Math.round(y-b.height)>2)&&(t.w!==""?Math.round(M-b.width)<=2||C[s.$extra].numberInLine===0&&b.height>2:b.width>2):!!t[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||!(t.h!==""&&Math.round(y-b.height)>2)&&(t.w===""||Math.round(M-b.width)<=2||!C[s.$isThereMoreWidth]())&&b.height>2;case"table":case"tb":return!!t[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||(t.h===""||t[s.$isSplittable]()?(t.w===""||Math.round(M-b.width)<=2||!C[s.$isThereMoreWidth]())&&b.height>2:Math.round(y-b.height)<=2);case"position":if(t[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||t.h===""||Math.round(y+v-b.height)<=2)return!0;const I=t[s.$getTemplateRoot]()[s.$extra].currentContentArea;return y+v>I.h;case"rl-row":case"row":return!!t[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||t.h===""||Math.round(y-b.height)<=2;default:return!0}},o.flushHTML=function(t){if(!t[s.$extra])return null;const b={name:"div",attributes:t[s.$extra].attributes,children:t[s.$extra].children};if(t[s.$extra].failingNode){const C=t[s.$extra].failingNode[s.$flushHTML]();C&&(t.layout.endsWith("-tb")?b.children.push(m(t,[C])):b.children.push(C))}return b.children.length===0?null:b},o.getAvailableSpace=function(t){const b=t[s.$extra].availableSpace,C=t.margin?t.margin.topInset+t.margin.bottomInset:0,w=t.margin?t.margin.leftInset+t.margin.rightInset:0;switch(t.layout){case"lr-tb":case"rl-tb":return t[s.$extra].attempt===0?{width:b.width-w-t[s.$extra].currentWidth,height:b.height-C-t[s.$extra].prevHeight}:{width:b.width-w,height:b.height-C-t[s.$extra].height};case"rl-row":case"row":return{width:t[s.$extra].columnWidths.slice(t[s.$extra].currentColumn).reduce((v,M)=>v+M),height:b.height-w};case"table":case"tb":return{width:b.width-w,height:b.height-C-t[s.$extra].height};default:return b}};var s=f(77),g=f(84);function m(p,t){return{name:"div",attributes:{class:[p.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:t}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.computeBbox=function(I,P,_){let k;if(I.w!==""&&I.h!=="")k=[I.x,I.y,I.w,I.h];else{if(!_)return null;let D=I.w;if(D===""){if(I.maxW===0){const R=I[s.$getSubformParent]();D=R.layout==="position"&&R.w!==""?0:I.minW}else D=Math.min(I.maxW,_.width);P.attributes.style.width=b(D)}let V=I.h;if(V===""){if(I.maxH===0){const R=I[s.$getSubformParent]();V=R.layout==="position"&&R.h!==""?0:I.minH}else V=Math.min(I.maxH,_.height);P.attributes.style.height=b(V)}k=[I.x,I.y,D,V]}return k},o.createWrapper=function(I,P){const{attributes:_}=P,{style:k}=_,D={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(_.class.push("xfaWrapped"),I.border){const{widths:V,insets:R}=I.border[s.$extra];let U,te,B=R[0],j=R[3];const ie=R[0]+R[2],E=R[1]+R[3];switch(I.border.hand){case"even":B-=V[0]/2,j-=V[3]/2,U=`calc(100% + ${(V[1]+V[3])/2-E}px)`,te=`calc(100% + ${(V[0]+V[2])/2-ie}px)`;break;case"left":B-=V[0],j-=V[3],U=`calc(100% + ${V[1]+V[3]-E}px)`,te=`calc(100% + ${V[0]+V[2]-ie}px)`;break;case"right":U=E?`calc(100% - ${E}px)`:"100%",te=ie?`calc(100% - ${ie}px)`:"100%"}const L=["xfaBorder"];v(I.border)&&L.push("xfaPrintOnly");const ee={name:"div",attributes:{class:L,style:{top:`${B}px`,left:`${j}px`,width:U,height:te}},children:[]};for(const J of["border","borderWidth","borderColor","borderRadius","borderStyle"])k[J]!==void 0&&(ee.attributes.style[J]=k[J],delete k[J]);D.children.push(ee,P)}else D.children.push(P);for(const V of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])k[V]!==void 0&&(D.attributes.style[V]=k[V],delete k[V]);return k.position==="absolute"?D.attributes.style.position="absolute":D.attributes.style.position="relative",delete k.position,k.alignSelf&&(D.attributes.style.alignSelf=k.alignSelf,delete k.alignSelf),D},o.fixDimensions=function(I){const P=I[s.$getSubformParent]();if(P.layout&&P.layout.includes("row")){const _=P[s.$extra],k=I.colSpan;let D;D=k===-1?_.columnWidths.slice(_.currentColumn).reduce((V,R)=>V+R,0):_.columnWidths.slice(_.currentColumn,_.currentColumn+k).reduce((V,R)=>V+R,0),isNaN(D)||(I.w=D)}P.layout&&P.layout!=="position"&&(I.x=I.y=0),I.layout==="table"&&I.w===""&&Array.isArray(I.columnWidths)&&(I.w=I.columnWidths.reduce((_,k)=>_+k,0))},o.fixTextIndent=function(I){const P=(0,m.getMeasurement)(I.textIndent,"0px");if(P>=0)return;const _="padding"+((I.textAlign==="right"?"right":"left")=="left"?"Left":"Right"),k=(0,m.getMeasurement)(I[_],"0px");I[_]=k-P+"px"},o.fixURL=function(I){const P=(0,g.createValidAbsoluteUrl)(I,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return P?P.href:null},o.isPrintOnly=v,o.layoutClass=function(I){switch(I.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},o.layoutNode=function(I,P){let _=null,k=null,D=!1;if((!I.w||!I.h)&&I.value){let V=0,R=0;I.margin&&(V=I.margin.leftInset+I.margin.rightInset,R=I.margin.topInset+I.margin.bottomInset);let U=null,te=null;I.para&&(te=Object.create(null),U=I.para.lineHeight===""?null:I.para.lineHeight,te.top=I.para.spaceAbove===""?0:I.para.spaceAbove,te.bottom=I.para.spaceBelow===""?0:I.para.spaceBelow,te.left=I.para.marginLeft===""?0:I.para.marginLeft,te.right=I.para.marginRight===""?0:I.para.marginRight);let B=I.font;if(!B){const E=I[s.$getTemplateRoot]();let L=I[s.$getParent]();for(;L&&L!==E;){if(L.font){B=L.font;break}L=L[s.$getParent]()}}const j=(I.w||P.width)-V,ie=I[s.$globalData].fontFinder;if(I.value.exData&&I.value.exData[s.$content]&&I.value.exData.contentType==="text/html"){const E=w(I.value.exData[s.$content],B,te,U,ie,j);k=E.width,_=E.height,D=E.isBroken}else{const E=I.value[s.$text]();if(E){const L=w(E,B,te,U,ie,j);k=L.width,_=L.height,D=L.isBroken}}k===null||I.w||(k+=V),_===null||I.h||(_+=R)}return{w:k,h:_,isBroken:D}},o.measureToString=b,o.setAccess=function(I,P){switch(I.access){case"nonInteractive":P.push("xfaNonInteractive");break;case"readOnly":P.push("xfaReadOnly");break;case"protected":P.push("xfaDisabled")}},o.setFontFamily=function(I,P,_,k){if(!_){delete k.fontFamily;return}const D=(0,m.stripQuotes)(I.typeface);k.fontFamily=`"${D}"`;const V=_.find(D);if(V){const{fontFamily:R}=V.regular.cssFontInfo;R!==D&&(k.fontFamily=`"${R}"`);const U=M(P);if(U&&U.lineHeight!==""||k.lineHeight)return;const te=(0,p.selectFont)(I,V);te&&(k.lineHeight=Math.max(1.2,te.lineHeight))}},o.setMinMaxDimensions=function(I,P){I[s.$getSubformParent]().layout==="position"&&(I.minW>0&&(P.minWidth=b(I.minW)),I.maxW>0&&(P.maxWidth=b(I.maxW)),I.minH>0&&(P.minHeight=b(I.minH)),I.maxH>0&&(P.maxHeight=b(I.maxH)))},o.setPara=function(I,P,_){if(_.attributes.class&&_.attributes.class.includes("xfaRich")){P&&(I.h===""&&(P.height="auto"),I.w===""&&(P.width="auto"));const k=M(I);if(k){const D=_.attributes.style;switch(D.display="flex",D.flexDirection="column",k.vAlign){case"top":D.justifyContent="start";break;case"bottom":D.justifyContent="end";break;case"middle":D.justifyContent="center"}const V=k[s.$toStyle]();for(const[R,U]of Object.entries(V))R in D||(D[R]=U)}}},o.toStyle=function(I,...P){const _=Object.create(null);for(const k of P){const D=I[k];if(D!==null){if(C.hasOwnProperty(k))C[k](I,_);else if(D instanceof s.XFAObject){const V=D[s.$toStyle]();V?Object.assign(_,V):(0,g.warn)(`(DEBUG) - XFA - style for ${k} not implemented yet`)}}}return _};var s=f(77),g=f(2),m=f(78),p=f(85),t=f(86);function b(y){return typeof y=="string"?"0px":Number.isInteger(y)?`${y}px`:`${y.toFixed(2)}px`}const C={anchorType(y,I){const P=y[s.$getSubformParent]();if(P&&(!P.layout||P.layout==="position"))switch("transform"in I||(I.transform=""),y.anchorType){case"bottomCenter":I.transform+="translate(-50%, -100%)";break;case"bottomLeft":I.transform+="translate(0,-100%)";break;case"bottomRight":I.transform+="translate(-100%,-100%)";break;case"middleCenter":I.transform+="translate(-50%,-50%)";break;case"middleLeft":I.transform+="translate(0,-50%)";break;case"middleRight":I.transform+="translate(-100%,-50%)";break;case"topCenter":I.transform+="translate(-50%,0)";break;case"topRight":I.transform+="translate(-100%,0)"}},dimensions(y,I){const P=y[s.$getSubformParent]();let _=y.w;const k=y.h;if(P.layout&&P.layout.includes("row")){const D=P[s.$extra],V=y.colSpan;let R;V===-1?(R=D.columnWidths.slice(D.currentColumn).reduce((U,te)=>U+te,0),D.currentColumn=0):(R=D.columnWidths.slice(D.currentColumn,D.currentColumn+V).reduce((U,te)=>U+te,0),D.currentColumn=(D.currentColumn+y.colSpan)%D.columnWidths.length),isNaN(R)||(_=y.w=R)}I.width=_!==""?b(_):"auto",I.height=k!==""?b(k):"auto"},position(y,I){const P=y[s.$getSubformParent]();(!P||!P.layout||P.layout==="position")&&(I.position="absolute",I.left=b(y.x),I.top=b(y.y))},rotate(y,I){y.rotate&&("transform"in I||(I.transform=""),I.transform+=`rotate(-${y.rotate}deg)`,I.transformOrigin="top left")},presence(y,I){switch(y.presence){case"invisible":I.visibility="hidden";break;case"hidden":case"inactive":I.display="none"}},hAlign(y,I){if(y[s.$nodeName]==="para")switch(y.hAlign){case"justifyAll":I.textAlign="justify-all";break;case"radix":I.textAlign="left";break;default:I.textAlign=y.hAlign}else switch(y.hAlign){case"left":I.alignSelf="start";break;case"center":I.alignSelf="center";break;case"right":I.alignSelf="end"}},margin(y,I){y.margin&&(I.margin=y.margin[s.$toStyle]().margin)}};function w(y,I,P,_,k,D){const V=new t.TextMeasure(I,P,_,k);return typeof y=="string"?V.addString(y):y[s.$pushGlyphs](V),V.compute(D)}function v(y){return y.relevant.length>0&&!y.relevant[0].excluded&&y.relevant[0].viewname==="print"}function M(y){const I=y[s.$getTemplateRoot]()[s.$extra].paraStack;return I.length?I.at(-1):null}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontFinder=void 0,o.getMetrics=function(b,C=!1){let w=null;if(b){const I=(0,g.stripQuotes)(b.typeface),P=b[s.$globalData].fontFinder.find(I);w=p(b,P)}if(!w)return{lineHeight:12,lineGap:2,lineNoGap:10};const v=b.size||10,M=w.lineHeight?Math.max(C?0:1.2,w.lineHeight):1.2,y=w.lineGap===void 0?.2:w.lineGap;return{lineHeight:M*v,lineGap:y*v,lineNoGap:Math.max(1,M-y)*v}},o.selectFont=p;var s=f(77),g=f(78),m=f(2);o.FontFinder=class{constructor(b){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(b)}add(b,C=null){for(const v of b)this.addPdfFont(v);for(const v of this.fonts.values())v.regular||(v.regular=v.italic||v.bold||v.bolditalic);if(!C||C.size===0)return;const w=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const v of C)this.fonts.set(v,w)}addPdfFont(b){const C=b.cssFontInfo,w=C.fontFamily;let v=this.fonts.get(w);v||(v=Object.create(null),this.fonts.set(w,v),this.defaultFont||(this.defaultFont=v));let M="";const y=parseFloat(C.fontWeight);parseFloat(C.italicAngle)!==0?M=y>=700?"bolditalic":"italic":y>=700&&(M="bold"),M||((b.name.includes("Bold")||b.psName&&b.psName.includes("Bold"))&&(M="bold"),(b.name.includes("Italic")||b.name.endsWith("It")||b.psName&&(b.psName.includes("Italic")||b.psName.endsWith("It")))&&(M+="italic")),M||(M="regular"),v[M]=b}getDefault(){return this.defaultFont}find(b,C=!0){let w=this.fonts.get(b)||this.cache.get(b);if(w)return w;const v=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let M=b.replace(v,"");if(w=this.fonts.get(M),w)return this.cache.set(b,w),w;M=M.toLowerCase();const y=[];for(const[I,P]of this.fonts.entries())I.replace(v,"").toLowerCase().startsWith(M)&&y.push(P);if(y.length===0)for(const[,I]of this.fonts.entries())I.regular.name&&I.regular.name.replace(v,"").toLowerCase().startsWith(M)&&y.push(I);if(y.length===0){M=M.replace(/psmt|mt/gi,"");for(const[I,P]of this.fonts.entries())I.replace(v,"").toLowerCase().startsWith(M)&&y.push(P)}if(y.length===0)for(const I of this.fonts.values())I.regular.name&&I.regular.name.replace(v,"").toLowerCase().startsWith(M)&&y.push(I);return y.length>=1?(y.length!==1&&C&&(0,m.warn)(`XFA - Too many choices to guess the correct font: ${b}`),this.cache.set(b,y[0]),y[0]):(C&&!this.warned.has(b)&&(this.warned.add(b),(0,m.warn)(`XFA - Cannot find the font: ${b}`)),null)}};function p(t,b){return t.posture==="italic"?t.weight==="bold"?b.bolditalic:b.italic:t.weight==="bold"?b.bold:b.regular}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextMeasure=void 0;var s=f(85);class g{constructor(t,b,C,w){if(this.lineHeight=C,this.paraMargin=b||{top:0,bottom:0,left:0,right:0},!t){[this.pdfFont,this.xfaFont]=this.defaultFont(w);return}this.xfaFont={typeface:t.typeface,posture:t.posture,weight:t.weight,size:t.size,letterSpacing:t.letterSpacing};const v=w.find(t.typeface);v?(this.pdfFont=(0,s.selectFont)(t,v),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(w))):[this.pdfFont,this.xfaFont]=this.defaultFont(w)}defaultFont(t){const b=t.find("Helvetica",!1)||t.find("Myriad Pro",!1)||t.find("Arial",!1)||t.getDefault();if(b&&b.regular){const C=b.regular;return[C,{typeface:C.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0}]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class m{constructor(t,b,C,w){this.fontFinder=w,this.stack=[new g(t,b,C,w)]}pushData(t,b,C){const w=this.stack.at(-1);for(const M of["typeface","posture","weight","size","letterSpacing"])t[M]||(t[M]=w.xfaFont[M]);for(const M of["top","bottom","left","right"])isNaN(b[M])&&(b[M]=w.paraMargin[M]);const v=new g(t,b,C||w.lineHeight,this.fontFinder);v.pdfFont||(v.pdfFont=w.pdfFont),this.stack.push(v)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}o.TextMeasure=class{constructor(t,b,C,w){this.glyphs=[],this.fontSelector=new m(t,b,C,w),this.extraHeight=0}pushData(t,b,C){this.fontSelector.pushData(t,b,C)}popFont(t){return this.fontSelector.popFont()}addPara(){const t=this.fontSelector.topFont();this.extraHeight+=t.paraMargin.top+t.paraMargin.bottom}addString(t){if(!t)return;const b=this.fontSelector.topFont(),C=b.xfaFont.size;if(b.pdfFont){const w=b.xfaFont.letterSpacing,v=b.pdfFont,M=v.lineHeight||1.2,y=b.lineHeight||Math.max(1.2,M)*C,I=M-(v.lineGap===void 0?.2:v.lineGap),P=Math.max(1,I)*C,_=C/1e3,k=v.defaultWidth||v.charsToGlyphs(" ")[0].width;for(const D of t.split(/[\u2029\n]/)){const V=v.encodeString(D).join(""),R=v.charsToGlyphs(V);for(const U of R){const te=U.width||k;this.glyphs.push([te*_+w,y,P,U.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}else{for(const w of t.split(/[\u2029\n]/)){for(const v of w.split(""))this.glyphs.push([C,1.2*C,C,v,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}}compute(t){let b=-1,C=0,w=0,v=0,M=0,y=0,I=!1,P=!0;for(let _=0,k=this.glyphs.length;_<k;_++){const[D,V,R,U,te]=this.glyphs[_],B=U===" ",j=P?R:V;te?(w=Math.max(w,M),M=0,v+=y,y=j,b=-1,C=0,P=!1):B?M+D>t?(w=Math.max(w,M),M=0,v+=y,y=j,b=-1,C=0,I=!0,P=!1):(y=Math.max(j,y),C=M,M+=D,b=_):M+D>t?(v+=y,y=j,b!==-1?(_=b,w=Math.max(w,C),M=0,b=-1,C=0):(w=Math.max(w,M),M=D),I=!0,P=!1):(M+=D,y=Math.max(j,y))}return w=Math.max(w,M),v+=y+this.extraHeight,{width:1.02*w,height:v,isBroken:I}}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DataHandler=void 0;var s=f(77);o.DataHandler=class{constructor(m,p){this.data=p,this.dataset=m.datasets||null}serialize(m){const p=[[-1,this.data[s.$getChildren]()]];for(;p.length>0;){const b=p.at(-1),[C,w]=b;if(C+1===w.length){p.pop();continue}const v=w[++b[0]],M=m.get(v[s.$uid]);if(M)v[s.$setValue](M);else{const I=v[s.$getAttributes]();for(const P of I.values()){const _=m.get(P[s.$uid]);if(_){P[s.$setValue](_);break}}}const y=v[s.$getChildren]();y.length>0&&p.push([-1,y])}const t=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const b of this.dataset[s.$getChildren]())b[s.$nodeName]!=="data"&&b[s.$toString](t);return this.data[s.$toString](t),t.push("</xfa:datasets>"),t.join("")}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XFAParser=void 0;var s=f(77),g=f(66),m=f(89),p=f(2);class t extends g.XMLParserBase{constructor(C=null,w=!1){super(),this._builder=new m.Builder(C),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=g.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=w}parse(C){if(this.parseXml(C),this._errorCode===g.XMLParserErrorCode.NoError)return this._current[s.$finalize](),this._current.element}onText(C){C=C.replace(this._nbsps,w=>w.slice(1)+" "),this._richText||this._current[s.$acceptWhitespace]()?this._current[s.$onText](C,this._richText):this._whiteRegex.test(C)||this._current[s.$onText](C.trim())}onCdata(C){this._current[s.$onText](C)}_mkAttributes(C,w){let v=null,M=null;const y=Object.create({});for(const{name:I,value:P}of C)if(I==="xmlns")v?(0,p.warn)(`XFA - multiple namespace definition in <${w}>`):v=P;else if(I.startsWith("xmlns:")){const _=I.substring(6);M||(M=[]),M.push({prefix:_,value:P})}else{const _=I.indexOf(":");if(_===-1)y[I]=P;else{let k=y[s.$nsAttributes];k||(k=y[s.$nsAttributes]=Object.create(null));const[D,V]=[I.slice(0,_),I.slice(_+1)];let R=k[D];R||(R=k[D]=Object.create(null)),R[V]=P}}return[v,M,y]}_getNameAndPrefix(C,w){const v=C.indexOf(":");return v===-1?[C,null]:[C.substring(v+1),w?"":C.substring(0,v)]}onBeginElement(C,w,v){const[M,y,I]=this._mkAttributes(w,C),[P,_]=this._getNameAndPrefix(C,this._builder.isNsAgnostic()),k=this._builder.build({nsPrefix:_,name:P,attributes:I,namespace:M,prefixes:y});k[s.$globalData]=this._globalData,v?(k[s.$finalize](),this._current[s.$onChild](k)&&k[s.$setId](this._ids),k[s.$clean](this._builder)):(this._stack.push(this._current),this._current=k)}onEndElement(C){const w=this._current;if(w[s.$isCDATAXml]()&&typeof w[s.$content]=="string"){const v=new t;v._globalData=this._globalData;const M=v.parse(w[s.$content]);w[s.$content]=null,w[s.$onChild](M)}w[s.$finalize](),this._current=this._stack.pop(),this._current[s.$onChild](w)&&w[s.$setId](this._ids),w[s.$clean](this._builder)}onError(C){this._errorCode=C}}o.XFAParser=t},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Builder=void 0;var s=f(79),g=f(77),m=f(90),p=f(82),t=f(99),b=f(2);class C extends g.XFAObject{constructor(M){super(-1,"root",Object.create(null)),this.element=null,this[g.$ids]=M}[g.$onChild](M){return this.element=M,!0}[g.$finalize](){super[g.$finalize](),this.element.template instanceof p.Template&&(this[g.$ids].set(g.$root,this.element),this.element.template[g.$resolvePrototypes](this[g.$ids]),this.element.template[g.$ids]=this[g.$ids])}}class w extends g.XFAObject{constructor(){super(-1,"",Object.create(null))}[g.$onChild](M){return!1}}o.Builder=class{constructor(M=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(s.NamespaceIds).map(({id:y})=>y)),this._currentNamespace=M||new t.UnknownNamespace(++this._nextNsId)}buildRoot(M){return new C(M)}build({nsPrefix:M,name:y,attributes:I,namespace:P,prefixes:_}){const k=P!==null;if(k&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(P)),_&&this._addNamespacePrefix(_),I.hasOwnProperty(g.$nsAttributes)){const R=m.NamespaceSetUp.datasets,U=I[g.$nsAttributes];let te=null;for(const[B,j]of Object.entries(U))if(this._getNamespaceToUse(B)===R){te={xfa:j};break}te?I[g.$nsAttributes]=te:delete I[g.$nsAttributes]}const D=this._getNamespaceToUse(M),V=D&&D[s.$buildXFAObject](y,I)||new w;return V[g.$isNsAgnostic]()&&this._nsAgnosticLevel++,(k||_||V[g.$isNsAgnostic]())&&(V[g.$cleanup]={hasNamespace:k,prefixes:_,nsAgnostic:V[g.$isNsAgnostic]()}),V}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(M){let y=this._namespaces.get(M);if(y)return y;for(const[I,{check:P}]of Object.entries(s.NamespaceIds))if(P(M)){if(y=m.NamespaceSetUp[I],y)return this._namespaces.set(M,y),y;break}return y=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(M,y),y}_addNamespacePrefix(M){for(const{prefix:y,value:I}of M){const P=this._searchNamespace(I);let _=this._namespacePrefixes.get(y);_||(_=[],this._namespacePrefixes.set(y,_)),_.push(P)}}_getNamespaceToUse(M){if(!M)return this._currentNamespace;const y=this._namespacePrefixes.get(M);return y&&y.length>0?y.at(-1):((0,b.warn)(`Unknown namespace prefix: ${M}.`),null)}clean(M){const{hasNamespace:y,prefixes:I,nsAgnostic:P}=M;y&&(this._currentNamespace=this._namespaceStack.pop()),I&&I.forEach(({prefix:_})=>{this._namespacePrefixes.get(_).pop()}),P&&this._nsAgnosticLevel--}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NamespaceSetUp=void 0;var s=f(91),g=f(92),m=f(93),p=f(94),t=f(95),b=f(96),C=f(82),w=f(97),v=f(98);const M={config:s.ConfigNamespace,connection:g.ConnectionSetNamespace,datasets:m.DatasetsNamespace,localeSet:p.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:b.StylesheetNamespace,template:C.TemplateNamespace,xdp:w.XdpNamespace,xhtml:v.XhtmlNamespace};o.NamespaceSetUp=M},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigNamespace=void 0;var s=f(79),g=f(77),m=f(78),p=f(2);const t=s.NamespaceIds.config.id;class b extends g.XFAObject{constructor(be){super(t,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new g.XFAObjectArray}}class C extends g.XFAObject{constructor(be){super(t,"acrobat7",!0),this.dynamicRender=null}}class w extends g.OptionObject{constructor(be){super(t,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class v extends g.OptionObject{constructor(be){super(t,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class M extends g.Option01{constructor(be){super(t,"addSilentPrint")}}class y extends g.Option01{constructor(be){super(t,"addViewerPreferences")}}class I extends g.Option10{constructor(be){super(t,"adjustData")}}class P extends g.IntegerObject{constructor(be){super(t,"adobeExtensionLevel",0,tt=>tt>=1&&tt<=8)}}class _ extends g.XFAObject{constructor(be){super(t,"agent",!0),this.name=be.name?be.name.trim():"",this.common=new g.XFAObjectArray}}class k extends g.ContentObject{constructor(be){super(t,"alwaysEmbed")}}class D extends g.StringObject{constructor(be){super(t,"amd")}}class V extends g.XFAObject{constructor(be){super(t,"area"),this.level=(0,m.getInteger)({data:be.level,defaultValue:0,validate:tt=>tt>=1&&tt<=3}),this.name=(0,m.getStringOption)(be.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class R extends g.OptionObject{constructor(be){super(t,"attributes",["preserve","delegate","ignore"])}}class U extends g.OptionObject{constructor(be){super(t,"autoSave",["disabled","enabled"])}}class te extends g.StringObject{constructor(be){super(t,"base")}}class B extends g.XFAObject{constructor(be){super(t,"batchOutput"),this.format=(0,m.getStringOption)(be.format,["none","concat","zip","zipCompress"])}}class j extends g.ContentObject{constructor(be){super(t,"behaviorOverride")}[g.$finalize](){this[g.$content]=new Map(this[g.$content].trim().split(/\s+/).filter(be=>be.includes(":")).map(be=>be.split(":",2)))}}class ie extends g.XFAObject{constructor(be){super(t,"cache",!0),this.templateCache=null}}class E extends g.Option01{constructor(be){super(t,"change")}}class L extends g.XFAObject{constructor(be){super(t,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new g.XFAObjectArray}}class ee extends g.XFAObject{constructor(be){super(t,"compress"),this.scope=(0,m.getStringOption)(be.scope,["imageOnly","document"])}}class J extends g.Option01{constructor(be){super(t,"compressLogicalStructure")}}class Y extends g.Option10{constructor(be){super(t,"compressObjectStream")}}class q extends g.XFAObject{constructor(be){super(t,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class F extends g.XFAObject{constructor(be){super(t,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new g.XFAObjectArray}}class O extends g.OptionObject{constructor(be){super(t,"conformance",["A","B"])}}class Z extends g.Option01{constructor(be){super(t,"contentCopy")}}class se extends g.IntegerObject{constructor(be){super(t,"copies",1,tt=>tt>=1)}}class $ extends g.StringObject{constructor(be){super(t,"creator")}}class X extends g.IntegerObject{constructor(be){super(t,"currentPage",0,tt=>tt>=0)}}class ne extends g.XFAObject{constructor(be){super(t,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new g.XFAObjectArray,this.transform=new g.XFAObjectArray}}class oe extends g.XFAObject{constructor(be){super(t,"debug",!0),this.uri=null}}class ue extends g.ContentObject{constructor(be){super(t,"defaultTypeface"),this.writingScript=(0,m.getStringOption)(be.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class fe extends g.OptionObject{constructor(be){super(t,"destination",["pdf","pcl","ps","webClient","zpl"])}}class le extends g.Option01{constructor(be){super(t,"documentAssembly")}}class ae extends g.XFAObject{constructor(be){super(t,"driver",!0),this.name=be.name?be.name.trim():"",this.fontInfo=null,this.xdc=null}}class de extends g.OptionObject{constructor(be){super(t,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class re extends g.OptionObject{constructor(be){super(t,"dynamicRender",["forbidden","required"])}}class Q extends g.Option01{constructor(be){super(t,"embed")}}class ce extends g.Option01{constructor(be){super(t,"encrypt")}}class he extends g.XFAObject{constructor(be){super(t,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class ge extends g.OptionObject{constructor(be){super(t,"encryptionLevel",["40bit","128bit"])}}class pe extends g.StringObject{constructor(be){super(t,"enforce")}}class me extends g.XFAObject{constructor(be){super(t,"equate"),this.force=(0,m.getInteger)({data:be.force,defaultValue:1,validate:tt=>tt===0}),this.from=be.from||"",this.to=be.to||""}}class Ae extends g.XFAObject{constructor(be){super(t,"equateRange"),this.from=be.from||"",this.to=be.to||"",this._unicodeRange=be.unicodeRange||""}get unicodeRange(){const be=[],tt=/U\+([0-9a-fA-F]+)/,pt=this._unicodeRange;for(let mt of pt.split(",").map(Ct=>Ct.trim()).filter(Ct=>!!Ct))mt=mt.split("-",2).map(Ct=>{const _t=Ct.match(tt);return _t?parseInt(_t[1],16):0}),mt.length===1&&mt.push(mt[0]),be.push(mt);return(0,p.shadow)(this,"unicodeRange",be)}}class ye extends g.ContentObject{constructor(be){super(t,"exclude")}[g.$finalize](){this[g.$content]=this[g.$content].trim().split(/\s+/).filter(be=>be&&["calculate","close","enter","exit","initialize","ready","validate"].includes(be))}}class xe extends g.StringObject{constructor(be){super(t,"excludeNS")}}class Ce extends g.OptionObject{constructor(be){super(t,"flipLabel",["usePrinterSetting","on","off"])}}class we extends g.XFAObject{constructor(be){super(t,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new g.XFAObjectArray,this.defaultTypeface=new g.XFAObjectArray,this.neverEmbed=new g.XFAObjectArray}}class ve extends g.Option01{constructor(be){super(t,"formFieldFilling")}}class Se extends g.StringObject{constructor(be){super(t,"groupParent")}}class _e extends g.OptionObject{constructor(be){super(t,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class ke extends g.StringObject{constructor(be){super(t,"includeXDPContent")}}class Fe extends g.OptionObject{constructor(be){super(t,"incrementalLoad",["none","forwardOnly"])}}class je extends g.Option01{constructor(be){super(t,"incrementalMerge")}}class Le extends g.Option01{constructor(be){super(t,"interactive")}}class ze extends g.OptionObject{constructor(be){super(t,"jog",["usePrinterSetting","none","pageSet"])}}class Re extends g.XFAObject{constructor(be){super(t,"labelPrinter",!0),this.name=(0,m.getStringOption)(be.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class et extends g.OptionObject{constructor(be){super(t,"layout",["paginate","panel"])}}class st extends g.IntegerObject{constructor(be){super(t,"level",0,tt=>tt>0)}}class Qe extends g.Option01{constructor(be){super(t,"linearized")}}class ot extends g.StringObject{constructor(be){super(t,"locale")}}class Ne extends g.StringObject{constructor(be){super(t,"localeSet")}}class Me extends g.XFAObject{constructor(be){super(t,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Pe extends g.XFAObject{constructor(be){super(t,"map",!0),this.equate=new g.XFAObjectArray,this.equateRange=new g.XFAObjectArray}}class Ue extends g.XFAObject{constructor(be){super(t,"mediumInfo",!0),this.map=null}}class Ge extends g.XFAObject{constructor(be){super(t,"message",!0),this.msgId=null,this.severity=null}}class Ye extends g.XFAObject{constructor(be){super(t,"messaging",!0),this.message=new g.XFAObjectArray}}class We extends g.OptionObject{constructor(be){super(t,"mode",["append","overwrite"])}}class Ze extends g.Option01{constructor(be){super(t,"modifyAnnots")}}class Ke extends g.IntegerObject{constructor(be){super(t,"msgId",1,tt=>tt>=1)}}class Oe extends g.StringObject{constructor(be){super(t,"nameAttr")}}class De extends g.ContentObject{constructor(be){super(t,"neverEmbed")}}class Ie extends g.IntegerObject{constructor(be){super(t,"numberOfCopies",null,tt=>tt>=2&&tt<=5)}}class qe extends g.XFAObject{constructor(be){super(t,"openAction",!0),this.destination=null}}class Xe extends g.XFAObject{constructor(be){super(t,"output",!0),this.to=null,this.type=null,this.uri=null}}class Ve extends g.StringObject{constructor(be){super(t,"outputBin")}}class nt extends g.XFAObject{constructor(be){super(t,"outputXSL",!0),this.uri=null}}class ht extends g.OptionObject{constructor(be){super(t,"overprint",["none","both","draw","field"])}}class ut extends g.StringObject{constructor(be){super(t,"packets")}[g.$finalize](){this[g.$content]!=="*"&&(this[g.$content]=this[g.$content].trim().split(/\s+/).filter(be=>["config","datasets","template","xfdf","xslt"].includes(be)))}}class it extends g.XFAObject{constructor(be){super(t,"pageOffset"),this.x=(0,m.getInteger)({data:be.x,defaultValue:"useXDCSetting",validate:tt=>!0}),this.y=(0,m.getInteger)({data:be.y,defaultValue:"useXDCSetting",validate:tt=>!0})}}class gt extends g.StringObject{constructor(be){super(t,"pageRange")}[g.$finalize](){const be=this[g.$content].trim().split(/\s+/).map(pt=>parseInt(pt,10)),tt=[];for(let pt=0,mt=be.length;pt<mt;pt+=2)tt.push(be.slice(pt,pt+2));this[g.$content]=tt}}class ft extends g.OptionObject{constructor(be){super(t,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class kt extends g.OptionObject{constructor(be){super(t,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class wt extends g.IntegerObject{constructor(be){super(t,"part",1,tt=>!1)}}class rt extends g.XFAObject{constructor(be){super(t,"pcl",!0),this.name=be.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class At extends g.XFAObject{constructor(be){super(t,"pdf",!0),this.name=be.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class dt extends g.XFAObject{constructor(be){super(t,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class yt extends g.XFAObject{constructor(be){super(t,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class ct extends g.Option01{constructor(be){super(t,"pickTrayByPDFSize")}}class bt extends g.StringObject{constructor(be){super(t,"picture")}}class xt extends g.Option01{constructor(be){super(t,"plaintextMetadata")}}class Ft extends g.OptionObject{constructor(be){super(t,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Lt extends g.XFAObject{constructor(be){super(t,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new g.XFAObjectArray,this.labelPrinter=new g.XFAObjectArray,this.pcl=new g.XFAObjectArray,this.pdf=new g.XFAObjectArray,this.ps=new g.XFAObjectArray,this.submitUrl=new g.XFAObjectArray,this.webClient=new g.XFAObjectArray,this.zpl=new g.XFAObjectArray}}class Be extends g.Option01{constructor(be){super(t,"print")}}class Je extends g.Option01{constructor(be){super(t,"printHighQuality")}}class at extends g.OptionObject{constructor(be){super(t,"printScaling",["appdefault","noScaling"])}}class lt extends g.StringObject{constructor(be){super(t,"printerName")}}class vt extends g.StringObject{constructor(be){super(t,"producer")}}class Ot extends g.XFAObject{constructor(be){super(t,"ps",!0),this.name=be.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Bt extends g.ContentObject{constructor(be){super(t,"range")}[g.$finalize](){this[g.$content]=this[g.$content].trim().split(/\s*,\s*/,2).map(be=>be.split("-").map(tt=>parseInt(tt.trim(),10))).filter(be=>be.every(tt=>!isNaN(tt))).map(be=>(be.length===1&&be.push(be[0]),be))}}class Xt extends g.ContentObject{constructor(be){super(t,"record")}[g.$finalize](){this[g.$content]=this[g.$content].trim();const be=parseInt(this[g.$content],10);!isNaN(be)&&be>=0&&(this[g.$content]=be)}}class jt extends g.ContentObject{constructor(be){super(t,"relevant")}[g.$finalize](){this[g.$content]=this[g.$content].trim().split(/\s+/)}}class sn extends g.ContentObject{constructor(be){super(t,"rename")}[g.$finalize](){this[g.$content]=this[g.$content].trim(),(this[g.$content].toLowerCase().startsWith("xml")||this[g.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,p.warn)("XFA - Rename: invalid XFA name")}}class an extends g.OptionObject{constructor(be){super(t,"renderPolicy",["server","client"])}}class on extends g.OptionObject{constructor(be){super(t,"runScripts",["both","client","none","server"])}}class cn extends g.XFAObject{constructor(be){super(t,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ln extends g.OptionObject{constructor(be){super(t,"scriptModel",["XFA","none"])}}class Jt extends g.OptionObject{constructor(be){super(t,"severity",["ignore","error","information","trace","warning"])}}class dn extends g.XFAObject{constructor(be){super(t,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class hn extends g.XFAObject{constructor(be){super(t,"staple"),this.mode=(0,m.getStringOption)(be.mode,["usePrinterSetting","on","off"])}}class Qt extends g.StringObject{constructor(be){super(t,"startNode")}}class un extends g.IntegerObject{constructor(be){super(t,"startPage",0,tt=>!0)}}class fn extends g.OptionObject{constructor(be){super(t,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class pn extends g.StringObject{constructor(be){super(t,"submitUrl")}}class gn extends g.IntegerObject{constructor(be){super(t,"subsetBelow",100,tt=>tt>=0&&tt<=100)}}class mn extends g.Option01{constructor(be){super(t,"suppressBanner")}}class yn extends g.Option01{constructor(be){super(t,"tagged")}}class en extends g.XFAObject{constructor(be){super(t,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Vt extends g.OptionObject{constructor(be){super(t,"threshold",["trace","error","information","warning"])}}class bn extends g.OptionObject{constructor(be){super(t,"to",["null","memory","stderr","stdout","system","uri"])}}class An extends g.XFAObject{constructor(be){super(t,"templateCache"),this.maxEntries=(0,m.getInteger)({data:be.maxEntries,defaultValue:5,validate:tt=>tt>=0})}}class wn extends g.XFAObject{constructor(be){super(t,"trace",!0),this.area=new g.XFAObjectArray}}class Kt extends g.XFAObject{constructor(be){super(t,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class tn extends g.OptionObject{constructor(be){super(t,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class nn extends g.StringObject{constructor(be){super(t,"uri")}}class xn extends g.OptionObject{constructor(be){super(t,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class Cn extends g.ContentObject{constructor(be){super(t,"validateApprovalSignatures")}[g.$finalize](){this[g.$content]=this[g.$content].trim().split(/\s+/).filter(be=>["docReady","postSign"].includes(be))}}class vn extends g.OptionObject{constructor(be){super(t,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Sn extends g.OptionObject{constructor(be){super(t,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class _n extends g.XFAObject{constructor(be){super(t,"VersionControl"),this.outputBelow=(0,m.getStringOption)(be.outputBelow,["warn","error","update"]),this.sourceAbove=(0,m.getStringOption)(be.sourceAbove,["warn","error"]),this.sourceBelow=(0,m.getStringOption)(be.sourceBelow,["update","maintain"])}}class Yt extends g.XFAObject{constructor(be){super(t,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class En extends g.XFAObject{constructor(be){super(t,"webClient",!0),this.name=be.name?be.name.trim():"",this.fontInfo=null,this.xdc=null}}class qt extends g.OptionObject{constructor(be){super(t,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class kn extends g.ContentObject{constructor(be){super(t,"window")}[g.$finalize](){const be=this[g.$content].trim().split(/\s*,\s*/,2).map(tt=>parseInt(tt,10));be.some(tt=>isNaN(tt))?this[g.$content]=[0,0]:(be.length===1&&be.push(be[0]),this[g.$content]=be)}}class zt extends g.XFAObject{constructor(be){super(t,"xdc",!0),this.uri=new g.XFAObjectArray,this.xsl=new g.XFAObjectArray}}class He extends g.XFAObject{constructor(be){super(t,"xdp",!0),this.packets=null}}class N extends g.XFAObject{constructor(be){super(t,"xsl",!0),this.debug=null,this.uri=null}}class Ee extends g.XFAObject{constructor(be){super(t,"zpl",!0),this.name=be.name?be.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class $e{static[s.$buildXFAObject](be,tt){if($e.hasOwnProperty(be))return $e[be](tt)}static acrobat(be){return new b(be)}static acrobat7(be){return new C(be)}static ADBE_JSConsole(be){return new w(be)}static ADBE_JSDebugger(be){return new v(be)}static addSilentPrint(be){return new M(be)}static addViewerPreferences(be){return new y(be)}static adjustData(be){return new I(be)}static adobeExtensionLevel(be){return new P(be)}static agent(be){return new _(be)}static alwaysEmbed(be){return new k(be)}static amd(be){return new D(be)}static area(be){return new V(be)}static attributes(be){return new R(be)}static autoSave(be){return new U(be)}static base(be){return new te(be)}static batchOutput(be){return new B(be)}static behaviorOverride(be){return new j(be)}static cache(be){return new ie(be)}static change(be){return new E(be)}static common(be){return new L(be)}static compress(be){return new ee(be)}static compressLogicalStructure(be){return new J(be)}static compressObjectStream(be){return new Y(be)}static compression(be){return new q(be)}static config(be){return new F(be)}static conformance(be){return new O(be)}static contentCopy(be){return new Z(be)}static copies(be){return new se(be)}static creator(be){return new $(be)}static currentPage(be){return new X(be)}static data(be){return new ne(be)}static debug(be){return new oe(be)}static defaultTypeface(be){return new ue(be)}static destination(be){return new fe(be)}static documentAssembly(be){return new le(be)}static driver(be){return new ae(be)}static duplexOption(be){return new de(be)}static dynamicRender(be){return new re(be)}static embed(be){return new Q(be)}static encrypt(be){return new ce(be)}static encryption(be){return new he(be)}static encryptionLevel(be){return new ge(be)}static enforce(be){return new pe(be)}static equate(be){return new me(be)}static equateRange(be){return new Ae(be)}static exclude(be){return new ye(be)}static excludeNS(be){return new xe(be)}static flipLabel(be){return new Ce(be)}static fontInfo(be){return new we(be)}static formFieldFilling(be){return new ve(be)}static groupParent(be){return new Se(be)}static ifEmpty(be){return new _e(be)}static includeXDPContent(be){return new ke(be)}static incrementalLoad(be){return new Fe(be)}static incrementalMerge(be){return new je(be)}static interactive(be){return new Le(be)}static jog(be){return new ze(be)}static labelPrinter(be){return new Re(be)}static layout(be){return new et(be)}static level(be){return new st(be)}static linearized(be){return new Qe(be)}static locale(be){return new ot(be)}static localeSet(be){return new Ne(be)}static log(be){return new Me(be)}static map(be){return new Pe(be)}static mediumInfo(be){return new Ue(be)}static message(be){return new Ge(be)}static messaging(be){return new Ye(be)}static mode(be){return new We(be)}static modifyAnnots(be){return new Ze(be)}static msgId(be){return new Ke(be)}static nameAttr(be){return new Oe(be)}static neverEmbed(be){return new De(be)}static numberOfCopies(be){return new Ie(be)}static openAction(be){return new qe(be)}static output(be){return new Xe(be)}static outputBin(be){return new Ve(be)}static outputXSL(be){return new nt(be)}static overprint(be){return new ht(be)}static packets(be){return new ut(be)}static pageOffset(be){return new it(be)}static pageRange(be){return new gt(be)}static pagination(be){return new ft(be)}static paginationOverride(be){return new kt(be)}static part(be){return new wt(be)}static pcl(be){return new rt(be)}static pdf(be){return new At(be)}static pdfa(be){return new dt(be)}static permissions(be){return new yt(be)}static pickTrayByPDFSize(be){return new ct(be)}static picture(be){return new bt(be)}static plaintextMetadata(be){return new xt(be)}static presence(be){return new Ft(be)}static present(be){return new Lt(be)}static print(be){return new Be(be)}static printHighQuality(be){return new Je(be)}static printScaling(be){return new at(be)}static printerName(be){return new lt(be)}static producer(be){return new vt(be)}static ps(be){return new Ot(be)}static range(be){return new Bt(be)}static record(be){return new Xt(be)}static relevant(be){return new jt(be)}static rename(be){return new sn(be)}static renderPolicy(be){return new an(be)}static runScripts(be){return new on(be)}static script(be){return new cn(be)}static scriptModel(be){return new ln(be)}static severity(be){return new Jt(be)}static silentPrint(be){return new dn(be)}static staple(be){return new hn(be)}static startNode(be){return new Qt(be)}static startPage(be){return new un(be)}static submitFormat(be){return new fn(be)}static submitUrl(be){return new pn(be)}static subsetBelow(be){return new gn(be)}static suppressBanner(be){return new mn(be)}static tagged(be){return new yn(be)}static template(be){return new en(be)}static templateCache(be){return new An(be)}static threshold(be){return new Vt(be)}static to(be){return new bn(be)}static trace(be){return new wn(be)}static transform(be){return new Kt(be)}static type(be){return new tn(be)}static uri(be){return new nn(be)}static validate(be){return new xn(be)}static validateApprovalSignatures(be){return new Cn(be)}static validationMessaging(be){return new vn(be)}static version(be){return new Sn(be)}static versionControl(be){return new _n(be)}static viewerPreferences(be){return new Yt(be)}static webClient(be){return new En(be)}static whitespace(be){return new qt(be)}static window(be){return new kn(be)}static xdc(be){return new zt(be)}static xdp(be){return new He(be)}static xsl(be){return new N(be)}static zpl(be){return new Ee(be)}}o.ConfigNamespace=$e},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ConnectionSetNamespace=void 0;var s=f(79),g=f(77);const m=s.NamespaceIds.connectionSet.id;class p extends g.XFAObject{constructor(R){super(m,"connectionSet",!0),this.wsdlConnection=new g.XFAObjectArray,this.xmlConnection=new g.XFAObjectArray,this.xsdConnection=new g.XFAObjectArray}}class t extends g.XFAObject{constructor(R){super(m,"effectiveInputPolicy"),this.id=R.id||"",this.name=R.name||"",this.use=R.use||"",this.usehref=R.usehref||""}}class b extends g.XFAObject{constructor(R){super(m,"effectiveOutputPolicy"),this.id=R.id||"",this.name=R.name||"",this.use=R.use||"",this.usehref=R.usehref||""}}class C extends g.StringObject{constructor(R){super(m,"operation"),this.id=R.id||"",this.input=R.input||"",this.name=R.name||"",this.output=R.output||"",this.use=R.use||"",this.usehref=R.usehref||""}}class w extends g.StringObject{constructor(R){super(m,"rootElement"),this.id=R.id||"",this.name=R.name||"",this.use=R.use||"",this.usehref=R.usehref||""}}class v extends g.StringObject{constructor(R){super(m,"soapAction"),this.id=R.id||"",this.name=R.name||"",this.use=R.use||"",this.usehref=R.usehref||""}}class M extends g.StringObject{constructor(R){super(m,"soapAddress"),this.id=R.id||"",this.name=R.name||"",this.use=R.use||"",this.usehref=R.usehref||""}}class y extends g.StringObject{constructor(R){super(m,"uri"),this.id=R.id||"",this.name=R.name||"",this.use=R.use||"",this.usehref=R.usehref||""}}class I extends g.StringObject{constructor(R){super(m,"wsdlAddress"),this.id=R.id||"",this.name=R.name||"",this.use=R.use||"",this.usehref=R.usehref||""}}class P extends g.XFAObject{constructor(R){super(m,"wsdlConnection",!0),this.dataDescription=R.dataDescription||"",this.name=R.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class _ extends g.XFAObject{constructor(R){super(m,"xmlConnection",!0),this.dataDescription=R.dataDescription||"",this.name=R.name||"",this.uri=null}}class k extends g.XFAObject{constructor(R){super(m,"xsdConnection",!0),this.dataDescription=R.dataDescription||"",this.name=R.name||"",this.rootElement=null,this.uri=null}}class D{static[s.$buildXFAObject](R,U){if(D.hasOwnProperty(R))return D[R](U)}static connectionSet(R){return new p(R)}static effectiveInputPolicy(R){return new t(R)}static effectiveOutputPolicy(R){return new b(R)}static operation(R){return new C(R)}static rootElement(R){return new w(R)}static soapAction(R){return new v(R)}static soapAddress(R){return new M(R)}static uri(R){return new y(R)}static wsdlAddress(R){return new I(R)}static wsdlConnection(R){return new P(R)}static xmlConnection(R){return new _(R)}static xsdConnection(R){return new k(R)}}o.ConnectionSetNamespace=D},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DatasetsNamespace=void 0;var s=f(77),g=f(79);const m=g.NamespaceIds.datasets.id;class p extends s.XmlObject{constructor(w){super(m,"data",w)}[s.$isNsAgnostic](){return!0}}class t extends s.XFAObject{constructor(w){super(m,"datasets",!0),this.data=null,this.Signature=null}[s.$onChild](w){const v=w[s.$nodeName];(v==="data"&&w[s.$namespaceId]===m||v==="Signature"&&w[s.$namespaceId]===g.NamespaceIds.signature.id)&&(this[v]=w),this[s.$appendChild](w)}}class b{static[g.$buildXFAObject](w,v){if(b.hasOwnProperty(w))return b[w](v)}static datasets(w){return new t(w)}static data(w){return new p(w)}}o.DatasetsNamespace=b},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LocaleSetNamespace=void 0;var s=f(79),g=f(77),m=f(78);const p=s.NamespaceIds.localeSet.id;class t extends g.XFAObject{constructor(O){super(p,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new g.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new g.XFAObjectArray(2)}}class b extends g.StringObject{constructor(O){super(p,"currencySymbol"),this.name=(0,m.getStringOption)(O.name,["symbol","isoname","decimal"])}}class C extends g.XFAObject{constructor(O){super(p,"currencySymbols",!0),this.currencySymbol=new g.XFAObjectArray(3)}}class w extends g.StringObject{constructor(O){super(p,"datePattern"),this.name=(0,m.getStringOption)(O.name,["full","long","med","short"])}}class v extends g.XFAObject{constructor(O){super(p,"datePatterns",!0),this.datePattern=new g.XFAObjectArray(4)}}class M extends g.ContentObject{constructor(O){super(p,"dateTimeSymbols")}}class y extends g.StringObject{constructor(O){super(p,"day")}}class I extends g.XFAObject{constructor(O){super(p,"dayNames",!0),this.abbr=(0,m.getInteger)({data:O.abbr,defaultValue:0,validate:Z=>Z===1}),this.day=new g.XFAObjectArray(7)}}class P extends g.StringObject{constructor(O){super(p,"era")}}class _ extends g.XFAObject{constructor(O){super(p,"eraNames",!0),this.era=new g.XFAObjectArray(2)}}class k extends g.XFAObject{constructor(O){super(p,"locale",!0),this.desc=O.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class D extends g.XFAObject{constructor(O){super(p,"localeSet",!0),this.locale=new g.XFAObjectArray}}class V extends g.StringObject{constructor(O){super(p,"meridiem")}}class R extends g.XFAObject{constructor(O){super(p,"meridiemNames",!0),this.meridiem=new g.XFAObjectArray(2)}}class U extends g.StringObject{constructor(O){super(p,"month")}}class te extends g.XFAObject{constructor(O){super(p,"monthNames",!0),this.abbr=(0,m.getInteger)({data:O.abbr,defaultValue:0,validate:Z=>Z===1}),this.month=new g.XFAObjectArray(12)}}class B extends g.StringObject{constructor(O){super(p,"numberPattern"),this.name=(0,m.getStringOption)(O.name,["full","long","med","short"])}}class j extends g.XFAObject{constructor(O){super(p,"numberPatterns",!0),this.numberPattern=new g.XFAObjectArray(4)}}class ie extends g.StringObject{constructor(O){super(p,"numberSymbol"),this.name=(0,m.getStringOption)(O.name,["decimal","grouping","percent","minus","zero"])}}class E extends g.XFAObject{constructor(O){super(p,"numberSymbols",!0),this.numberSymbol=new g.XFAObjectArray(5)}}class L extends g.StringObject{constructor(O){super(p,"timePattern"),this.name=(0,m.getStringOption)(O.name,["full","long","med","short"])}}class ee extends g.XFAObject{constructor(O){super(p,"timePatterns",!0),this.timePattern=new g.XFAObjectArray(4)}}class J extends g.XFAObject{constructor(O){super(p,"typeFace",!0),this.name=""|O.name}}class Y extends g.XFAObject{constructor(O){super(p,"typeFaces",!0),this.typeFace=new g.XFAObjectArray}}class q{static[s.$buildXFAObject](O,Z){if(q.hasOwnProperty(O))return q[O](Z)}static calendarSymbols(O){return new t(O)}static currencySymbol(O){return new b(O)}static currencySymbols(O){return new C(O)}static datePattern(O){return new w(O)}static datePatterns(O){return new v(O)}static dateTimeSymbols(O){return new M(O)}static day(O){return new y(O)}static dayNames(O){return new I(O)}static era(O){return new P(O)}static eraNames(O){return new _(O)}static locale(O){return new k(O)}static localeSet(O){return new D(O)}static meridiem(O){return new V(O)}static meridiemNames(O){return new R(O)}static month(O){return new U(O)}static monthNames(O){return new te(O)}static numberPattern(O){return new B(O)}static numberPatterns(O){return new j(O)}static numberSymbol(O){return new ie(O)}static numberSymbols(O){return new E(O)}static timePattern(O){return new L(O)}static timePatterns(O){return new ee(O)}static typeFace(O){return new J(O)}static typeFaces(O){return new Y(O)}}o.LocaleSetNamespace=q},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SignatureNamespace=void 0;var s=f(79),g=f(77);const m=s.NamespaceIds.signature.id;class p extends g.XFAObject{constructor(C){super(m,"signature",!0)}}class t{static[s.$buildXFAObject](C,w){if(t.hasOwnProperty(C))return t[C](w)}static signature(C){return new p(C)}}o.SignatureNamespace=t},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StylesheetNamespace=void 0;var s=f(79),g=f(77);const m=s.NamespaceIds.stylesheet.id;class p extends g.XFAObject{constructor(C){super(m,"stylesheet",!0)}}class t{static[s.$buildXFAObject](C,w){if(t.hasOwnProperty(C))return t[C](w)}static stylesheet(C){return new p(C)}}o.StylesheetNamespace=t},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XdpNamespace=void 0;var s=f(79),g=f(77);const m=s.NamespaceIds.xdp.id;class p extends g.XFAObject{constructor(C){super(m,"xdp",!0),this.uuid=C.uuid||"",this.timeStamp=C.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new g.XFAObjectArray,this.template=null}[g.$onChildCheck](C){const w=s.NamespaceIds[C[g.$nodeName]];return w&&C[g.$namespaceId]===w.id}}class t{static[s.$buildXFAObject](C,w){if(t.hasOwnProperty(C))return t[C](w)}static xdp(C){return new p(C)}}o.XdpNamespace=t},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XhtmlNamespace=void 0;var s=f(77),g=f(79),m=f(84),p=f(78);const t=g.NamespaceIds.xhtml.id,b=Symbol(),C=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),w=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",q=>q==="none"?"none":"normal"],["xfa-font-horizontal-scale",q=>`scaleX(${Math.max(0,Math.min(parseInt(q)/100)).toFixed(2)})`],["xfa-font-vertical-scale",q=>`scaleY(${Math.max(0,Math.min(parseInt(q)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(q,F)=>(q=F.fontSize=(0,p.getMeasurement)(q),(0,m.measureToString)(.99*q))],["letter-spacing",q=>(0,m.measureToString)((0,p.getMeasurement)(q))],["line-height",q=>(0,m.measureToString)((0,p.getMeasurement)(q))],["margin",q=>(0,m.measureToString)((0,p.getMeasurement)(q))],["margin-bottom",q=>(0,m.measureToString)((0,p.getMeasurement)(q))],["margin-left",q=>(0,m.measureToString)((0,p.getMeasurement)(q))],["margin-right",q=>(0,m.measureToString)((0,p.getMeasurement)(q))],["margin-top",q=>(0,m.measureToString)((0,p.getMeasurement)(q))],["text-indent",q=>(0,m.measureToString)((0,p.getMeasurement)(q))],["font-family",q=>q],["vertical-align",q=>(0,m.measureToString)((0,p.getMeasurement)(q))]]),v=/\s+/g,M=/[\r\n]+/g,y=/\r\n?/g;function I(q,F,O){const Z=Object.create(null);if(!q)return Z;const se=Object.create(null);for(const[$,X]of q.split(";").map(ne=>ne.split(":",2))){const ne=w.get($);if(ne==="")continue;let oe=X;ne&&(oe=typeof ne=="string"?ne:ne(X,se)),$.endsWith("scale")?Z.transform?Z.transform=`${Z[$]} ${oe}`:Z.transform=oe:Z[$.replaceAll(/-([a-zA-Z])/g,(ue,fe)=>fe.toUpperCase())]=oe}if(Z.fontFamily&&(0,m.setFontFamily)({typeface:Z.fontFamily,weight:Z.fontWeight||"normal",posture:Z.fontStyle||"normal",size:se.fontSize||0},F,F[s.$globalData].fontFinder,Z),O&&Z.verticalAlign&&Z.verticalAlign!=="0px"&&Z.fontSize){const ne=(0,p.getMeasurement)(Z.fontSize);Z.fontSize=(0,m.measureToString)(ne*.583),Z.verticalAlign=(0,m.measureToString)(Math.sign((0,p.getMeasurement)(Z.verticalAlign))*ne*.333)}return O&&Z.fontSize&&(Z.fontSize=`calc(${Z.fontSize} * var(--scale-factor))`),(0,m.fixTextIndent)(Z),Z}const P=new Set(["body","html"]);class _ extends s.XmlObject{constructor(F,O){super(t,O),this[b]=!1,this.style=F.style||""}[s.$clean](F){super[s.$clean](F),this.style=function(Z){return Z.style?Z.style.trim().split(/\s*;\s*/).filter(se=>!!se).map(se=>se.split(/\s*:\s*/,2)).filter(([se,$])=>(se==="font-family"&&Z[s.$globalData].usedTypefaces.add($),C.has(se))).map(se=>se.join(":")).join(";"):""}(this)}[s.$acceptWhitespace](){return!P.has(this[s.$nodeName])}[s.$onText](F,O=!1){O?this[b]=!0:(F=F.replace(M,""),this.style.includes("xfa-spacerun:yes")||(F=F.replace(v," "))),F&&(this[s.$content]+=F)}[s.$pushGlyphs](F,O=!0){const Z=Object.create(null),se={top:NaN,bottom:NaN,left:NaN,right:NaN};let $=null;for(const[X,ne]of this.style.split(";").map(oe=>oe.split(":",2)))switch(X){case"font-family":Z.typeface=(0,p.stripQuotes)(ne);break;case"font-size":Z.size=(0,p.getMeasurement)(ne);break;case"font-weight":Z.weight=ne;break;case"font-style":Z.posture=ne;break;case"letter-spacing":Z.letterSpacing=(0,p.getMeasurement)(ne);break;case"margin":const oe=ne.split(/ \t/).map(ue=>(0,p.getMeasurement)(ue));switch(oe.length){case 1:se.top=se.bottom=se.left=se.right=oe[0];break;case 2:se.top=se.bottom=oe[0],se.left=se.right=oe[1];break;case 3:se.top=oe[0],se.bottom=oe[2],se.left=se.right=oe[1];break;case 4:se.top=oe[0],se.left=oe[1],se.bottom=oe[2],se.right=oe[3]}break;case"margin-top":se.top=(0,p.getMeasurement)(ne);break;case"margin-bottom":se.bottom=(0,p.getMeasurement)(ne);break;case"margin-left":se.left=(0,p.getMeasurement)(ne);break;case"margin-right":se.right=(0,p.getMeasurement)(ne);break;case"line-height":$=(0,p.getMeasurement)(ne)}if(F.pushData(Z,se,$),this[s.$content])F.addString(this[s.$content]);else for(const X of this[s.$getChildren]())X[s.$nodeName]!=="#text"?X[s.$pushGlyphs](F):F.addString(X[s.$content]);O&&F.popFont()}[s.$toHTML](F){const O=[];if(this[s.$extra]={children:O},this[s.$childrenToHTML]({}),O.length===0&&!this[s.$content])return p.HTMLResult.EMPTY;let Z;return Z=this[b]?this[s.$content]?this[s.$content].replace(y,`
`):void 0:this[s.$content]||void 0,p.HTMLResult.success({name:this[s.$nodeName],attributes:{href:this.href,style:I(this.style,this,this[b])},children:O,value:Z})}}class k extends _{constructor(F){super(F,"a"),this.href=(0,m.fixURL)(F.href)||""}}class D extends _{constructor(F){super(F,"b")}[s.$pushGlyphs](F){F.pushFont({weight:"bold"}),super[s.$pushGlyphs](F),F.popFont()}}class V extends _{constructor(F){super(F,"body")}[s.$toHTML](F){const O=super[s.$toHTML](F),{html:Z}=O;return Z?(Z.name="div",Z.attributes.class=["xfaRich"],O):p.HTMLResult.EMPTY}}class R extends _{constructor(F){super(F,"br")}[s.$text](){return`
`}[s.$pushGlyphs](F){F.addString(`
`)}[s.$toHTML](F){return p.HTMLResult.success({name:"br"})}}class U extends _{constructor(F){super(F,"html")}[s.$toHTML](F){const O=[];if(this[s.$extra]={children:O},this[s.$childrenToHTML]({}),O.length===0)return p.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[s.$content]||""});if(O.length===1){const Z=O[0];if(Z.attributes&&Z.attributes.class.includes("xfaRich"))return p.HTMLResult.success(Z)}return p.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:O})}}class te extends _{constructor(F){super(F,"i")}[s.$pushGlyphs](F){F.pushFont({posture:"italic"}),super[s.$pushGlyphs](F),F.popFont()}}class B extends _{constructor(F){super(F,"li")}}class j extends _{constructor(F){super(F,"ol")}}class ie extends _{constructor(F){super(F,"p")}[s.$pushGlyphs](F){super[s.$pushGlyphs](F,!1),F.addString(`
`),F.addPara(),F.popFont()}[s.$text](){return this[s.$getParent]()[s.$getChildren]().at(-1)===this?super[s.$text]():super[s.$text]()+`
`}}class E extends _{constructor(F){super(F,"span")}}class L extends _{constructor(F){super(F,"sub")}}class ee extends _{constructor(F){super(F,"sup")}}class J extends _{constructor(F){super(F,"ul")}}class Y{static[g.$buildXFAObject](F,O){if(Y.hasOwnProperty(F))return Y[F](O)}static a(F){return new k(F)}static b(F){return new D(F)}static body(F){return new V(F)}static br(F){return new R(F)}static html(F){return new U(F)}static i(F){return new te(F)}static li(F){return new B(F)}static ol(F){return new j(F)}static p(F){return new ie(F)}static span(F){return new E(F)}static sub(F){return new L(F)}static sup(F){return new ee(F)}static ul(F){return new J(F)}}o.XhtmlNamespace=Y},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnknownNamespace=void 0;var s=f(79),g=f(77);class m{constructor(t){this.namespaceId=t}[s.$buildXFAObject](t,b){return new g.XmlObject(this.namespaceId,t,b)}}o.UnknownNamespace=m},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DatasetReader=void 0;var s=f(2),g=f(6),m=f(66);function p(b){try{return(0,s.stringToUTF8String)(b)}catch(C){return(0,s.warn)(`UTF-8 decoding failed: "${C}".`),b}}class t extends m.SimpleXMLParser{constructor(C){super(C),this.node=null}onEndElement(C){const w=super.onEndElement(C);if(w&&C==="xfa:datasets")throw this.node=w,new Error("Aborting DatasetXMLParser.")}}o.DatasetReader=class{constructor(C){if(C.datasets)this.node=new m.SimpleXMLParser({hasAttributes:!0}).parseFromString(C.datasets).documentElement;else{const w=new t({hasAttributes:!0});try{w.parseFromString(C["xdp:xdp"])}catch{}this.node=w.node}}getValue(C){if(!this.node||!C)return"";const w=this.node.searchNode((0,g.parseXFAPath)(C),0);if(!w)return"";const v=w.firstChild;return v&&v.nodeName==="value"?w.children.map(M=>p(M.textContent)):p(w.textContent)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XRef=void 0;var s=f(2),g=f(5),m=f(6),p=f(17),t=f(7),b=f(67);o.XRef=class{constructor(w,v){this.stream=w,this.pdfManager=v,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new g.RefSet,this.stats=new m.DocStats(v.msgHandler),this._newRefNum=null}getNewRef(){return this._newRefNum===null&&(this._newRefNum=this.entries.length||1),g.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(w){this.startXRefQueue=[w]}parse(w=!1){let v,M,y;w?((0,s.warn)("Indexing all PDF objects"),v=this.indexObjects()):v=this.readXRef(),v.assignXref(this),this.trailer=v;try{M=v.get("Encrypt")}catch(I){if(I instanceof m.MissingDataException)throw I;(0,s.warn)(`XRef.parse - Invalid "Encrypt" reference: "${I}".`)}if(M instanceof g.Dict){const I=v.get("ID"),P=I&&I.length?I[0]:"";M.suppressEncryption=!0,this.encrypt=new b.CipherTransformFactory(M,P,this.pdfManager.password)}try{y=v.get("Root")}catch(I){if(I instanceof m.MissingDataException)throw I;(0,s.warn)(`XRef.parse - Invalid "Root" reference: "${I}".`)}if(y instanceof g.Dict)try{if(y.get("Pages")instanceof g.Dict){this.root=y;return}}catch(I){if(I instanceof m.MissingDataException)throw I;(0,s.warn)(`XRef.parse - Invalid "Pages" reference: "${I}".`)}throw w?new s.InvalidPDFException("Invalid Root reference."):new m.XRefParseException}processXRefTable(w){"tableState"in this||(this.tableState={entryNum:0,streamPos:w.lexer.stream.pos,parserBuf1:w.buf1,parserBuf2:w.buf2});const v=this.readXRefTable(w);if(!(0,g.isCmd)(v,"trailer"))throw new s.FormatError("Invalid XRef table: could not find trailer dictionary");let M=w.getObj();if(M instanceof g.Dict||!M.dict||(M=M.dict),!(M instanceof g.Dict))throw new s.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,M}readXRefTable(w){const v=w.lexer.stream,M=this.tableState;v.pos=M.streamPos,w.buf1=M.parserBuf1,w.buf2=M.parserBuf2;let y;for(;;){if(!("firstEntryNum"in M)||!("entryCount"in M)){if((0,g.isCmd)(y=w.getObj(),"trailer"))break;M.firstEntryNum=y,M.entryCount=w.getObj()}let I=M.firstEntryNum;const P=M.entryCount;if(!Number.isInteger(I)||!Number.isInteger(P))throw new s.FormatError("Invalid XRef table: wrong types in subsection header");for(let _=M.entryNum;_<P;_++){M.streamPos=v.pos,M.entryNum=_,M.parserBuf1=w.buf1,M.parserBuf2=w.buf2;const k={};k.offset=w.getObj(),k.gen=w.getObj();const D=w.getObj();if(D instanceof g.Cmd)switch(D.cmd){case"f":k.free=!0;break;case"n":k.uncompressed=!0}if(!Number.isInteger(k.offset)||!Number.isInteger(k.gen)||!k.free&&!k.uncompressed)throw new s.FormatError(`Invalid entry in XRef subsection: ${I}, ${P}`);_===0&&k.free&&I===1&&(I=0),this.entries[_+I]||(this.entries[_+I]=k)}M.entryNum=0,M.streamPos=v.pos,M.parserBuf1=w.buf1,M.parserBuf2=w.buf2,delete M.firstEntryNum,delete M.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new s.FormatError("Invalid XRef table: unexpected first object");return y}processXRefStream(w){if(!("streamState"in this)){const v=w.dict,M=v.get("W");let y=v.get("Index");y||(y=[0,v.get("Size")]),this.streamState={entryRanges:y,byteWidths:M,entryNum:0,streamPos:w.pos}}return this.readXRefStream(w),delete this.streamState,w.dict}readXRefStream(w){const v=this.streamState;w.pos=v.streamPos;const[M,y,I]=v.byteWidths,P=v.entryRanges;for(;P.length>0;){const[_,k]=P;if(!Number.isInteger(_)||!Number.isInteger(k))throw new s.FormatError(`Invalid XRef range fields: ${_}, ${k}`);if(!Number.isInteger(M)||!Number.isInteger(y)||!Number.isInteger(I))throw new s.FormatError(`Invalid XRef entry fields length: ${_}, ${k}`);for(let D=v.entryNum;D<k;++D){v.entryNum=D,v.streamPos=w.pos;let V=0,R=0,U=0;for(let B=0;B<M;++B){const j=w.getByte();if(j===-1)throw new s.FormatError("Invalid XRef byteWidths 'type'.");V=V<<8|j}M===0&&(V=1);for(let B=0;B<y;++B){const j=w.getByte();if(j===-1)throw new s.FormatError("Invalid XRef byteWidths 'offset'.");R=R<<8|j}for(let B=0;B<I;++B){const j=w.getByte();if(j===-1)throw new s.FormatError("Invalid XRef byteWidths 'generation'.");U=U<<8|j}const te={};switch(te.offset=R,te.gen=U,V){case 0:te.free=!0;break;case 1:te.uncompressed=!0;break;case 2:break;default:throw new s.FormatError(`Invalid XRef entry type: ${V}`)}this.entries[_+D]||(this.entries[_+D]=te)}v.entryNum=0,v.streamPos=w.pos,P.splice(0,2)}}indexObjects(){function w(E,L){let ee="",J=E[L];for(;J!==10&&J!==13&&J!==60&&!(++L>=E.length);)ee+=String.fromCharCode(J),J=E[L];return ee}function v(E,L,ee){const J=ee.length,Y=E.length;let q=0;for(;L<Y;){let F=0;for(;F<J&&E[L+F]===ee[F];)++F;if(F>=J)break;L++,q++}return q}const M=/^(\d+)\s+(\d+)\s+obj\b/,y=/\bendobj[\b\s]$/,I=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,P=new Uint8Array([116,114,97,105,108,101,114]),_=new Uint8Array([115,116,97,114,116,120,114,101,102]),k=new Uint8Array([111,98,106]),D=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const V=this.stream;V.pos=0;const R=V.getBytes(),U=R.length;let te=V.start;const B=[],j=[];for(;te<U;){let E=R[te];if(E===9||E===10||E===13||E===32){++te;continue}if(E===37){do{if(++te,te>=U)break;E=R[te]}while(E!==10&&E!==13);continue}const L=w(R,te);let ee;if(L.startsWith("xref")&&(L.length===4||/\s/.test(L[4])))te+=v(R,te,P),B.push(te),te+=v(R,te,_);else if(ee=M.exec(L)){const J=0|ee[1],Y=0|ee[2];let q,F=te+L.length,O=!1;if(this.entries[J]){if(this.entries[J].gen===Y)try{new p.Parser({lexer:new p.Lexer(V.makeSubStream(F))}).getObj(),O=!0}catch($){$ instanceof m.ParserEOFException?(0,s.warn)(`indexObjects -- checking object (${L}): "${$}".`):O=!0}}else O=!0;for(O&&(this.entries[J]={offset:te-V.start,gen:Y,uncompressed:!0});F<R.length;){const $=F+v(R,F,k)+4;q=$-te;const X=Math.max($-25,F),ne=(0,s.bytesToString)(R.subarray(X,$));if(y.test(ne))break;{const oe=I.exec(ne);if(oe&&oe[1]){(0,s.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),q-=oe[1].length;break}}F=$}const Z=R.subarray(te,te+q),se=v(Z,0,D);se<q&&Z[se+5]<64&&(j.push(te-V.start),this.xrefstms[te-V.start]=1),te+=q}else L.startsWith("trailer")&&(L.length===7||/\s/.test(L[7]))?(B.push(te),te+=v(R,te,_)):te+=L.length+1}for(let E=0,L=j.length;E<L;++E)this.startXRefQueue.push(j[E]),this.readXRef(!0);let ie;for(let E=0,L=B.length;E<L;++E){V.pos=B[E];const ee=new p.Parser({lexer:new p.Lexer(V),xref:this,allowStreams:!0,recoveryMode:!0}),J=ee.getObj();if(!(0,g.isCmd)(J,"trailer"))continue;const Y=ee.getObj();if(Y instanceof g.Dict){try{const q=Y.get("Root");if(!(q instanceof g.Dict))continue;const F=q.get("Pages");if(!(F instanceof g.Dict))continue;const O=F.get("Count");if(!Number.isInteger(O))continue}catch{continue}if(Y.has("ID"))return Y;ie=Y}}if(ie)return ie;if(this.topDict)return this.topDict;throw new s.InvalidPDFException("Invalid PDF structure.")}readXRef(w=!1){const v=this.stream,M=new Set;try{for(;this.startXRefQueue.length;){const y=this.startXRefQueue[0];if(M.has(y)){(0,s.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}M.add(y),v.pos=y+v.start;const I=new p.Parser({lexer:new p.Lexer(v),xref:this,allowStreams:!0});let P,_=I.getObj();if((0,g.isCmd)(_,"xref")){if(P=this.processXRefTable(I),this.topDict||(this.topDict=P),_=P.get("XRefStm"),Number.isInteger(_)){const k=_;k in this.xrefstms||(this.xrefstms[k]=1,this.startXRefQueue.push(k))}}else{if(!Number.isInteger(_))throw new s.FormatError("Invalid XRef stream header");if(!(Number.isInteger(I.getObj())&&(0,g.isCmd)(I.getObj(),"obj")&&(_=I.getObj())instanceof t.BaseStream))throw new s.FormatError("Invalid XRef stream");if(P=this.processXRefStream(_),this.topDict||(this.topDict=P),!P)throw new s.FormatError("Failed to read XRef stream")}_=P.get("Prev"),Number.isInteger(_)?this.startXRefQueue.push(_):_ instanceof g.Ref&&this.startXRefQueue.push(_.num),this.startXRefQueue.shift()}return this.topDict}catch(y){if(y instanceof m.MissingDataException)throw y;(0,s.info)("(while reading XRef): "+y),this.startXRefQueue.shift()}if(!w)throw new m.XRefParseException}getEntry(w){const v=this.entries[w];return v&&!v.free&&v.offset?v:null}fetchIfRef(w,v=!1){return w instanceof g.Ref?this.fetch(w,v):w}fetch(w,v=!1){if(!(w instanceof g.Ref))throw new Error("ref object is not a reference");const M=w.num,y=this._cacheMap.get(M);if(y!==void 0)return y instanceof g.Dict&&!y.objId&&(y.objId=w.toString()),y;let I=this.getEntry(M);if(I===null)return this._cacheMap.set(M,I),I;if(this._pendingRefs.has(w))return this._pendingRefs.remove(w),(0,s.warn)(`Ignoring circular reference: ${w}.`),g.CIRCULAR_REF;this._pendingRefs.put(w);try{I=I.uncompressed?this.fetchUncompressed(w,I,v):this.fetchCompressed(w,I,v),this._pendingRefs.remove(w)}catch(P){throw this._pendingRefs.remove(w),P}return I instanceof g.Dict?I.objId=w.toString():I instanceof t.BaseStream&&(I.dict.objId=w.toString()),I}fetchUncompressed(w,v,M=!1){const y=w.gen;let I=w.num;if(v.gen!==y)throw new m.XRefEntryException(`Inconsistent generation in XRef: ${w}`);const P=this.stream.makeSubStream(v.offset+this.stream.start),_=new p.Parser({lexer:new p.Lexer(P),xref:this,allowStreams:!0}),k=_.getObj(),D=_.getObj(),V=_.getObj();if(k!==I||D!==y||!(V instanceof g.Cmd))throw new m.XRefEntryException(`Bad (uncompressed) XRef entry: ${w}`);if(V.cmd!=="obj"){if(V.cmd.startsWith("obj")&&(I=parseInt(V.cmd.substring(3),10),!Number.isNaN(I)))return I;throw new m.XRefEntryException(`Bad (uncompressed) XRef entry: ${w}`)}return(v=this.encrypt&&!M?_.getObj(this.encrypt.createCipherTransform(I,y)):_.getObj())instanceof t.BaseStream||this._cacheMap.set(I,v),v}fetchCompressed(w,v,M=!1){const y=v.offset,I=this.fetch(g.Ref.get(y,0));if(!(I instanceof t.BaseStream))throw new s.FormatError("bad ObjStm stream");const P=I.dict.get("First"),_=I.dict.get("N");if(!Number.isInteger(P)||!Number.isInteger(_))throw new s.FormatError("invalid first and n parameters for ObjStm stream");let k=new p.Parser({lexer:new p.Lexer(I),xref:this,allowStreams:!0});const D=new Array(_),V=new Array(_);for(let te=0;te<_;++te){const B=k.getObj();if(!Number.isInteger(B))throw new s.FormatError(`invalid object number in the ObjStm stream: ${B}`);const j=k.getObj();if(!Number.isInteger(j))throw new s.FormatError(`invalid object offset in the ObjStm stream: ${j}`);D[te]=B,V[te]=j}const R=(I.start||0)+P,U=new Array(_);for(let te=0;te<_;++te){const B=te<_-1?V[te+1]-V[te]:void 0;if(B<0)throw new s.FormatError("Invalid offset in the ObjStm stream.");k=new p.Parser({lexer:new p.Lexer(I.makeSubStream(R+V[te],B,I.dict)),xref:this,allowStreams:!0});const j=k.getObj();if(U[te]=j,j instanceof t.BaseStream)continue;const ie=D[te],E=this.entries[ie];E&&E.offset===y&&E.gen===te&&this._cacheMap.set(ie,j)}if((v=U[v.gen])===void 0)throw new m.XRefEntryException(`Bad (compressed) XRef entry: ${w}`);return v}async fetchIfRefAsync(w,v){return w instanceof g.Ref?this.fetchAsync(w,v):w}async fetchAsync(w,v){try{return this.fetch(w,v)}catch(M){if(!(M instanceof m.MissingDataException))throw M;return await this.pdfManager.requestRange(M.begin,M.end),this.fetchAsync(w,v)}}getCatalogObj(){return this.root}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var s=f(2);const g=1,m=2,p=1,t=2,b=3,C=4,w=5,v=6,M=7,y=8;function I(P){switch(P instanceof Error||typeof P=="object"&&P!==null||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),P.name){case"AbortException":return new s.AbortException(P.message);case"MissingPDFException":return new s.MissingPDFException(P.message);case"PasswordException":return new s.PasswordException(P.message,P.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(P.message,P.status);case"UnknownErrorException":return new s.UnknownErrorException(P.message,P.details);default:return new s.UnknownErrorException(P.message,P.toString())}}o.MessageHandler=class{constructor(_,k,D){this.sourceName=_,this.targetName=k,this.comObj=D,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=V=>{const R=V.data;if(R.targetName!==this.sourceName)return;if(R.stream){this._processStreamMessage(R);return}if(R.callback){const te=R.callbackId,B=this.callbackCapabilities[te];if(!B)throw new Error(`Cannot resolve callback ${te}`);if(delete this.callbackCapabilities[te],R.callback===g)B.resolve(R.data);else{if(R.callback!==m)throw new Error("Unexpected callback case");B.reject(I(R.reason))}return}const U=this.actionHandler[R.action];if(!U)throw new Error(`Unknown action from worker: ${R.action}`);if(R.callbackId){const te=this.sourceName,B=R.sourceName;new Promise(function(j){j(U(R.data))}).then(function(j){D.postMessage({sourceName:te,targetName:B,callback:g,callbackId:R.callbackId,data:j})},function(j){D.postMessage({sourceName:te,targetName:B,callback:m,callbackId:R.callbackId,reason:I(j)})})}else R.streamId?this._createStreamSink(R):U(R.data)},D.addEventListener("message",this._onComObjOnMessage)}on(_,k){const D=this.actionHandler;if(D[_])throw new Error(`There is already an actionName called "${_}"`);D[_]=k}send(_,k,D){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,data:k},D)}sendWithPromise(_,k,D){const V=this.callbackId++,R=(0,s.createPromiseCapability)();this.callbackCapabilities[V]=R;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,callbackId:V,data:k},D)}catch(U){R.reject(U)}return R.promise}sendWithStream(_,k,D,V){const R=this.streamId++,U=this.sourceName,te=this.targetName,B=this.comObj;return new ReadableStream({start:j=>{const ie=(0,s.createPromiseCapability)();return this.streamControllers[R]={controller:j,startCall:ie,pullCall:null,cancelCall:null,isClosed:!1},B.postMessage({sourceName:U,targetName:te,action:_,streamId:R,data:k,desiredSize:j.desiredSize},V),ie.promise},pull:j=>{const ie=(0,s.createPromiseCapability)();return this.streamControllers[R].pullCall=ie,B.postMessage({sourceName:U,targetName:te,stream:v,streamId:R,desiredSize:j.desiredSize}),ie.promise},cancel:j=>{(0,s.assert)(j instanceof Error,"cancel must have a valid reason");const ie=(0,s.createPromiseCapability)();return this.streamControllers[R].cancelCall=ie,this.streamControllers[R].isClosed=!0,B.postMessage({sourceName:U,targetName:te,stream:p,streamId:R,reason:I(j)}),ie.promise}},D)}_createStreamSink(_){const k=_.streamId,D=this.sourceName,V=_.sourceName,R=this.comObj,U=this,te=this.actionHandler[_.action],B={enqueue(j,ie=1,E){if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=ie,L>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),R.postMessage({sourceName:D,targetName:V,stream:C,streamId:k,chunk:j},E)},close(){this.isCancelled||(this.isCancelled=!0,R.postMessage({sourceName:D,targetName:V,stream:b,streamId:k}),delete U.streamSinks[k])},error(j){(0,s.assert)(j instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,R.postMessage({sourceName:D,targetName:V,stream:w,streamId:k,reason:I(j)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_.desiredSize,ready:null};B.sinkCapability.resolve(),B.ready=B.sinkCapability.promise,this.streamSinks[k]=B,new Promise(function(j){j(te(_.data,B))}).then(function(){R.postMessage({sourceName:D,targetName:V,stream:y,streamId:k,success:!0})},function(j){R.postMessage({sourceName:D,targetName:V,stream:y,streamId:k,reason:I(j)})})}_processStreamMessage(_){const k=_.streamId,D=this.sourceName,V=_.sourceName,R=this.comObj,U=this.streamControllers[k],te=this.streamSinks[k];switch(_.stream){case y:_.success?U.startCall.resolve():U.startCall.reject(I(_.reason));break;case M:_.success?U.pullCall.resolve():U.pullCall.reject(I(_.reason));break;case v:if(!te){R.postMessage({sourceName:D,targetName:V,stream:M,streamId:k,success:!0});break}te.desiredSize<=0&&_.desiredSize>0&&te.sinkCapability.resolve(),te.desiredSize=_.desiredSize,new Promise(function(B){B(te.onPull&&te.onPull())}).then(function(){R.postMessage({sourceName:D,targetName:V,stream:M,streamId:k,success:!0})},function(B){R.postMessage({sourceName:D,targetName:V,stream:M,streamId:k,reason:I(B)})});break;case C:if((0,s.assert)(U,"enqueue should have stream controller"),U.isClosed)break;U.controller.enqueue(_.chunk);break;case b:if((0,s.assert)(U,"close should have stream controller"),U.isClosed)break;U.isClosed=!0,U.controller.close(),this._deleteStreamController(U,k);break;case w:(0,s.assert)(U,"error should have stream controller"),U.controller.error(I(_.reason)),this._deleteStreamController(U,k);break;case t:_.success?U.cancelCall.resolve():U.cancelCall.reject(I(_.reason)),this._deleteStreamController(U,k);break;case p:if(!te)break;new Promise(function(B){B(te.onCancel&&te.onCancel(I(_.reason)))}).then(function(){R.postMessage({sourceName:D,targetName:V,stream:t,streamId:k,success:!0})},function(B){R.postMessage({sourceName:D,targetName:V,stream:t,streamId:k,reason:I(B)})}),te.sinkCapability.reject(I(_.reason)),te.isCancelled=!0,delete this.streamSinks[k];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(_,k){await Promise.allSettled([_.startCall&&_.startCall.promise,_.pullCall&&_.pullCall.promise,_.cancelCall&&_.cancelCall.promise]),delete this.streamControllers[k]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFWorkerStream=void 0;var s=f(2);o.PDFWorkerStream=class{constructor(t){this._msgHandler=t,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._msgHandler),this._fullRequestReader}getRangeReader(t,b){const C=new m(t,b,this._msgHandler);return this._rangeRequestReaders.push(C),C}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const b of this._rangeRequestReaders.slice(0))b.cancel(t)}};class g{constructor(t){this._msgHandler=t,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const b=this._msgHandler.sendWithStream("GetReader");this._reader=b.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(C=>{this._isStreamingSupported=C.isStreamingSupported,this._isRangeSupported=C.isRangeSupported,this._contentLength=C.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:t,done:b}=await this._reader.read();return b?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}class m{constructor(t,b,C){this._msgHandler=C,this.onProgress=null;const w=this._msgHandler.sendWithStream("GetRangeReader",{begin:t,end:b});this._reader=w.getReader()}get isStreamingSupported(){return!1}async read(){const{value:t,done:b}=await this._reader.read();return b?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}}],e={};function r(c){var o=e[c];if(o!==void 0)return o.exports;var f=e[c]={exports:{}};return A[c](f,f.exports,r),f.exports}r.d=(c,o)=>{for(var f in o)r.o(o,f)&&!r.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:o[f]})},r.o=(c,o)=>Object.prototype.hasOwnProperty.call(c,o),r.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var a={};return(()=>{var c=a;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"WorkerMessageHandler",{enumerable:!0,get:function(){return o.WorkerMessageHandler}});var o=r(1)})(),a})());const Worker$1=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),style="";async function run(){const A={containerSelector:"#app",workerSource:Worker$1,fileButtons:["open","save"],disabledModes:["comparison"],annotChangeCallback:r=>{r.type==="focus"||r.type==="select"||r.type==="render"||console.log(r)}};await new TsPdfViewer(A).openPdfAsync("./example2.pdf")}run()});export default In();
